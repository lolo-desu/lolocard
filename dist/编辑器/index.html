<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ËßíËâ≤ËÆæÂÆöÁÆ°ÁêÜÂô®</title><style>.mvu-editor{width:100%;max-width:1000px;margin:0 auto;background:#fff;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,.08);overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;border:1px solid #e1e5e9}.mvu-header{background:#f8f9fa;border-bottom:1px solid #e1e5e9;padding:16px 20px}.mvu-header .mvu-title{margin:0 0 4px 0;font-size:18px;font-weight:600;color:#2c3e50;display:flex;align-items:center;gap:8px}.mvu-header .mvu-subtitle{margin:0 0 16px 0;font-size:13px;color:#6c757d;font-weight:400}.mvu-header .mvu-toolbar{display:flex;gap:8px;flex-wrap:wrap}.mvu-btn{padding:8px 14px;border:1px solid #d1d5db;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;transition:all .15s ease;display:inline-flex;align-items:center;gap:6px;background:#fff;color:#374151}.mvu-btn:hover{background:#f9fafb;border-color:#9ca3af;box-shadow:0 1px 3px rgba(0,0,0,.1)}.mvu-btn:active{background:#f3f4f6;transform:translateY(1px)}.mvu-btn i{font-size:12px}.mvu-btn-primary{background:#3b82f6;color:#fff;border-color:#3b82f6}.mvu-btn-primary:hover{background:#2563eb;border-color:#2563eb}.mvu-btn-primary:active{background:#1d4ed8}.mvu-btn-secondary{background:#6b7280;color:#fff;border-color:#6b7280}.mvu-btn-secondary:hover{background:#4b5563;border-color:#4b5563}.mvu-btn-secondary:active{background:#374151}.mvu-btn-icon{width:28px;aspect-ratio:1;padding:0;border:none;border-radius:4px;background:rgba(0,0,0,0);color:#6b7280;cursor:pointer;transition:all .15s ease;display:flex;align-items:center;justify-content:center;font-size:12px}.mvu-btn-icon:hover{background:#f3f4f6;color:#374151}.mvu-btn-icon.mvu-btn-edit:hover{background:#dbeafe;color:#3b82f6}.mvu-btn-icon.mvu-btn-delete:hover{background:#fee2e2;color:#dc2626}.mvu-btn-icon.mvu-btn-add:hover{background:#dcfce7;color:#16a34a}.mvu-content{width:100%;aspect-ratio:16/10;overflow:auto;background:#fafbfc}.mvu-editor-panel{padding:16px;width:100%;min-height:100%}.mvu-tree{width:100%;background:#fff;border-radius:6px;border:1px solid #e1e5e9;overflow:hidden}.mvu-item{border-bottom:1px solid #f1f3f4;background:#fff;transition:all .15s ease}.mvu-item:hover{background:#f8f9fa}.mvu-item:last-child{border-bottom:none}.mvu-item.mvu-nested-object{background:#fafbfc}.mvu-item.mvu-nested-object:hover{background:#f5f6f7}.mvu-item-header{display:flex;align-items:center;padding:12px 16px;gap:10px;min-height:44px}.mvu-item-header .mvu-key{font-weight:500;color:#2c3e50;flex:1;font-size:14px;display:flex;align-items:center;gap:8px}.mvu-item-header .mvu-key::before{content:"üìÑ";font-size:16px}.mvu-item-header .mvu-actions{display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.mvu-nested-object .mvu-item-header .mvu-key::before{content:"üìÅ"}.mvu-item:hover .mvu-actions{opacity:1}.mvu-toggle{width:20px;aspect-ratio:1;border:none;background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:3px;transition:all .15s ease;margin-right:4px}.mvu-toggle:hover{background:#f3f4f6}.mvu-toggle i{color:#6b7280;font-size:10px;transition:transform .15s ease}.mvu-value-content{padding:12px 16px 16px 16px;background:#fafbfc;border-top:1px solid #f1f3f4}.mvu-value-display{display:flex;flex-direction:column;gap:10px}.mvu-value-display .mvu-value{font-family:"SF Mono",Monaco,"Cascadia Code",monospace;font-size:13px;color:#1f2937;font-weight:500;background:#e5f3ff;padding:6px 10px;border-radius:4px;display:inline-block;border:1px solid #bfdbfe;max-width:-moz-fit-content;max-width:fit-content}.mvu-value-display .mvu-description{font-size:12px;color:#6b7280;line-height:1.5;background:#fff;padding:10px 12px;border-radius:4px;border:1px solid #e5e7eb;border-left:3px solid #3b82f6}.mvu-children{background:#fff;border-left:2px solid #e5e7eb;margin-left:20px;overflow:hidden;transition:all .3s ease}.mvu-nested-object .mvu-children{display:block}.mvu-footer{background:#f8f9fa;padding:10px 16px;border-top:1px solid #e1e5e9;display:flex;justify-content:space-between;align-items:center}.mvu-status{display:flex;align-items:center;gap:6px;font-size:12px;color:#6b7280}.mvu-status #statusIcon{color:#10b981;font-size:10px}.mvu-status .mvu-dirty{color:#f59e0b;font-size:11px;font-weight:500;background:#fef3c7;padding:2px 6px;border-radius:3px}.ui-dialog{border-radius:8px !important;border:1px solid #e1e5e9 !important;box-shadow:0 4px 20px rgba(0,0,0,.15) !important}.ui-dialog .ui-dialog-titlebar{background:#f8f9fa !important;color:#374151 !important;border:none !important;border-bottom:1px solid #e1e5e9 !important;border-radius:8px 8px 0 0 !important;padding:14px 16px !important}.ui-dialog .ui-dialog-titlebar .ui-dialog-title{font-weight:600 !important;font-size:15px !important}.ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-close{background:#e5e7eb !important;border:none !important;border-radius:4px !important;color:#6b7280 !important;width:24px !important;height:24px !important}.ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-close:hover{background:#d1d5db !important;color:#374151 !important}.ui-dialog .ui-dialog-content{padding:16px !important;background:#fff !important}.ui-dialog .ui-dialog-buttonpane{background:#f8f9fa !important;border-top:1px solid #e1e5e9 !important;padding:12px 16px !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{display:flex !important;gap:8px !important;justify-content:flex-end !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button{padding:8px 14px !important;border:1px solid #d1d5db !important;border-radius:6px !important;font-weight:500 !important;cursor:pointer !important;transition:all .15s ease !important;font-size:13px !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:first-child{background:#3b82f6 !important;color:#fff !important;border-color:#3b82f6 !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:first-child:hover{background:#2563eb !important;border-color:#2563eb !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:last-child{background:#fff !important;color:#6b7280 !important}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:last-child:hover{background:#f9fafb !important;color:#374151 !important}.mvu-form-group{margin-bottom:16px}.mvu-form-group label{display:block;margin-bottom:6px;font-weight:500;color:#374151;font-size:13px}.mvu-form-group .mvu-hint{display:block;margin-top:4px;font-size:11px;color:#6b7280;line-height:1.4}.mvu-form-group .mvu-hint::before{margin-right:4px}.mvu-input,.mvu-textarea{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:13px;font-family:inherit;transition:all .15s ease;background:#fff}.mvu-input:focus,.mvu-textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1)}.mvu-input::placeholder,.mvu-textarea::placeholder{color:#9ca3af}.mvu-textarea{resize:vertical;min-height:70px;font-family:inherit;line-height:1.4}.mvu-radio-group{display:flex;flex-direction:column;gap:8px}.mvu-radio-group label{display:flex !important;align-items:center;gap:8px;font-weight:normal !important;cursor:pointer}.mvu-radio-group label input[type=radio]{width:auto !important;margin:0 !important}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{from{max-height:0;opacity:0}to{max-height:500px;opacity:1}}@keyframes slideUp{from{max-height:500px;opacity:1}to{max-height:0;opacity:0}}.mvu-item{animation:fadeIn .3s ease}.mvu-children{overflow:hidden;transition:all .3s ease}.mvu-empty-state{text-align:center;padding:40px 20px;color:#6b7280;background:#fff;border-radius:6px;border:1px solid #e1e5e9}.mvu-empty-state .mvu-empty-icon{font-size:40px;color:#d1d5db;margin-bottom:16px}.mvu-empty-state .mvu-empty-title{font-size:16px;font-weight:600;margin-bottom:8px;color:#374151}.mvu-empty-state .mvu-empty-description{font-size:13px;line-height:1.5;margin-bottom:24px;color:#6b7280}.mvu-empty-state .mvu-empty-actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}.mvu-loading{display:flex;align-items:center;justify-content:center;padding:40px}.mvu-loading .mvu-spinner{width:32px;aspect-ratio:1;border:3px solid #f0f0f0;border-top:3px solid #007aff;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.mvu-tooltip{position:relative}.mvu-tooltip:hover::after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.8);color:#fff;padding:6px 10px;border-radius:6px;font-size:12px;white-space:nowrap;z-index:1000;margin-bottom:5px}.mvu-tooltip:hover::before{content:"";position:absolute;bottom:100%;left:50%;transform:translateX(-50%);border:5px solid rgba(0,0,0,0);border-top-color:rgba(0,0,0,.8);z-index:1000}.mvu-children.collapsed{max-height:0;opacity:0}.mvu-children.expanded{max-height:1000px;opacity:1}.mvu-toggle i.rotated{transform:rotate(90deg)}.mvu-item.selected{background:#e0f2fe !important;border-left:3px solid #3b82f6}@media(max-width: 768px){.mvu-editor{margin:8px;border-radius:6px}.mvu-header{padding:12px 16px}.mvu-header .mvu-title{font-size:16px}.mvu-header .mvu-subtitle{font-size:12px}.mvu-header .mvu-toolbar{gap:6px}.mvu-btn{padding:6px 10px;font-size:12px}.mvu-content{aspect-ratio:4/5}.mvu-editor-panel{padding:12px}.mvu-children{margin-left:16px}.ui-dialog{width:90% !important;max-width:400px !important}.mvu-empty-state{padding:30px 16px}.mvu-empty-state .mvu-empty-icon{font-size:32px}.mvu-empty-state .mvu-empty-title{font-size:15px}.mvu-empty-state .mvu-empty-description{font-size:12px}.mvu-item-header{padding:10px 12px;min-height:40px}.mvu-item-header .mvu-key{font-size:13px}.mvu-value-content{padding:10px 12px 12px 12px}}
</style></head><body><div id="mvuEditor"></div><script>class t{static validate(t){const e=[];return this.isObject(t)?(this.validateObject(t,'',e),{valid:0===e.length,errors:e}):(e.push({path:'',message:'Ê†πÊï∞ÊçÆÂøÖÈ°ªÊòØÂØπË±°',type:'format'}),{valid:!1,errors:e})}static validateObject(t,e,i){if(this.isObject(t))for(const[n,s]of Object.entries(t)){const t=e?`${e}.${n}`:n;this.isValidKey(n)?Array.isArray(s)?this.validateValuePair(s,t,i):this.isObject(s)?this.validateObject(s,t,i):i.push({path:t,message:'ÂÄºÂøÖÈ°ªÊòØÊï∞ÁªÑÊàñÂØπË±°',type:'format'}):i.push({path:t,message:'ÈîÆÂêç‰∏çËÉΩ‰∏∫Á©∫',type:'required'})}else i.push({path:e,message:'ÂøÖÈ°ªÊòØÂØπË±°',type:'format'})}static validateValuePair(t,e,i){Array.isArray(t)?2===t.length?'string'!=typeof t[1]&&i.push({path:e,message:'ÊèèËø∞ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤',type:'type'}):i.push({path:e,message:'ÂÄºÂØπÂøÖÈ°ªÂåÖÂê´ÊÅ∞Â•Ω‰∏§‰∏™ÂÖÉÁ¥†',type:'format'}):i.push({path:e,message:'ÂÄºÂØπÂøÖÈ°ªÊòØÊï∞ÁªÑ',type:'format'})}static isValidKey(t){return'string'==typeof t&&t.trim().length>0}static isObject(t){return'object'==typeof t&&null!==t&&!Array.isArray(t)}}class e{static parse(t){const e=t.trim();if(''===e)return'';if('true'===e)return!0;if('false'===e)return!1;if('null'===e)return null;if('undefined'!==e){if(this.isNumber(e))return Number(e);if(this.isJsonLike(e))try{return JSON.parse(e)}catch{}return e}}static format(t){return'string'==typeof t?`"${t}"`:null===t?'null':void 0===t?'undefined':'object'==typeof t?JSON.stringify(t):String(t)}static getTypeDescription(t){if(null===t)return'null';if(void 0===t)return'undefined';if(Array.isArray(t))return'array';const e=typeof t;return'object'===e?'object':e}static isNumber(t){return!isNaN(Number(t))&&''!==t}static isJsonLike(t){return t.startsWith('{')&&t.endsWith('}')||t.startsWith('[')&&t.endsWith(']')}}class i{container;data={};isDirty=!1;constructor(t){this.container=$(`#${t}`),this.init()}init(){this.render(),this.bindEvents(),this.loadSampleData()}loadSampleData(){this.data={Êó•Êúü:['03Êúà15Êó•','‰ªäÂ§©ÁöÑÊó•ÊúüÔºåÊ†ºÂºè‰∏∫ mmÊúàddÊó•'],Êó∂Èó¥:['09:00','ÊåâÁÖßËøõË°åË°åÂä®ÂêéÂÆûÈôÖÁªèÂéÜÁöÑÊó∂Èó¥ËøõË°åÊõ¥Êñ∞ÔºåÊØèÊ¨°Ë°åÂä®ÂêéÊõ¥Êñ∞ÔºåÊ†ºÂºè‰∏∫ hh:mm'],user:{Ë∫´‰ªΩ:['Êñ∞Êù•ÁöÑÁâßÂ∏à','ÈöèÊïÖ‰∫ãËøõÂ±ïÊîπÂèòÔºå‰æãÂ¶ÇÂÆåÊàêÁâπÂÆö‰ªªÂä°ÂêéÊõ¥Êñ∞'],ÂΩìÂâç‰ΩçÁΩÆ:['ÊïôÂ†Ç','userÂΩìÂâçÊâÄÂú®ÁöÑÂú∞ÁÇπÔºåÂΩìuserÁßªÂä®Âà∞Êñ∞Âå∫ÂüüÊó∂Êõ¥Êñ∞'],ÈáçË¶ÅÁªèÂéÜ:['','ËÆ∞ÂΩï‰∏éÊïÖ‰∫ãÊ†∏ÂøÉ‰∫∫Áâ©ÊàñÂÖ≥ÈîÆ‰∫ã‰ª∂Áõ∏ÂÖ≥ÁöÑÈáçË¶ÅÁªèÂéÜÔºåÁ¥ØÂä†ËÆ∞ÂΩï'],‰∏éÁêÜÁöÑÂ•ΩÊÑüÂ∫¶:[0,'[-100, 100]ËåÉÂõ¥Ôºå‰∏éËßíËâ≤\'ÁêÜ\'ÁöÑ‰∫íÂä®‰ºöÂΩ±ÂìçÊ≠§ÂÄºÔºåÁßØÊûÅ‰∫íÂä®Â¢ûÂä†ÔºåÊ∂àÊûÅ‰∫íÂä®ÂáèÂ∞ë']},ÁêÜ:{ÂΩìÂâç‰ΩçÁΩÆ:['ÊïôÂ†Ç','ËßíËâ≤\'ÁêÜ\'ÂΩìÂâçÊâÄÂú®ÁöÑÂú∞ÁÇπÔºå‰ºöÈöèÂâßÊÉÖÁßªÂä®'],ÊÉÖÁª™Áä∂ÊÄÅ:{pleasure:[.1,'[-1,1]‰πãÈó¥, ‰ª£Ë°®ÊÑâÊÇ¶Â∫¶„ÄÇÊ≠£Èù¢‰∫ã‰ª∂ÊèêÂçáÔºåË¥üÈù¢‰∫ã‰ª∂Èôç‰Ωé„ÄÇ‚àí1ÊûÅÁ´ØÁóõËã¶Ôºå0‰∏≠ÊÄßÔºå1ÊûÅÁ´ØÂñúÊÇ¶„ÄÇ'],arousal:[0,'[-1,1]‰πãÈó¥, ‰ª£Ë°®ÁîüÁêÜÊàñÊÉÖÁª™‰∏äÁöÑÊøÄÂä®Á®ãÂ∫¶„ÄÇÂà∫ÊøÄÊÄß‰∫ã‰ª∂‰ºöÊîπÂèòÊ≠§ÂÄº„ÄÇ']},ÂΩìÂâçÊâÄÊÉ≥:['‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºåÂ∏åÊúõËÉΩÂ∏ÆÂà∞Êõ¥Â§öÁöÑ‰∫∫„ÄÇ','ËßíËâ≤\'ÁêÜ\'ÂΩìÂâçËÑëÊµ∑‰∏≠ÁöÑ‰∏ªË¶ÅÊÉ≥Ê≥ïÊàñÊÑüÂèóÔºåÈöè‰∫íÂä®ÂíåÊÉÖÂ¢ÉÊõ¥Êñ∞']},‰∏ñÁïå:{ÂΩìÂâç‰∫ã‰ª∂Èò∂ÊÆµ:[0,'Ê†áËÆ∞‰∏ªË¶ÅÊïÖ‰∫ã‰ª∂ÁöÑËøõÂ±ïÈò∂ÊÆµÔºå‰æãÂ¶ÇÔºö0-Â∫èÁ´†, 1-ÈÅ≠ÈÅáÂç±Êú∫, 2-ÂØªÊâæÁ∫øÁ¥¢...'],Â§©Ê∞î:['Êô¥Êúó','ÂΩìÂâç‰∏ñÁïåÁöÑÂ§©Ê∞îÁä∂ÂÜµÔºåÂèØ‰ª•ÊòØÔºöÊô¥Êúó, Â§ö‰∫ë, Â∞èÈõ®, Èõ∑Êö¥, ÊµìÈõæÁ≠â']}},this.renderData()}render(){this.container.html('\n      <div class="mvu-editor">\n        <div class="mvu-header">\n          <h1 class="mvu-title">\n            <i class="fas fa-folder" style="color: #3b82f6;"></i>\n            ËßíËâ≤ËÆæÂÆöÁÆ°ÁêÜÂô®\n          </h1>\n          <p class="mvu-subtitle">ÂÉèÁÆ°ÁêÜÊñá‰ª∂Â§π‰∏ÄÊ†∑ËΩªÊùæÁÆ°ÁêÜÊÇ®ÁöÑËßíËâ≤Â±ûÊÄßÂíå‰∏ñÁïåËÆæÂÆö</p>\n          <div class="mvu-toolbar">\n            <button class="mvu-btn mvu-btn-primary mvu-tooltip" id="importBtn" data-tooltip="ÊâìÂºÄÂ∑≤ÊúâÁöÑËÆæÂÆöÊñá‰ª∂">\n              <i class="fas fa-folder-open"></i> ÊâìÂºÄ\n            </button>\n            <button class="mvu-btn mvu-btn-primary mvu-tooltip" id="exportBtn" data-tooltip="‰øùÂ≠òÂΩìÂâçËÆæÂÆöÂà∞Êñá‰ª∂">\n              <i class="fas fa-save"></i> ‰øùÂ≠ò\n            </button>\n            <button class="mvu-btn mvu-btn-secondary mvu-tooltip" id="addRootBtn" data-tooltip="Êñ∞Âª∫ËÆæÂÆöÈ°π">\n              <i class="fas fa-plus"></i> Êñ∞Âª∫\n            </button>\n            <button class="mvu-btn mvu-btn-secondary mvu-tooltip" id="clearBtn" data-tooltip="Ê∏ÖÁ©∫ÊâÄÊúâËÆæÂÆö">\n              <i class="fas fa-trash-alt"></i> Ê∏ÖÁ©∫\n            </button>\n          </div>\n        </div>\n        <div class="mvu-content">\n          <div class="mvu-editor-panel" id="editorPanel">\n            \x3c!-- ÁºñËæëÂô®ÂÜÖÂÆπÂ∞ÜÂú®ËøôÈáåÊ∏≤Êüì --\x3e\n          </div>\n        </div>\n        <div class="mvu-footer">\n          <div class="mvu-status">\n            <i class="fas fa-circle" id="statusIcon"></i>\n            <span id="statusText">ÂáÜÂ§áÂ∞±Áª™</span>\n            <span id="dirtyIndicator" class="mvu-dirty" style="display: none;">‚óè ÊúâÊú™‰øùÂ≠òÁöÑ‰øÆÊîπ</span>\n          </div>\n        </div>\n      </div>\n    ')}bindEvents(){this.container.find('#importBtn').on('click',(()=>this.importJson())),this.container.find('#exportBtn').on('click',(()=>this.exportJson())),this.container.find('#addRootBtn').on('click',(()=>this.addRootItem())),this.container.find('#clearBtn').on('click',(()=>this.clearData()))}renderData(){const t=this.container.find('#editorPanel');if(t.empty(),0===Object.keys(this.data).length)this.renderEmptyState(t);else{const e=$('<div class="mvu-tree"></div>');this.renderObject(this.data,e,''),t.append(e)}}renderEmptyState(t){const e=$('\n      <div class="mvu-empty-state">\n        <div class="mvu-empty-icon">\n          <i class="fas fa-folder-open"></i>\n        </div>\n        <div class="mvu-empty-title">Êñá‰ª∂Â§πÊòØÁ©∫ÁöÑ</div>\n        <div class="mvu-empty-description">\n          ËøôÈáåËøòÊ≤°Êúâ‰ªª‰ΩïËÆæÂÆöÊñá‰ª∂„ÄÇÊÇ®ÂèØ‰ª•ÂàõÂª∫Êñ∞ÁöÑËÆæÂÆöÔºå<br>\n          ÊàñËÄÖÊâìÂºÄÂ∑≤ÊúâÁöÑËÆæÂÆöÊñá‰ª∂ÂºÄÂßãÁºñËæë„ÄÇ\n        </div>\n        <div class="mvu-empty-actions">\n          <button class="mvu-btn mvu-btn-primary" id="quickAddBtn">\n            <i class="fas fa-file-plus"></i> Êñ∞Âª∫ËÆæÂÆö\n          </button>\n          <button class="mvu-btn mvu-btn-secondary" id="quickImportBtn">\n            <i class="fas fa-folder-open"></i> ÊâìÂºÄÊñá‰ª∂\n          </button>\n        </div>\n      </div>\n    ');e.find('#quickAddBtn').on('click',(()=>this.addRootItem())),e.find('#quickImportBtn').on('click',(()=>this.importJson())),t.append(e)}renderObject(t,e,i){Object.keys(t).forEach((n=>{const s=t[n],a=i?`${i}.${n}`:n;Array.isArray(s)&&2===s.length?this.renderValuePair(n,s,e,a):'object'==typeof s&&null!==s&&this.renderNestedObject(n,s,e,a)}))}renderValuePair(t,e,i,n){const s=$(`\n      <div class="mvu-item mvu-value-pair" data-path="${n}">\n        <div class="mvu-item-header">\n          <span class="mvu-key">${t}</span>\n          <div class="mvu-actions">\n            <button class="mvu-btn-icon mvu-btn-edit mvu-tooltip" data-tooltip="ÁºñËæë">\n              <i class="fas fa-edit"></i>\n            </button>\n            <button class="mvu-btn-icon mvu-btn-delete mvu-tooltip" data-tooltip="Âà†Èô§">\n              <i class="fas fa-trash"></i>\n            </button>\n          </div>\n        </div>\n        <div class="mvu-value-content">\n          <div class="mvu-value-display">\n            <span class="mvu-value">${this.formatValue(e[0])}</span>\n            <span class="mvu-description">${e[1]}</span>\n          </div>\n        </div>\n      </div>\n    `);s.find('.mvu-btn-edit').on('click',(()=>this.editValuePair(n,t,e))),s.find('.mvu-btn-delete').on('click',(()=>this.deleteItem(n))),i.append(s)}renderNestedObject(t,e,i,n){const s=$(`\n      <div class="mvu-item mvu-nested-object" data-path="${n}">\n        <div class="mvu-item-header">\n          <button class="mvu-toggle">\n            <i class="fas fa-chevron-down"></i>\n          </button>\n          <span class="mvu-key">${t}</span>\n          <div class="mvu-actions">\n            <button class="mvu-btn-icon mvu-btn-add mvu-tooltip" data-tooltip="Ê∑ªÂä†Â≠êÈ°π">\n              <i class="fas fa-plus"></i>\n            </button>\n            <button class="mvu-btn-icon mvu-btn-delete mvu-tooltip" data-tooltip="Âà†Èô§Êñá‰ª∂Â§π">\n              <i class="fas fa-trash"></i>\n            </button>\n          </div>\n        </div>\n        <div class="mvu-children">\n        </div>\n      </div>\n    `),a=s.find('.mvu-children');this.renderObject(e,a,n),s.find('.mvu-toggle').on('click',(function(){const t=$(this),e=t.find('i'),i=t.closest('.mvu-item').find('.mvu-children');i.is(':visible')?(i.slideUp(200),e.removeClass('fa-chevron-down').addClass('fa-chevron-right')):(i.slideDown(200),e.removeClass('fa-chevron-right').addClass('fa-chevron-down'))})),s.find('.mvu-btn-add').on('click',(()=>this.addChildItem(n))),s.find('.mvu-btn-delete').on('click',(()=>this.deleteItem(n))),i.append(s)}formatValue(t){return e.format(t)}editValuePair(t,e,i){const n=this.createEditDialog(e,i[0],i[1]);n.dialog({title:`ÁºñËæë ${e}`,width:500,height:400,modal:!0,resizable:!1,buttons:{‰øùÂ≠ò:()=>{const e=n.find('#valueInput').val(),i=n.find('#descriptionInput').val(),s=this.parseValue(e);this.setValueByPath(t,[s,i]),this.markDirty(),this.renderData(),n.dialog('close')},ÂèñÊ∂à:()=>{n.dialog('close')}},close:()=>{n.remove()}})}createEditDialog(t,e,i){return $(`\n      <div class="mvu-edit-dialog">\n        <div class="mvu-form-group">\n          <label for="valueInput">ÂΩìÂâçÂÄº:</label>\n          <input type="text" id="valueInput" class="mvu-input" value="${e}" placeholder="ËæìÂÖ•Êï∞ÂÄºÊàñÊñáÂ≠ó" />\n          <small class="mvu-hint">ÂèØ‰ª•ÊòØÊñáÂ≠ó„ÄÅÊï∞Â≠óÊàñ true/false</small>\n        </div>\n        <div class="mvu-form-group">\n          <label for="descriptionInput">ËØ¥Êòé:</label>\n          <textarea id="descriptionInput" class="mvu-textarea" rows="5" placeholder="ÊèèËø∞Ëøô‰∏™ËÆæÂÆöÁöÑ‰ΩúÁî®ÂíåÊõ¥Êñ∞ËßÑÂàô">${i}</textarea>\n          <small class="mvu-hint">ËØ¥ÊòéËøô‰∏™ËÆæÂÆöÁöÑÂê´‰πâ„ÄÅÂèñÂÄºËåÉÂõ¥ÂíåÊõ¥Êñ∞Êù°‰ª∂</small>\n        </div>\n      </div>\n    `)}parseValue(t){return e.parse(t)}addRootItem(){this.showAddItemDialog('',!1)}addChildItem(t){this.showAddItemDialog(t,!0)}showAddItemDialog(t,e){const i=$('\n      <div class="mvu-add-dialog">\n        <div class="mvu-form-group">\n          <label for="keyInput">ÂêçÁß∞:</label>\n          <input type="text" id="keyInput" class="mvu-input" placeholder="‰æãÂ¶ÇÔºöËßíËâ≤ÂêçÂ≠ó„ÄÅÂΩìÂâç‰ΩçÁΩÆ„ÄÅÂ•ΩÊÑüÂ∫¶" />\n          <small class="mvu-hint">ÁªôËøô‰∏™ËÆæÂÆöËµ∑‰∏™ÂÆπÊòìÁêÜËß£ÁöÑÂêçÂ≠ó</small>\n        </div>\n        <div class="mvu-form-group">\n          <label>Á±ªÂûã:</label>\n          <div class="mvu-radio-group">\n            <label><input type="radio" name="itemType" value="value" checked> üìÑ Êñá‰ª∂ (ÂÖ∑‰ΩìÁöÑËÆæÂÆöÂÄº)</label>\n            <label><input type="radio" name="itemType" value="object"> üìÅ Êñá‰ª∂Â§π (ÂåÖÂê´Â§ö‰∏™ËÆæÂÆö)</label>\n          </div>\n        </div>\n        <div id="valueFields">\n          <div class="mvu-form-group">\n            <label for="newValueInput">ÂàùÂßãÂÄº:</label>\n            <input type="text" id="newValueInput" class="mvu-input" placeholder="‰æãÂ¶ÇÔºöÂ∞èÊòé„ÄÅÊïôÂ†Ç„ÄÅ0„ÄÅtrue" />\n            <small class="mvu-hint">Ëøô‰∏™ËÆæÂÆöÁöÑÂàùÂßãÊï∞ÂÄº</small>\n          </div>\n          <div class="mvu-form-group">\n            <label for="newDescriptionInput">ËØ¥Êòé:</label>\n            <textarea id="newDescriptionInput" class="mvu-textarea" rows="3" placeholder="‰æãÂ¶ÇÔºöËßíËâ≤ÁöÑÁúüÂÆûÂßìÂêçÔºåÂú®ÂâßÊÉÖ‰∏≠‰∏ç‰ºöÊîπÂèò"></textarea>\n            <small class="mvu-hint">Ëß£ÈáäËøô‰∏™ËÆæÂÆöÁöÑ‰ΩúÁî®ÂíåÊõ¥Êñ∞ËßÑÂàô</small>\n          </div>\n        </div>\n      </div>\n    ');i.find('input[name="itemType"]').on('change',(function(){const t=i.find('#valueFields');'value'===$(this).val()?t.show():t.hide()})),i.dialog({title:e?'Êñ∞Âª∫Â≠êÈ°π':'Êñ∞Âª∫ËÆæÂÆö',width:450,height:350,modal:!0,resizable:!1,buttons:{ÂàõÂª∫:()=>{const e=i.find('#keyInput').val(),n=i.find('input[name="itemType"]:checked').val();if(!e.trim())return void toastr.error('ËØ∑ËæìÂÖ•ËÆæÂÆöÂêçÁß∞');let s;if('value'===n){s=[this.parseValue(i.find('#newValueInput').val()),i.find('#newDescriptionInput').val()]}else s={};const a=t?`${t}.${e}`:e;this.setValueByPath(a,s),this.markDirty(),this.renderData(),i.dialog('close')},ÂèñÊ∂à:()=>{i.dialog('close')}},close:()=>{i.remove()}})}deleteItem(t){confirm('üóëÔ∏è Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ËÆæÂÆöÂêóÔºü\nÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§çÔºÅ')&&(this.deleteValueByPath(t),this.markDirty(),this.renderData(),toastr.success('ËÆæÂÆöÂ∑≤Âà†Èô§'))}setValueByPath(t,e){const i=t.split('.');let n=this.data;for(let t=0;t<i.length-1;t++)i[t]in n||(n[i[t]]={}),n=n[i[t]];n[i[i.length-1]]=e}deleteValueByPath(t){const e=t.split('.');let i=this.data;for(let t=0;t<e.length-1;t++)i=i[e[t]];delete i[e[e.length-1]]}clearData(){confirm('üßπ Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâËÆæÂÆöÂêóÔºü\nËøôÂ∞ÜÂà†Èô§ÊÇ®ÂàõÂª∫ÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÊó†Ê≥ïÊÅ¢Â§çÔºÅ')&&(this.data={},this.markDirty(),this.renderData(),toastr.success('ÊâÄÊúâËÆæÂÆöÂ∑≤Ê∏ÖÁ©∫'))}importJson(){const e=$('<input type="file" accept=".json" style="display: none;">');e.on('change',(e=>{const i=e.target.files?.[0];if(!i)return;this.showLoading('Ê≠£Âú®ÂØºÂÖ•Êñá‰ª∂...');const n=new FileReader;n.onload=e=>{try{const i=JSON.parse(e.target?.result),n=t.validate(i);if(n.valid){if(this.isDirty&&!confirm('üìù ÂΩìÂâçÊúâÊú™‰øùÂ≠òÁöÑ‰øÆÊîπÔºåÁ°ÆÂÆöË¶ÅÊâìÂºÄÊñ∞Êñá‰ª∂ÂêóÔºü\nÊú™‰øùÂ≠òÁöÑ‰øÆÊîπÂ∞Ü‰ºö‰∏¢Â§±ÔºÅ'))return void this.hideLoading();this.data=i,this.markClean(),this.renderData(),this.hideLoading(),toastr.success(`üéâ Êñá‰ª∂ÊâìÂºÄÊàêÂäüÔºÅÂÖ±ËΩΩÂÖ• ${this.countItems(i)} ‰∏™ËÆæÂÆö`)}else this.hideLoading(),this.showValidationErrors(n.errors)}catch(t){this.hideLoading(),toastr.error('‚ùå Êñá‰ª∂Ê†ºÂºèÊúâÈóÆÈ¢òÔºö'+t.message)}},n.onerror=()=>{this.hideLoading(),toastr.error('‚ùå Êñá‰ª∂ËØªÂèñÂ§±Ë¥•ÔºåËØ∑ÈáçËØï')},n.readAsText(i)})),e.trigger('click')}exportJson(){if(0!==Object.keys(this.data).length)try{const e=t.validate(this.data);if(!e.valid)return toastr.error('‚ùå ËÆæÂÆöÊ†ºÂºèÊúâÈóÆÈ¢òÔºåÊó†Ê≥ï‰øùÂ≠ò'),void this.showValidationErrors(e.errors);const i=JSON.stringify(this.data,null,2),n=new Blob([i],{type:'application/json'}),s=URL.createObjectURL(n),a=`mvu-initvar-${(new Date).toISOString().slice(0,19).replace(/[:-]/g,'')}.json`;$('<a>').attr({href:s,download:a})[0].click(),URL.revokeObjectURL(s);const r=this.countItems(this.data);toastr.success(`üíæ Êñá‰ª∂‰øùÂ≠òÊàêÂäüÔºÅÂÖ±‰øùÂ≠ò‰∫Ü ${r} ‰∏™ËÆæÂÆö`)}catch(t){toastr.error('‚ùå ‰øùÂ≠òÂ§±Ë¥•Ôºö'+t.message)}else toastr.warning('‚ö†Ô∏è ËøòÊ≤°Êúâ‰ªª‰ΩïËÆæÂÆöÂèØ‰ª•‰øùÂ≠ò')}markDirty(){this.isDirty=!0,this.container.find('#dirtyIndicator').show(),this.container.find('#statusText').text('Â∑≤‰øÆÊîπ'),this.container.find('#statusIcon').removeClass('fa-circle').addClass('fa-exclamation-circle').css('color','#f59e0b')}markClean(){this.isDirty=!1,this.container.find('#dirtyIndicator').hide(),this.container.find('#statusText').text('Â∑≤‰øùÂ≠ò'),this.container.find('#statusIcon').removeClass('fa-exclamation-circle').addClass('fa-circle').css('color','#10b981')}isDirtyState(){return this.isDirty}showLoading(t='Âä†ËΩΩ‰∏≠...'){this.container.find('#editorPanel').html(`\n      <div class="mvu-loading">\n        <div class="mvu-spinner"></div>\n        <div style="margin-left: 12px; color: #666;">${t}</div>\n      </div>\n    `)}hideLoading(){this.renderData()}countItems(t){let e=0;const i=t=>{for(const n of Object.values(t))Array.isArray(n)&&2===n.length?e++:'object'==typeof n&&null!==n&&i(n)};return i(t),e}showValidationErrors(t){const e=t.map((t=>`üìç ${t.path||'Ê†πÁõÆÂΩï'}: ${t.message}`)).join('\n');$(`\n      <div class="mvu-validation-errors">\n        <h3>‚ùå Êñá‰ª∂Ê†ºÂºèÊúâÈóÆÈ¢ò</h3>\n        <p>ÂèëÁé∞‰ª•‰∏ãÈóÆÈ¢òÔºö</p>\n        <pre style="background: #f5f5f5; padding: 12px; border-radius: 6px; font-size: 12px; max-height: 200px; overflow-y: auto; line-height: 1.4;">${e}</pre>\n        <p><small>üí° ËØ∑‰øÆÊ≠£Ëøô‰∫õÈóÆÈ¢òÂêéÈáçÊñ∞ÊâìÂºÄÊñá‰ª∂„ÄÇ</small></p>\n      </div>\n    `).dialog({title:'‚ö†Ô∏è Êó†Ê≥ïÊâìÂºÄÊñá‰ª∂',width:500,height:350,modal:!0,resizable:!1,buttons:{Áü•ÈÅì‰∫Ü:function(){$(this).dialog('close')}},close:function(){$(this).remove()}})}}$((()=>{new i('mvuEditor')}));</script></body></html>