<!DOCTYPE html>
<html lang="zh-CN">
  <!-- 此同层手机免费发布于discord的尾巴镇社区和旅程社区，链接https://discord.com/channels/1379304008157499423/1388180976873766973，https://discord.com/channels/1291925535324110879/1388182155707814009 -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>暴力美学BLMX同层手机</title>
    <!-- 此同层手机免费发布于discord的尾巴镇社区和旅程社区，链接https://discord.com/channels/1379304008157499423/1388180976873766973，https://discord.com/channels/1291925535324110879/1388182155707814009 -->
    <!-- 引入必要的外部库 -->
    <!-- 样式现在通过TypeScript模块加载 -->
  <script type="module">var __webpack_modules__ = {
  "./src/同层手机/ai-response-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AiResponseManager: () => (/* binding */ AiResponseManager)\n/* harmony export */ });\n/* harmony import */ var _debug_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./debug-logger */ \"./src/同层手机/debug-logger.ts\");\n/* harmony import */ var _event_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-manager */ \"./src/同层手机/event-manager.ts\");\n/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./script */ \"./src/同层手机/script.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./src/同层手机/utils.ts\");\n// AI响应处理模块\n// 负责AI响应触发、条目处理、动画显示等功能\n\n\n\n\nclass AiResponseManager {\n    blmxManager;\n    uiRenderer;\n    eventHandler;\n    momentsManager;\n    eventManager;\n    isGenerating = false;\n    latestAiRawResponse = '还没有收到AI的回复。';\n    latestSentPrompt = '还没有发送任何内容给AI。';\n    // 新增：记录原始响应和完整提示词，与同层手机保持一致\n    rawAiResponse = '';\n    fullPrompt = '';\n    constructor(blmxManager, uiRenderer, eventHandler, momentsManager) {\n        this.blmxManager = blmxManager;\n        this.uiRenderer = uiRenderer;\n        this.eventHandler = eventHandler;\n        this.momentsManager = momentsManager;\n        this.eventManager = new _event_manager__WEBPACK_IMPORTED_MODULE_1__.EventManager();\n        // 使用事件管理器来添加事件监听器，防止内存泄漏\n        this.eventManager.addGlobalListener('js_generation_ended', (text) => {\n            this.rawAiResponse = text;\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '原始AI响应已接收', { length: text.length });\n        });\n        this.eventManager.addGlobalListener('chat_completion_prompt_ready', (event_data) => {\n            this.fullPrompt = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonStringify)(event_data.chat);\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '完整提示词已准备', { promptLength: this.fullPrompt.length });\n        });\n    }\n    // 获取是否正在生成\n    getIsGenerating() {\n        return this.isGenerating;\n    }\n    // 触发AI响应 - 按照原始同层手机中的实现移植\n    async triggerAiResponse(_immediate = false) {\n        if (this.isGenerating || !this.blmxManager)\n            return;\n        // 检查逻辑已移到AppController中，这里直接处理\n        // 检查全局标志，防止重复处理\n        if (window.BLMX_PROCESSING_AI_RESPONSE) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '已有AI响应处理进行中，跳过重复处理');\n            return;\n        }\n        // 设置全局处理标志\n        window.BLMX_PROCESSING_AI_RESPONSE = true;\n        this.isGenerating = true;\n        try {\n            // getContextForAI should now get all necessary context from the main log.\n            let contextForAI = this.blmxManager.getContextForAI();\n            contextForAI +=\n                '\\n【BLMX_LOG中的内容为目前过往线上聊天记录，其中也包括最新的USER输入，请你作为CHAR进行回应。】\\n【本次响应必须遵循线上规则】【必须使用特殊约定的格式且保证正确换行】';\n            this.latestSentPrompt = contextForAI;\n            // Clean up 'isNewForAI' flags from the main log after generating context.\n            this.blmxManager.logEntries.forEach(entry => {\n                if ('type' in entry && entry.type === 'image' && 'content' in entry && entry.content.isNewForAI) {\n                    entry.content.value = `[用户发送的图片]`;\n                    delete entry.content.isNewForAI;\n                }\n            });\n            // 重置待响应标志\n            this.eventHandler.setHasPendingNotifications(false);\n            const MAX_RETRIES = 2;\n            let attempt = 0;\n            let success = false;\n            while (attempt <= MAX_RETRIES && !success) {\n                if (attempt > 0) {\n                    _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('AiResponseManager', `AI响应为空，重试中`, { attempt: attempt + 1, maxRetries: MAX_RETRIES + 1 });\n                    await new Promise(resolve => setTimeout(resolve, 1000 * attempt));\n                }\n                try {\n                    // 显示灵动岛生成指示器，而不是打字指示器\n                    this.uiRenderer.showGeneratingIndicator();\n                    const stream = await (0,_script__WEBPACK_IMPORTED_MODULE_2__.getTavernHelper)().generate({ user_input: contextForAI, should_stream: true });\n                    let finalAiResponse = '';\n                    for await (const chunk of stream) {\n                        finalAiResponse += chunk;\n                    }\n                    // 隐藏灵动岛生成指示器\n                    this.uiRenderer.hideGeneratingIndicator();\n                    this.latestAiRawResponse = finalAiResponse.trim();\n                    // 记录原始响应以便调试\n                    if (!this.rawAiResponse) {\n                        this.rawAiResponse = finalAiResponse.trim();\n                        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '直接获取的原始AI响应', { length: this.rawAiResponse.length });\n                    }\n                    // 处理重复响应问题 - 从原始同层手机移植过来\n                    let processedResponse = finalAiResponse.trim();\n                    const len = processedResponse.length;\n                    // 检查完全相同的两半\n                    if (len > 0 && len % 2 === 0) {\n                        const firstHalf = processedResponse.substring(0, len / 2);\n                        const secondHalf = processedResponse.substring(len / 2);\n                        if (firstHalf === secondHalf && firstHalf.trim() !== '') {\n                            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('AiResponseManager', '检测到完全重复的AI响应，自动修剪');\n                            processedResponse = firstHalf;\n                        }\n                    }\n                    // 增强的重复检测：检查是否有相同的行被重复\n                    const lines = processedResponse.split('\\n').filter(line => line.trim() !== '');\n                    if (lines.length > 1) {\n                        const uniqueLines = window._.uniq(lines);\n                        // 如果去重后的行数明显少于原始行数，可能存在重复\n                        if (uniqueLines.length < lines.length * 0.7) {\n                            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('AiResponseManager', '检测到AI响应中的潜在行重复，仅使用唯一行');\n                            processedResponse = uniqueLines.join('\\n');\n                        }\n                    }\n                    if (processedResponse.trim()) {\n                        // 处理AI响应\n                        success = await this.processAiResponse(processedResponse.trim());\n                    }\n                }\n                catch (error) {\n                    _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error('AiResponseManager', `尝试${attempt}时出错`, { attempt, error });\n                    this.uiRenderer.hideGeneratingIndicator();\n                    if (attempt >= MAX_RETRIES) {\n                        this.showErrorMessage('AI代理出错 (详情见F12控制台)');\n                    }\n                }\n                attempt++;\n            }\n            if (!success && attempt > MAX_RETRIES) {\n                console.error(`[BLMX] AI generation failed after ${MAX_RETRIES + 1} attempts (empty response).`);\n                this.showErrorMessage('(AI响应为空，请稍后再试或手动触发)');\n                this.latestAiRawResponse = '[AI响应为空]';\n            }\n            await this.blmxManager.persistLogToStorage();\n            // 刷新所有时间戳的显示，确保AI回复的时间戳正确展示\n            this.uiRenderer.refreshAllTimestamps();\n        }\n        catch (error) {\n            console.error('[BLMX] Error in triggerAiResponse:', error);\n        }\n        finally {\n            // 无论成功失败，都重置处理标志\n            this.isGenerating = false;\n            window.BLMX_PROCESSING_AI_RESPONSE = false;\n        }\n    }\n    // 处理AI响应\n    async processAiResponse(response) {\n        const entriesForAnimation = [];\n        let hasNewCharMoments = false;\n        // 预处理响应文本\n        const processedResponse = response.replace(/^\\s*[[{].*[\\]}]\\s*$/gm, match => {\n            const parsed = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(match.trim());\n            return parsed !== null ? match : '';\n        });\n        const responseLines = processedResponse.split('\\n').filter(line => line.trim() !== '');\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '处理AI响应行', { lineCount: responseLines.length });\n        responseLines.forEach(line => {\n            const separatorIndex = line.indexOf(':');\n            if (separatorIndex === -1) {\n                _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '跳过没有分隔符的行', { line });\n                return;\n            }\n            const key = line.substring(0, separatorIndex).trim();\n            const value = line.substring(separatorIndex + 1).trim();\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '解析响应', {\n                key,\n                valuePreview: value.substring(0, 50) + (value.length > 50 ? '...' : ''),\n                valueLength: value.length,\n            });\n            if (!key || !value)\n                return;\n            try {\n                let newEntry = null;\n                // 声明所有可能在case中使用的变量\n                const id = `ai-${Date.now()}-${Math.random()}`;\n                let voiceMatch = null;\n                let stickerMatch = null;\n                let imageMatch = null;\n                let locationMatch = null;\n                let transferMatch = null;\n                let fileMatch = null;\n                let giftMatch = null;\n                switch (key) {\n                    case 'CHAR_MOMENT':\n                    case 'CHAR_COMMENT':\n                    case 'CHAR_LIKE':\n                        newEntry = { key, data: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(value) };\n                        this.blmxManager.addEntry(newEntry);\n                        // 将朋友圈相关条目也添加到动画队列中\n                        if (newEntry) {\n                            entriesForAnimation.push(newEntry);\n                            hasNewCharMoments = true;\n                        }\n                        // 立即更新朋友圈界面，不等待动画完成\n                        if (this.momentsManager) {\n                            this.momentsManager.renderMomentsFeed();\n                        }\n                        break;\n                    case 'message': {\n                        const parsedMessageContent = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(value);\n                        newEntry = {\n                            id: `ai-${Date.now()}-${Math.random()}`,\n                            type: 'message',\n                            sender: 'them',\n                            content: parsedMessageContent !== null ? parsedMessageContent : value,\n                        };\n                        this.blmxManager.addEntry(newEntry);\n                        if (newEntry)\n                            entriesForAnimation.push(newEntry);\n                        break;\n                    }\n                    case 'CHAR':\n                        // 兼容原始的CHAR格式\n                        voiceMatch = value.match(/^\\[语音:\\s*({.*})\\]/);\n                        stickerMatch = value.match(/^\\[表情:\\s*(.*)\\]/);\n                        imageMatch = value.match(/^\\[图片:\\s*(.*)\\]/);\n                        locationMatch = value.match(/^\\[位置:\\s*(.*)\\]/);\n                        transferMatch = value.match(/^\\[转账:\\s*(.*)\\]/);\n                        fileMatch = value.match(/^\\[文件:\\s*(.*)\\]/);\n                        giftMatch = value.match(/^\\[礼物:\\s*(.*)\\]/);\n                        if (voiceMatch) {\n                            const parsedVoiceData = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(voiceMatch[1]);\n                            newEntry = {\n                                id,\n                                type: 'voice',\n                                sender: 'them',\n                                content: parsedVoiceData || { text: '', duration: 0 },\n                            };\n                        }\n                        else if (stickerMatch) {\n                            newEntry = {\n                                id,\n                                type: 'sticker',\n                                sender: 'them',\n                                content: stickerMatch[1],\n                            };\n                        }\n                        else if (imageMatch) {\n                            const parsedImageData = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(imageMatch[1]);\n                            if (parsedImageData !== null) {\n                                // 成功解析JSON格式的图片数据\n                                newEntry = {\n                                    id,\n                                    type: 'image',\n                                    sender: 'them',\n                                    content: parsedImageData,\n                                };\n                            }\n                            else {\n                                // 解析失败，说明是纯文本描述\n                                newEntry = {\n                                    id,\n                                    type: 'image',\n                                    sender: 'them',\n                                    content: { type: 'desc', value: imageMatch[1] },\n                                };\n                            }\n                        }\n                        else if (locationMatch) {\n                            newEntry = {\n                                id,\n                                type: 'location',\n                                sender: 'them',\n                                content: locationMatch[1],\n                            };\n                        }\n                        else if (transferMatch) {\n                            try {\n                                newEntry = {\n                                    id,\n                                    type: 'transfer',\n                                    sender: 'them',\n                                    content: transferMatch[1],\n                                    data: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(transferMatch[1]) || { amount: 0, message: '' },\n                                };\n                            }\n                            catch (e) {\n                                console.error('Failed to parse transfer data:', transferMatch[1], e);\n                            }\n                        }\n                        else if (fileMatch) {\n                            try {\n                                newEntry = {\n                                    id,\n                                    type: 'file',\n                                    sender: 'them',\n                                    content: fileMatch[1],\n                                    data: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(fileMatch[1]) || { name: '', size: 0, url: '' },\n                                };\n                            }\n                            catch (e) {\n                                console.error('Failed to parse file data:', fileMatch[1], e);\n                            }\n                        }\n                        else if (giftMatch) {\n                            try {\n                                newEntry = {\n                                    id,\n                                    type: 'gift',\n                                    sender: 'them',\n                                    content: giftMatch[1],\n                                    data: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(giftMatch[1]) || { name: '', value: 0 },\n                                };\n                            }\n                            catch (e) {\n                                console.error('Failed to parse gift data:', giftMatch[1], e);\n                            }\n                        }\n                        else {\n                            // 纯文本消息\n                            newEntry = {\n                                id,\n                                type: 'message',\n                                sender: 'them',\n                                content: value,\n                            };\n                        }\n                        if (newEntry) {\n                            this.blmxManager.addEntry(newEntry);\n                            entriesForAnimation.push(newEntry);\n                        }\n                        break;\n                    case 'sticker': {\n                        this.addStickerEntry(value, entriesForAnimation);\n                        break;\n                    }\n                    case 'voice':\n                        this.addJsonContentEntry('voice', value, entriesForAnimation);\n                        break;\n                    case 'image':\n                        this.addJsonContentEntry('image', value, entriesForAnimation);\n                        break;\n                    case 'location':\n                        this.addJsonContentEntry('location', value, entriesForAnimation);\n                        break;\n                    case 'transfer':\n                        this.addJsonContentEntry('transfer', value, entriesForAnimation);\n                        break;\n                    case 'file':\n                        this.addJsonContentEntry('file', value, entriesForAnimation);\n                        break;\n                    case 'gift':\n                        this.addJsonContentEntry('gift', value, entriesForAnimation);\n                        break;\n                    case 'RECALL': {\n                        const recallData = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(value);\n                        const senderToFind = recallData.sender === 'USER' ? 'me' : 'them';\n                        const entryToRecall = this.blmxManager.logEntries\n                            .slice()\n                            .reverse()\n                            .find(e => 'sender' in e && e.sender === senderToFind && 'content' in e && e.content === recallData.target_text);\n                        if (entryToRecall) {\n                            // 创建一个\"指令\"条目给动画函数处理\n                            entriesForAnimation.push({\n                                type: 'recall_instruction',\n                                content: {\n                                    originalEntry: entryToRecall,\n                                    recallTimestamp: recallData.timestamp,\n                                },\n                            });\n                        }\n                        break;\n                    }\n                    case 'EVENT_LOG':\n                    case 'TIME':\n                        newEntry = {\n                            type: key === 'TIME' ? 'time' : 'event',\n                            content: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(value),\n                        };\n                        this.blmxManager.addEntry(newEntry);\n                        if (newEntry)\n                            entriesForAnimation.push(newEntry);\n                        break;\n                    default:\n                        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('AiResponseManager', '未知的AI响应键', { key });\n                }\n            }\n            catch (error) {\n                console.error(`[BLMX] Error processing AI response line \"${line}\":`, error);\n            }\n        });\n        // 如果有新条目要动画显示\n        if (entriesForAnimation.length > 0) {\n            await this.displayAiEntriesSequentially(entriesForAnimation);\n            // 如果有朋友圈相关的更新，检查用户是否在朋友圈视图\n            if (hasNewCharMoments && this.momentsManager) {\n                // 只有当用户不在朋友圈视图时才设置通知\n                const userInMomentsView = $('#moments-view').hasClass('active');\n                if (!userInMomentsView) {\n                    this.momentsManager.setMomentNotification(true);\n                }\n                else {\n                    // 如果用户正在朋友圈视图，更新最后查看时间戳\n                    this.momentsManager.setLastMomentViewTimestamp();\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    // 显示错误消息\n    showErrorMessage(message) {\n        const $errorDiv = $('<div>').addClass('ai-error-message').text(message);\n        $('.wechat-body').append($errorDiv);\n        setTimeout(() => {\n            $errorDiv.remove();\n        }, 5000);\n    }\n    // 按顺序展示AI条目\n    async displayAiEntriesSequentially(entries) {\n        // 定义哪些类型是\"消息\"，需要播放输入动画\n        const messageLikeTypes = ['message', 'sticker', 'voice', 'image', 'location', 'transfer', 'file', 'gift'];\n        for (const entry of entries) {\n            // 找到条目在日志中的索引\n            const entryIndex = this.blmxManager.logEntries.findIndex(log => {\n                // 对于有ID的条目，通过ID匹配\n                if ('id' in log && 'id' in entry && log.id === entry.id) {\n                    return true;\n                }\n                // 对于朋友圈相关条目，通过key和内容匹配\n                if ('key' in log && 'key' in entry && log.key === entry.key) {\n                    // 对于朋友圈动态\n                    if (entry.key.includes('_MOMENT')) {\n                        return window._.isEqual(log.data, entry.data);\n                    }\n                    // 对于点赞和评论\n                    if (entry.key.includes('_LIKE') || entry.key.includes('_COMMENT')) {\n                        return window._.isEqual(log.data, entry.data);\n                    }\n                }\n                // 对于没有ID的条目（如TIME、EVENT_LOG），通过内容匹配\n                if ('type' in log &&\n                    'type' in entry &&\n                    (log.type === 'time' || log.type === 'event') &&\n                    log.type === entry.type &&\n                    window._.isEqual(log.content, entry.content)) {\n                    return true;\n                }\n                // 对于消息类型条目，通过类型、发送者和内容匹配\n                if ('type' in log &&\n                    'type' in entry &&\n                    'sender' in log &&\n                    'sender' in entry &&\n                    'content' in log &&\n                    'content' in entry &&\n                    log.type === entry.type &&\n                    log.sender === entry.sender) {\n                    // 对于简单类型的内容，直接比较\n                    if (typeof log.content === 'string' && typeof entry.content === 'string') {\n                        return log.content === entry.content;\n                    }\n                    // 对于复杂类型的内容，使用lodash深度比较\n                    return window._.isEqual(log.content, entry.content);\n                }\n                return false;\n            });\n            if (entryIndex !== -1) {\n                _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug('AiResponseManager', '找到已存在的条目', {\n                    entryIndex,\n                    entryType: 'type' in entry ? entry.type : 'unknown',\n                });\n            }\n            // 判断条目类型是否是需要动画的\"消息\"\n            if ('type' in entry && messageLikeTypes.includes(entry.type)) {\n                // 是消息，执行完整的动画流程\n                this.uiRenderer.showTypingIndicator();\n                const messageText = entry.type === 'message' ? entry.content : entry.type === 'voice' ? entry.content.text : '';\n                const delay = this.uiRenderer.calculateTypingDelay(messageText);\n                await new Promise(resolve => setTimeout(resolve, delay));\n                this.uiRenderer.hideTypingIndicator();\n                this.uiRenderer.renderEntry(entry, entryIndex !== -1 ? entryIndex : undefined, true);\n            }\n            else if ('type' in entry && entry.type === 'recall_instruction') {\n                // 处理撤回指令，使用类型断言\n                const { originalEntry, recallTimestamp } = entry.content;\n                // 在内存中找到这个条目并标记\n                const entryToUpdate = this.blmxManager.logEntries.find(log => 'id' in log && log.id === originalEntry.id);\n                if (entryToUpdate) {\n                    entryToUpdate.recalled = true;\n                    entryToUpdate.recalled_content = originalEntry.content;\n                    entryToUpdate.recalled_timestamp = recallTimestamp;\n                    // 获取条目在日志中的索引，以便在删除模式下显示删除按钮\n                    const recallEntryIndex = this.blmxManager.logEntries.indexOf(entryToUpdate);\n                    // 在UI上找到对应的DOM元素并替换它\n                    const $elementToReplace = $(`[data-message-id=\"${originalEntry.id}\"]`);\n                    if ($elementToReplace.length) {\n                        // 使用一个小的延迟，让撤回动作看起来更自然\n                        await new Promise(resolve => setTimeout(resolve, 500));\n                        this.uiRenderer.renderRecallNotice(entryToUpdate, $elementToReplace[0], recallEntryIndex);\n                    }\n                }\n            }\n            else {\n                // 是系统事件 (如 EVENT_LOG, TIME)，直接显示\n                this.uiRenderer.renderEntry(entry, entryIndex !== -1 ? entryIndex : undefined, true);\n            }\n            // 在所有条目之间都增加一个短暂的停顿，让节奏更舒适\n            await new Promise(resolve => setTimeout(resolve, 800));\n        }\n        // 显示完所有条目后刷新时间戳，确保日期格式正确\n        this.uiRenderer.refreshAllTimestamps();\n    }\n    /**\n     * 清理资源，防止内存泄漏\n     */\n    cleanup() {\n        this.eventManager.cleanup();\n    }\n    // 获取最新的AI原始响应\n    getLatestAiRawResponse() {\n        return this.latestAiRawResponse;\n    }\n    // 获取最新发送的提示词\n    getLatestSentPrompt() {\n        return this.latestSentPrompt;\n    }\n    // 获取原始AI响应\n    getRawAiResponse() {\n        return this.rawAiResponse;\n    }\n    // 获取完整提示词\n    getFullPrompt() {\n        return this.fullPrompt;\n    }\n    addStickerEntry(value, entriesForAnimation) {\n        const parsedStickerContent = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.safeJsonParse)(value);\n        const entry = {\n            id: `ai-sticker-${Date.now()}-${Math.random()}`,\n            type: 'sticker',\n            sender: 'them',\n            content: parsedStickerContent !== null ? parsedStickerContent : value,\n        };\n        this.blmxManager.addEntry(entry);\n        entriesForAnimation.push(entry);\n    }\n    addJsonContentEntry(type, value, entriesForAnimation) {\n        const entry = {\n            id: `ai-${type}-${Date.now()}-${Math.random()}`,\n            type,\n            sender: 'them',\n            content: JSON.parse(value),\n        };\n        this.blmxManager.addEntry(entry);\n        entriesForAnimation.push(entry);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5ZCM5bGC5omL5py6L2FpLXJlc3BvbnNlLW1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxXQUFXO0FBQ1gsd0JBQXdCO0FBRWdCO0FBQ087QUFFcUI7QUFHVDtBQUVwRCxNQUFNLGlCQUFpQjtJQUNwQixXQUFXLENBQWdCO0lBQzNCLFVBQVUsQ0FBYTtJQUN2QixZQUFZLENBQWdCO0lBQzVCLGNBQWMsQ0FBaUI7SUFDL0IsWUFBWSxDQUFlO0lBRTNCLFlBQVksR0FBWSxLQUFLLENBQUM7SUFDOUIsbUJBQW1CLEdBQVcsYUFBYSxDQUFDO0lBQzVDLGdCQUFnQixHQUFXLGVBQWUsQ0FBQztJQUVuRCw0QkFBNEI7SUFDcEIsYUFBYSxHQUFXLEVBQUUsQ0FBQztJQUMzQixVQUFVLEdBQVcsRUFBRSxDQUFDO0lBRWhDLFlBQ0UsV0FBMEIsRUFDMUIsVUFBc0IsRUFDdEIsWUFBMkIsRUFDM0IsY0FBOEI7UUFFOUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakMsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHdEQUFZLEVBQUUsQ0FBQztRQUV2Qyx5QkFBeUI7UUFDekIsSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFO1lBQzFFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLGlEQUFNLENBQUMsS0FBSyxDQUFDLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUMxRSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsOEJBQThCLEVB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QyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WQjOWxguaJi+acui9haS1yZXNwb25zZS1tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFJ5ZON5bqU5aSE55CG5qih5Z2XXG4vLyDotJ/otKNBSeWTjeW6lOinpuWPkeOAgeadoeebruWkhOeQhuOAgeWKqOeUu+aYvuekuuetieWKn+iDvVxuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2RlYnVnLWxvZ2dlcic7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuL2V2ZW50LW1hbmFnZXInO1xuaW1wb3J0IHsgTW9tZW50c01hbmFnZXIgfSBmcm9tICcuL21vbWVudHMtbWFuYWdlcic7XG5pbXBvcnQgeyBCTE1YX1Byb3RvY29sLCBMb2dFbnRyeSwgZ2V0VGF2ZXJuSGVscGVyIH0gZnJvbSAnLi9zY3JpcHQnO1xuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVUlSZW5kZXJlciB9IGZyb20gJy4vdWktcmVuZGVyZXInO1xuaW1wb3J0IHsgc2FmZUpzb25QYXJzZSwgc2FmZUpzb25TdHJpbmdpZnkgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEFpUmVzcG9uc2VNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBibG14TWFuYWdlcjogQkxNWF9Qcm90b2NvbDtcbiAgcHJpdmF0ZSB1aVJlbmRlcmVyOiBVSVJlbmRlcmVyO1xuICBwcml2YXRlIGV2ZW50SGFuZGxlcjogSUV2ZW50SGFuZGxlcjtcbiAgcHJpdmF0ZSBtb21lbnRzTWFuYWdlcjogTW9tZW50c01hbmFnZXI7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBpc0dlbmVyYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXRlc3RBaVJhd1Jlc3BvbnNlOiBzdHJpbmcgPSAn6L+Y5rKh5pyJ5pS25YiwQUnnmoTlm57lpI3jgIInO1xuICBwcml2YXRlIGxhdGVzdFNlbnRQcm9tcHQ6IHN0cmluZyA9ICfov5jmsqHmnInlj5HpgIHku7vkvZXlhoXlrrnnu5lBSeOAgic7XG5cbiAgLy8g5paw5aKe77ya6K6w5b2V5Y6f5aeL5ZON5bqU5ZKM5a6M5pW05o+Q56S66K+N77yM5LiO5ZCM5bGC5omL5py65L+d5oyB5LiA6Ie0XG4gIHByaXZhdGUgcmF3QWlSZXNwb25zZTogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgZnVsbFByb21wdDogc3RyaW5nID0gJyc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYmxteE1hbmFnZXI6IEJMTVhfUHJvdG9jb2wsXG4gICAgdWlSZW5kZXJlcjogVUlSZW5kZXJlcixcbiAgICBldmVudEhhbmRsZXI6IElFdmVudEhhbmRsZXIsXG4gICAgbW9tZW50c01hbmFnZXI6IE1vbWVudHNNYW5hZ2VyLFxuICApIHtcbiAgICB0aGlzLmJsbXhNYW5hZ2VyID0gYmxteE1hbmFnZXI7XG4gICAgdGhpcy51aVJlbmRlcmVyID0gdWlSZW5kZXJlcjtcbiAgICB0aGlzLmV2ZW50SGFuZGxlciA9IGV2ZW50SGFuZGxlcjtcbiAgICB0aGlzLm1vbWVudHNNYW5hZ2VyID0gbW9tZW50c01hbmFnZXI7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvLyDkvb/nlKjkuovku7bnrqHnkIblmajmnaXmt7vliqDkuovku7bnm5HlkKzlmajvvIzpmLLmraLlhoXlrZjms4TmvI9cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5hZGRHbG9iYWxMaXN0ZW5lcignanNfZ2VuZXJhdGlvbl9lbmRlZCcsICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMucmF3QWlSZXNwb25zZSA9IHRleHQ7XG4gICAgICBsb2dnZXIuZGVidWcoJ0FpUmVzcG9uc2VNYW5hZ2VyJywgJ+WOn+Wni0FJ5ZON5bqU5bey5o6l5pS2JywgeyBsZW5ndGg6IHRleHQubGVuZ3RoIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIuYWRkR2xvYmFsTGlzdGVuZXIoJ2NoYXRfY29tcGxldGlvbl9wcm9tcHRfcmVhZHknLCAoZXZlbnRfZGF0YTogYW55KSA9PiB7XG4gICAgICB0aGlzLmZ1bGxQcm9tcHQgPSBzYWZlSnNvblN0cmluZ2lmeShldmVudF9kYXRhLmNoYXQpO1xuICAgICAgbG9nZ2VyLmRlYnVnKCdBaVJlc3BvbnNlTWFuYWdlcicsICflrozmlbTmj5DnpLror43lt7Llh4blpIcnLCB7IHByb21wdExlbmd0aDogdGhpcy5mdWxsUHJvbXB0Lmxlbmd0aCB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOiOt+WPluaYr+WQpuato+WcqOeUn+aIkFxuICBnZXRJc0dlbmVyYXRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNHZW5lcmF0aW5nO1xuICB9XG5cbiAgLy8g6Kem5Y+RQUnlk43lupQgLSDmjInnhafljp/lp4vlkIzlsYLmiYvmnLrkuK3nmoTlrp7njrDnp7vmpI1cbiAgYXN5bmMgdHJpZ2dlckFpUmVzcG9uc2UoX2ltbWVkaWF0ZTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNHZW5lcmF0aW5nIHx8ICF0aGlzLmJsbXhNYW5hZ2VyKSByZXR1cm47XG5cbiAgICAvLyDmo4Dmn6XpgLvovpHlt7Lnp7vliLBBcHBDb250cm9sbGVy5Lit77yM6L+Z6YeM55u05o6l5aSE55CGXG5cbiAgICAvLyDmo4Dmn6XlhajlsYDmoIflv5fvvIzpmLLmraLph43lpI3lpITnkIZcbiAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLkJMTVhfUFJPQ0VTU0lOR19BSV9SRVNQT05TRSkge1xuICAgICAgbG9nZ2VyLmRlYnVnKCdBaVJlc3BvbnNlTWFuYWdlcicsICflt7LmnIlBSeWTjeW6lOWkhOeQhui/m+ihjOS4re+8jOi3s+i/h+mHjeWkjeWkhOeQhicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOiuvue9ruWFqOWxgOWkhOeQhuagh+W/l1xuICAgICh3aW5kb3cgYXMgYW55KS5CTE1YX1BST0NFU1NJTkdfQUlfUkVTUE9OU0UgPSB0cnVlO1xuICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBnZXRDb250ZXh0Rm9yQUkgc2hvdWxkIG5vdyBnZXQgYWxsIG5lY2Vzc2FyeSBjb250ZXh0IGZyb20gdGhlIG1haW4gbG9nLlxuICAgICAgbGV0IGNvbnRleHRGb3JBSSA9IHRoaXMuYmxteE1hbmFnZXIuZ2V0Q29udGV4dEZvckFJKCk7XG5cbiAgICAgIGNvbnRleHRGb3JBSSArPVxuICAgICAgICAnXFxu44CQQkxNWF9MT0fkuK3nmoTlhoXlrrnkuLrnm67liY3ov4flvoDnur/kuIrogYrlpKnorrDlvZXvvIzlhbbkuK3kuZ/ljIXmi6zmnIDmlrDnmoRVU0VS6L6T5YWl77yM6K+35L2g5L2c5Li6Q0hBUui/m+ihjOWbnuW6lOOAguOAkVxcbuOAkOacrOasoeWTjeW6lOW/hemhu+mBteW+que6v+S4iuinhOWImeOAkeOAkOW/hemhu+S9v+eUqOeJueauiue6puWumueahOagvOW8j+S4lOS/neivgeato+ehruaNouihjOOAkSc7XG4gICAgICB0aGlzLmxhdGVzdFNlbnRQcm9tcHQgPSBjb250ZXh0Rm9yQUk7XG5cbiAgICAgIC8vIENsZWFuIHVwICdpc05ld0ZvckFJJyBmbGFncyBmcm9tIHRoZSBtYWluIGxvZyBhZnRlciBnZW5lcmF0aW5nIGNvbnRleHQuXG4gICAgICB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIGlmICgndHlwZScgaW4gZW50cnkgJiYgZW50cnkudHlwZSA9PT0gJ2ltYWdlJyAmJiAnY29udGVudCcgaW4gZW50cnkgJiYgKGVudHJ5LmNvbnRlbnQgYXMgYW55KS5pc05ld0ZvckFJKSB7XG4gICAgICAgICAgKGVudHJ5LmNvbnRlbnQgYXMgYW55KS52YWx1ZSA9IGBb55So5oi35Y+R6YCB55qE5Zu+54mHXWA7XG4gICAgICAgICAgZGVsZXRlIChlbnRyeS5jb250ZW50IGFzIGFueSkuaXNOZXdGb3JBSTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIOmHjee9ruW+heWTjeW6lOagh+W/l1xuICAgICAgdGhpcy5ldmVudEhhbmRsZXIuc2V0SGFzUGVuZGluZ05vdGlmaWNhdGlvbnMoZmFsc2UpO1xuXG4gICAgICBjb25zdCBNQVhfUkVUUklFUyA9IDI7XG4gICAgICBsZXQgYXR0ZW1wdCA9IDA7XG4gICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoYXR0ZW1wdCA8PSBNQVhfUkVUUklFUyAmJiAhc3VjY2Vzcykge1xuICAgICAgICBpZiAoYXR0ZW1wdCA+IDApIHtcbiAgICAgICAgICBsb2dnZXIud2FybignQWlSZXNwb25zZU1hbmFnZXInLCBgQUnlk43lupTkuLrnqbrvvIzph43or5XkuK1gLCB7IGF0dGVtcHQ6IGF0dGVtcHQgKyAxLCBtYXhSZXRyaWVzOiBNQVhfUkVUUklFUyArIDEgfSk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDAgKiBhdHRlbXB0KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIOaYvuekuueBteWKqOWym+eUn+aIkOaMh+ekuuWZqO+8jOiAjOS4jeaYr+aJk+Wtl+aMh+ekuuWZqFxuICAgICAgICAgIHRoaXMudWlSZW5kZXJlci5zaG93R2VuZXJhdGluZ0luZGljYXRvcigpO1xuXG4gICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuZ2VuZXJhdGUoeyB1c2VyX2lucHV0OiBjb250ZXh0Rm9yQUksIHNob3VsZF9zdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgbGV0IGZpbmFsQWlSZXNwb25zZSA9ICcnO1xuXG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIGZpbmFsQWlSZXNwb25zZSArPSBjaHVuaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDpmpDol4/ngbXliqjlspvnlJ/miJDmjIfnpLrlmahcbiAgICAgICAgICB0aGlzLnVpUmVuZGVyZXIuaGlkZUdlbmVyYXRpbmdJbmRpY2F0b3IoKTtcbiAgICAgICAgICB0aGlzLmxhdGVzdEFpUmF3UmVzcG9uc2UgPSBmaW5hbEFpUmVzcG9uc2UudHJpbSgpO1xuXG4gICAgICAgICAgLy8g6K6w5b2V5Y6f5aeL5ZON5bqU5Lul5L6/6LCD6K+VXG4gICAgICAgICAgaWYgKCF0aGlzLnJhd0FpUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmF3QWlSZXNwb25zZSA9IGZpbmFsQWlSZXNwb25zZS50cmltKCk7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0FpUmVzcG9uc2VNYW5hZ2VyJywgJ+ebtOaOpeiOt+WPlueahOWOn+Wni0FJ5ZON5bqUJywgeyBsZW5ndGg6IHRoaXMucmF3QWlSZXNwb25zZS5sZW5ndGggfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g5aSE55CG6YeN5aSN5ZON5bqU6Zeu6aKYIC0g5LuO5Y6f5aeL5ZCM5bGC5omL5py656e75qSN6L+H5p2lXG4gICAgICAgICAgbGV0IHByb2Nlc3NlZFJlc3BvbnNlID0gZmluYWxBaVJlc3BvbnNlLnRyaW0oKTtcbiAgICAgICAgICBjb25zdCBsZW4gPSBwcm9jZXNzZWRSZXNwb25zZS5sZW5ndGg7XG5cbiAgICAgICAgICAvLyDmo4Dmn6Xlrozlhajnm7jlkIznmoTkuKTljYpcbiAgICAgICAgICBpZiAobGVuID4gMCAmJiBsZW4gJSAyID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEhhbGYgPSBwcm9jZXNzZWRSZXNwb25zZS5zdWJzdHJpbmcoMCwgbGVuIC8gMik7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRIYWxmID0gcHJvY2Vzc2VkUmVzcG9uc2Uuc3Vic3RyaW5nKGxlbiAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoZmlyc3RIYWxmID09PSBzZWNvbmRIYWxmICYmIGZpcnN0SGFsZi50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdBaVJlc3BvbnNlTWFuYWdlcicsICfmo4DmtYvliLDlrozlhajph43lpI3nmoRBSeWTjeW6lO+8jOiHquWKqOS/ruWJqicpO1xuICAgICAgICAgICAgICBwcm9jZXNzZWRSZXNwb25zZSA9IGZpcnN0SGFsZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDlop7lvLrnmoTph43lpI3mo4DmtYvvvJrmo4Dmn6XmmK/lkKbmnInnm7jlkIznmoTooYzooqvph43lpI1cbiAgICAgICAgICBjb25zdCBsaW5lcyA9IHByb2Nlc3NlZFJlc3BvbnNlLnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSAhPT0gJycpO1xuICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVMaW5lcyA9ICh3aW5kb3cgYXMgYW55KS5fLnVuaXEobGluZXMpO1xuICAgICAgICAgICAgLy8g5aaC5p6c5Y676YeN5ZCO55qE6KGM5pWw5piO5pi+5bCR5LqO5Y6f5aeL6KGM5pWw77yM5Y+v6IO95a2Y5Zyo6YeN5aSNXG4gICAgICAgICAgICBpZiAodW5pcXVlTGluZXMubGVuZ3RoIDwgbGluZXMubGVuZ3RoICogMC43KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdBaVJlc3BvbnNlTWFuYWdlcicsICfmo4DmtYvliLBBSeWTjeW6lOS4reeahOa9nOWcqOihjOmHjeWkje+8jOS7heS9v+eUqOWUr+S4gOihjCcpO1xuICAgICAgICAgICAgICBwcm9jZXNzZWRSZXNwb25zZSA9IHVuaXF1ZUxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9jZXNzZWRSZXNwb25zZS50cmltKCkpIHtcbiAgICAgICAgICAgIC8vIOWkhOeQhkFJ5ZON5bqUXG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgdGhpcy5wcm9jZXNzQWlSZXNwb25zZShwcm9jZXNzZWRSZXNwb25zZS50cmltKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0FpUmVzcG9uc2VNYW5hZ2VyJywgYOWwneivlSR7YXR0ZW1wdH3ml7blh7rplJlgLCB7IGF0dGVtcHQsIGVycm9yIH0pO1xuICAgICAgICAgIHRoaXMudWlSZW5kZXJlci5oaWRlR2VuZXJhdGluZ0luZGljYXRvcigpO1xuXG4gICAgICAgICAgaWYgKGF0dGVtcHQgPj0gTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yTWVzc2FnZSgnQUnku6PnkIblh7rplJkgKOivpuaDheingUYxMuaOp+WItuWPsCknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhdHRlbXB0Kys7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3VjY2VzcyAmJiBhdHRlbXB0ID4gTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0JMTVhdIEFJIGdlbmVyYXRpb24gZmFpbGVkIGFmdGVyICR7TUFYX1JFVFJJRVMgKyAxfSBhdHRlbXB0cyAoZW1wdHkgcmVzcG9uc2UpLmApO1xuICAgICAgICB0aGlzLnNob3dFcnJvck1lc3NhZ2UoJyhBSeWTjeW6lOS4uuepuu+8jOivt+eojeWQjuWGjeivleaIluaJi+WKqOinpuWPkSknKTtcbiAgICAgICAgdGhpcy5sYXRlc3RBaVJhd1Jlc3BvbnNlID0gJ1tBSeWTjeW6lOS4uuepul0nO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLmJsbXhNYW5hZ2VyLnBlcnNpc3RMb2dUb1N0b3JhZ2UoKTtcblxuICAgICAgLy8g5Yi35paw5omA5pyJ5pe26Ze05oiz55qE5pi+56S677yM56Gu5L+dQUnlm57lpI3nmoTml7bpl7TmiLPmraPnoa7lsZXnpLpcbiAgICAgIHRoaXMudWlSZW5kZXJlci5yZWZyZXNoQWxsVGltZXN0YW1wcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQkxNWF0gRXJyb3IgaW4gdHJpZ2dlckFpUmVzcG9uc2U6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyDml6DorrrmiJDlip/lpLHotKXvvIzpg73ph43nva7lpITnkIbmoIflv5dcbiAgICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gZmFsc2U7XG4gICAgICAod2luZG93IGFzIGFueSkuQkxNWF9QUk9DRVNTSU5HX0FJX1JFU1BPTlNFID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8g5aSE55CGQUnlk43lupRcbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQWlSZXNwb25zZShyZXNwb25zZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgZW50cmllc0ZvckFuaW1hdGlvbjogTG9nRW50cnlbXSA9IFtdO1xuICAgIGxldCBoYXNOZXdDaGFyTW9tZW50cyA9IGZhbHNlO1xuXG4gICAgLy8g6aKE5aSE55CG5ZON5bqU5paH5pysXG4gICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSByZXNwb25zZS5yZXBsYWNlKC9eXFxzKltbe10uKltcXF19XVxccyokL2dtLCBtYXRjaCA9PiB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBzYWZlSnNvblBhcnNlKG1hdGNoLnRyaW0oKSk7XG4gICAgICByZXR1cm4gcGFyc2VkICE9PSBudWxsID8gbWF0Y2ggOiAnJztcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlTGluZXMgPSBwcm9jZXNzZWRSZXNwb25zZS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09ICcnKTtcbiAgICBsb2dnZXIuZGVidWcoJ0FpUmVzcG9uc2VNYW5hZ2VyJywgJ+WkhOeQhkFJ5ZON5bqU6KGMJywgeyBsaW5lQ291bnQ6IHJlc3BvbnNlTGluZXMubGVuZ3RoIH0pO1xuXG4gICAgcmVzcG9uc2VMaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBaVJlc3BvbnNlTWFuYWdlcicsICfot7Pov4fmsqHmnInliIbpmpTnrKbnmoTooYwnLCB7IGxpbmUgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyAxKS50cmltKCk7XG4gICAgICBsb2dnZXIuZGVidWcoJ0FpUmVzcG9uc2VNYW5hZ2VyJywgJ+ino+aekOWTjeW6lCcsIHtcbiAgICAgICAga2V5LFxuICAgICAgICB2YWx1ZVByZXZpZXc6IHZhbHVlLnN1YnN0cmluZygwLCA1MCkgKyAodmFsdWUubGVuZ3RoID4gNTAgPyAnLi4uJyA6ICcnKSxcbiAgICAgICAgdmFsdWVMZW5ndGg6IHZhbHVlLmxlbmd0aCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWtleSB8fCAhdmFsdWUpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IG5ld0VudHJ5OiBMb2dFbnRyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICAvLyDlo7DmmI7miYDmnInlj6/og73lnKhjYXNl5Lit5L2/55So55qE5Y+Y6YePXG4gICAgICAgIGNvbnN0IGlkID0gYGFpLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIGxldCB2b2ljZU1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGxldCBzdGlja2VyTWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IGltYWdlTWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IGxvY2F0aW9uTWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IHRyYW5zZmVyTWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IGZpbGVNYXRjaDogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgZ2lmdE1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICBjYXNlICdDSEFSX01PTUVOVCc6XG4gICAgICAgICAgY2FzZSAnQ0hBUl9DT01NRU5UJzpcbiAgICAgICAgICBjYXNlICdDSEFSX0xJS0UnOlxuICAgICAgICAgICAgbmV3RW50cnkgPSB7IGtleSwgZGF0YTogc2FmZUpzb25QYXJzZSh2YWx1ZSkgfSBhcyBhbnk7XG4gICAgICAgICAgICB0aGlzLmJsbXhNYW5hZ2VyLmFkZEVudHJ5KG5ld0VudHJ5KTtcblxuICAgICAgICAgICAgLy8g5bCG5pyL5Y+L5ZyI55u45YWz5p2h55uu5Lmf5re75Yqg5Yiw5Yqo55S76Zif5YiX5LitXG4gICAgICAgICAgICBpZiAobmV3RW50cnkpIHtcbiAgICAgICAgICAgICAgZW50cmllc0ZvckFuaW1hdGlvbi5wdXNoKG5ld0VudHJ5KTtcbiAgICAgICAgICAgICAgaGFzTmV3Q2hhck1vbWVudHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDnq4vljbPmm7TmlrDmnIvlj4vlnIjnlYzpnaLvvIzkuI3nrYnlvoXliqjnlLvlrozmiJBcbiAgICAgICAgICAgIGlmICh0aGlzLm1vbWVudHNNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgIHRoaXMubW9tZW50c01hbmFnZXIucmVuZGVyTW9tZW50c0ZlZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnbWVzc2FnZSc6IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2VDb250ZW50ID0gc2FmZUpzb25QYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGBhaS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgICAgICAgICBjb250ZW50OiBwYXJzZWRNZXNzYWdlQ29udGVudCAhPT0gbnVsbCA/IHBhcnNlZE1lc3NhZ2VDb250ZW50IDogdmFsdWUsXG4gICAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkobmV3RW50cnkpO1xuICAgICAgICAgICAgaWYgKG5ld0VudHJ5KSBlbnRyaWVzRm9yQW5pbWF0aW9uLnB1c2gobmV3RW50cnkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnQ0hBUic6XG4gICAgICAgICAgICAvLyDlhbzlrrnljp/lp4vnmoRDSEFS5qC85byPXG4gICAgICAgICAgICB2b2ljZU1hdGNoID0gdmFsdWUubWF0Y2goL15cXFvor63pn7M6XFxzKih7Lip9KVxcXS8pO1xuICAgICAgICAgICAgc3RpY2tlck1hdGNoID0gdmFsdWUubWF0Y2goL15cXFvooajmg4U6XFxzKiguKilcXF0vKTtcbiAgICAgICAgICAgIGltYWdlTWF0Y2ggPSB2YWx1ZS5tYXRjaCgvXlxcW+WbvueJhzpcXHMqKC4qKVxcXS8pO1xuICAgICAgICAgICAgbG9jYXRpb25NYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb5L2N572uOlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICB0cmFuc2Zlck1hdGNoID0gdmFsdWUubWF0Y2goL15cXFvovazotKY6XFxzKiguKilcXF0vKTtcbiAgICAgICAgICAgIGZpbGVNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb5paH5Lu2OlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICBnaWZ0TWF0Y2ggPSB2YWx1ZS5tYXRjaCgvXlxcW+ekvOeJqTpcXHMqKC4qKVxcXS8pO1xuXG4gICAgICAgICAgICBpZiAodm9pY2VNYXRjaCkge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZWRWb2ljZURhdGEgPSBzYWZlSnNvblBhcnNlKHZvaWNlTWF0Y2hbMV0pO1xuICAgICAgICAgICAgICBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAndm9pY2UnLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZFZvaWNlRGF0YSB8fCB7IHRleHQ6ICcnLCBkdXJhdGlvbjogMCB9LFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgbmV3RW50cnkgPSB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0aWNrZXInLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN0aWNrZXJNYXRjaFsxXSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VNYXRjaCkge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZWRJbWFnZURhdGEgPSBzYWZlSnNvblBhcnNlKGltYWdlTWF0Y2hbMV0pO1xuICAgICAgICAgICAgICBpZiAocGFyc2VkSW1hZ2VEYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8g5oiQ5Yqf6Kej5p6QSlNPTuagvOW8j+eahOWbvueJh+aVsOaNrlxuICAgICAgICAgICAgICAgIG5ld0VudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBwYXJzZWRJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDop6PmnpDlpLHotKXvvIzor7TmmI7mmK/nuq/mlofmnKzmj4/ov7BcbiAgICAgICAgICAgICAgICBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogeyB0eXBlOiAnZGVzYycsIHZhbHVlOiBpbWFnZU1hdGNoWzFdIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbk1hdGNoKSB7XG4gICAgICAgICAgICAgIG5ld0VudHJ5ID0ge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdsb2NhdGlvbicsXG4gICAgICAgICAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgICAgICAgICAgY29udGVudDogbG9jYXRpb25NYXRjaFsxXSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNmZXJNYXRjaCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ld0VudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgICAgICAgICAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB0cmFuc2Zlck1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgZGF0YTogc2FmZUpzb25QYXJzZSh0cmFuc2Zlck1hdGNoWzFdKSB8fCB7IGFtb3VudDogMCwgbWVzc2FnZTogJycgfSxcbiAgICAgICAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSB0cmFuc2ZlciBkYXRhOicsIHRyYW5zZmVyTWF0Y2hbMV0sIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGVNYXRjaCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ld0VudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZpbGVNYXRjaFsxXSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHNhZmVKc29uUGFyc2UoZmlsZU1hdGNoWzFdKSB8fCB7IG5hbWU6ICcnLCBzaXplOiAwLCB1cmw6ICcnIH0sXG4gICAgICAgICAgICAgICAgfSBhcyBhbnk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgZmlsZSBkYXRhOicsIGZpbGVNYXRjaFsxXSwgZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2lmdE1hdGNoKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3RW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdnaWZ0JyxcbiAgICAgICAgICAgICAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogZ2lmdE1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgZGF0YTogc2FmZUpzb25QYXJzZShnaWZ0TWF0Y2hbMV0pIHx8IHsgbmFtZTogJycsIHZhbHVlOiAwIH0sXG4gICAgICAgICAgICAgICAgfSBhcyBhbnk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgZ2lmdCBkYXRhOicsIGdpZnRNYXRjaFsxXSwgZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIOe6r+aWh+acrOa2iOaBr1xuICAgICAgICAgICAgICBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgICAgICAgICAgY29udGVudDogdmFsdWUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdFbnRyeSkge1xuICAgICAgICAgICAgICB0aGlzLmJsbXhNYW5hZ2VyLmFkZEVudHJ5KG5ld0VudHJ5KTtcbiAgICAgICAgICAgICAgZW50cmllc0ZvckFuaW1hdGlvbi5wdXNoKG5ld0VudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc3RpY2tlcic6IHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RpY2tlckVudHJ5KHZhbHVlLCBlbnRyaWVzRm9yQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3ZvaWNlJzpcbiAgICAgICAgICAgIHRoaXMuYWRkSnNvbkNvbnRlbnRFbnRyeSgndm9pY2UnLCB2YWx1ZSwgZW50cmllc0ZvckFuaW1hdGlvbik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgIHRoaXMuYWRkSnNvbkNvbnRlbnRFbnRyeSgnaW1hZ2UnLCB2YWx1ZSwgZW50cmllc0ZvckFuaW1hdGlvbik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgICAgIHRoaXMuYWRkSnNvbkNvbnRlbnRFbnRyeSgnbG9jYXRpb24nLCB2YWx1ZSwgZW50cmllc0ZvckFuaW1hdGlvbik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3RyYW5zZmVyJzpcbiAgICAgICAgICAgIHRoaXMuYWRkSnNvbkNvbnRlbnRFbnRyeSgndHJhbnNmZXInLCB2YWx1ZSwgZW50cmllc0ZvckFuaW1hdGlvbik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICAgICAgdGhpcy5hZGRKc29uQ29udGVudEVudHJ5KCdmaWxlJywgdmFsdWUsIGVudHJpZXNGb3JBbmltYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdnaWZ0JzpcbiAgICAgICAgICAgIHRoaXMuYWRkSnNvbkNvbnRlbnRFbnRyeSgnZ2lmdCcsIHZhbHVlLCBlbnRyaWVzRm9yQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUkVDQUxMJzoge1xuICAgICAgICAgICAgY29uc3QgcmVjYWxsRGF0YSA9IHNhZmVKc29uUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgY29uc3Qgc2VuZGVyVG9GaW5kID0gcmVjYWxsRGF0YS5zZW5kZXIgPT09ICdVU0VSJyA/ICdtZScgOiAndGhlbSc7XG4gICAgICAgICAgICBjb25zdCBlbnRyeVRvUmVjYWxsID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzXG4gICAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgLmZpbmQoXG4gICAgICAgICAgICAgICAgZSA9PlxuICAgICAgICAgICAgICAgICAgJ3NlbmRlcicgaW4gZSAmJiBlLnNlbmRlciA9PT0gc2VuZGVyVG9GaW5kICYmICdjb250ZW50JyBpbiBlICYmIGUuY29udGVudCA9PT0gcmVjYWxsRGF0YS50YXJnZXRfdGV4dCxcbiAgICAgICAgICAgICAgKSBhcyBhbnk7XG5cbiAgICAgICAgICAgIGlmIChlbnRyeVRvUmVjYWxsKSB7XG4gICAgICAgICAgICAgIC8vIOWIm+W7uuS4gOS4qlwi5oyH5LukXCLmnaHnm67nu5nliqjnlLvlh73mlbDlpITnkIZcbiAgICAgICAgICAgICAgZW50cmllc0ZvckFuaW1hdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVjYWxsX2luc3RydWN0aW9uJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICBvcmlnaW5hbEVudHJ5OiBlbnRyeVRvUmVjYWxsLFxuICAgICAgICAgICAgICAgICAgcmVjYWxsVGltZXN0YW1wOiByZWNhbGxEYXRhLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9IGFzIGFueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdFVkVOVF9MT0cnOlxuICAgICAgICAgIGNhc2UgJ1RJTUUnOlxuICAgICAgICAgICAgbmV3RW50cnkgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IGtleSA9PT0gJ1RJTUUnID8gJ3RpbWUnIDogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgY29udGVudDogc2FmZUpzb25QYXJzZSh2YWx1ZSksXG4gICAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkobmV3RW50cnkpO1xuICAgICAgICAgICAgaWYgKG5ld0VudHJ5KSBlbnRyaWVzRm9yQW5pbWF0aW9uLnB1c2gobmV3RW50cnkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0FpUmVzcG9uc2VNYW5hZ2VyJywgJ+acquefpeeahEFJ5ZON5bqU6ZSuJywgeyBrZXkgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtCTE1YXSBFcnJvciBwcm9jZXNzaW5nIEFJIHJlc3BvbnNlIGxpbmUgXCIke2xpbmV9XCI6YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5aaC5p6c5pyJ5paw5p2h55uu6KaB5Yqo55S75pi+56S6XG4gICAgaWYgKGVudHJpZXNGb3JBbmltYXRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgdGhpcy5kaXNwbGF5QWlFbnRyaWVzU2VxdWVudGlhbGx5KGVudHJpZXNGb3JBbmltYXRpb24pO1xuXG4gICAgICAvLyDlpoLmnpzmnInmnIvlj4vlnIjnm7jlhbPnmoTmm7TmlrDvvIzmo4Dmn6XnlKjmiLfmmK/lkKblnKjmnIvlj4vlnIjop4blm75cbiAgICAgIGlmIChoYXNOZXdDaGFyTW9tZW50cyAmJiB0aGlzLm1vbWVudHNNYW5hZ2VyKSB7XG4gICAgICAgIC8vIOWPquacieW9k+eUqOaIt+S4jeWcqOaci+WPi+WciOinhuWbvuaXtuaJjeiuvue9rumAmuefpVxuICAgICAgICBjb25zdCB1c2VySW5Nb21lbnRzVmlldyA9ICQoJyNtb21lbnRzLXZpZXcnKS5oYXNDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIGlmICghdXNlckluTW9tZW50c1ZpZXcpIHtcbiAgICAgICAgICB0aGlzLm1vbWVudHNNYW5hZ2VyLnNldE1vbWVudE5vdGlmaWNhdGlvbih0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDlpoLmnpznlKjmiLfmraPlnKjmnIvlj4vlnIjop4blm77vvIzmm7TmlrDmnIDlkI7mn6XnnIvml7bpl7TmiLNcbiAgICAgICAgICB0aGlzLm1vbWVudHNNYW5hZ2VyLnNldExhc3RNb21lbnRWaWV3VGltZXN0YW1wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8g5pi+56S66ZSZ6K+v5raI5oGvXG4gIHByaXZhdGUgc2hvd0Vycm9yTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCAkZXJyb3JEaXYgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdhaS1lcnJvci1tZXNzYWdlJykudGV4dChtZXNzYWdlKTtcblxuICAgICQoJy53ZWNoYXQtYm9keScpLmFwcGVuZCgkZXJyb3JEaXYpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZXJyb3JEaXYucmVtb3ZlKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICAvLyDmjInpobrluo/lsZXnpLpBSeadoeebrlxuICBhc3luYyBkaXNwbGF5QWlFbnRyaWVzU2VxdWVudGlhbGx5KGVudHJpZXM6IExvZ0VudHJ5W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyDlrprkuYnlk6rkupvnsbvlnovmmK9cIua2iOaBr1wi77yM6ZyA6KaB5pKt5pS+6L6T5YWl5Yqo55S7XG4gICAgY29uc3QgbWVzc2FnZUxpa2VUeXBlcyA9IFsnbWVzc2FnZScsICdzdGlja2VyJywgJ3ZvaWNlJywgJ2ltYWdlJywgJ2xvY2F0aW9uJywgJ3RyYW5zZmVyJywgJ2ZpbGUnLCAnZ2lmdCddO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgLy8g5om+5Yiw5p2h55uu5Zyo5pel5b+X5Lit55qE57Si5byVXG4gICAgICBjb25zdCBlbnRyeUluZGV4ID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzLmZpbmRJbmRleChsb2cgPT4ge1xuICAgICAgICAvLyDlr7nkuo7mnIlJROeahOadoeebru+8jOmAmui/h0lE5Yy56YWNXG4gICAgICAgIGlmICgnaWQnIGluIGxvZyAmJiAnaWQnIGluIGVudHJ5ICYmIGxvZy5pZCA9PT0gZW50cnkuaWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWvueS6juaci+WPi+WciOebuOWFs+adoeebru+8jOmAmui/h2tleeWSjOWGheWuueWMuemFjVxuICAgICAgICBpZiAoJ2tleScgaW4gbG9nICYmICdrZXknIGluIGVudHJ5ICYmIGxvZy5rZXkgPT09IGVudHJ5LmtleSkge1xuICAgICAgICAgIC8vIOWvueS6juaci+WPi+WciOWKqOaAgVxuICAgICAgICAgIGlmIChlbnRyeS5rZXkuaW5jbHVkZXMoJ19NT01FTlQnKSkge1xuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5fLmlzRXF1YWwoKGxvZyBhcyBhbnkpLmRhdGEsIChlbnRyeSBhcyBhbnkpLmRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIOWvueS6jueCuei1nuWSjOivhOiuulxuICAgICAgICAgIGlmIChlbnRyeS5rZXkuaW5jbHVkZXMoJ19MSUtFJykgfHwgZW50cnkua2V5LmluY2x1ZGVzKCdfQ09NTUVOVCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl8uaXNFcXVhbCgobG9nIGFzIGFueSkuZGF0YSwgKGVudHJ5IGFzIGFueSkuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5a+55LqO5rKh5pyJSUTnmoTmnaHnm67vvIjlpoJUSU1F44CBRVZFTlRfTE9H77yJ77yM6YCa6L+H5YaF5a655Yy56YWNXG4gICAgICAgIGlmIChcbiAgICAgICAgICAndHlwZScgaW4gbG9nICYmXG4gICAgICAgICAgJ3R5cGUnIGluIGVudHJ5ICYmXG4gICAgICAgICAgKGxvZy50eXBlID09PSAndGltZScgfHwgbG9nLnR5cGUgPT09ICdldmVudCcpICYmXG4gICAgICAgICAgbG9nLnR5cGUgPT09IGVudHJ5LnR5cGUgJiZcbiAgICAgICAgICAod2luZG93IGFzIGFueSkuXy5pc0VxdWFsKGxvZy5jb250ZW50LCAoZW50cnkgYXMgYW55KS5jb250ZW50KVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWvueS6jua2iOaBr+exu+Wei+adoeebru+8jOmAmui/h+exu+Wei+OAgeWPkemAgeiAheWSjOWGheWuueWMuemFjVxuICAgICAgICBpZiAoXG4gICAgICAgICAgJ3R5cGUnIGluIGxvZyAmJlxuICAgICAgICAgICd0eXBlJyBpbiBlbnRyeSAmJlxuICAgICAgICAgICdzZW5kZXInIGluIGxvZyAmJlxuICAgICAgICAgICdzZW5kZXInIGluIGVudHJ5ICYmXG4gICAgICAgICAgJ2NvbnRlbnQnIGluIGxvZyAmJlxuICAgICAgICAgICdjb250ZW50JyBpbiBlbnRyeSAmJlxuICAgICAgICAgIGxvZy50eXBlID09PSBlbnRyeS50eXBlICYmXG4gICAgICAgICAgbG9nLnNlbmRlciA9PT0gZW50cnkuc2VuZGVyXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIOWvueS6jueugOWNleexu+Wei+eahOWGheWuue+8jOebtOaOpeavlOi+g1xuICAgICAgICAgIGlmICh0eXBlb2YgbG9nLmNvbnRlbnQgPT09ICdzdHJpbmcnICYmIHR5cGVvZiAoZW50cnkgYXMgYW55KS5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGxvZy5jb250ZW50ID09PSAoZW50cnkgYXMgYW55KS5jb250ZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDlr7nkuo7lpI3mnYLnsbvlnovnmoTlhoXlrrnvvIzkvb/nlKhsb2Rhc2jmt7Hluqbmr5TovoNcbiAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl8uaXNFcXVhbChsb2cuY29udGVudCwgKGVudHJ5IGFzIGFueSkuY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5SW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQWlSZXNwb25zZU1hbmFnZXInLCAn5om+5Yiw5bey5a2Y5Zyo55qE5p2h55uuJywge1xuICAgICAgICAgIGVudHJ5SW5kZXgsXG4gICAgICAgICAgZW50cnlUeXBlOiAndHlwZScgaW4gZW50cnkgPyBlbnRyeS50eXBlIDogJ3Vua25vd24nLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g5Yik5pat5p2h55uu57G75Z6L5piv5ZCm5piv6ZyA6KaB5Yqo55S755qEXCLmtojmga9cIlxuICAgICAgaWYgKCd0eXBlJyBpbiBlbnRyeSAmJiBtZXNzYWdlTGlrZVR5cGVzLmluY2x1ZGVzKGVudHJ5LnR5cGUpKSB7XG4gICAgICAgIC8vIOaYr+a2iOaBr++8jOaJp+ihjOWujOaVtOeahOWKqOeUu+a1geeoi1xuICAgICAgICB0aGlzLnVpUmVuZGVyZXIuc2hvd1R5cGluZ0luZGljYXRvcigpO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0ID1cbiAgICAgICAgICBlbnRyeS50eXBlID09PSAnbWVzc2FnZScgPyBlbnRyeS5jb250ZW50IDogZW50cnkudHlwZSA9PT0gJ3ZvaWNlJyA/IChlbnRyeS5jb250ZW50IGFzIGFueSkudGV4dCA6ICcnO1xuXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy51aVJlbmRlcmVyLmNhbGN1bGF0ZVR5cGluZ0RlbGF5KG1lc3NhZ2VUZXh0KTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG5cbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLmhpZGVUeXBpbmdJbmRpY2F0b3IoKTtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5KGVudHJ5LCBlbnRyeUluZGV4ICE9PSAtMSA/IGVudHJ5SW5kZXggOiB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICgndHlwZScgaW4gZW50cnkgJiYgKGVudHJ5LnR5cGUgYXMgYW55KSA9PT0gJ3JlY2FsbF9pbnN0cnVjdGlvbicpIHtcbiAgICAgICAgLy8g5aSE55CG5pKk5Zue5oyH5Luk77yM5L2/55So57G75Z6L5pat6KiAXG4gICAgICAgIGNvbnN0IHsgb3JpZ2luYWxFbnRyeSwgcmVjYWxsVGltZXN0YW1wIH0gPSAoZW50cnkgYXMgYW55KS5jb250ZW50O1xuXG4gICAgICAgIC8vIOWcqOWGheWtmOS4reaJvuWIsOi/meS4quadoeebruW5tuagh+iusFxuICAgICAgICBjb25zdCBlbnRyeVRvVXBkYXRlID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzLmZpbmQobG9nID0+ICdpZCcgaW4gbG9nICYmIGxvZy5pZCA9PT0gb3JpZ2luYWxFbnRyeS5pZCk7XG4gICAgICAgIGlmIChlbnRyeVRvVXBkYXRlKSB7XG4gICAgICAgICAgKGVudHJ5VG9VcGRhdGUgYXMgYW55KS5yZWNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgKGVudHJ5VG9VcGRhdGUgYXMgYW55KS5yZWNhbGxlZF9jb250ZW50ID0gb3JpZ2luYWxFbnRyeS5jb250ZW50O1xuICAgICAgICAgIChlbnRyeVRvVXBkYXRlIGFzIGFueSkucmVjYWxsZWRfdGltZXN0YW1wID0gcmVjYWxsVGltZXN0YW1wO1xuXG4gICAgICAgICAgLy8g6I635Y+W5p2h55uu5Zyo5pel5b+X5Lit55qE57Si5byV77yM5Lul5L6/5Zyo5Yig6Zmk5qih5byP5LiL5pi+56S65Yig6Zmk5oyJ6ZKuXG4gICAgICAgICAgY29uc3QgcmVjYWxsRW50cnlJbmRleCA9IHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5pbmRleE9mKGVudHJ5VG9VcGRhdGUpO1xuXG4gICAgICAgICAgLy8g5ZyoVUnkuIrmib7liLDlr7nlupTnmoRET03lhYPntKDlubbmm7/mjaLlroNcbiAgICAgICAgICBjb25zdCAkZWxlbWVudFRvUmVwbGFjZSA9ICQoYFtkYXRhLW1lc3NhZ2UtaWQ9XCIke29yaWdpbmFsRW50cnkuaWR9XCJdYCk7XG4gICAgICAgICAgaWYgKCRlbGVtZW50VG9SZXBsYWNlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8g5L2/55So5LiA5Liq5bCP55qE5bu26L+f77yM6K6p5pKk5Zue5Yqo5L2c55yL6LW35p2l5pu06Ieq54S2XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICB0aGlzLnVpUmVuZGVyZXIucmVuZGVyUmVjYWxsTm90aWNlKGVudHJ5VG9VcGRhdGUsICRlbGVtZW50VG9SZXBsYWNlWzBdIGFzIEhUTUxFbGVtZW50LCByZWNhbGxFbnRyeUluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaYr+ezu+e7n+S6i+S7tiAo5aaCIEVWRU5UX0xPRywgVElNRSnvvIznm7TmjqXmmL7npLpcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5KGVudHJ5LCBlbnRyeUluZGV4ICE9PSAtMSA/IGVudHJ5SW5kZXggOiB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyDlnKjmiYDmnInmnaHnm67kuYvpl7Tpg73lop7liqDkuIDkuKrnn63mmoLnmoTlgZzpob/vvIzorqnoioLlpY/mm7ToiJLpgIJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICB9XG5cbiAgICAvLyDmmL7npLrlrozmiYDmnInmnaHnm67lkI7liLfmlrDml7bpl7TmiLPvvIznoa7kv53ml6XmnJ/moLzlvI/mraPnoa5cbiAgICB0aGlzLnVpUmVuZGVyZXIucmVmcmVzaEFsbFRpbWVzdGFtcHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbotYTmupDvvIzpmLLmraLlhoXlrZjms4TmvI9cbiAgICovXG4gIGNsZWFudXAoKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIuY2xlYW51cCgpO1xuICB9XG5cbiAgLy8g6I635Y+W5pyA5paw55qEQUnljp/lp4vlk43lupRcbiAgZ2V0TGF0ZXN0QWlSYXdSZXNwb25zZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxhdGVzdEFpUmF3UmVzcG9uc2U7XG4gIH1cblxuICAvLyDojrflj5bmnIDmlrDlj5HpgIHnmoTmj5DnpLror41cbiAgZ2V0TGF0ZXN0U2VudFByb21wdCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxhdGVzdFNlbnRQcm9tcHQ7XG4gIH1cblxuICAvLyDojrflj5bljp/lp4tBSeWTjeW6lFxuICBnZXRSYXdBaVJlc3BvbnNlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucmF3QWlSZXNwb25zZTtcbiAgfVxuXG4gIC8vIOiOt+WPluWujOaVtOaPkOekuuivjVxuICBnZXRGdWxsUHJvbXB0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbFByb21wdDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3RpY2tlckVudHJ5KHZhbHVlOiBzdHJpbmcsIGVudHJpZXNGb3JBbmltYXRpb246IExvZ0VudHJ5W10pOiB2b2lkIHtcbiAgICBjb25zdCBwYXJzZWRTdGlja2VyQ29udGVudCA9IHNhZmVKc29uUGFyc2UodmFsdWUpO1xuICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgaWQ6IGBhaS1zdGlja2VyLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB0eXBlOiAnc3RpY2tlcicsXG4gICAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICAgIGNvbnRlbnQ6IHBhcnNlZFN0aWNrZXJDb250ZW50ICE9PSBudWxsID8gcGFyc2VkU3RpY2tlckNvbnRlbnQgOiB2YWx1ZSxcbiAgICB9IGFzIGFueTtcbiAgICB0aGlzLmJsbXhNYW5hZ2VyLmFkZEVudHJ5KGVudHJ5KTtcbiAgICBlbnRyaWVzRm9yQW5pbWF0aW9uLnB1c2goZW50cnkpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRKc29uQ29udGVudEVudHJ5KFxuICAgIHR5cGU6ICd2b2ljZScgfCAnaW1hZ2UnIHwgJ2xvY2F0aW9uJyB8ICd0cmFuc2ZlcicgfCAnZmlsZScgfCAnZ2lmdCcsXG4gICAgdmFsdWU6IHN0cmluZyxcbiAgICBlbnRyaWVzRm9yQW5pbWF0aW9uOiBMb2dFbnRyeVtdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgIGlkOiBgYWktJHt0eXBlfS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgdHlwZSxcbiAgICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgICAgY29udGVudDogSlNPTi5wYXJzZSh2YWx1ZSksXG4gICAgfSBhcyBhbnk7XG4gICAgdGhpcy5ibG14TWFuYWdlci5hZGRFbnRyeShlbnRyeSk7XG4gICAgZW50cmllc0ZvckFuaW1hdGlvbi5wdXNoKGVudHJ5KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/ai-response-manager.ts\n\n}");
  },
  "./src/同层手机/app-controller.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppController: () => (/* binding */ AppController)\n/* harmony export */ });\n/* harmony import */ var _ai_response_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ai-response-manager */ \"./src/同层手机/ai-response-manager.ts\");\n/* harmony import */ var _config_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config-manager */ \"./src/同层手机/config-manager.ts\");\n/* harmony import */ var _debug_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./debug-data */ \"./src/同层手机/debug-data.ts\");\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\");\n/* harmony import */ var _input_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./input-handler */ \"./src/同层手机/input-handler.ts\");\n/* harmony import */ var _moments_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./moments-manager */ \"./src/同层手机/moments-manager.ts\");\n/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./script */ \"./src/同层手机/script.ts\");\n/* harmony import */ var _theme_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./theme-editor */ \"./src/同层手机/theme-editor.ts\");\n/* harmony import */ var _theme_manager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./theme-manager */ \"./src/同层手机/theme-manager.ts\");\n/* harmony import */ var _ui_manager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ui-manager */ \"./src/同层手机/ui-manager.ts\");\n/* harmony import */ var _ui_renderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ui-renderer */ \"./src/同层手机/ui-renderer.ts\");\n/* harmony import */ var _wallpaper_controller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./wallpaper-controller */ \"./src/同层手机/wallpaper-controller.ts\");\n\n\n // 导入调试数据\n\n\n\n\n\n\n\n\n\n/**\n * 应用主控制器\n *\n * 重构后的主控制器专注于：\n * 1. 模块初始化和协调\n * 2. 核心业务流程编排\n * 3. 模块间通信协调\n * 4. 对外接口统一管理\n *\n * 具体功能已拆分到各专门模块：\n * - ConfigManager: 配置管理\n * - UIManager: 界面管理\n * - MomentsManager: 朋友圈管理\n * - AiResponseManager: AI响应处理\n * - ThemeEditor: 主题编辑\n * - InputHandler: 输入处理\n * - WallpaperController: 壁纸管理\n */\nclass AppController {\n    blmxManager;\n    uiRenderer;\n    eventHandler;\n    themeManager;\n    wallpaperController;\n    configManager;\n    momentsManager;\n    aiResponseManager;\n    themeEditor;\n    inputHandler;\n    uiManager;\n    dialogManager;\n    // 用户消息队列，模拟原版机制\n    userMessageQueue = [];\n    // 朋友圈通知状态管理\n    hasMomentNotifications() {\n        return this.momentsManager.hasMomentNotifications();\n    }\n    setMomentNotification(value) {\n        this.momentsManager.setMomentNotification(value);\n    }\n    constructor() {\n        // 初始化配置管理器\n        this.configManager = new _config_manager__WEBPACK_IMPORTED_MODULE_1__.ConfigManager();\n    }\n    // 初始化应用\n    async initialize() {\n        try {\n            window.currentGameDate = new Date();\n            // 初始化主题管理器\n            this.themeManager = new _theme_manager__WEBPACK_IMPORTED_MODULE_8__.ThemeManager();\n            this.wallpaperController = new _wallpaper_controller__WEBPACK_IMPORTED_MODULE_11__.WallpaperController(this.themeManager);\n            // 确保应用当前主题的默认壁纸，但不覆盖用户已保存的壁纸设置\n            const currentTheme = this.themeManager.getCurrentTheme();\n            this.wallpaperController.initializeWallpapers(currentTheme);\n            const charData = await (0,_script__WEBPACK_IMPORTED_MODULE_6__.getTavernHelper)().getCharData();\n            // 使用配置管理器加载配置\n            await this.configManager.loadFromStorage(charData);\n            // 如果没有保存的角色头像，获取默认头像\n            let config = this.configManager.getConfig();\n            if (!config.avatars.char) {\n                const charAvatarPath = await (0,_script__WEBPACK_IMPORTED_MODULE_6__.getTavernHelper)().getCharAvatarPath();\n                this.configManager.updateAvatar('char', charAvatarPath);\n                config = this.configManager.getConfig(); // 重新获取更新后的配置\n            }\n            // 更新UI元素 - 使用jQuery\n            $('.contact-name').text(this.getDisplayName('char'));\n            $('#moments-user-name').text(this.getDisplayName('user'));\n            $('#moments-user-avatar').attr('src', config.avatars.user);\n            // 加载朋友圈封面图片 - 使用jQuery\n            const savedCoverPhoto = this.configManager.getSavedCoverPhoto();\n            if (savedCoverPhoto) {\n                $('#moments-cover-photo').attr('src', savedCoverPhoto);\n            }\n            // 加载个性签名 - 使用jQuery\n            const savedSignature = this.configManager.getSavedSignature();\n            $('#user-signature-display').text(savedSignature);\n            // 初始化BLMX协议\n            this.blmxManager = new _script__WEBPACK_IMPORTED_MODULE_6__.BLMX_Protocol(config.currentCharId);\n            await this.blmxManager.initialize();\n            // 加载调试数据（仅在开发模式下）\n            if (window.BLMX_DEV_MODE) {\n                (0,_debug_data__WEBPACK_IMPORTED_MODULE_2__.loadDebugData)(this.blmxManager);\n            }\n            // 首先初始化EventHandler，因为其他模块可能依赖它\n            const EventHandler = window.EventHandlerClass;\n            this.eventHandler = new EventHandler('#wechat-input-field', '#send-btn', '#plus-btn', this.blmxManager, this, null, // uiRenderer 稍后设置\n            {\n                getDisplayName: this.getDisplayName.bind(this),\n                stageAndDisplayEntry: this.stageAndDisplayEntry.bind(this),\n                triggerAiResponse: this.triggerAiResponse.bind(this),\n                updateFooterButtonsState: this.updateFooterButtonsState.bind(this),\n                renderChatHistory: this.renderChatHistory.bind(this),\n                renderMomentsFeed: this.renderMomentsFeed.bind(this),\n                togglePanel: this.togglePanel.bind(this),\n                findStickerUrlByName: this.findStickerUrlByName.bind(this),\n            });\n            // 初始化UI渲染器\n            this.uiRenderer = new _ui_renderer__WEBPACK_IMPORTED_MODULE_10__.UIRenderer('.wechat-body', config.avatars, {\n                getDisplayName: this.getDisplayName.bind(this),\n                findStickerUrlByName: this.findStickerUrlByName.bind(this),\n                onTransferAccept: this.handleTransferAccept.bind(this),\n                onGiftAction: this.handleGiftAction.bind(this),\n                onRecallMessage: this.handleMessageRecall.bind(this),\n                isMessageInQueue: this.isMessageInQueue.bind(this),\n            });\n            // 更新EventHandler中的uiRenderer引用\n            this.eventHandler.setUIRenderer(this.uiRenderer);\n            // 初始化朋友圈管理器\n            this.momentsManager = new _moments_manager__WEBPACK_IMPORTED_MODULE_5__.MomentsManager(this.blmxManager, this.configManager, this.uiRenderer);\n            // 初始化AI响应管理器\n            this.aiResponseManager = new _ai_response_manager__WEBPACK_IMPORTED_MODULE_0__.AiResponseManager(this.blmxManager, this.uiRenderer, this.eventHandler, this.momentsManager);\n            // 初始化主题编辑器\n            this.themeEditor = new _theme_editor__WEBPACK_IMPORTED_MODULE_7__.ThemeEditor(this.themeManager, () => {\n                this.applyWallpapers();\n            });\n            // 初始化输入处理器\n            this.inputHandler = new _input_handler__WEBPACK_IMPORTED_MODULE_4__.InputHandler(this.configManager, this.stageAndDisplayEntry.bind(this), this.updateFooterButtonsState.bind(this));\n            // 初始化UI管理器\n            this.uiManager = new _ui_manager__WEBPACK_IMPORTED_MODULE_9__.UIManager(this.configManager, this.blmxManager.addEntry.bind(this.blmxManager), this.uiRenderer.renderEntry.bind(this.uiRenderer));\n            // 初始化对话框管理器\n            this.dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_3__.DialogManager.getInstance();\n            // 应用壁纸\n            this.applyWallpapers();\n            // 渲染初始界面\n            this.renderChatHistory();\n            this.renderMomentsFeed();\n            // 设置输入框提示文字\n            this.uiManager.setupInputPlaceholder(this.getDisplayName('char'));\n            // 更新底部按钮状态\n            this.updateFooterButtonsState();\n            // 初始化UI后设置主题选择器\n            this.setupThemeSelector();\n            // 确保自定义主题按钮显示正确的信息\n            this.themeEditor.updateCustomThemeButton();\n            // 初始化手机尺寸调整功能\n            this.uiManager.setupPhoneSizeAdjustment();\n            // 初始化表情包尺寸控制\n            this.uiManager.setupStickerSizeControl();\n            // 初始化字体设置功能\n            this.uiManager.setupFontSelection();\n            // 初始化全屏模式手机大小设置功能\n            this.uiManager.setupFullscreenSizeAdjustment();\n            // 显示当前版本\n            this.uiManager.displayAppVersion();\n            // 检查是否显示版本更新通知\n            this.uiManager.checkVersionUpdateNotification();\n            // 初始化朋友圈通知状态\n            // 通知状态由 MomentsManager 管理\n            // 事件监听器现在由 AiResponseManager 管理\n        }\n        catch (error) {\n            // console.error('[BLMX] Failed to initialize:', error);\n        }\n    }\n    // 核心数据访问方法\n    getDisplayName(type) {\n        return this.configManager.getDisplayName(type);\n    }\n    findStickerUrlByName(name) {\n        return this.configManager.findStickerUrlByName(name);\n    }\n    // 壁纸管理\n    applyWallpapers() {\n        this.wallpaperController.applyWallpapers();\n    }\n    changeWallpaper(viewType) {\n        this.wallpaperController.changeWallpaper(viewType);\n    }\n    // 界面渲染协调\n    renderChatHistory() {\n        this.uiRenderer.clearChat();\n        if (!this.blmxManager)\n            return;\n        // 先渲染主日志中的消息\n        this.blmxManager.logEntries.forEach((entry, index) => {\n            if (entry.recalled) {\n                this.uiRenderer.renderRecallNotice(entry, null, index);\n            }\n            else {\n                this.uiRenderer.renderEntry(entry, index, false);\n            }\n        });\n        // 再渲染队列中的消息（模拟原版机制）\n        this.userMessageQueue.forEach((entry, queueIndex) => {\n            // 队列中的消息索引应该是主日志长度 + 队列索引\n            const actualIndex = this.blmxManager.logEntries.length + queueIndex;\n            if (entry.recalled) {\n                this.uiRenderer.renderRecallNotice(entry, null, actualIndex);\n            }\n            else {\n                this.uiRenderer.renderEntry(entry, actualIndex, false);\n            }\n        });\n        this.uiRenderer.refreshAllTimestamps();\n        this.uiManager.scrollToBottom();\n    }\n    renderMomentsFeed() {\n        this.momentsManager.renderMomentsFeed();\n    }\n    // 暂存并显示条目\n    stageAndDisplayEntry(entry) {\n        if ('type' in entry) {\n            if (entry.type === 'event') {\n                // 为event类型的条目添加到日志中并渲染\n                this.blmxManager.addEntry(entry);\n                const entryIndex = this.blmxManager.logEntries.length - 1;\n                this.uiRenderer.renderEntry(entry, entryIndex, true);\n                // 如果是用户发送的事件，则标记为需要AI响应\n                if ('sender' in entry && entry.sender === 'me') {\n                    this.eventHandler.setHasPendingNotifications(true);\n                }\n                return;\n            }\n            else if (entry.type === 'time') {\n                // 跳过time类型处理\n                return;\n            }\n            if (!entry.id) {\n                entry.id = 'msg-' + Date.now() + Math.random();\n            }\n            // 处理图片上传\n            if (entry.type === 'image' &&\n                'content' in entry &&\n                entry.content.type === 'url' &&\n                typeof entry.content.value === 'string' &&\n                entry.content.value.startsWith('data:image')) {\n                // 使用类型断言\n                entry.content.isNewForAI = true;\n            }\n            // 如果是用户消息，先添加到队列（模拟原版机制）\n            if ('sender' in entry && entry.sender === 'me') {\n                this.userMessageQueue.push(entry);\n                this.eventHandler.setHasPendingNotifications(true);\n                // 渲染条目（使用全局索引：主日志长度 + 队列索引）\n                const queueIndex = this.userMessageQueue.length - 1;\n                const globalIndex = this.blmxManager.logEntries.length + queueIndex;\n                this.uiRenderer.renderEntry(entry, globalIndex, true);\n            }\n            else {\n                // 非用户消息直接添加到主日志\n                this.blmxManager.addEntry(entry);\n                const entryIndex = this.blmxManager.logEntries.length - 1;\n                this.uiRenderer.renderEntry(entry, entryIndex, true);\n            }\n            this.updateFooterButtonsState();\n        }\n    }\n    // AI响应协调\n    async triggerAiResponse(immediate = false) {\n        // 检查是否有待处理的消息（队列机制）\n        const hasQueuedMessages = this.userMessageQueue.length > 0;\n        // 如果没有立即触发标志，且没有队列消息和通知，则不触发\n        if (!immediate && !hasQueuedMessages && !this.eventHandler.hasNotifications) {\n            return;\n        }\n        // 在触发AI响应前，将队列中的消息移到主日志（模拟原版机制）\n        if (hasQueuedMessages) {\n            // 复制队列中的消息\n            const messagesToProcess = [...this.userMessageQueue];\n            // 将消息添加到主日志\n            messagesToProcess.forEach(entry => {\n                if (entry.type === 'image' && 'content' in entry && entry.content.isNewForAI) {\n                    entry.content.value = `[用户发送的图片]`;\n                    delete entry.content.isNewForAI;\n                }\n                this.blmxManager.addEntry(entry);\n            });\n            // 清空队列（模拟原版的 userMessageQueue = []）\n            this.userMessageQueue = [];\n        }\n        await this.aiResponseManager.triggerAiResponse(immediate);\n    }\n    // UI控制协调\n    updateFooterButtonsState() {\n        this.uiManager.updateFooterButtonsState(this.eventHandler.hasNotifications);\n    }\n    togglePanel(panelToShow) {\n        this.uiManager.togglePanel(panelToShow);\n    }\n    // 导航到指定视图\n    navigateTo(viewName) {\n        const views = {\n            home: '#app-homescreen',\n            wechat: '#wechat-view',\n            wechatHome: '#wechat-home',\n            moments: '#moments-view',\n            settings: '#settings-view',\n        };\n        try {\n            // 首先尝试使用jQuery\n            if (typeof $ !== 'undefined' && typeof jQuery !== 'undefined') {\n                // 使用jQuery隐藏所有视图并显示目标视图\n                $('.app-view').removeClass('active');\n                $(views[viewName]).addClass('active');\n            }\n            else {\n                // 备用方案：使用jQuery（应该总是可用的）\n                $('.app-view').removeClass('active');\n                const $targetView = $(views[viewName]);\n                if ($targetView.length) {\n                    $targetView.addClass('active');\n                }\n                else {\n                    console.error(`[BLMX] 找不到目标视图: ${views[viewName]}`);\n                }\n            }\n            // 当导航到朋友圈视图时，更新通知状态并重新渲染\n            if (viewName === 'moments') {\n                // 更新朋友圈通知状态\n                this.setMomentNotification(false);\n                // 重新渲染朋友圈内容\n                this.renderMomentsFeed();\n            }\n        }\n        catch (error) {\n            console.error(`[BLMX] 导航错误:`, error);\n            // 最后的备用方案，使用jQuery\n            try {\n                $('.app-view').removeClass('active');\n                const $targetElement = $(views[viewName]);\n                if ($targetElement.length) {\n                    $targetElement.addClass('active');\n                }\n            }\n            catch (e) {\n                console.error(`[BLMX] 最终导航失败:`, e);\n            }\n        }\n    }\n    async updateAvatar(avatarType) {\n        const config = this.configManager.getConfig();\n        const currentUrl = config.avatars[avatarType] || '';\n        const displayName = this.getDisplayName(avatarType);\n        if (avatarType === 'user') {\n            // 用户头像：显示头像和个性签名设置对话框\n            await this.showUserProfileDialog(currentUrl);\n        }\n        else {\n            // 角色头像：只设置头像\n            const newUrl = await this.dialogManager.showInputDialog('更换头像', `${displayName}头像URL`, currentUrl, '请输入头像图片链接', 'url');\n            if (newUrl) {\n                this.configManager.updateAvatar(avatarType, newUrl);\n                await this.dialogManager.alert('头像已更新！', '更新成功');\n                this.renderChatHistory();\n                this.renderMomentsFeed();\n            }\n        }\n    }\n    // 显示用户资料设置对话框（头像+个性签名）\n    async showUserProfileDialog(currentAvatarUrl) {\n        const currentSignature = this.configManager.getSavedSignature();\n        return new Promise(resolve => {\n            // 创建对话框HTML，使用与现有对话框完全一致的样式\n            const dialogHtml = `\n        <div class=\"custom-dialog-overlay\" id=\"user-profile-dialog-overlay\">\n          <div class=\"custom-dialog user-profile-dialog\">\n            <div class=\"dialog-header\">\n              <h3 class=\"dialog-title\">个人资料设置</h3>\n            </div>\n            <div class=\"dialog-body\">\n              <div class=\"dialog-input-container\">\n                <input type=\"url\" id=\"avatar-url-input\" value=\"${currentAvatarUrl}\" placeholder=\"请输入头像图片链接\">\n              </div>\n              <div class=\"dialog-input-container\">\n                <input type=\"text\" id=\"signature-input\" value=\"${currentSignature}\" placeholder=\"请输入个性签名\">\n              </div>\n            </div>\n            <div class=\"dialog-footer\">\n              <button class=\"dialog-button cancel-button\" id=\"user-profile-cancel\">取消</button>\n              <button class=\"dialog-button primary-button\" id=\"user-profile-confirm\">确定</button>\n            </div>\n          </div>\n        </div>\n      `;\n            // 添加到手机屏幕容器内，与其他对话框保持一致\n            const $phoneScreen = $('.phone-screen');\n            if ($phoneScreen.length) {\n                $phoneScreen.append(dialogHtml);\n            }\n            else {\n                // 如果找不到手机屏幕容器，回退到body\n                $('body').append(dialogHtml);\n            }\n            const $overlay = $('#user-profile-dialog-overlay');\n            // 显示对话框\n            $overlay.show();\n            // 绑定事件\n            $('#user-profile-cancel').on('click', () => {\n                $overlay.remove();\n                resolve();\n            });\n            $('#user-profile-confirm').on('click', async () => {\n                const newAvatarUrl = $('#avatar-url-input').val().trim();\n                const newSignature = $('#signature-input').val().trim();\n                let hasChanges = false;\n                // 更新头像\n                if (newAvatarUrl && newAvatarUrl !== currentAvatarUrl) {\n                    this.configManager.updateAvatar('user', newAvatarUrl);\n                    $('#moments-user-avatar').attr('src', newAvatarUrl);\n                    hasChanges = true;\n                }\n                // 更新个性签名\n                if (newSignature !== currentSignature) {\n                    this.configManager.setSignature(newSignature);\n                    $('#user-signature-display').text(newSignature);\n                    hasChanges = true;\n                    // 询问是否发送朋友圈通知\n                    if (newSignature !== currentSignature) {\n                        const shouldNotify = await this.dialogManager.confirm('是否要发送朋友圈动态通知AI你更改了个性签名？', '朋友圈通知');\n                        if (shouldNotify) {\n                            this.momentsManager.notifyMomentChange('signature', currentSignature, newSignature);\n                            this.eventHandler.setHasPendingNotifications(true);\n                        }\n                    }\n                }\n                $overlay.remove();\n                if (hasChanges) {\n                    this.renderChatHistory();\n                    this.renderMomentsFeed();\n                    await this.dialogManager.alert('个人资料已更新！', '更新成功');\n                }\n                resolve();\n            });\n            // ESC键关闭\n            $(document).on('keydown.userProfile', e => {\n                if (e.key === 'Escape') {\n                    $overlay.remove();\n                    $(document).off('keydown.userProfile');\n                    resolve();\n                }\n            });\n            // 点击遮罩关闭\n            $overlay.on('click', e => {\n                if (e.target === $overlay[0]) {\n                    $overlay.remove();\n                    resolve();\n                }\n            });\n            // 聚焦到头像输入框\n            setTimeout(() => {\n                $('#avatar-url-input').focus();\n            }, 100);\n        });\n    }\n    async updateCharRemark() {\n        const oldDisplayName = this.getDisplayName('char');\n        const config = this.configManager.getConfig();\n        const newRemark = await this.dialogManager.prompt('请输入新的备注:', config.charRemark, '修改备注');\n        if (newRemark !== null) {\n            this.configManager.updateCharRemark(newRemark);\n            const newDisplayName = this.getDisplayName('char');\n            $('#contact-name-header').text(newDisplayName);\n            $('#wechat-input-field').attr('placeholder', this.configManager.getSavedInputPlaceholder() || `与 ${newDisplayName} 对话...`);\n            $('#moments-feed-list .post-author-name').each(function () {\n                if ($(this).text() === oldDisplayName)\n                    $(this).text(newDisplayName);\n            });\n            $('.recall-notice-text').each(function () {\n                const text = $(this).text();\n                if (text && text.includes(`\"${oldDisplayName}\"`)) {\n                    $(this).text(`\"${newDisplayName}\" 撤回了一条消息`);\n                }\n            });\n            await this.dialogManager.alert('备注已更新！', '更新成功');\n        }\n    }\n    async updateUserName() {\n        const oldName = this.getDisplayName('user');\n        const newName = await this.dialogManager.showInputDialog('更改名字', '请输入你的新名字', oldName, '输入新名字...');\n        if (newName && newName.trim() !== '' && newName !== oldName) {\n            this.configManager.updateUserName(newName);\n            $('#moments-user-name').text(newName);\n            // 询问用户是否要发送朋友圈通知AI\n            const shouldNotify = await this.dialogManager.confirm('是否要发送朋友圈动态通知AI你更改了名字？', '朋友圈通知');\n            if (shouldNotify) {\n                this.momentsManager.notifyMomentChange('name', oldName, newName);\n                this.eventHandler.setHasPendingNotifications(true);\n            }\n            await this.dialogManager.alert('名字已更新！', '更新成功');\n        }\n    }\n    // updateSignature方法已移除，个性签名设置已整合到用户头像设置对话框中\n    async updateCoverPhoto() {\n        const currentCover = this.configManager.getSavedCoverPhoto() || '';\n        const newCover = await this.dialogManager.showInputDialog('朋友圈封面', '朋友圈封面URL', currentCover, '请输入封面图片链接', 'url');\n        if (newCover) {\n            this.configManager.setCoverPhoto(newCover);\n            $('#moments-cover-photo').attr('src', newCover);\n        }\n    }\n    // 输入处理协调\n    async handleTransferAccept(data) {\n        await this.inputHandler.handleTransferAccept(data);\n    }\n    async handleGiftAction(data) {\n        await this.inputHandler.handleGiftAction(data);\n        this.eventHandler.setHasPendingNotifications(true);\n    }\n    // 检查消息是否在队列中（模拟原版逻辑）\n    isMessageInQueue(messageId) {\n        return this.userMessageQueue.some(entry => entry.id === messageId);\n    }\n    // 从用户消息队列中移除指定索引的消息\n    removeFromUserMessageQueue(index) {\n        if (index >= 0 && index < this.userMessageQueue.length) {\n            this.userMessageQueue.splice(index, 1);\n        }\n    }\n    // 处理消息撤回（仅限文字消息）\n    async handleMessageRecall(entry) {\n        try {\n            // 只允许撤回文字消息\n            if (entry.type !== 'message') {\n                // 只能撤回文字消息\n                return;\n            }\n            // 查找消息在队列中的索引\n            const queueIndex = this.userMessageQueue.findIndex(queueEntry => queueEntry.id === entry.id);\n            if (queueIndex === -1) {\n                // 未找到要撤回的消息\n                return;\n            }\n            const targetEntry = this.userMessageQueue[queueIndex];\n            // 保存原始内容到recalled_content\n            targetEntry.recalled_content = targetEntry.content;\n            // 设置撤回时间戳\n            targetEntry.recalled_timestamp = new Date().toISOString();\n            // 标记消息为已撤回\n            targetEntry.recalled = true;\n            // 重新渲染聊天历史\n            this.renderChatHistory();\n        }\n        catch (error) {\n            console.error('撤回消息时出错:', error);\n        }\n    }\n    // AI响应数据访问\n    getLatestAiRawResponse() {\n        return this.aiResponseManager.getLatestAiRawResponse();\n    }\n    getLatestSentPrompt() {\n        return this.aiResponseManager.getLatestSentPrompt();\n    }\n    getRawAiResponse() {\n        return this.aiResponseManager.getRawAiResponse();\n    }\n    getFullPrompt() {\n        return this.aiResponseManager.getFullPrompt();\n    }\n    // 主题管理协调\n    setupThemeSelector() {\n        this.themeEditor.setupThemeSelector();\n        this.themeEditor.addCustomThemeEditButton();\n        this.setupThemeEditorEvents();\n    }\n    setupThemeEditorEvents() {\n        // 使用jQuery进行事件绑定\n        $('#close-theme-editor').on('click', () => this.themeEditor.closeThemeEditor());\n        $('#save-theme-btn').on('click', () => this.themeEditor.saveCustomTheme());\n        $('#reset-theme-btn').on('click', () => this.themeEditor.resetThemeEditor());\n        $('#custom-theme-btn').on('click', () => this.themeEditor.openThemeEditor());\n        $('#import-theme-btn').on('click', () => this.themeEditor.importTheme());\n        $('#export-json-btn').on('click', () => this.themeEditor.exportThemeAsJSON());\n    }\n    openThemeEditor() {\n        this.themeEditor.openThemeEditor();\n    }\n    closeThemeEditor() {\n        this.themeEditor.closeThemeEditor();\n    }\n    // 辅助方法：HEX转RGBA\n    hexToRgba(hex, alpha) {\n        const r = parseInt(hex.slice(1, 3), 16);\n        const g = parseInt(hex.slice(3, 5), 16);\n        const b = parseInt(hex.slice(5, 7), 16);\n        return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    }\n    // 调试功能协调\n    addTestEntry(entryType) {\n        (0,_debug_data__WEBPACK_IMPORTED_MODULE_2__.addTestEntry)(this.blmxManager, entryType);\n    }\n    clearDebugData() {\n        (0,_debug_data__WEBPACK_IMPORTED_MODULE_2__.clearDebugData)(this.blmxManager);\n    }\n    showTestEntryTypes() {\n        (0,_debug_data__WEBPACK_IMPORTED_MODULE_2__.showTestEntryTypes)();\n    }\n    showDebugInfo() {\n        (0,_debug_data__WEBPACK_IMPORTED_MODULE_2__.showDebugInfo)(this);\n    }\n    // 处理消息撤回的朋友圈通知\n    notifyRecallViaMoments(sender, targetText) {\n        // 询问用户是否要发送朋友圈通知AI\n        if (confirm('是否要发送朋友圈动态通知AI你撤回了消息？')) {\n            this.momentsManager.notifyRecallViaMoments(sender, targetText);\n            this.eventHandler.setHasPendingNotifications(true);\n        }\n    }\n    /**\n     * 清理所有资源，防止内存泄漏\n     */\n    cleanup() {\n        // 清理各个管理器的资源\n        if (this.aiResponseManager && typeof this.aiResponseManager.cleanup === 'function') {\n            this.aiResponseManager.cleanup();\n        }\n        if (this.uiRenderer && typeof this.uiRenderer.cleanup === 'function') {\n            this.uiRenderer.cleanup();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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sYLmiYvmnLovYXBwLWNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWlSZXNwb25zZU1hbmFnZXIgfSBmcm9tICcuL2FpLXJlc3BvbnNlLW1hbmFnZXInO1xuaW1wb3J0IHsgQ29uZmlnTWFuYWdlciB9IGZyb20gJy4vY29uZmlnLW1hbmFnZXInO1xuaW1wb3J0IHsgYWRkVGVzdEVudHJ5LCBjbGVhckRlYnVnRGF0YSwgbG9hZERlYnVnRGF0YSwgc2hvd0RlYnVnSW5mbywgc2hvd1Rlc3RFbnRyeVR5cGVzIH0gZnJvbSAnLi9kZWJ1Zy1kYXRhJzsgLy8g5a+85YWl6LCD6K+V5pWw5o2uXG5pbXBvcnQgeyBEaWFsb2dNYW5hZ2VyIH0gZnJvbSAnLi9kaWFsb2ctbWFuYWdlcic7XG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tICcuL2lucHV0LWhhbmRsZXInO1xuaW1wb3J0IHsgTW9tZW50c01hbmFnZXIgfSBmcm9tICcuL21vbWVudHMtbWFuYWdlcic7XG5pbXBvcnQgeyBCTE1YX1Byb3RvY29sLCBDaGF0RW50cnksIGdldFRhdmVybkhlbHBlciwgTG9nRW50cnkgfSBmcm9tICcuL3NjcmlwdCc7XG5pbXBvcnQgeyBUaGVtZUVkaXRvciB9IGZyb20gJy4vdGhlbWUtZWRpdG9yJztcbmltcG9ydCB7IFRoZW1lTWFuYWdlciB9IGZyb20gJy4vdGhlbWUtbWFuYWdlcic7XG5pbXBvcnQgeyBJQXBwQ29udHJvbGxlciwgSUV2ZW50SGFuZGxlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVUlNYW5hZ2VyIH0gZnJvbSAnLi91aS1tYW5hZ2VyJztcbmltcG9ydCB7IFVJUmVuZGVyZXIgfSBmcm9tICcuL3VpLXJlbmRlcmVyJztcbmltcG9ydCB7IFdhbGxwYXBlckNvbnRyb2xsZXIgfSBmcm9tICcuL3dhbGxwYXBlci1jb250cm9sbGVyJztcblxuLyoqXG4gKiDlupTnlKjkuLvmjqfliLblmahcbiAqXG4gKiDph43mnoTlkI7nmoTkuLvmjqfliLblmajkuJPms6jkuo7vvJpcbiAqIDEuIOaooeWdl+WIneWni+WMluWSjOWNj+iwg1xuICogMi4g5qC45b+D5Lia5Yqh5rWB56iL57yW5o6SXG4gKiAzLiDmqKHlnZfpl7TpgJrkv6HljY/osINcbiAqIDQuIOWvueWkluaOpeWPo+e7n+S4gOeuoeeQhlxuICpcbiAqIOWFt+S9k+WKn+iDveW3suaLhuWIhuWIsOWQhOS4k+mXqOaooeWdl++8mlxuICogLSBDb25maWdNYW5hZ2VyOiDphY3nva7nrqHnkIZcbiAqIC0gVUlNYW5hZ2VyOiDnlYzpnaLnrqHnkIZcbiAqIC0gTW9tZW50c01hbmFnZXI6IOaci+WPi+WciOeuoeeQhlxuICogLSBBaVJlc3BvbnNlTWFuYWdlcjogQUnlk43lupTlpITnkIZcbiAqIC0gVGhlbWVFZGl0b3I6IOS4u+mimOe8lui+kVxuICogLSBJbnB1dEhhbmRsZXI6IOi+k+WFpeWkhOeQhlxuICogLSBXYWxscGFwZXJDb250cm9sbGVyOiDlo4HnurjnrqHnkIZcbiAqL1xuZXhwb3J0IGNsYXNzIEFwcENvbnRyb2xsZXIgaW1wbGVtZW50cyBJQXBwQ29udHJvbGxlciB7XG4gIHByaXZhdGUgYmxteE1hbmFnZXIhOiBCTE1YX1Byb3RvY29sO1xuICBwcml2YXRlIHVpUmVuZGVyZXIhOiBVSVJlbmRlcmVyO1xuICBwcml2YXRlIGV2ZW50SGFuZGxlciE6IElFdmVudEhhbmRsZXI7XG4gIHByaXZhdGUgdGhlbWVNYW5hZ2VyITogVGhlbWVNYW5hZ2VyO1xuICBwcml2YXRlIHdhbGxwYXBlckNvbnRyb2xsZXIhOiBXYWxscGFwZXJDb250cm9sbGVyO1xuICBwcml2YXRlIGNvbmZpZ01hbmFnZXIhOiBDb25maWdNYW5hZ2VyO1xuICBwcml2YXRlIG1vbWVudHNNYW5hZ2VyITogTW9tZW50c01hbmFnZXI7XG4gIHByaXZhdGUgYWlSZXNwb25zZU1hbmFnZXIhOiBBaVJlc3BvbnNlTWFuYWdlcjtcbiAgcHJpdmF0ZSB0aGVtZUVkaXRvciE6IFRoZW1lRWRpdG9yO1xuICBwcml2YXRlIGlucHV0SGFuZGxlciE6IElucHV0SGFuZGxlcjtcbiAgcHJpdmF0ZSB1aU1hbmFnZXIhOiBVSU1hbmFnZXI7XG4gIHByaXZhdGUgZGlhbG9nTWFuYWdlciE6IERpYWxvZ01hbmFnZXI7XG5cbiAgLy8g55So5oi35raI5oGv6Zif5YiX77yM5qih5ouf5Y6f54mI5py65Yi2XG4gIHByaXZhdGUgdXNlck1lc3NhZ2VRdWV1ZTogQ2hhdEVudHJ5W10gPSBbXTtcblxuICAvLyDmnIvlj4vlnIjpgJrnn6XnirbmgIHnrqHnkIZcbiAgaGFzTW9tZW50Tm90aWZpY2F0aW9ucygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb21lbnRzTWFuYWdlci5oYXNNb21lbnROb3RpZmljYXRpb25zKCk7XG4gIH1cblxuICBzZXRNb21lbnROb3RpZmljYXRpb24odmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLm1vbWVudHNNYW5hZ2VyLnNldE1vbWVudE5vdGlmaWNhdGlvbih2YWx1ZSk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyDliJ3lp4vljJbphY3nva7nrqHnkIblmahcbiAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBuZXcgQ29uZmlnTWFuYWdlcigpO1xuICB9XG5cbiAgLy8g5Yid5aeL5YyW5bqU55SoXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5jdXJyZW50R2FtZURhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAvLyDliJ3lp4vljJbkuLvpopjnrqHnkIblmahcbiAgICAgIHRoaXMudGhlbWVNYW5hZ2VyID0gbmV3IFRoZW1lTWFuYWdlcigpO1xuICAgICAgdGhpcy53YWxscGFwZXJDb250cm9sbGVyID0gbmV3IFdhbGxwYXBlckNvbnRyb2xsZXIodGhpcy50aGVtZU1hbmFnZXIpO1xuXG4gICAgICAvLyDnoa7kv53lupTnlKjlvZPliY3kuLvpopjnmoTpu5jorqTlo4HnurjvvIzkvYbkuI3opobnm5bnlKjmiLflt7Lkv53lrZjnmoTlo4Hnurjorr7nva5cbiAgICAgIGNvbnN0IGN1cnJlbnRUaGVtZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldEN1cnJlbnRUaGVtZSgpO1xuICAgICAgdGhpcy53YWxscGFwZXJDb250cm9sbGVyLmluaXRpYWxpemVXYWxscGFwZXJzKGN1cnJlbnRUaGVtZSk7XG5cbiAgICAgIGNvbnN0IGNoYXJEYXRhID0gYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuZ2V0Q2hhckRhdGEoKTtcblxuICAgICAgLy8g5L2/55So6YWN572u566h55CG5Zmo5Yqg6L296YWN572uXG4gICAgICBhd2FpdCB0aGlzLmNvbmZpZ01hbmFnZXIubG9hZEZyb21TdG9yYWdlKGNoYXJEYXRhKTtcblxuICAgICAgLy8g5aaC5p6c5rKh5pyJ5L+d5a2Y55qE6KeS6Imy5aS05YOP77yM6I635Y+W6buY6K6k5aS05YOPXG4gICAgICBsZXQgY29uZmlnID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldENvbmZpZygpO1xuICAgICAgaWYgKCFjb25maWcuYXZhdGFycy5jaGFyKSB7XG4gICAgICAgIGNvbnN0IGNoYXJBdmF0YXJQYXRoID0gYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuZ2V0Q2hhckF2YXRhclBhdGgoKTtcbiAgICAgICAgdGhpcy5jb25maWdNYW5hZ2VyLnVwZGF0ZUF2YXRhcignY2hhcicsIGNoYXJBdmF0YXJQYXRoKTtcbiAgICAgICAgY29uZmlnID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldENvbmZpZygpOyAvLyDph43mlrDojrflj5bmm7TmlrDlkI7nmoTphY3nva5cbiAgICAgIH1cblxuICAgICAgLy8g5pu05pawVUnlhYPntKAgLSDkvb/nlKhqUXVlcnlcbiAgICAgICQoJy5jb250YWN0LW5hbWUnKS50ZXh0KHRoaXMuZ2V0RGlzcGxheU5hbWUoJ2NoYXInKSk7XG4gICAgICAkKCcjbW9tZW50cy11c2VyLW5hbWUnKS50ZXh0KHRoaXMuZ2V0RGlzcGxheU5hbWUoJ3VzZXInKSk7XG4gICAgICAkKCcjbW9tZW50cy11c2VyLWF2YXRhcicpLmF0dHIoJ3NyYycsIGNvbmZpZy5hdmF0YXJzLnVzZXIpO1xuXG4gICAgICAvLyDliqDovb3mnIvlj4vlnIjlsIHpnaLlm77niYcgLSDkvb/nlKhqUXVlcnlcbiAgICAgIGNvbnN0IHNhdmVkQ292ZXJQaG90byA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRTYXZlZENvdmVyUGhvdG8oKTtcbiAgICAgIGlmIChzYXZlZENvdmVyUGhvdG8pIHtcbiAgICAgICAgJCgnI21vbWVudHMtY292ZXItcGhvdG8nKS5hdHRyKCdzcmMnLCBzYXZlZENvdmVyUGhvdG8pO1xuICAgICAgfVxuXG4gICAgICAvLyDliqDovb3kuKrmgKfnrb7lkI0gLSDkvb/nlKhqUXVlcnlcbiAgICAgIGNvbnN0IHNhdmVkU2lnbmF0dXJlID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldFNhdmVkU2lnbmF0dXJlKCk7XG4gICAgICAkKCcjdXNlci1zaWduYXR1cmUtZGlzcGxheScpLnRleHQoc2F2ZWRTaWduYXR1cmUpO1xuXG4gICAgICAvLyDliJ3lp4vljJZCTE1Y5Y2P6K6uXG4gICAgICB0aGlzLmJsbXhNYW5hZ2VyID0gbmV3IEJMTVhfUHJvdG9jb2woY29uZmlnLmN1cnJlbnRDaGFySWQpO1xuICAgICAgYXdhaXQgdGhpcy5ibG14TWFuYWdlci5pbml0aWFsaXplKCk7XG5cbiAgICAgIC8vIOWKoOi9veiwg+ivleaVsOaNru+8iOS7heWcqOW8gOWPkeaooeW8j+S4i++8iVxuICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS5CTE1YX0RFVl9NT0RFKSB7XG4gICAgICAgIGxvYWREZWJ1Z0RhdGEodGhpcy5ibG14TWFuYWdlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIOmmluWFiOWIneWni+WMlkV2ZW50SGFuZGxlcu+8jOWboOS4uuWFtuS7luaooeWdl+WPr+iDveS+nei1luWug1xuICAgICAgY29uc3QgRXZlbnRIYW5kbGVyID0gKHdpbmRvdyBhcyBhbnkpLkV2ZW50SGFuZGxlckNsYXNzO1xuICAgICAgdGhpcy5ldmVudEhhbmRsZXIgPSBuZXcgRXZlbnRIYW5kbGVyKFxuICAgICAgICAnI3dlY2hhdC1pbnB1dC1maWVsZCcsXG4gICAgICAgICcjc2VuZC1idG4nLFxuICAgICAgICAnI3BsdXMtYnRuJyxcbiAgICAgICAgdGhpcy5ibG14TWFuYWdlcixcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbnVsbCwgLy8gdWlSZW5kZXJlciDnqI3lkI7orr7nva5cbiAgICAgICAge1xuICAgICAgICAgIGdldERpc3BsYXlOYW1lOiB0aGlzLmdldERpc3BsYXlOYW1lLmJpbmQodGhpcyksXG4gICAgICAgICAgc3RhZ2VBbmREaXNwbGF5RW50cnk6IHRoaXMuc3RhZ2VBbmREaXNwbGF5RW50cnkuYmluZCh0aGlzKSxcbiAgICAgICAgICB0cmlnZ2VyQWlSZXNwb25zZTogdGhpcy50cmlnZ2VyQWlSZXNwb25zZS5iaW5kKHRoaXMpLFxuICAgICAgICAgIHVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZTogdGhpcy51cGRhdGVGb290ZXJCdXR0b25zU3RhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICByZW5kZXJDaGF0SGlzdG9yeTogdGhpcy5yZW5kZXJDaGF0SGlzdG9yeS5iaW5kKHRoaXMpLFxuICAgICAgICAgIHJlbmRlck1vbWVudHNGZWVkOiB0aGlzLnJlbmRlck1vbWVudHNGZWVkLmJpbmQodGhpcyksXG4gICAgICAgICAgdG9nZ2xlUGFuZWw6IHRoaXMudG9nZ2xlUGFuZWwuYmluZCh0aGlzKSxcbiAgICAgICAgICBmaW5kU3RpY2tlclVybEJ5TmFtZTogdGhpcy5maW5kU3RpY2tlclVybEJ5TmFtZS5iaW5kKHRoaXMpLFxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgLy8g5Yid5aeL5YyWVUnmuLLmn5PlmahcbiAgICAgIHRoaXMudWlSZW5kZXJlciA9IG5ldyBVSVJlbmRlcmVyKCcud2VjaGF0LWJvZHknLCBjb25maWcuYXZhdGFycywge1xuICAgICAgICBnZXREaXNwbGF5TmFtZTogdGhpcy5nZXREaXNwbGF5TmFtZS5iaW5kKHRoaXMpLFxuICAgICAgICBmaW5kU3RpY2tlclVybEJ5TmFtZTogdGhpcy5maW5kU3RpY2tlclVybEJ5TmFtZS5iaW5kKHRoaXMpLFxuICAgICAgICBvblRyYW5zZmVyQWNjZXB0OiB0aGlzLmhhbmRsZVRyYW5zZmVyQWNjZXB0LmJpbmQodGhpcyksXG4gICAgICAgIG9uR2lmdEFjdGlvbjogdGhpcy5oYW5kbGVHaWZ0QWN0aW9uLmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVjYWxsTWVzc2FnZTogdGhpcy5oYW5kbGVNZXNzYWdlUmVjYWxsLmJpbmQodGhpcyksXG4gICAgICAgIGlzTWVzc2FnZUluUXVldWU6IHRoaXMuaXNNZXNzYWdlSW5RdWV1ZS5iaW5kKHRoaXMpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIOabtOaWsEV2ZW50SGFuZGxlcuS4reeahHVpUmVuZGVyZXLlvJXnlKhcbiAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLnNldFVJUmVuZGVyZXIodGhpcy51aVJlbmRlcmVyKTtcblxuICAgICAgLy8g5Yid5aeL5YyW5pyL5Y+L5ZyI566h55CG5ZmoXG4gICAgICB0aGlzLm1vbWVudHNNYW5hZ2VyID0gbmV3IE1vbWVudHNNYW5hZ2VyKHRoaXMuYmxteE1hbmFnZXIsIHRoaXMuY29uZmlnTWFuYWdlciwgdGhpcy51aVJlbmRlcmVyKTtcblxuICAgICAgLy8g5Yid5aeL5YyWQUnlk43lupTnrqHnkIblmahcbiAgICAgIHRoaXMuYWlSZXNwb25zZU1hbmFnZXIgPSBuZXcgQWlSZXNwb25zZU1hbmFnZXIoXG4gICAgICAgIHRoaXMuYmxteE1hbmFnZXIsXG4gICAgICAgIHRoaXMudWlSZW5kZXJlcixcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIsXG4gICAgICAgIHRoaXMubW9tZW50c01hbmFnZXIsXG4gICAgICApO1xuXG4gICAgICAvLyDliJ3lp4vljJbkuLvpopjnvJbovpHlmahcbiAgICAgIHRoaXMudGhlbWVFZGl0b3IgPSBuZXcgVGhlbWVFZGl0b3IodGhpcy50aGVtZU1hbmFnZXIsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHBseVdhbGxwYXBlcnMoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyDliJ3lp4vljJbovpPlhaXlpITnkIblmahcbiAgICAgIHRoaXMuaW5wdXRIYW5kbGVyID0gbmV3IElucHV0SGFuZGxlcihcbiAgICAgICAgdGhpcy5jb25maWdNYW5hZ2VyLFxuICAgICAgICB0aGlzLnN0YWdlQW5kRGlzcGxheUVudHJ5LmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMudXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlLmJpbmQodGhpcyksXG4gICAgICApO1xuXG4gICAgICAvLyDliJ3lp4vljJZVSeeuoeeQhuWZqFxuICAgICAgdGhpcy51aU1hbmFnZXIgPSBuZXcgVUlNYW5hZ2VyKFxuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIsXG4gICAgICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkuYmluZCh0aGlzLmJsbXhNYW5hZ2VyKSxcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5LmJpbmQodGhpcy51aVJlbmRlcmVyKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIOWIneWni+WMluWvueivneahhueuoeeQhuWZqFxuICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAvLyDlupTnlKjlo4HnurhcbiAgICAgIHRoaXMuYXBwbHlXYWxscGFwZXJzKCk7XG5cbiAgICAgIC8vIOa4suafk+WIneWni+eVjOmdolxuICAgICAgdGhpcy5yZW5kZXJDaGF0SGlzdG9yeSgpO1xuICAgICAgdGhpcy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuXG4gICAgICAvLyDorr7nva7ovpPlhaXmoYbmj5DnpLrmloflrZdcbiAgICAgIHRoaXMudWlNYW5hZ2VyLnNldHVwSW5wdXRQbGFjZWhvbGRlcih0aGlzLmdldERpc3BsYXlOYW1lKCdjaGFyJykpO1xuXG4gICAgICAvLyDmm7TmlrDlupXpg6jmjInpkq7nirbmgIFcbiAgICAgIHRoaXMudXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG5cbiAgICAgIC8vIOWIneWni+WMllVJ5ZCO6K6+572u5Li76aKY6YCJ5oup5ZmoXG4gICAgICB0aGlzLnNldHVwVGhlbWVTZWxlY3RvcigpO1xuXG4gICAgICAvLyDnoa7kv53oh6rlrprkuYnkuLvpopjmjInpkq7mmL7npLrmraPnoa7nmoTkv6Hmga9cbiAgICAgIHRoaXMudGhlbWVFZGl0b3IudXBkYXRlQ3VzdG9tVGhlbWVCdXR0b24oKTtcblxuICAgICAgLy8g5Yid5aeL5YyW5omL5py65bC65a+46LCD5pW05Yqf6IO9XG4gICAgICB0aGlzLnVpTWFuYWdlci5zZXR1cFBob25lU2l6ZUFkanVzdG1lbnQoKTtcblxuICAgICAgLy8g5Yid5aeL5YyW6KGo5oOF5YyF5bC65a+45o6n5Yi2XG4gICAgICB0aGlzLnVpTWFuYWdlci5zZXR1cFN0aWNrZXJTaXplQ29udHJvbCgpO1xuXG4gICAgICAvLyDliJ3lp4vljJblrZfkvZPorr7nva7lip/og71cbiAgICAgIHRoaXMudWlNYW5hZ2VyLnNldHVwRm9udFNlbGVjdGlvbigpO1xuXG4gICAgICAvLyDliJ3lp4vljJblhajlsY/mqKHlvI/miYvmnLrlpKflsI/orr7nva7lip/og71cbiAgICAgIHRoaXMudWlNYW5hZ2VyLnNldHVwRnVsbHNjcmVlblNpemVBZGp1c3RtZW50KCk7XG5cbiAgICAgIC8vIOaYvuekuuW9k+WJjeeJiOacrFxuICAgICAgdGhpcy51aU1hbmFnZXIuZGlzcGxheUFwcFZlcnNpb24oKTtcblxuICAgICAgLy8g5qOA5p+l5piv5ZCm5pi+56S654mI5pys5pu05paw6YCa55+lXG4gICAgICB0aGlzLnVpTWFuYWdlci5jaGVja1ZlcnNpb25VcGRhdGVOb3RpZmljYXRpb24oKTtcblxuICAgICAgLy8g5Yid5aeL5YyW5pyL5Y+L5ZyI6YCa55+l54q25oCBXG4gICAgICAvLyDpgJrnn6XnirbmgIHnlLEgTW9tZW50c01hbmFnZXIg566h55CGXG5cbiAgICAgIC8vIOS6i+S7tuebkeWQrOWZqOeOsOWcqOeUsSBBaVJlc3BvbnNlTWFuYWdlciDnrqHnkIZcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gY29uc29sZS5lcnJvcignW0JMTVhdIEZhaWxlZCB0byBpbml0aWFsaXplOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyDmoLjlv4PmlbDmja7orr/pl67mlrnms5VcbiAgZ2V0RGlzcGxheU5hbWUodHlwZTogJ3VzZXInIHwgJ2NoYXInKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmdldERpc3BsYXlOYW1lKHR5cGUpO1xuICB9XG5cbiAgZmluZFN0aWNrZXJVcmxCeU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmZpbmRTdGlja2VyVXJsQnlOYW1lKG5hbWUpO1xuICB9XG5cbiAgLy8g5aOB57q4566h55CGXG4gIGFwcGx5V2FsbHBhcGVycygpOiB2b2lkIHtcbiAgICB0aGlzLndhbGxwYXBlckNvbnRyb2xsZXIuYXBwbHlXYWxscGFwZXJzKCk7XG4gIH1cblxuICBjaGFuZ2VXYWxscGFwZXIodmlld1R5cGU6ICdjaGF0JyB8ICdob21lJyB8ICdzZXR0aW5ncycpOiB2b2lkIHtcbiAgICB0aGlzLndhbGxwYXBlckNvbnRyb2xsZXIuY2hhbmdlV2FsbHBhcGVyKHZpZXdUeXBlKTtcbiAgfVxuXG4gIC8vIOeVjOmdoua4suafk+WNj+iwg1xuICByZW5kZXJDaGF0SGlzdG9yeSgpOiB2b2lkIHtcbiAgICB0aGlzLnVpUmVuZGVyZXIuY2xlYXJDaGF0KCk7XG4gICAgaWYgKCF0aGlzLmJsbXhNYW5hZ2VyKSByZXR1cm47XG5cbiAgICAvLyDlhYjmuLLmn5PkuLvml6Xlv5fkuK3nmoTmtojmga9cbiAgICB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICBpZiAoZW50cnkucmVjYWxsZWQpIHtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlclJlY2FsbE5vdGljZShlbnRyeSwgbnVsbCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5KGVudHJ5LCBpbmRleCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5YaN5riy5p+T6Zif5YiX5Lit55qE5raI5oGv77yI5qih5ouf5Y6f54mI5py65Yi277yJXG4gICAgdGhpcy51c2VyTWVzc2FnZVF1ZXVlLmZvckVhY2goKGVudHJ5LCBxdWV1ZUluZGV4KSA9PiB7XG4gICAgICAvLyDpmJ/liJfkuK3nmoTmtojmga/ntKLlvJXlupTor6XmmK/kuLvml6Xlv5fplb/luqYgKyDpmJ/liJfntKLlvJVcbiAgICAgIGNvbnN0IGFjdHVhbEluZGV4ID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzLmxlbmd0aCArIHF1ZXVlSW5kZXg7XG4gICAgICBpZiAoZW50cnkucmVjYWxsZWQpIHtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlclJlY2FsbE5vdGljZShlbnRyeSwgbnVsbCwgYWN0dWFsSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5KGVudHJ5LCBhY3R1YWxJbmRleCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy51aVJlbmRlcmVyLnJlZnJlc2hBbGxUaW1lc3RhbXBzKCk7XG4gICAgdGhpcy51aU1hbmFnZXIuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfVxuXG4gIHJlbmRlck1vbWVudHNGZWVkKCk6IHZvaWQge1xuICAgIHRoaXMubW9tZW50c01hbmFnZXIucmVuZGVyTW9tZW50c0ZlZWQoKTtcbiAgfVxuXG4gIC8vIOaaguWtmOW5tuaYvuekuuadoeebrlxuICBzdGFnZUFuZERpc3BsYXlFbnRyeShlbnRyeTogTG9nRW50cnkpOiB2b2lkIHtcbiAgICBpZiAoJ3R5cGUnIGluIGVudHJ5KSB7XG4gICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2V2ZW50Jykge1xuICAgICAgICAvLyDkuLpldmVudOexu+Wei+eahOadoeebrua3u+WKoOWIsOaXpeW/l+S4reW5tua4suafk1xuICAgICAgICB0aGlzLmJsbXhNYW5hZ2VyLmFkZEVudHJ5KGVudHJ5KTtcbiAgICAgICAgY29uc3QgZW50cnlJbmRleCA9IHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnVpUmVuZGVyZXIucmVuZGVyRW50cnkoZW50cnksIGVudHJ5SW5kZXgsIHRydWUpO1xuXG4gICAgICAgIC8vIOWmguaenOaYr+eUqOaIt+WPkemAgeeahOS6i+S7tu+8jOWImeagh+iusOS4uumcgOimgUFJ5ZON5bqUXG4gICAgICAgIGlmICgnc2VuZGVyJyBpbiBlbnRyeSAmJiBlbnRyeS5zZW5kZXIgPT09ICdtZScpIHtcbiAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5zZXRIYXNQZW5kaW5nTm90aWZpY2F0aW9ucyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgIC8vIOi3s+i/h3RpbWXnsbvlnovlpITnkIZcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVudHJ5LmlkKSB7XG4gICAgICAgIGVudHJ5LmlkID0gJ21zZy0nICsgRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIOWkhOeQhuWbvueJh+S4iuS8oFxuICAgICAgaWYgKFxuICAgICAgICBlbnRyeS50eXBlID09PSAnaW1hZ2UnICYmXG4gICAgICAgICdjb250ZW50JyBpbiBlbnRyeSAmJlxuICAgICAgICBlbnRyeS5jb250ZW50LnR5cGUgPT09ICd1cmwnICYmXG4gICAgICAgIHR5cGVvZiBlbnRyeS5jb250ZW50LnZhbHVlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBlbnRyeS5jb250ZW50LnZhbHVlLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UnKVxuICAgICAgKSB7XG4gICAgICAgIC8vIOS9v+eUqOexu+Wei+aWreiogFxuICAgICAgICAoKGVudHJ5IGFzIENoYXRFbnRyeSkuY29udGVudCBhcyBhbnkpLmlzTmV3Rm9yQUkgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyDlpoLmnpzmmK/nlKjmiLfmtojmga/vvIzlhYjmt7vliqDliLDpmJ/liJfvvIjmqKHmi5/ljp/niYjmnLrliLbvvIlcbiAgICAgIGlmICgnc2VuZGVyJyBpbiBlbnRyeSAmJiBlbnRyeS5zZW5kZXIgPT09ICdtZScpIHtcbiAgICAgICAgdGhpcy51c2VyTWVzc2FnZVF1ZXVlLnB1c2goZW50cnkgYXMgQ2hhdEVudHJ5KTtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuc2V0SGFzUGVuZGluZ05vdGlmaWNhdGlvbnModHJ1ZSk7XG5cbiAgICAgICAgLy8g5riy5p+T5p2h55uu77yI5L2/55So5YWo5bGA57Si5byV77ya5Li75pel5b+X6ZW/5bqmICsg6Zif5YiX57Si5byV77yJXG4gICAgICAgIGNvbnN0IHF1ZXVlSW5kZXggPSB0aGlzLnVzZXJNZXNzYWdlUXVldWUubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgZ2xvYmFsSW5kZXggPSB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMubGVuZ3RoICsgcXVldWVJbmRleDtcbiAgICAgICAgdGhpcy51aVJlbmRlcmVyLnJlbmRlckVudHJ5KGVudHJ5IGFzIENoYXRFbnRyeSwgZ2xvYmFsSW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6Z2e55So5oi35raI5oGv55u05o6l5re75Yqg5Yiw5Li75pel5b+XXG4gICAgICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkoZW50cnkgYXMgQ2hhdEVudHJ5KTtcbiAgICAgICAgY29uc3QgZW50cnlJbmRleCA9IHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnVpUmVuZGVyZXIucmVuZGVyRW50cnkoZW50cnkgYXMgQ2hhdEVudHJ5LCBlbnRyeUluZGV4LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQUnlk43lupTljY/osINcbiAgYXN5bmMgdHJpZ2dlckFpUmVzcG9uc2UoaW1tZWRpYXRlOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyDmo4Dmn6XmmK/lkKbmnInlvoXlpITnkIbnmoTmtojmga/vvIjpmJ/liJfmnLrliLbvvIlcbiAgICBjb25zdCBoYXNRdWV1ZWRNZXNzYWdlcyA9IHRoaXMudXNlck1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwO1xuXG4gICAgLy8g5aaC5p6c5rKh5pyJ56uL5Y2z6Kem5Y+R5qCH5b+X77yM5LiU5rKh5pyJ6Zif5YiX5raI5oGv5ZKM6YCa55+l77yM5YiZ5LiN6Kem5Y+RXG4gICAgaWYgKCFpbW1lZGlhdGUgJiYgIWhhc1F1ZXVlZE1lc3NhZ2VzICYmICF0aGlzLmV2ZW50SGFuZGxlci5oYXNOb3RpZmljYXRpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5Zyo6Kem5Y+RQUnlk43lupTliY3vvIzlsIbpmJ/liJfkuK3nmoTmtojmga/np7vliLDkuLvml6Xlv5fvvIjmqKHmi5/ljp/niYjmnLrliLbvvIlcbiAgICBpZiAoaGFzUXVldWVkTWVzc2FnZXMpIHtcbiAgICAgIC8vIOWkjeWItumYn+WIl+S4reeahOa2iOaBr1xuICAgICAgY29uc3QgbWVzc2FnZXNUb1Byb2Nlc3MgPSBbLi4udGhpcy51c2VyTWVzc2FnZVF1ZXVlXTtcblxuICAgICAgLy8g5bCG5raI5oGv5re75Yqg5Yiw5Li75pel5b+XXG4gICAgICBtZXNzYWdlc1RvUHJvY2Vzcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdpbWFnZScgJiYgJ2NvbnRlbnQnIGluIGVudHJ5ICYmIChlbnRyeS5jb250ZW50IGFzIGFueSkuaXNOZXdGb3JBSSkge1xuICAgICAgICAgIChlbnRyeS5jb250ZW50IGFzIGFueSkudmFsdWUgPSBgW+eUqOaIt+WPkemAgeeahOWbvueJh11gO1xuICAgICAgICAgIGRlbGV0ZSAoZW50cnkuY29udGVudCBhcyBhbnkpLmlzTmV3Rm9yQUk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG14TWFuYWdlci5hZGRFbnRyeShlbnRyeSk7XG4gICAgICB9KTtcblxuICAgICAgLy8g5riF56m66Zif5YiX77yI5qih5ouf5Y6f54mI55qEIHVzZXJNZXNzYWdlUXVldWUgPSBbXe+8iVxuICAgICAgdGhpcy51c2VyTWVzc2FnZVF1ZXVlID0gW107XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5haVJlc3BvbnNlTWFuYWdlci50cmlnZ2VyQWlSZXNwb25zZShpbW1lZGlhdGUpO1xuICB9XG5cbiAgLy8gVUnmjqfliLbljY/osINcbiAgdXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk6IHZvaWQge1xuICAgIHRoaXMudWlNYW5hZ2VyLnVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSh0aGlzLmV2ZW50SGFuZGxlci5oYXNOb3RpZmljYXRpb25zKTtcbiAgfVxuXG4gIHRvZ2dsZVBhbmVsKHBhbmVsVG9TaG93OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy51aU1hbmFnZXIudG9nZ2xlUGFuZWwocGFuZWxUb1Nob3cpO1xuICB9XG5cbiAgLy8g5a+86Iiq5Yiw5oyH5a6a6KeG5Zu+XG4gIG5hdmlnYXRlVG8odmlld05hbWU6ICdob21lJyB8ICd3ZWNoYXQnIHwgJ3dlY2hhdEhvbWUnIHwgJ21vbWVudHMnIHwgJ3NldHRpbmdzJyk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXdzID0ge1xuICAgICAgaG9tZTogJyNhcHAtaG9tZXNjcmVlbicsXG4gICAgICB3ZWNoYXQ6ICcjd2VjaGF0LXZpZXcnLFxuICAgICAgd2VjaGF0SG9tZTogJyN3ZWNoYXQtaG9tZScsXG4gICAgICBtb21lbnRzOiAnI21vbWVudHMtdmlldycsXG4gICAgICBzZXR0aW5nczogJyNzZXR0aW5ncy12aWV3JyxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOmmluWFiOWwneivleS9v+eUqGpRdWVyeVxuICAgICAgaWYgKHR5cGVvZiAkICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgalF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyDkvb/nlKhqUXVlcnnpmpDol4/miYDmnInop4blm77lubbmmL7npLrnm67moIfop4blm75cbiAgICAgICAgJCgnLmFwcC12aWV3JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKHZpZXdzW3ZpZXdOYW1lXSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5aSH55So5pa55qGI77ya5L2/55SoalF1ZXJ577yI5bqU6K+l5oC75piv5Y+v55So55qE77yJXG4gICAgICAgICQoJy5hcHAtdmlldycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc3QgJHRhcmdldFZpZXcgPSAkKHZpZXdzW3ZpZXdOYW1lXSk7XG4gICAgICAgIGlmICgkdGFyZ2V0Vmlldy5sZW5ndGgpIHtcbiAgICAgICAgICAkdGFyZ2V0Vmlldy5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgW0JMTVhdIOaJvuS4jeWIsOebruagh+inhuWbvjogJHt2aWV3c1t2aWV3TmFtZV19YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8g5b2T5a+86Iiq5Yiw5pyL5Y+L5ZyI6KeG5Zu+5pe277yM5pu05paw6YCa55+l54q25oCB5bm26YeN5paw5riy5p+TXG4gICAgICBpZiAodmlld05hbWUgPT09ICdtb21lbnRzJykge1xuICAgICAgICAvLyDmm7TmlrDmnIvlj4vlnIjpgJrnn6XnirbmgIFcbiAgICAgICAgdGhpcy5zZXRNb21lbnROb3RpZmljYXRpb24oZmFsc2UpO1xuXG4gICAgICAgIC8vIOmHjeaWsOa4suafk+aci+WPi+WciOWGheWuuVxuICAgICAgICB0aGlzLnJlbmRlck1vbWVudHNGZWVkKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtCTE1YXSDlr7zoiKrplJnor686YCwgZXJyb3IpO1xuXG4gICAgICAvLyDmnIDlkI7nmoTlpIfnlKjmlrnmoYjvvIzkvb/nlKhqUXVlcnlcbiAgICAgIHRyeSB7XG4gICAgICAgICQoJy5hcHAtdmlldycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc3QgJHRhcmdldEVsZW1lbnQgPSAkKHZpZXdzW3ZpZXdOYW1lXSk7XG4gICAgICAgIGlmICgkdGFyZ2V0RWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAkdGFyZ2V0RWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0JMTVhdIOacgOe7iOWvvOiIquWksei0pTpgLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVBdmF0YXIoYXZhdGFyVHlwZTogJ3VzZXInIHwgJ2NoYXInKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldENvbmZpZygpO1xuICAgIGNvbnN0IGN1cnJlbnRVcmwgPSBjb25maWcuYXZhdGFyc1thdmF0YXJUeXBlXSB8fCAnJztcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHRoaXMuZ2V0RGlzcGxheU5hbWUoYXZhdGFyVHlwZSk7XG5cbiAgICBpZiAoYXZhdGFyVHlwZSA9PT0gJ3VzZXInKSB7XG4gICAgICAvLyDnlKjmiLflpLTlg4/vvJrmmL7npLrlpLTlg4/lkozkuKrmgKfnrb7lkI3orr7nva7lr7nor53moYZcbiAgICAgIGF3YWl0IHRoaXMuc2hvd1VzZXJQcm9maWxlRGlhbG9nKGN1cnJlbnRVcmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDop5LoibLlpLTlg4/vvJrlj6rorr7nva7lpLTlg49cbiAgICAgIGNvbnN0IG5ld1VybCA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5zaG93SW5wdXREaWFsb2coXG4gICAgICAgICfmm7TmjaLlpLTlg48nLFxuICAgICAgICBgJHtkaXNwbGF5TmFtZX3lpLTlg49VUkxgLFxuICAgICAgICBjdXJyZW50VXJsLFxuICAgICAgICAn6K+36L6T5YWl5aS05YOP5Zu+54mH6ZO+5o6lJyxcbiAgICAgICAgJ3VybCcsXG4gICAgICApO1xuXG4gICAgICBpZiAobmV3VXJsKSB7XG4gICAgICAgIHRoaXMuY29uZmlnTWFuYWdlci51cGRhdGVBdmF0YXIoYXZhdGFyVHlwZSwgbmV3VXJsKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCflpLTlg4/lt7Lmm7TmlrDvvIEnLCAn5pu05paw5oiQ5YqfJyk7XG4gICAgICAgIHRoaXMucmVuZGVyQ2hhdEhpc3RvcnkoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOaYvuekuueUqOaIt+i1hOaWmeiuvue9ruWvueivneahhu+8iOWktOWDjyvkuKrmgKfnrb7lkI3vvIlcbiAgcHJpdmF0ZSBhc3luYyBzaG93VXNlclByb2ZpbGVEaWFsb2coY3VycmVudEF2YXRhclVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY3VycmVudFNpZ25hdHVyZSA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRTYXZlZFNpZ25hdHVyZSgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgLy8g5Yib5bu65a+56K+d5qGGSFRNTO+8jOS9v+eUqOS4jueOsOacieWvueivneahhuWujOWFqOS4gOiHtOeahOagt+W8j1xuICAgICAgY29uc3QgZGlhbG9nSHRtbCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1kaWFsb2ctb3ZlcmxheVwiIGlkPVwidXNlci1wcm9maWxlLWRpYWxvZy1vdmVybGF5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1kaWFsb2cgdXNlci1wcm9maWxlLWRpYWxvZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzPVwiZGlhbG9nLXRpdGxlXCI+5Liq5Lq66LWE5paZ6K6+572uPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1ib2R5XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctaW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBpZD1cImF2YXRhci11cmwtaW5wdXRcIiB2YWx1ZT1cIiR7Y3VycmVudEF2YXRhclVybH1cIiBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWktOWDj+WbvueJh+mTvuaOpVwiPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInNpZ25hdHVyZS1pbnB1dFwiIHZhbHVlPVwiJHtjdXJyZW50U2lnbmF0dXJlfVwiIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Liq5oCn562+5ZCNXCI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjYW5jZWwtYnV0dG9uXCIgaWQ9XCJ1c2VyLXByb2ZpbGUtY2FuY2VsXCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIHByaW1hcnktYnV0dG9uXCIgaWQ9XCJ1c2VyLXByb2ZpbGUtY29uZmlybVwiPuehruWumjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaF77yM5LiO5YW25LuW5a+56K+d5qGG5L+d5oyB5LiA6Ie0XG4gICAgICBjb25zdCAkcGhvbmVTY3JlZW4gPSAkKCcucGhvbmUtc2NyZWVuJyk7XG4gICAgICBpZiAoJHBob25lU2NyZWVuLmxlbmd0aCkge1xuICAgICAgICAkcGhvbmVTY3JlZW4uYXBwZW5kKGRpYWxvZ0h0bWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5aaC5p6c5om+5LiN5Yiw5omL5py65bGP5bmV5a655Zmo77yM5Zue6YCA5YiwYm9keVxuICAgICAgICAkKCdib2R5JykuYXBwZW5kKGRpYWxvZ0h0bWwpO1xuICAgICAgfVxuICAgICAgY29uc3QgJG92ZXJsYXkgPSAkKCcjdXNlci1wcm9maWxlLWRpYWxvZy1vdmVybGF5Jyk7XG5cbiAgICAgIC8vIOaYvuekuuWvueivneahhlxuICAgICAgJG92ZXJsYXkuc2hvdygpO1xuXG4gICAgICAvLyDnu5Hlrprkuovku7ZcbiAgICAgICQoJyN1c2VyLXByb2ZpbGUtY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAkb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJyN1c2VyLXByb2ZpbGUtY29uZmlybScpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3QXZhdGFyVXJsID0gKCQoJyNhdmF0YXItdXJsLWlucHV0JykudmFsKCkgYXMgc3RyaW5nKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NpZ25hdHVyZSA9ICgkKCcjc2lnbmF0dXJlLWlucHV0JykudmFsKCkgYXMgc3RyaW5nKS50cmltKCk7XG5cbiAgICAgICAgbGV0IGhhc0NoYW5nZXMgPSBmYWxzZTtcblxuICAgICAgICAvLyDmm7TmlrDlpLTlg49cbiAgICAgICAgaWYgKG5ld0F2YXRhclVybCAmJiBuZXdBdmF0YXJVcmwgIT09IGN1cnJlbnRBdmF0YXJVcmwpIHtcbiAgICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIudXBkYXRlQXZhdGFyKCd1c2VyJywgbmV3QXZhdGFyVXJsKTtcbiAgICAgICAgICAkKCcjbW9tZW50cy11c2VyLWF2YXRhcicpLmF0dHIoJ3NyYycsIG5ld0F2YXRhclVybCk7XG4gICAgICAgICAgaGFzQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDmm7TmlrDkuKrmgKfnrb7lkI1cbiAgICAgICAgaWYgKG5ld1NpZ25hdHVyZSAhPT0gY3VycmVudFNpZ25hdHVyZSkge1xuICAgICAgICAgIHRoaXMuY29uZmlnTWFuYWdlci5zZXRTaWduYXR1cmUobmV3U2lnbmF0dXJlKTtcbiAgICAgICAgICAkKCcjdXNlci1zaWduYXR1cmUtZGlzcGxheScpLnRleHQobmV3U2lnbmF0dXJlKTtcbiAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIOivoumXruaYr+WQpuWPkemAgeaci+WPi+WciOmAmuefpVxuICAgICAgICAgIGlmIChuZXdTaWduYXR1cmUgIT09IGN1cnJlbnRTaWduYXR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZE5vdGlmeSA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5jb25maXJtKFxuICAgICAgICAgICAgICAn5piv5ZCm6KaB5Y+R6YCB5pyL5Y+L5ZyI5Yqo5oCB6YCa55+lQUnkvaDmm7TmlLnkuobkuKrmgKfnrb7lkI3vvJ8nLFxuICAgICAgICAgICAgICAn5pyL5Y+L5ZyI6YCa55+lJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkTm90aWZ5KSB7XG4gICAgICAgICAgICAgIHRoaXMubW9tZW50c01hbmFnZXIubm90aWZ5TW9tZW50Q2hhbmdlKCdzaWduYXR1cmUnLCBjdXJyZW50U2lnbmF0dXJlLCBuZXdTaWduYXR1cmUpO1xuICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5zZXRIYXNQZW5kaW5nTm90aWZpY2F0aW9ucyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkb3ZlcmxheS5yZW1vdmUoKTtcblxuICAgICAgICBpZiAoaGFzQ2hhbmdlcykge1xuICAgICAgICAgIHRoaXMucmVuZGVyQ2hhdEhpc3RvcnkoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlck1vbWVudHNGZWVkKCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCfkuKrkurrotYTmlpnlt7Lmm7TmlrDvvIEnLCAn5pu05paw5oiQ5YqfJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRVND6ZSu5YWz6ZetXG4gICAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bi51c2VyUHJvZmlsZScsIGUgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgJG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlkb3duLnVzZXJQcm9maWxlJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8g54K55Ye76YGu572p5YWz6ZetXG4gICAgICAkb3ZlcmxheS5vbignY2xpY2snLCBlID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSAkb3ZlcmxheVswXSkge1xuICAgICAgICAgICRvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIOiBmueEpuWIsOWktOWDj+i+k+WFpeahhlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoJyNhdmF0YXItdXJsLWlucHV0JykuZm9jdXMoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGFyUmVtYXJrKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IG9sZERpc3BsYXlOYW1lID0gdGhpcy5nZXREaXNwbGF5TmFtZSgnY2hhcicpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtcbiAgICBjb25zdCBuZXdSZW1hcmsgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIucHJvbXB0KCfor7fovpPlhaXmlrDnmoTlpIfms6g6JywgY29uZmlnLmNoYXJSZW1hcmssICfkv67mlLnlpIfms6gnKTtcbiAgICBpZiAobmV3UmVtYXJrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbmZpZ01hbmFnZXIudXBkYXRlQ2hhclJlbWFyayhuZXdSZW1hcmspO1xuICAgICAgY29uc3QgbmV3RGlzcGxheU5hbWUgPSB0aGlzLmdldERpc3BsYXlOYW1lKCdjaGFyJyk7XG5cbiAgICAgICQoJyNjb250YWN0LW5hbWUtaGVhZGVyJykudGV4dChuZXdEaXNwbGF5TmFtZSk7XG4gICAgICAkKCcjd2VjaGF0LWlucHV0LWZpZWxkJykuYXR0cihcbiAgICAgICAgJ3BsYWNlaG9sZGVyJyxcbiAgICAgICAgdGhpcy5jb25maWdNYW5hZ2VyLmdldFNhdmVkSW5wdXRQbGFjZWhvbGRlcigpIHx8IGDkuI4gJHtuZXdEaXNwbGF5TmFtZX0g5a+56K+dLi4uYCxcbiAgICAgICk7XG5cbiAgICAgICQoJyNtb21lbnRzLWZlZWQtbGlzdCAucG9zdC1hdXRob3ItbmFtZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS50ZXh0KCkgPT09IG9sZERpc3BsYXlOYW1lKSAkKHRoaXMpLnRleHQobmV3RGlzcGxheU5hbWUpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJy5yZWNhbGwtbm90aWNlLXRleHQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICBpZiAodGV4dCAmJiB0ZXh0LmluY2x1ZGVzKGBcIiR7b2xkRGlzcGxheU5hbWV9XCJgKSkge1xuICAgICAgICAgICQodGhpcykudGV4dChgXCIke25ld0Rpc3BsYXlOYW1lfVwiIOaSpOWbnuS6huS4gOadoea2iOaBr2ApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCflpIfms6jlt7Lmm7TmlrDvvIEnLCAn5pu05paw5oiQ5YqfJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNlck5hbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgb2xkTmFtZSA9IHRoaXMuZ2V0RGlzcGxheU5hbWUoJ3VzZXInKTtcbiAgICBjb25zdCBuZXdOYW1lID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLnNob3dJbnB1dERpYWxvZygn5pu05pS55ZCN5a2XJywgJ+ivt+i+k+WFpeS9oOeahOaWsOWQjeWtlycsIG9sZE5hbWUsICfovpPlhaXmlrDlkI3lrZcuLi4nKTtcblxuICAgIGlmIChuZXdOYW1lICYmIG5ld05hbWUudHJpbSgpICE9PSAnJyAmJiBuZXdOYW1lICE9PSBvbGROYW1lKSB7XG4gICAgICB0aGlzLmNvbmZpZ01hbmFnZXIudXBkYXRlVXNlck5hbWUobmV3TmFtZSk7XG4gICAgICAkKCcjbW9tZW50cy11c2VyLW5hbWUnKS50ZXh0KG5ld05hbWUpO1xuXG4gICAgICAvLyDor6Lpl67nlKjmiLfmmK/lkKbopoHlj5HpgIHmnIvlj4vlnIjpgJrnn6VBSVxuICAgICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ+aYr+WQpuimgeWPkemAgeaci+WPi+WciOWKqOaAgemAmuefpUFJ5L2g5pu05pS55LqG5ZCN5a2X77yfJywgJ+aci+WPi+WciOmAmuefpScpO1xuICAgICAgaWYgKHNob3VsZE5vdGlmeSkge1xuICAgICAgICB0aGlzLm1vbWVudHNNYW5hZ2VyLm5vdGlmeU1vbWVudENoYW5nZSgnbmFtZScsIG9sZE5hbWUsIG5ld05hbWUpO1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5zZXRIYXNQZW5kaW5nTm90aWZpY2F0aW9ucyh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCflkI3lrZflt7Lmm7TmlrDvvIEnLCAn5pu05paw5oiQ5YqfJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gdXBkYXRlU2lnbmF0dXJl5pa55rOV5bey56e76Zmk77yM5Liq5oCn562+5ZCN6K6+572u5bey5pW05ZCI5Yiw55So5oi35aS05YOP6K6+572u5a+56K+d5qGG5LitXG5cbiAgYXN5bmMgdXBkYXRlQ292ZXJQaG90bygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjdXJyZW50Q292ZXIgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0U2F2ZWRDb3ZlclBob3RvKCkgfHwgJyc7XG4gICAgY29uc3QgbmV3Q292ZXIgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd0lucHV0RGlhbG9nKFxuICAgICAgJ+aci+WPi+WciOWwgemdoicsXG4gICAgICAn5pyL5Y+L5ZyI5bCB6Z2iVVJMJyxcbiAgICAgIGN1cnJlbnRDb3ZlcixcbiAgICAgICfor7fovpPlhaXlsIHpnaLlm77niYfpk77mjqUnLFxuICAgICAgJ3VybCcsXG4gICAgKTtcbiAgICBpZiAobmV3Q292ZXIpIHtcbiAgICAgIHRoaXMuY29uZmlnTWFuYWdlci5zZXRDb3ZlclBob3RvKG5ld0NvdmVyKTtcbiAgICAgICQoJyNtb21lbnRzLWNvdmVyLXBob3RvJykuYXR0cignc3JjJywgbmV3Q292ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOi+k+WFpeWkhOeQhuWNj+iwg1xuICBhc3luYyBoYW5kbGVUcmFuc2ZlckFjY2VwdChkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmlucHV0SGFuZGxlci5oYW5kbGVUcmFuc2ZlckFjY2VwdChkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUdpZnRBY3Rpb24oZGF0YTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5pbnB1dEhhbmRsZXIuaGFuZGxlR2lmdEFjdGlvbihkYXRhKTtcbiAgICB0aGlzLmV2ZW50SGFuZGxlci5zZXRIYXNQZW5kaW5nTm90aWZpY2F0aW9ucyh0cnVlKTtcbiAgfVxuXG4gIC8vIOajgOafpea2iOaBr+aYr+WQpuWcqOmYn+WIl+S4re+8iOaooeaLn+WOn+eJiOmAu+i+ke+8iVxuICBpc01lc3NhZ2VJblF1ZXVlKG1lc3NhZ2VJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudXNlck1lc3NhZ2VRdWV1ZS5zb21lKGVudHJ5ID0+IGVudHJ5LmlkID09PSBtZXNzYWdlSWQpO1xuICB9XG5cbiAgLy8g5LuO55So5oi35raI5oGv6Zif5YiX5Lit56e76Zmk5oyH5a6a57Si5byV55qE5raI5oGvXG4gIHJlbW92ZUZyb21Vc2VyTWVzc2FnZVF1ZXVlKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMudXNlck1lc3NhZ2VRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMudXNlck1lc3NhZ2VRdWV1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOWkhOeQhua2iOaBr+aSpOWbnu+8iOS7hemZkOaWh+Wtl+a2iOaBr++8iVxuICBhc3luYyBoYW5kbGVNZXNzYWdlUmVjYWxsKGVudHJ5OiBDaGF0RW50cnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8g5Y+q5YWB6K645pKk5Zue5paH5a2X5raI5oGvXG4gICAgICBpZiAoZW50cnkudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIC8vIOWPquiDveaSpOWbnuaWh+Wtl+a2iOaBr1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOafpeaJvua2iOaBr+WcqOmYn+WIl+S4reeahOe0ouW8lVxuICAgICAgY29uc3QgcXVldWVJbmRleCA9IHRoaXMudXNlck1lc3NhZ2VRdWV1ZS5maW5kSW5kZXgocXVldWVFbnRyeSA9PiBxdWV1ZUVudHJ5LmlkID09PSBlbnRyeS5pZCk7XG5cbiAgICAgIGlmIChxdWV1ZUluZGV4ID09PSAtMSkge1xuICAgICAgICAvLyDmnKrmib7liLDopoHmkqTlm57nmoTmtojmga9cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXRFbnRyeSA9IHRoaXMudXNlck1lc3NhZ2VRdWV1ZVtxdWV1ZUluZGV4XTtcblxuICAgICAgLy8g5L+d5a2Y5Y6f5aeL5YaF5a655YiwcmVjYWxsZWRfY29udGVudFxuICAgICAgdGFyZ2V0RW50cnkucmVjYWxsZWRfY29udGVudCA9IHRhcmdldEVudHJ5LmNvbnRlbnQ7XG5cbiAgICAgIC8vIOiuvue9ruaSpOWbnuaXtumXtOaIs1xuICAgICAgdGFyZ2V0RW50cnkucmVjYWxsZWRfdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAvLyDmoIforrDmtojmga/kuLrlt7LmkqTlm55cbiAgICAgIHRhcmdldEVudHJ5LnJlY2FsbGVkID0gdHJ1ZTtcblxuICAgICAgLy8g6YeN5paw5riy5p+T6IGK5aSp5Y6G5Y+yXG4gICAgICB0aGlzLnJlbmRlckNoYXRIaXN0b3J5KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+aSpOWbnua2iOaBr+aXtuWHuumUmTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gQUnlk43lupTmlbDmja7orr/pl65cbiAgZ2V0TGF0ZXN0QWlSYXdSZXNwb25zZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmFpUmVzcG9uc2VNYW5hZ2VyLmdldExhdGVzdEFpUmF3UmVzcG9uc2UoKTtcbiAgfVxuXG4gIGdldExhdGVzdFNlbnRQcm9tcHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5haVJlc3BvbnNlTWFuYWdlci5nZXRMYXRlc3RTZW50UHJvbXB0KCk7XG4gIH1cblxuICBnZXRSYXdBaVJlc3BvbnNlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYWlSZXNwb25zZU1hbmFnZXIuZ2V0UmF3QWlSZXNwb25zZSgpO1xuICB9XG5cbiAgZ2V0RnVsbFByb21wdCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmFpUmVzcG9uc2VNYW5hZ2VyLmdldEZ1bGxQcm9tcHQoKTtcbiAgfVxuXG4gIC8vIOS4u+mimOeuoeeQhuWNj+iwg1xuICBzZXR1cFRoZW1lU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy50aGVtZUVkaXRvci5zZXR1cFRoZW1lU2VsZWN0b3IoKTtcbiAgICB0aGlzLnRoZW1lRWRpdG9yLmFkZEN1c3RvbVRoZW1lRWRpdEJ1dHRvbigpO1xuICAgIHRoaXMuc2V0dXBUaGVtZUVkaXRvckV2ZW50cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFRoZW1lRWRpdG9yRXZlbnRzKCk6IHZvaWQge1xuICAgIC8vIOS9v+eUqGpRdWVyeei/m+ihjOS6i+S7tue7keWumlxuICAgICQoJyNjbG9zZS10aGVtZS1lZGl0b3InKS5vbignY2xpY2snLCAoKSA9PiB0aGlzLnRoZW1lRWRpdG9yLmNsb3NlVGhlbWVFZGl0b3IoKSk7XG4gICAgJCgnI3NhdmUtdGhlbWUtYnRuJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy50aGVtZUVkaXRvci5zYXZlQ3VzdG9tVGhlbWUoKSk7XG4gICAgJCgnI3Jlc2V0LXRoZW1lLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHRoaXMudGhlbWVFZGl0b3IucmVzZXRUaGVtZUVkaXRvcigpKTtcbiAgICAkKCcjY3VzdG9tLXRoZW1lLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHRoaXMudGhlbWVFZGl0b3Iub3BlblRoZW1lRWRpdG9yKCkpO1xuICAgICQoJyNpbXBvcnQtdGhlbWUtYnRuJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy50aGVtZUVkaXRvci5pbXBvcnRUaGVtZSgpKTtcbiAgICAkKCcjZXhwb3J0LWpzb24tYnRuJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy50aGVtZUVkaXRvci5leHBvcnRUaGVtZUFzSlNPTigpKTtcbiAgfVxuXG4gIG9wZW5UaGVtZUVkaXRvcigpOiB2b2lkIHtcbiAgICB0aGlzLnRoZW1lRWRpdG9yLm9wZW5UaGVtZUVkaXRvcigpO1xuICB9XG5cbiAgY2xvc2VUaGVtZUVkaXRvcigpOiB2b2lkIHtcbiAgICB0aGlzLnRoZW1lRWRpdG9yLmNsb3NlVGhlbWVFZGl0b3IoKTtcbiAgfVxuXG4gIC8vIOi+heWKqeaWueazle+8mkhFWOi9rFJHQkFcbiAgaGV4VG9SZ2JhKGhleDogc3RyaW5nLCBhbHBoYTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCByID0gcGFyc2VJbnQoaGV4LnNsaWNlKDEsIDMpLCAxNik7XG4gICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zbGljZSgzLCA1KSwgMTYpO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChoZXguc2xpY2UoNSwgNyksIDE2KTtcblxuICAgIHJldHVybiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2FscGhhfSlgO1xuICB9XG5cbiAgLy8g6LCD6K+V5Yqf6IO95Y2P6LCDXG4gIGFkZFRlc3RFbnRyeShlbnRyeVR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGFkZFRlc3RFbnRyeSh0aGlzLmJsbXhNYW5hZ2VyLCBlbnRyeVR5cGUpO1xuICB9XG5cbiAgY2xlYXJEZWJ1Z0RhdGEoKTogdm9pZCB7XG4gICAgY2xlYXJEZWJ1Z0RhdGEodGhpcy5ibG14TWFuYWdlcik7XG4gIH1cblxuICBzaG93VGVzdEVudHJ5VHlwZXMoKTogdm9pZCB7XG4gICAgc2hvd1Rlc3RFbnRyeVR5cGVzKCk7XG4gIH1cblxuICBzaG93RGVidWdJbmZvKCk6IHZvaWQge1xuICAgIHNob3dEZWJ1Z0luZm8odGhpcyk7XG4gIH1cblxuICAvLyDlpITnkIbmtojmga/mkqTlm57nmoTmnIvlj4vlnIjpgJrnn6VcbiAgbm90aWZ5UmVjYWxsVmlhTW9tZW50cyhzZW5kZXI6ICdVU0VSJyB8ICdDSEFSJywgdGFyZ2V0VGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8g6K+i6Zeu55So5oi35piv5ZCm6KaB5Y+R6YCB5pyL5Y+L5ZyI6YCa55+lQUlcbiAgICBpZiAoY29uZmlybSgn5piv5ZCm6KaB5Y+R6YCB5pyL5Y+L5ZyI5Yqo5oCB6YCa55+lQUnkvaDmkqTlm57kuobmtojmga/vvJ8nKSkge1xuICAgICAgdGhpcy5tb21lbnRzTWFuYWdlci5ub3RpZnlSZWNhbGxWaWFNb21lbnRzKHNlbmRlciwgdGFyZ2V0VGV4dCk7XG4gICAgICB0aGlzLmV2ZW50SGFuZGxlci5zZXRIYXNQZW5kaW5nTm90aWZpY2F0aW9ucyh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5riF55CG5omA5pyJ6LWE5rqQ77yM6Ziy5q2i5YaF5a2Y5rOE5ryPXG4gICAqL1xuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIC8vIOa4heeQhuWQhOS4queuoeeQhuWZqOeahOi1hOa6kFxuICAgIGlmICh0aGlzLmFpUmVzcG9uc2VNYW5hZ2VyICYmIHR5cGVvZiB0aGlzLmFpUmVzcG9uc2VNYW5hZ2VyLmNsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuYWlSZXNwb25zZU1hbmFnZXIuY2xlYW51cCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVpUmVuZGVyZXIgJiYgdHlwZW9mIHRoaXMudWlSZW5kZXJlci5jbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnVpUmVuZGVyZXIuY2xlYW51cCgpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/app-controller.ts\n\n}");
  },
  "./src/同层手机/config-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigManager: () => (/* binding */ ConfigManager),\n/* harmony export */   FULLSCREEN_SIZES: () => (/* binding */ FULLSCREEN_SIZES),\n/* harmony export */   PHONE_SIZES: () => (/* binding */ PHONE_SIZES),\n/* harmony export */   STORAGE_KEYS: () => (/* binding */ STORAGE_KEYS)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/同层手机/utils.ts\");\n// 配置管理模块\n// 负责管理应用配置、常量定义和配置初始化\n\n// 常量定义\nconst STORAGE_KEYS = {\n    GLOBAL_STICKER: 'blmx_wechat_stickers_global_blmx', // 修改为与原版一致\n    CHAR_STICKER_PREFIX: 'blmx_char_stickers_blmx_', // 修改为与原版一致\n    PHONE_SIZE: 'blmx_phone_size',\n    FULLSCREEN_SIZE: 'blmx_fullscreen_size',\n    STICKER_SIZE: 'blmx_sticker_size',\n    MOMENT_NOTIFICATION: 'blmx_moment_notification',\n    MOMENT_LAST_VIEW: 'blmx_moment_last_view',\n    USER_NAME_PREFIX: 'blmx_user_name_',\n    USER_AVATAR_PREFIX: 'blmx_user_avatar_',\n    CHAR_AVATAR_PREFIX: 'blmx_char_avatar_',\n    CHAR_REMARK_PREFIX: 'blmx_remark_',\n    COVER_PHOTO_PREFIX: 'blmx_cover_photo_',\n    SIGNATURE_PREFIX: 'blmx_signature_',\n    INPUT_PLACEHOLDER_PREFIX: 'blmx_input_placeholder_',\n    LAST_NOTIFIED_VERSION: 'blmx_last_notified_version',\n};\n// 手机尺寸常量\nconst PHONE_SIZES = {\n    default: '48.75rem', // 默认尺寸: 48.75rem (780px)\n    medium: '42rem', // 中等尺寸: 42rem (672px)\n    small: '36rem', // 小尺寸: 36rem (576px)\n};\n// 全屏模式手机大小常量（缩放比例）\nconst FULLSCREEN_SIZES = {\n    default: 100, // 默认：100%\n    large: 130, // 大：130%\n    xlarge: 160, // 超大：160%\n};\n// 配置管理器类\nclass ConfigManager {\n    config;\n    defaultGlobalStickers = [{ label: '好的', url: 'https://files.catbox.moe/3j0tpc.jpeg' }];\n    constructor() {\n        // 初始化默认配置\n        this.config = {\n            avatars: { user: '', char: '' },\n            names: { user: 'User', char: 'Character' },\n            charRemark: '',\n            currentCharId: '',\n        };\n    }\n    // 获取配置\n    getConfig() {\n        return this.config;\n    }\n    // 设置配置\n    setConfig(config) {\n        this.config = { ...this.config, ...config };\n    }\n    // 获取显示名称\n    getDisplayName(type) {\n        if (type === 'char') {\n            return this.config.charRemark || this.config.names.char;\n        }\n        return this.config.names.user;\n    }\n    // 更新头像\n    updateAvatar(avatarType, newUrl) {\n        this.config.avatars[avatarType] = newUrl;\n        const storageKey = avatarType === 'user'\n            ? `${STORAGE_KEYS.USER_AVATAR_PREFIX}${this.config.currentCharId}`\n            : `${STORAGE_KEYS.CHAR_AVATAR_PREFIX}${this.config.currentCharId}`;\n        localStorage.setItem(storageKey, newUrl);\n    }\n    // 更新角色备注\n    updateCharRemark(newRemark) {\n        this.config.charRemark = newRemark;\n        localStorage.setItem(`${STORAGE_KEYS.CHAR_REMARK_PREFIX}${this.config.currentCharId}`, newRemark);\n    }\n    // 更新用户名\n    updateUserName(newName) {\n        this.config.names.user = newName;\n        localStorage.setItem(`${STORAGE_KEYS.USER_NAME_PREFIX}${this.config.currentCharId}`, newName);\n    }\n    // 查找表情包URL - 增加向后兼容性\n    findStickerUrlByName(name) {\n        // 尝试从新的存储键读取\n        let customGlobalStickers = _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.getItem(STORAGE_KEYS.GLOBAL_STICKER, []) || [];\n        let charStickers = _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.getItem(`${STORAGE_KEYS.CHAR_STICKER_PREFIX}${this.config.currentCharId}`, []) || [];\n        // 如果新存储键没有数据，尝试从旧存储键迁移\n        if (customGlobalStickers.length === 0) {\n            const oldGlobalStickers = _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.getItem('blmx_wechat_stickers_global', []) || [];\n            if (oldGlobalStickers.length > 0) {\n                // 迁移数据到新存储键\n                _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.setItem(STORAGE_KEYS.GLOBAL_STICKER, oldGlobalStickers);\n                customGlobalStickers = oldGlobalStickers;\n                console.log('[BLMX] 已迁移全局表情包数据到新存储键');\n            }\n        }\n        if (charStickers.length === 0) {\n            const oldCharStickers = _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.getItem(`blmx_char_stickers_${this.config.currentCharId}`, []) || [];\n            if (oldCharStickers.length > 0) {\n                // 迁移数据到新存储键\n                _utils__WEBPACK_IMPORTED_MODULE_0__.SafeStorage.setItem(`${STORAGE_KEYS.CHAR_STICKER_PREFIX}${this.config.currentCharId}`, oldCharStickers);\n                charStickers = oldCharStickers;\n                console.log('[BLMX] 已迁移角色表情包数据到新存储键');\n            }\n        }\n        const globalStickers = [...this.defaultGlobalStickers, ...customGlobalStickers];\n        return [...globalStickers, ...charStickers].find((s) => s.label === name)?.url;\n    }\n    // 从localStorage加载配置\n    async loadFromStorage(charData) {\n        this.config.currentCharId = charData.name;\n        this.config.names.char = charData.name;\n        // 加载保存的配置\n        this.config.charRemark =\n            localStorage.getItem(`${STORAGE_KEYS.CHAR_REMARK_PREFIX}${this.config.currentCharId}`) || '';\n        this.config.names.user =\n            localStorage.getItem(`${STORAGE_KEYS.USER_NAME_PREFIX}${this.config.currentCharId}`) || 'User';\n        this.config.avatars.user =\n            localStorage.getItem(`${STORAGE_KEYS.USER_AVATAR_PREFIX}${this.config.currentCharId}`) || '';\n        // 加载角色头像\n        const savedCharAvatar = localStorage.getItem(`${STORAGE_KEYS.CHAR_AVATAR_PREFIX}${this.config.currentCharId}`);\n        if (savedCharAvatar) {\n            this.config.avatars.char = savedCharAvatar;\n        }\n        else {\n            // 这里需要从外部获取角色头像路径\n            // 在实际使用时会通过参数传入\n            this.config.avatars.char = '';\n        }\n    }\n    // 获取朋友圈通知状态\n    getMomentNotificationState() {\n        const notificationState = localStorage.getItem(`${STORAGE_KEYS.MOMENT_NOTIFICATION}_${this.config.currentCharId}`);\n        return notificationState === 'true';\n    }\n    // 设置朋友圈通知状态\n    setMomentNotificationState(value) {\n        localStorage.setItem(`${STORAGE_KEYS.MOMENT_NOTIFICATION}_${this.config.currentCharId}`, value.toString());\n    }\n    // 获取最后查看朋友圈时的时间戳\n    getLastMomentViewTimestamp() {\n        const lastView = localStorage.getItem(`${STORAGE_KEYS.MOMENT_LAST_VIEW}_${this.config.currentCharId}`);\n        return lastView ? parseInt(lastView, 10) : 0;\n    }\n    // 设置最后查看朋友圈时的时间戳\n    setLastMomentViewTimestamp(timestamp) {\n        localStorage.setItem(`${STORAGE_KEYS.MOMENT_LAST_VIEW}_${this.config.currentCharId}`, timestamp.toString());\n    }\n    // 获取保存的封面图片\n    getSavedCoverPhoto() {\n        return localStorage.getItem(`${STORAGE_KEYS.COVER_PHOTO_PREFIX}${this.config.currentCharId}`);\n    }\n    // 设置封面图片\n    setCoverPhoto(url) {\n        localStorage.setItem(`${STORAGE_KEYS.COVER_PHOTO_PREFIX}${this.config.currentCharId}`, url);\n    }\n    // 获取保存的个性签名\n    getSavedSignature() {\n        return localStorage.getItem(`${STORAGE_KEYS.SIGNATURE_PREFIX}${this.config.currentCharId}`) || '';\n    }\n    // 设置个性签名\n    setSignature(signature) {\n        localStorage.setItem(`${STORAGE_KEYS.SIGNATURE_PREFIX}${this.config.currentCharId}`, signature);\n    }\n    // 获取保存的输入框占位符\n    getSavedInputPlaceholder() {\n        return localStorage.getItem(`${STORAGE_KEYS.INPUT_PLACEHOLDER_PREFIX}${this.config.currentCharId}`);\n    }\n    // 设置输入框占位符\n    setInputPlaceholder(placeholder) {\n        localStorage.setItem(`${STORAGE_KEYS.INPUT_PLACEHOLDER_PREFIX}${this.config.currentCharId}`, placeholder);\n    }\n    // 获取手机尺寸设置\n    getPhoneSize() {\n        const savedSize = localStorage.getItem(STORAGE_KEYS.PHONE_SIZE) || 'default';\n        return savedSize === 'medium' ? 'medium' : savedSize === 'small' ? 'small' : 'default';\n    }\n    // 设置手机尺寸\n    setPhoneSize(size) {\n        localStorage.setItem(STORAGE_KEYS.PHONE_SIZE, size);\n    }\n    // 获取全屏模式手机大小设置（百分比）\n    getFullscreenSize() {\n        const savedSize = localStorage.getItem(STORAGE_KEYS.FULLSCREEN_SIZE) || '100';\n        const size = parseInt(savedSize, 10);\n        // 确保在有效范围内\n        return Math.max(50, Math.min(200, size));\n    }\n    // 设置全屏模式手机大小（百分比）\n    setFullscreenSize(size) {\n        // 确保在有效范围内\n        const clampedSize = Math.max(50, Math.min(200, size));\n        localStorage.setItem(STORAGE_KEYS.FULLSCREEN_SIZE, clampedSize.toString());\n    }\n    // 获取表情包尺寸设置\n    getStickerSize() {\n        const savedSize = localStorage.getItem(STORAGE_KEYS.STICKER_SIZE) || '120';\n        return parseInt(savedSize, 10);\n    }\n    // 设置表情包尺寸\n    setStickerSize(size) {\n        localStorage.setItem(STORAGE_KEYS.STICKER_SIZE, size.toString());\n    }\n    // 获取版本通知状态\n    getLastNotifiedVersion() {\n        return localStorage.getItem(STORAGE_KEYS.LAST_NOTIFIED_VERSION);\n    }\n    // 设置版本通知状态\n    setLastNotifiedVersion(version) {\n        localStorage.setItem(STORAGE_KEYS.LAST_NOTIFIED_VERSION, version);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxXQUFXO0lBQ1gsc0JBQXNCLENBQUMsT0FBZTtRQUNwQyxZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WQjOWxguaJi+acui9jb25maWctbWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDphY3nva7nrqHnkIbmqKHlnZdcbi8vIOi0n+i0o+euoeeQhuW6lOeUqOmFjee9ruOAgeW4uOmHj+WumuS5ieWSjOmFjee9ruWIneWni+WMllxuXG5pbXBvcnQgeyBTYWZlU3RvcmFnZSB9IGZyb20gJy4vdXRpbHMnO1xuXG4vLyDnsbvlnovlrprkuYlcbmV4cG9ydCBpbnRlcmZhY2UgQXBwQ29uZmlnIHtcbiAgYXZhdGFyczoge1xuICAgIHVzZXI6IHN0cmluZztcbiAgICBjaGFyOiBzdHJpbmc7XG4gIH07XG4gIG5hbWVzOiB7XG4gICAgdXNlcjogc3RyaW5nO1xuICAgIGNoYXI6IHN0cmluZztcbiAgfTtcbiAgY2hhclJlbWFyazogc3RyaW5nO1xuICBjdXJyZW50Q2hhcklkOiBzdHJpbmc7XG59XG5cbi8vIOihqOaDheWMheWumuS5iVxuZXhwb3J0IGludGVyZmFjZSBTdGlja2VyIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG59XG5cbi8vIOW4uOmHj+WumuS5iVxuZXhwb3J0IGNvbnN0IFNUT1JBR0VfS0VZUyA9IHtcbiAgR0xPQkFMX1NUSUNLRVI6ICdibG14X3dlY2hhdF9zdGlja2Vyc19nbG9iYWxfYmxteCcsIC8vIOS/ruaUueS4uuS4juWOn+eJiOS4gOiHtFxuICBDSEFSX1NUSUNLRVJfUFJFRklYOiAnYmxteF9jaGFyX3N0aWNrZXJzX2JsbXhfJywgLy8g5L+u5pS55Li65LiO5Y6f54mI5LiA6Ie0XG4gIFBIT05FX1NJWkU6ICdibG14X3Bob25lX3NpemUnLFxuICBGVUxMU0NSRUVOX1NJWkU6ICdibG14X2Z1bGxzY3JlZW5fc2l6ZScsXG4gIFNUSUNLRVJfU0laRTogJ2JsbXhfc3RpY2tlcl9zaXplJyxcbiAgTU9NRU5UX05PVElGSUNBVElPTjogJ2JsbXhfbW9tZW50X25vdGlmaWNhdGlvbicsXG4gIE1PTUVOVF9MQVNUX1ZJRVc6ICdibG14X21vbWVudF9sYXN0X3ZpZXcnLFxuICBVU0VSX05BTUVfUFJFRklYOiAnYmxteF91c2VyX25hbWVfJyxcbiAgVVNFUl9BVkFUQVJfUFJFRklYOiAnYmxteF91c2VyX2F2YXRhcl8nLFxuICBDSEFSX0FWQVRBUl9QUkVGSVg6ICdibG14X2NoYXJfYXZhdGFyXycsXG4gIENIQVJfUkVNQVJLX1BSRUZJWDogJ2JsbXhfcmVtYXJrXycsXG4gIENPVkVSX1BIT1RPX1BSRUZJWDogJ2JsbXhfY292ZXJfcGhvdG9fJyxcbiAgU0lHTkFUVVJFX1BSRUZJWDogJ2JsbXhfc2lnbmF0dXJlXycsXG4gIElOUFVUX1BMQUNFSE9MREVSX1BSRUZJWDogJ2JsbXhfaW5wdXRfcGxhY2Vob2xkZXJfJyxcbiAgTEFTVF9OT1RJRklFRF9WRVJTSU9OOiAnYmxteF9sYXN0X25vdGlmaWVkX3ZlcnNpb24nLFxufSBhcyBjb25zdDtcblxuLy8g5omL5py65bC65a+45bi46YePXG5leHBvcnQgY29uc3QgUEhPTkVfU0laRVMgPSB7XG4gIGRlZmF1bHQ6ICc0OC43NXJlbScsIC8vIOm7mOiupOWwuuWvuDogNDguNzVyZW0gKDc4MHB4KVxuICBtZWRpdW06ICc0MnJlbScsIC8vIOS4reetieWwuuWvuDogNDJyZW0gKDY3MnB4KVxuICBzbWFsbDogJzM2cmVtJywgLy8g5bCP5bC65a+4OiAzNnJlbSAoNTc2cHgpXG59IGFzIGNvbnN0O1xuXG4vLyDlhajlsY/mqKHlvI/miYvmnLrlpKflsI/luLjph4/vvIjnvKnmlL7mr5TkvovvvIlcbmV4cG9ydCBjb25zdCBGVUxMU0NSRUVOX1NJWkVTID0ge1xuICBkZWZhdWx0OiAxMDAsIC8vIOm7mOiupO+8mjEwMCVcbiAgbGFyZ2U6IDEzMCwgLy8g5aSn77yaMTMwJVxuICB4bGFyZ2U6IDE2MCwgLy8g6LaF5aSn77yaMTYwJVxufSBhcyBjb25zdDtcblxuLy8g6YWN572u566h55CG5Zmo57G7XG5leHBvcnQgY2xhc3MgQ29uZmlnTWFuYWdlciB7XG4gIHByaXZhdGUgY29uZmlnOiBBcHBDb25maWc7XG4gIHByaXZhdGUgZGVmYXVsdEdsb2JhbFN0aWNrZXJzOiBTdGlja2VyW10gPSBbeyBsYWJlbDogJ+WlveeahCcsIHVybDogJ2h0dHBzOi8vZmlsZXMuY2F0Ym94Lm1vZS8zajB0cGMuanBlZycgfV07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5Yid5aeL5YyW6buY6K6k6YWN572uXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBhdmF0YXJzOiB7IHVzZXI6ICcnLCBjaGFyOiAnJyB9LFxuICAgICAgbmFtZXM6IHsgdXNlcjogJ1VzZXInLCBjaGFyOiAnQ2hhcmFjdGVyJyB9LFxuICAgICAgY2hhclJlbWFyazogJycsXG4gICAgICBjdXJyZW50Q2hhcklkOiAnJyxcbiAgICB9O1xuICB9XG5cbiAgLy8g6I635Y+W6YWN572uXG4gIGdldENvbmZpZygpOiBBcHBDb25maWcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgfVxuXG4gIC8vIOiuvue9rumFjee9rlxuICBzZXRDb25maWcoY29uZmlnOiBQYXJ0aWFsPEFwcENvbmZpZz4pOiB2b2lkIHtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4udGhpcy5jb25maWcsIC4uLmNvbmZpZyB9O1xuICB9XG5cbiAgLy8g6I635Y+W5pi+56S65ZCN56ewXG4gIGdldERpc3BsYXlOYW1lKHR5cGU6ICd1c2VyJyB8ICdjaGFyJyk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGUgPT09ICdjaGFyJykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNoYXJSZW1hcmsgfHwgdGhpcy5jb25maWcubmFtZXMuY2hhcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLm5hbWVzLnVzZXI7XG4gIH1cblxuICAvLyDmm7TmlrDlpLTlg49cbiAgdXBkYXRlQXZhdGFyKGF2YXRhclR5cGU6ICd1c2VyJyB8ICdjaGFyJywgbmV3VXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmNvbmZpZy5hdmF0YXJzW2F2YXRhclR5cGVdID0gbmV3VXJsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXkgPVxuICAgICAgYXZhdGFyVHlwZSA9PT0gJ3VzZXInXG4gICAgICAgID8gYCR7U1RPUkFHRV9LRVlTLlVTRVJfQVZBVEFSX1BSRUZJWH0ke3RoaXMuY29uZmlnLmN1cnJlbnRDaGFySWR9YFxuICAgICAgICA6IGAke1NUT1JBR0VfS0VZUy5DSEFSX0FWQVRBUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWA7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgbmV3VXJsKTtcbiAgfVxuXG4gIC8vIOabtOaWsOinkuiJsuWkh+azqFxuICB1cGRhdGVDaGFyUmVtYXJrKG5ld1JlbWFyazogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jb25maWcuY2hhclJlbWFyayA9IG5ld1JlbWFyaztcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtTVE9SQUdFX0tFWVMuQ0hBUl9SRU1BUktfUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gLCBuZXdSZW1hcmspO1xuICB9XG5cbiAgLy8g5pu05paw55So5oi35ZCNXG4gIHVwZGF0ZVVzZXJOYW1lKG5ld05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29uZmlnLm5hbWVzLnVzZXIgPSBuZXdOYW1lO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5VU0VSX05BTUVfUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gLCBuZXdOYW1lKTtcbiAgfVxuXG4gIC8vIOafpeaJvuihqOaDheWMhVVSTCAtIOWinuWKoOWQkeWQjuWFvOWuueaAp1xuICBmaW5kU3RpY2tlclVybEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIC8vIOWwneivleS7juaWsOeahOWtmOWCqOmUruivu+WPllxuICAgIGxldCBjdXN0b21HbG9iYWxTdGlja2VycyA9IFNhZmVTdG9yYWdlLmdldEl0ZW08YW55W10+KFNUT1JBR0VfS0VZUy5HTE9CQUxfU1RJQ0tFUiwgW10pIHx8IFtdO1xuICAgIGxldCBjaGFyU3RpY2tlcnMgPVxuICAgICAgU2FmZVN0b3JhZ2UuZ2V0SXRlbTxhbnlbXT4oYCR7U1RPUkFHRV9LRVlTLkNIQVJfU1RJQ0tFUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWAsIFtdKSB8fCBbXTtcblxuICAgIC8vIOWmguaenOaWsOWtmOWCqOmUruayoeacieaVsOaNru+8jOWwneivleS7juaXp+WtmOWCqOmUrui/geenu1xuICAgIGlmIChjdXN0b21HbG9iYWxTdGlja2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IG9sZEdsb2JhbFN0aWNrZXJzID0gU2FmZVN0b3JhZ2UuZ2V0SXRlbTxhbnlbXT4oJ2JsbXhfd2VjaGF0X3N0aWNrZXJzX2dsb2JhbCcsIFtdKSB8fCBbXTtcbiAgICAgIGlmIChvbGRHbG9iYWxTdGlja2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIOi/geenu+aVsOaNruWIsOaWsOWtmOWCqOmUrlxuICAgICAgICBTYWZlU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5HTE9CQUxfU1RJQ0tFUiwgb2xkR2xvYmFsU3RpY2tlcnMpO1xuICAgICAgICBjdXN0b21HbG9iYWxTdGlja2VycyA9IG9sZEdsb2JhbFN0aWNrZXJzO1xuICAgICAgICBjb25zb2xlLmxvZygnW0JMTVhdIOW3sui/geenu+WFqOWxgOihqOaDheWMheaVsOaNruWIsOaWsOWtmOWCqOmUricpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFyU3RpY2tlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBvbGRDaGFyU3RpY2tlcnMgPSBTYWZlU3RvcmFnZS5nZXRJdGVtPGFueVtdPihgYmxteF9jaGFyX3N0aWNrZXJzXyR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gLCBbXSkgfHwgW107XG4gICAgICBpZiAob2xkQ2hhclN0aWNrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8g6L+B56e75pWw5o2u5Yiw5paw5a2Y5YKo6ZSuXG4gICAgICAgIFNhZmVTdG9yYWdlLnNldEl0ZW0oYCR7U1RPUkFHRV9LRVlTLkNIQVJfU1RJQ0tFUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWAsIG9sZENoYXJTdGlja2Vycyk7XG4gICAgICAgIGNoYXJTdGlja2VycyA9IG9sZENoYXJTdGlja2VycztcbiAgICAgICAgY29uc29sZS5sb2coJ1tCTE1YXSDlt7Lov4Hnp7vop5LoibLooajmg4XljIXmlbDmja7liLDmlrDlrZjlgqjplK4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnbG9iYWxTdGlja2VycyA9IFsuLi50aGlzLmRlZmF1bHRHbG9iYWxTdGlja2VycywgLi4uY3VzdG9tR2xvYmFsU3RpY2tlcnNdO1xuICAgIHJldHVybiBbLi4uZ2xvYmFsU3RpY2tlcnMsIC4uLmNoYXJTdGlja2Vyc10uZmluZCgoczogU3RpY2tlcikgPT4gcy5sYWJlbCA9PT0gbmFtZSk/LnVybDtcbiAgfVxuXG4gIC8vIOS7jmxvY2FsU3RvcmFnZeWKoOi9vemFjee9rlxuICBhc3luYyBsb2FkRnJvbVN0b3JhZ2UoY2hhckRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuY29uZmlnLmN1cnJlbnRDaGFySWQgPSBjaGFyRGF0YS5uYW1lO1xuICAgIHRoaXMuY29uZmlnLm5hbWVzLmNoYXIgPSBjaGFyRGF0YS5uYW1lO1xuXG4gICAgLy8g5Yqg6L295L+d5a2Y55qE6YWN572uXG4gICAgdGhpcy5jb25maWcuY2hhclJlbWFyayA9XG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtTVE9SQUdFX0tFWVMuQ0hBUl9SRU1BUktfUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gKSB8fCAnJztcbiAgICB0aGlzLmNvbmZpZy5uYW1lcy51c2VyID1cbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5VU0VSX05BTUVfUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gKSB8fCAnVXNlcic7XG4gICAgdGhpcy5jb25maWcuYXZhdGFycy51c2VyID1cbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5VU0VSX0FWQVRBUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWApIHx8ICcnO1xuXG4gICAgLy8g5Yqg6L296KeS6Imy5aS05YOPXG4gICAgY29uc3Qgc2F2ZWRDaGFyQXZhdGFyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7U1RPUkFHRV9LRVlTLkNIQVJfQVZBVEFSX1BSRUZJWH0ke3RoaXMuY29uZmlnLmN1cnJlbnRDaGFySWR9YCk7XG4gICAgaWYgKHNhdmVkQ2hhckF2YXRhcikge1xuICAgICAgdGhpcy5jb25maWcuYXZhdGFycy5jaGFyID0gc2F2ZWRDaGFyQXZhdGFyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDov5nph4zpnIDopoHku47lpJbpg6jojrflj5bop5LoibLlpLTlg4/ot6/lvoRcbiAgICAgIC8vIOWcqOWunumZheS9v+eUqOaXtuS8mumAmui/h+WPguaVsOS8oOWFpVxuICAgICAgdGhpcy5jb25maWcuYXZhdGFycy5jaGFyID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5pyL5Y+L5ZyI6YCa55+l54q25oCBXG4gIGdldE1vbWVudE5vdGlmaWNhdGlvblN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvblN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7U1RPUkFHRV9LRVlTLk1PTUVOVF9OT1RJRklDQVRJT059XyR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gKTtcbiAgICByZXR1cm4gbm90aWZpY2F0aW9uU3RhdGUgPT09ICd0cnVlJztcbiAgfVxuXG4gIC8vIOiuvue9ruaci+WPi+WciOmAmuefpeeKtuaAgVxuICBzZXRNb21lbnROb3RpZmljYXRpb25TdGF0ZSh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5NT01FTlRfTk9USUZJQ0FUSU9OfV8ke3RoaXMuY29uZmlnLmN1cnJlbnRDaGFySWR9YCwgdmFsdWUudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvLyDojrflj5bmnIDlkI7mn6XnnIvmnIvlj4vlnIjml7bnmoTml7bpl7TmiLNcbiAgZ2V0TGFzdE1vbWVudFZpZXdUaW1lc3RhbXAoKTogbnVtYmVyIHtcbiAgICBjb25zdCBsYXN0VmlldyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5NT01FTlRfTEFTVF9WSUVXfV8ke3RoaXMuY29uZmlnLmN1cnJlbnRDaGFySWR9YCk7XG4gICAgcmV0dXJuIGxhc3RWaWV3ID8gcGFyc2VJbnQobGFzdFZpZXcsIDEwKSA6IDA7XG4gIH1cblxuICAvLyDorr7nva7mnIDlkI7mn6XnnIvmnIvlj4vlnIjml7bnmoTml7bpl7TmiLNcbiAgc2V0TGFzdE1vbWVudFZpZXdUaW1lc3RhbXAodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtTVE9SQUdFX0tFWVMuTU9NRU5UX0xBU1RfVklFV31fJHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWAsIHRpbWVzdGFtcC50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8vIOiOt+WPluS/neWtmOeahOWwgemdouWbvueJh1xuICBnZXRTYXZlZENvdmVyUGhvdG8oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5DT1ZFUl9QSE9UT19QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWApO1xuICB9XG5cbiAgLy8g6K6+572u5bCB6Z2i5Zu+54mHXG4gIHNldENvdmVyUGhvdG8odXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtTVE9SQUdFX0tFWVMuQ09WRVJfUEhPVE9fUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gLCB1cmwpO1xuICB9XG5cbiAgLy8g6I635Y+W5L+d5a2Y55qE5Liq5oCn562+5ZCNXG4gIGdldFNhdmVkU2lnbmF0dXJlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5TSUdOQVRVUkVfUFJFRklYfSR7dGhpcy5jb25maWcuY3VycmVudENoYXJJZH1gKSB8fCAnJztcbiAgfVxuXG4gIC8vIOiuvue9ruS4quaAp+etvuWQjVxuICBzZXRTaWduYXR1cmUoc2lnbmF0dXJlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtTVE9SQUdFX0tFWVMuU0lHTkFUVVJFX1BSRUZJWH0ke3RoaXMuY29uZmlnLmN1cnJlbnRDaGFySWR9YCwgc2lnbmF0dXJlKTtcbiAgfVxuXG4gIC8vIOiOt+WPluS/neWtmOeahOi+k+WFpeahhuWNoOS9jeesplxuICBnZXRTYXZlZElucHV0UGxhY2Vob2xkZXIoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5JTlBVVF9QTEFDRUhPTERFUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWApO1xuICB9XG5cbiAgLy8g6K6+572u6L6T5YWl5qGG5Y2g5L2N56ymXG4gIHNldElucHV0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXI6IHN0cmluZyk6IHZvaWQge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1NUT1JBR0VfS0VZUy5JTlBVVF9QTEFDRUhPTERFUl9QUkVGSVh9JHt0aGlzLmNvbmZpZy5jdXJyZW50Q2hhcklkfWAsIHBsYWNlaG9sZGVyKTtcbiAgfVxuXG4gIC8vIOiOt+WPluaJi+acuuWwuuWvuOiuvue9rlxuICBnZXRQaG9uZVNpemUoKTogJ2RlZmF1bHQnIHwgJ21lZGl1bScgfCAnc21hbGwnIHtcbiAgICBjb25zdCBzYXZlZFNpemUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuUEhPTkVfU0laRSkgfHwgJ2RlZmF1bHQnO1xuICAgIHJldHVybiBzYXZlZFNpemUgPT09ICdtZWRpdW0nID8gJ21lZGl1bScgOiBzYXZlZFNpemUgPT09ICdzbWFsbCcgPyAnc21hbGwnIDogJ2RlZmF1bHQnO1xuICB9XG5cbiAgLy8g6K6+572u5omL5py65bC65a+4XG4gIHNldFBob25lU2l6ZShzaXplOiAnZGVmYXVsdCcgfCAnbWVkaXVtJyB8ICdzbWFsbCcpOiB2b2lkIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUEhPTkVfU0laRSwgc2l6ZSk7XG4gIH1cblxuICAvLyDojrflj5blhajlsY/mqKHlvI/miYvmnLrlpKflsI/orr7nva7vvIjnmb7liIbmr5TvvIlcbiAgZ2V0RnVsbHNjcmVlblNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzYXZlZFNpemUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuRlVMTFNDUkVFTl9TSVpFKSB8fCAnMTAwJztcbiAgICBjb25zdCBzaXplID0gcGFyc2VJbnQoc2F2ZWRTaXplLCAxMCk7XG4gICAgLy8g56Gu5L+d5Zyo5pyJ5pWI6IyD5Zu05YaFXG4gICAgcmV0dXJuIE1hdGgubWF4KDUwLCBNYXRoLm1pbigyMDAsIHNpemUpKTtcbiAgfVxuXG4gIC8vIOiuvue9ruWFqOWxj+aooeW8j+aJi+acuuWkp+Wwj++8iOeZvuWIhuavlO+8iVxuICBzZXRGdWxsc2NyZWVuU2l6ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyDnoa7kv53lnKjmnInmlYjojIPlm7TlhoVcbiAgICBjb25zdCBjbGFtcGVkU2l6ZSA9IE1hdGgubWF4KDUwLCBNYXRoLm1pbigyMDAsIHNpemUpKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuRlVMTFNDUkVFTl9TSVpFLCBjbGFtcGVkU2l6ZS50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8vIOiOt+WPluihqOaDheWMheWwuuWvuOiuvue9rlxuICBnZXRTdGlja2VyU2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNhdmVkU2l6ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZUy5TVElDS0VSX1NJWkUpIHx8ICcxMjAnO1xuICAgIHJldHVybiBwYXJzZUludChzYXZlZFNpemUsIDEwKTtcbiAgfVxuXG4gIC8vIOiuvue9ruihqOaDheWMheWwuuWvuFxuICBzZXRTdGlja2VyU2l6ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuU1RJQ0tFUl9TSVpFLCBzaXplLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLy8g6I635Y+W54mI5pys6YCa55+l54q25oCBXG4gIGdldExhc3ROb3RpZmllZFZlcnNpb24oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZUy5MQVNUX05PVElGSUVEX1ZFUlNJT04pO1xuICB9XG5cbiAgLy8g6K6+572u54mI5pys6YCa55+l54q25oCBXG4gIHNldExhc3ROb3RpZmllZFZlcnNpb24odmVyc2lvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkxBU1RfTk9USUZJRURfVkVSU0lPTiwgdmVyc2lvbik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/config-manager.ts\n\n}");
  },
  "./src/同层手机/debug-data.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTestEntry: () => (/* binding */ addTestEntry),\n/* harmony export */   clearDebugData: () => (/* binding */ clearDebugData),\n/* harmony export */   debugData: () => (/* binding */ debugData),\n/* harmony export */   loadDebugData: () => (/* binding */ loadDebugData),\n/* harmony export */   showDebugInfo: () => (/* binding */ showDebugInfo),\n/* harmony export */   showTestEntryTypes: () => (/* binding */ showTestEntryTypes)\n/* harmony export */ });\n// debug-data.ts\n// 此文件包含用于测试和调试的数据\n// 在发布前应删除或注释掉对此文件的引用\n// 获取当前日期和时间\nconst getCurrentDate = () => {\n    const now = new Date();\n    return `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now\n        .getDate()\n        .toString()\n        .padStart(2, '0')}`;\n};\nconst getCurrentTime = () => {\n    const now = new Date();\n    return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;\n};\n// 生成随机ID\nconst generateId = (prefix) => {\n    return `${prefix}_${Date.now()}_${Math.floor(Math.random() * 1000)}`;\n};\n// 测试数据\nconst debugData = [\n    // 系统时间条目\n    {\n        type: 'time',\n        content: {\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n        },\n    },\n    // 系统事件条目\n    {\n        type: 'event',\n        content: {\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n            description: '调试模式已启用',\n        },\n    },\n    // 文本消息 - 用户\n    {\n        id: generateId('msg'),\n        type: 'message',\n        sender: 'me',\n        content: '你好，这是一条测试消息',\n    },\n    // 文本消息 - AI\n    {\n        id: generateId('msg'),\n        type: 'message',\n        sender: 'them',\n        content: '你好！很高兴见到你，这是一条AI回复的测试消息。',\n    },\n    // 表情消息 - 用户\n    {\n        id: generateId('sticker'),\n        type: 'sticker',\n        sender: 'me',\n        content: '好的',\n    },\n    // 表情消息 - AI\n    {\n        id: generateId('sticker'),\n        type: 'sticker',\n        sender: 'them',\n        content: '好的',\n    },\n    // 图片消息 - 用户\n    {\n        id: generateId('img'),\n        type: 'image',\n        sender: 'me',\n        content: {\n            type: 'url',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_1.jpg',\n        },\n    },\n    // 图片消息 - AI\n    {\n        id: generateId('img'),\n        type: 'image',\n        sender: 'them',\n        content: {\n            type: 'url',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色星星_1.jpg',\n        },\n    },\n    // 图片消息 - 描述类型\n    {\n        id: generateId('img'),\n        type: 'image',\n        sender: 'them',\n        content: {\n            type: 'desc',\n            value: '这是一张描述类型的图片，实际上不会显示图片内容',\n        },\n    },\n    // 语音消息 - 用户\n    {\n        id: generateId('voice'),\n        type: 'voice',\n        sender: 'me',\n        content: {\n            text: '这是一条测试语音消息的文本内容',\n            duration: 5,\n        },\n    },\n    // 语音消息 - AI\n    {\n        id: generateId('voice'),\n        type: 'voice',\n        sender: 'them',\n        content: {\n            text: '这是AI回复的语音消息文本内容',\n            duration: 8,\n        },\n    },\n    // 位置消息 - 用户\n    {\n        id: generateId('loc'),\n        type: 'location',\n        sender: 'me',\n        content: '北京市朝阳区三里屯',\n    },\n    // 位置消息 - AI\n    {\n        id: generateId('loc'),\n        type: 'location',\n        sender: 'them',\n        content: '上海市浦东新区陆家嘴',\n    },\n    // 转账消息 - 用户发送\n    {\n        id: generateId('transfer'),\n        type: 'transfer',\n        sender: 'me',\n        content: JSON.stringify({\n            amount: '88.88',\n            note: '测试转账',\n            status: 'sent',\n        }),\n        data: {\n            amount: '88.88',\n            note: '测试转账',\n            status: 'sent',\n        },\n    },\n    // 转账消息 - AI接受\n    {\n        id: generateId('transfer'),\n        type: 'transfer',\n        sender: 'them',\n        content: JSON.stringify({\n            amount: '88.88',\n            note: '测试转账',\n            status: 'accepted',\n        }),\n        data: {\n            amount: '88.88',\n            note: '测试转账',\n            status: 'accepted',\n        },\n    },\n    // 转账消息 - AI发送\n    {\n        id: generateId('transfer'),\n        type: 'transfer',\n        sender: 'them',\n        content: JSON.stringify({\n            amount: '66.66',\n            note: 'AI测试转账',\n            status: 'sent',\n        }),\n        data: {\n            amount: '66.66',\n            note: 'AI测试转账',\n            status: 'sent',\n        },\n    },\n    // 转账消息 - 用户接受\n    {\n        id: generateId('transfer'),\n        type: 'transfer',\n        sender: 'me',\n        content: JSON.stringify({\n            amount: '66.66',\n            note: 'AI测试转账',\n            status: 'accepted',\n        }),\n        data: {\n            amount: '66.66',\n            note: 'AI测试转账',\n            status: 'accepted',\n        },\n    },\n    // 礼物消息 - 用户发送\n    {\n        id: generateId('gift'),\n        type: 'gift',\n        sender: 'me',\n        content: JSON.stringify({\n            name: '生日蛋糕',\n            price: '99.99',\n            status: 'sent',\n        }),\n        data: {\n            name: '生日蛋糕',\n            price: '99.99',\n            status: 'sent',\n        },\n    },\n    // 礼物消息 - AI接受\n    {\n        id: generateId('gift'),\n        type: 'gift',\n        sender: 'them',\n        content: JSON.stringify({\n            name: '生日蛋糕',\n            status: 'accepted',\n        }),\n        data: {\n            name: '生日蛋糕',\n            status: 'accepted',\n        },\n    },\n    // 礼物消息 - AI发送\n    {\n        id: generateId('gift'),\n        type: 'gift',\n        sender: 'them',\n        content: JSON.stringify({\n            name: '巧克力',\n            price: '39.99',\n            status: 'sent',\n        }),\n        data: {\n            name: '巧克力',\n            price: '39.99',\n            status: 'sent',\n        },\n    },\n    // 礼物消息 - 用户接受\n    {\n        id: generateId('gift'),\n        type: 'gift',\n        sender: 'me',\n        content: JSON.stringify({\n            name: '巧克力',\n            status: 'accepted',\n        }),\n        data: {\n            name: '巧克力',\n            status: 'accepted',\n        },\n    },\n    // 文件消息 - 用户\n    {\n        id: generateId('file'),\n        type: 'file',\n        sender: 'me',\n        content: '测试文档.docx',\n    },\n    // 文件消息 - AI\n    {\n        id: generateId('file'),\n        type: 'file',\n        sender: 'them',\n        content: '重要资料.pdf',\n    },\n    // 朋友圈 - 用户发布\n    {\n        key: 'USER_MOMENT',\n        data: {\n            text: '这是用户发布的朋友圈测试内容',\n            image: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_2.jpg',\n            image_type: 'url',\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n        },\n    },\n    // 朋友圈 - AI发布\n    {\n        key: 'CHAR_MOMENT',\n        data: {\n            text: '这是AI发布的朋友圈测试内容',\n            image: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色小猫_1.jpg',\n            image_type: 'url',\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n        },\n    },\n    // 朋友圈 - 纯文本\n    {\n        key: 'CHAR_MOMENT',\n        data: {\n            text: '这是一条没有图片的朋友圈',\n            image: '',\n            image_type: 'none',\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n        },\n    },\n    // 朋友圈 - 图片描述\n    {\n        key: 'USER_MOMENT',\n        data: {\n            text: '这是带有图片描述的朋友圈',\n            image: '一张美丽的风景照片',\n            image_type: 'desc',\n            image_desc: '一张美丽的风景照片',\n            date: getCurrentDate(),\n            time: getCurrentTime(),\n        },\n    },\n    // 朋友圈评论 - 用户评论\n    {\n        key: 'USER_COMMENT',\n        data: {\n            text: '这是用户的评论',\n            target_post_id: 1,\n        },\n    },\n    // 朋友圈评论 - AI评论\n    {\n        key: 'CHAR_COMMENT',\n        data: {\n            text: '这是AI的评论',\n            target_post_id: 0,\n        },\n    },\n    // 朋友圈点赞 - 用户点赞\n    {\n        key: 'USER_LIKE',\n        data: {\n            target_post_id: 1,\n        },\n    },\n    // 朋友圈点赞 - AI点赞\n    {\n        key: 'CHAR_LIKE',\n        data: {\n            target_post_id: 0,\n        },\n    },\n    // 撤回消息示例\n    {\n        id: generateId('msg'),\n        type: 'message',\n        sender: 'them',\n        content: '这条消息将被撤回',\n        recalled: true,\n        recalled_content: '这条消息将被撤回',\n        recalled_timestamp: getCurrentTime(),\n    },\n];\n// 加载调试数据的函数 - 优化版本，减少性能消耗\nfunction loadDebugData(blmxManager) {\n    // 检查是否在开发模式\n    const isDevelopment = window.location.hostname === 'localhost' || window.location.search.includes('debug=true');\n    if (!isDevelopment) {\n        console.log('[DEBUG] 生产模式，跳过调试数据加载');\n        return;\n    }\n    console.log('[DEBUG] 正在加载调试数据...');\n    // 批量添加，减少单次操作\n    const batchSize = 10;\n    let index = 0;\n    const addBatch = () => {\n        const batch = debugData.slice(index, index + batchSize);\n        batch.forEach(entry => {\n            blmxManager.addEntry(entry);\n        });\n        index += batchSize;\n        if (index < debugData.length) {\n            // 使用requestAnimationFrame避免阻塞UI\n            requestAnimationFrame(addBatch);\n        }\n        else {\n            console.log('[DEBUG] 调试数据加载完成，共加载', debugData.length, '条数据');\n        }\n    };\n    addBatch();\n}\n// 清除调试数据的函数\nfunction clearDebugData(blmxManager) {\n    console.log('[DEBUG] 正在清除调试数据...');\n    blmxManager.logEntries = [];\n    console.log('[DEBUG] 调试数据已清除');\n}\n// 添加单个测试数据的函数，方便在控制台中使用\nfunction addTestEntry(blmxManager, entryType) {\n    let entry = null;\n    switch (entryType) {\n        case 'text-user':\n            entry = {\n                id: generateId('msg'),\n                type: 'message',\n                sender: 'me',\n                content: '这是一条测试文本消息',\n            };\n            break;\n        case 'text-char':\n            entry = {\n                id: generateId('msg'),\n                type: 'message',\n                sender: 'them',\n                content: '这是一条AI回复的测试消息',\n            };\n            break;\n        case 'sticker-user':\n            entry = {\n                id: generateId('sticker'),\n                type: 'sticker',\n                sender: 'me',\n                content: '好的',\n            };\n            break;\n        case 'sticker-char':\n            entry = {\n                id: generateId('sticker'),\n                type: 'sticker',\n                sender: 'them',\n                content: '好的',\n            };\n            break;\n        case 'image-user':\n            entry = {\n                id: generateId('img'),\n                type: 'image',\n                sender: 'me',\n                content: {\n                    type: 'url',\n                    value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_1.jpg',\n                },\n            };\n            break;\n        case 'image-char':\n            entry = {\n                id: generateId('img'),\n                type: 'image',\n                sender: 'them',\n                content: {\n                    type: 'url',\n                    value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色星星_1.jpg',\n                },\n            };\n            break;\n        case 'voice-user':\n            entry = {\n                id: generateId('voice'),\n                type: 'voice',\n                sender: 'me',\n                content: {\n                    text: '这是一条测试语音消息',\n                    duration: 3,\n                },\n            };\n            break;\n        case 'voice-char':\n            entry = {\n                id: generateId('voice'),\n                type: 'voice',\n                sender: 'them',\n                content: {\n                    text: '这是AI的测试语音消息',\n                    duration: 4,\n                },\n            };\n            break;\n        case 'transfer-user':\n            entry = {\n                id: generateId('transfer'),\n                type: 'transfer',\n                sender: 'me',\n                content: JSON.stringify({\n                    amount: '88.88',\n                    note: '测试转账',\n                    status: 'sent',\n                }),\n                data: {\n                    amount: '88.88',\n                    note: '测试转账',\n                    status: 'sent',\n                },\n            };\n            break;\n        case 'transfer-char':\n            entry = {\n                id: generateId('transfer'),\n                type: 'transfer',\n                sender: 'them',\n                content: JSON.stringify({\n                    amount: '66.66',\n                    note: 'AI测试转账',\n                    status: 'sent',\n                }),\n                data: {\n                    amount: '66.66',\n                    note: 'AI测试转账',\n                    status: 'sent',\n                },\n            };\n            break;\n        case 'gift-user':\n            entry = {\n                id: generateId('gift'),\n                type: 'gift',\n                sender: 'me',\n                content: JSON.stringify({\n                    name: '生日蛋糕',\n                    price: '99.99',\n                    status: 'sent',\n                }),\n                data: {\n                    name: '生日蛋糕',\n                    price: '99.99',\n                    status: 'sent',\n                },\n            };\n            break;\n        case 'gift-char':\n            entry = {\n                id: generateId('gift'),\n                type: 'gift',\n                sender: 'them',\n                content: JSON.stringify({\n                    name: '巧克力',\n                    price: '39.99',\n                    status: 'sent',\n                }),\n                data: {\n                    name: '巧克力',\n                    price: '39.99',\n                    status: 'sent',\n                },\n            };\n            break;\n        case 'moment-user':\n            entry = {\n                key: 'USER_MOMENT',\n                data: {\n                    text: '用户朋友圈测试',\n                    image: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_2.jpg',\n                    image_type: 'url',\n                    date: getCurrentDate(),\n                    time: getCurrentTime(),\n                },\n            };\n            break;\n        case 'moment-char':\n            entry = {\n                key: 'CHAR_MOMENT',\n                data: {\n                    text: 'AI朋友圈测试',\n                    image: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色小猫_1.jpg',\n                    image_type: 'url',\n                    date: getCurrentDate(),\n                    time: getCurrentTime(),\n                },\n            };\n            break;\n        case 'event-short':\n            entry = {\n                type: 'event',\n                content: {\n                    date: getCurrentDate(),\n                    time: getCurrentTime(),\n                    description: '这是一个简短的事件日志测试',\n                },\n            };\n            break;\n        case 'event-long':\n            entry = {\n                type: 'event',\n                content: {\n                    date: getCurrentDate(),\n                    time: getCurrentTime(),\n                    description: '这是一个非常长的事件日志测试，用来验证长文本的显示效果。在物语世界的深处，隐藏着无数的秘密和传说。每当夜幕降临，星光洒向大地，那些古老的故事便会在风中轻声诉说。主角踏上了寻找真相的旅程，穿越了森林、山川和海洋，遇到了各种各样的人物和挑战。这段旅程不仅是对外在世界的探索，更是对内心深处的自我发现。',\n                },\n            };\n            break;\n        case 'time':\n            entry = {\n                type: 'time',\n                content: {\n                    date: getCurrentDate(),\n                    time: getCurrentTime(),\n                },\n            };\n            break;\n        default:\n            console.error('[DEBUG] 未知的测试数据类型:', entryType);\n            return;\n    }\n    if (entry) {\n        blmxManager.addEntry(entry);\n        blmxManager.persistLogToStorage();\n        console.log(`[DEBUG] 已添加测试数据: ${entryType}`, entry);\n    }\n}\n// 显示测试条目类型\nfunction showTestEntryTypes() {\n    console.log('[BLMX Debug] 可用的测试条目类型:');\n    console.log('- text-user: 用户文本消息');\n    console.log('- text-char: AI文本消息');\n    console.log('- sticker-user: 用户表情消息');\n    console.log('- sticker-char: AI表情消息');\n    console.log('- image-user: 用户图片消息');\n    console.log('- image-char: AI图片消息');\n    console.log('- voice-user: 用户语音消息');\n    console.log('- voice-char: AI语音消息');\n    console.log('- transfer-user: 用户转账消息');\n    console.log('- gift-user: 用户礼物消息');\n    console.log('- moment-user: 用户朋友圈动态');\n    console.log('- moment-char: AI朋友圈动态');\n    console.log('- event-short: 短事件日志');\n    console.log('- event-long: 长事件日志（测试长文本显示）');\n    console.log('- time: 时间戳');\n}\n// 显示调试信息\nfunction showDebugInfo(appController) {\n    console.log('[BLMX Debug] 调试信息:');\n    try {\n        // 确保能够获取到这些方法\n        const rawAiResponse = appController.getRawAiResponse ? appController.getRawAiResponse() : '无法获取';\n        const fullPrompt = appController.getFullPrompt ? appController.getFullPrompt() : '无法获取';\n        const latestAiRawResponse = appController.getLatestAiRawResponse\n            ? appController.getLatestAiRawResponse()\n            : '无法获取';\n        const latestSentPrompt = appController.getLatestSentPrompt ? appController.getLatestSentPrompt() : '无法获取';\n        console.log('- 原始AI响应:', rawAiResponse);\n        console.log('- 完整提示词:', fullPrompt);\n        console.log('- 最新处理后的AI响应:', latestAiRawResponse);\n        console.log('- 最新发送给AI的提示:', latestSentPrompt);\n    }\n    catch (error) {\n        console.error('[BLMX Debug] 获取调试信息时出错:', error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2xELE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDakQsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLHlCQUF5QixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2xELENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovZGVidWctZGF0YS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkZWJ1Zy1kYXRhLnRzXG4vLyDmraTmlofku7bljIXlkKvnlKjkuo7mtYvor5XlkozosIPor5XnmoTmlbDmja5cbi8vIOWcqOWPkeW4g+WJjeW6lOWIoOmZpOaIluazqOmHiuaOieWvueatpOaWh+S7tueahOW8leeUqFxuXG5pbXBvcnQgeyBMb2dFbnRyeSB9IGZyb20gJy4vc2NyaXB0JztcblxuLy8g6I635Y+W5b2T5YmN5pel5pyf5ZKM5pe26Ze0XG5jb25zdCBnZXRDdXJyZW50RGF0ZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7KG5vdy5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke25vd1xuICAgIC5nZXREYXRlKClcbiAgICAudG9TdHJpbmcoKVxuICAgIC5wYWRTdGFydCgyLCAnMCcpfWA7XG59O1xuXG5jb25zdCBnZXRDdXJyZW50VGltZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gYCR7bm93LmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke25vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG59O1xuXG4vLyDnlJ/miJDpmo/mnLpJRFxuY29uc3QgZ2VuZXJhdGVJZCA9IChwcmVmaXg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgJHtwcmVmaXh9XyR7RGF0ZS5ub3coKX1fJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xufTtcblxuLy8g5rWL6K+V5pWw5o2uXG5leHBvcnQgY29uc3QgZGVidWdEYXRhOiBMb2dFbnRyeVtdID0gW1xuICAvLyDns7vnu5/ml7bpl7TmnaHnm65cbiAge1xuICAgIHR5cGU6ICd0aW1lJyxcbiAgICBjb250ZW50OiB7XG4gICAgICBkYXRlOiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOezu+e7n+S6i+S7tuadoeebrlxuICB7XG4gICAgdHlwZTogJ2V2ZW50JyxcbiAgICBjb250ZW50OiB7XG4gICAgICBkYXRlOiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAn6LCD6K+V5qih5byP5bey5ZCv55SoJyxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOaWh+acrOa2iOaBryAtIOeUqOaIt1xuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ21zZycpLFxuICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICBzZW5kZXI6ICdtZScsXG4gICAgY29udGVudDogJ+S9oOWlve+8jOi/meaYr+S4gOadoea1i+ivlea2iOaBrycsXG4gIH0sXG5cbiAgLy8g5paH5pys5raI5oGvIC0gQUlcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCdtc2cnKSxcbiAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogJ+S9oOWlve+8geW+iOmrmOWFtOingeWIsOS9oO+8jOi/meaYr+S4gOadoUFJ5Zue5aSN55qE5rWL6K+V5raI5oGv44CCJyxcbiAgfSxcblxuICAvLyDooajmg4Xmtojmga8gLSDnlKjmiLdcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCdzdGlja2VyJyksXG4gICAgdHlwZTogJ3N0aWNrZXInLFxuICAgIHNlbmRlcjogJ21lJyxcbiAgICBjb250ZW50OiAn5aW955qEJyxcbiAgfSxcblxuICAvLyDooajmg4Xmtojmga8gLSBBSVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ3N0aWNrZXInKSxcbiAgICB0eXBlOiAnc3RpY2tlcicsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogJ+WlveeahCcsXG4gIH0sXG5cbiAgLy8g5Zu+54mH5raI5oGvIC0g55So5oi3XG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgnaW1nJyksXG4gICAgdHlwZTogJ2ltYWdlJyxcbiAgICBzZW5kZXI6ICdtZScsXG4gICAgY29udGVudDoge1xuICAgICAgdHlwZTogJ3VybCcsXG4gICAgICB2YWx1ZTogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv6JOd6ImyXzEuanBnJyxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOWbvueJh+a2iOaBryAtIEFJXG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgnaW1nJyksXG4gICAgdHlwZTogJ2ltYWdlJyxcbiAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICBjb250ZW50OiB7XG4gICAgICB0eXBlOiAndXJsJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nsonoibLmmJ/mmJ9fMS5qcGcnLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5Zu+54mH5raI5oGvIC0g5o+P6L+w57G75Z6LXG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgnaW1nJyksXG4gICAgdHlwZTogJ2ltYWdlJyxcbiAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICBjb250ZW50OiB7XG4gICAgICB0eXBlOiAnZGVzYycsXG4gICAgICB2YWx1ZTogJ+i/meaYr+S4gOW8oOaPj+i/sOexu+Wei+eahOWbvueJh++8jOWunumZheS4iuS4jeS8muaYvuekuuWbvueJh+WGheWuuScsXG4gICAgfSxcbiAgfSxcblxuICAvLyDor63pn7Pmtojmga8gLSDnlKjmiLdcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCd2b2ljZScpLFxuICAgIHR5cGU6ICd2b2ljZScsXG4gICAgc2VuZGVyOiAnbWUnLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHRleHQ6ICfov5nmmK/kuIDmnaHmtYvor5Xor63pn7Pmtojmga/nmoTmlofmnKzlhoXlrrknLFxuICAgICAgZHVyYXRpb246IDUsXG4gICAgfSxcbiAgfSxcblxuICAvLyDor63pn7Pmtojmga8gLSBBSVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ3ZvaWNlJyksXG4gICAgdHlwZTogJ3ZvaWNlJyxcbiAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICBjb250ZW50OiB7XG4gICAgICB0ZXh0OiAn6L+Z5pivQUnlm57lpI3nmoTor63pn7Pmtojmga/mlofmnKzlhoXlrrknLFxuICAgICAgZHVyYXRpb246IDgsXG4gICAgfSxcbiAgfSxcblxuICAvLyDkvY3nva7mtojmga8gLSDnlKjmiLdcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCdsb2MnKSxcbiAgICB0eXBlOiAnbG9jYXRpb24nLFxuICAgIHNlbmRlcjogJ21lJyxcbiAgICBjb250ZW50OiAn5YyX5Lqs5biC5pyd6Ziz5Yy65LiJ6YeM5bGvJyxcbiAgfSxcblxuICAvLyDkvY3nva7mtojmga8gLSBBSVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2xvYycpLFxuICAgIHR5cGU6ICdsb2NhdGlvbicsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogJ+S4iua1t+W4gua1puS4nOaWsOWMuumZhuWutuWYtCcsXG4gIH0sXG5cbiAgLy8g6L2s6LSm5raI5oGvIC0g55So5oi35Y+R6YCBXG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgndHJhbnNmZXInKSxcbiAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgIHNlbmRlcjogJ21lJyxcbiAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhbW91bnQ6ICc4OC44OCcsXG4gICAgICBub3RlOiAn5rWL6K+V6L2s6LSmJyxcbiAgICAgIHN0YXR1czogJ3NlbnQnLFxuICAgIH0pLFxuICAgIGRhdGE6IHtcbiAgICAgIGFtb3VudDogJzg4Ljg4JyxcbiAgICAgIG5vdGU6ICfmtYvor5XovazotKYnLFxuICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgfSxcbiAgfSxcblxuICAvLyDovazotKbmtojmga8gLSBBSeaOpeWPl1xuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ3RyYW5zZmVyJyksXG4gICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhbW91bnQ6ICc4OC44OCcsXG4gICAgICBub3RlOiAn5rWL6K+V6L2s6LSmJyxcbiAgICAgIHN0YXR1czogJ2FjY2VwdGVkJyxcbiAgICB9KSxcbiAgICBkYXRhOiB7XG4gICAgICBhbW91bnQ6ICc4OC44OCcsXG4gICAgICBub3RlOiAn5rWL6K+V6L2s6LSmJyxcbiAgICAgIHN0YXR1czogJ2FjY2VwdGVkJyxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOi9rOi0pua2iOaBryAtIEFJ5Y+R6YCBXG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgndHJhbnNmZXInKSxcbiAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgIHNlbmRlcjogJ3RoZW0nLFxuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGFtb3VudDogJzY2LjY2JyxcbiAgICAgIG5vdGU6ICdBSea1i+ivlei9rOi0picsXG4gICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICB9KSxcbiAgICBkYXRhOiB7XG4gICAgICBhbW91bnQ6ICc2Ni42NicsXG4gICAgICBub3RlOiAnQUnmtYvor5XovazotKYnLFxuICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgfSxcbiAgfSxcblxuICAvLyDovazotKbmtojmga8gLSDnlKjmiLfmjqXlj5dcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCd0cmFuc2ZlcicpLFxuICAgIHR5cGU6ICd0cmFuc2ZlcicsXG4gICAgc2VuZGVyOiAnbWUnLFxuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGFtb3VudDogJzY2LjY2JyxcbiAgICAgIG5vdGU6ICdBSea1i+ivlei9rOi0picsXG4gICAgICBzdGF0dXM6ICdhY2NlcHRlZCcsXG4gICAgfSksXG4gICAgZGF0YToge1xuICAgICAgYW1vdW50OiAnNjYuNjYnLFxuICAgICAgbm90ZTogJ0FJ5rWL6K+V6L2s6LSmJyxcbiAgICAgIHN0YXR1czogJ2FjY2VwdGVkJyxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOekvOeJqea2iOaBryAtIOeUqOaIt+WPkemAgVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2dpZnQnKSxcbiAgICB0eXBlOiAnZ2lmdCcsXG4gICAgc2VuZGVyOiAnbWUnLFxuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG5hbWU6ICfnlJ/ml6Xom4vns5UnLFxuICAgICAgcHJpY2U6ICc5OS45OScsXG4gICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICB9KSxcbiAgICBkYXRhOiB7XG4gICAgICBuYW1lOiAn55Sf5pel6JuL57OVJyxcbiAgICAgIHByaWNlOiAnOTkuOTknLFxuICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgfSxcbiAgfSxcblxuICAvLyDnpLznianmtojmga8gLSBBSeaOpeWPl1xuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2dpZnQnKSxcbiAgICB0eXBlOiAnZ2lmdCcsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZTogJ+eUn+aXpeibi+ezlScsXG4gICAgICBzdGF0dXM6ICdhY2NlcHRlZCcsXG4gICAgfSksXG4gICAgZGF0YToge1xuICAgICAgbmFtZTogJ+eUn+aXpeibi+ezlScsXG4gICAgICBzdGF0dXM6ICdhY2NlcHRlZCcsXG4gICAgfSxcbiAgfSxcblxuICAvLyDnpLznianmtojmga8gLSBBSeWPkemAgVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2dpZnQnKSxcbiAgICB0eXBlOiAnZ2lmdCcsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZTogJ+W3p+WFi+WKmycsXG4gICAgICBwcmljZTogJzM5Ljk5JyxcbiAgICAgIHN0YXR1czogJ3NlbnQnLFxuICAgIH0pLFxuICAgIGRhdGE6IHtcbiAgICAgIG5hbWU6ICflt6flhYvlipsnLFxuICAgICAgcHJpY2U6ICczOS45OScsXG4gICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOekvOeJqea2iOaBryAtIOeUqOaIt+aOpeWPl1xuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2dpZnQnKSxcbiAgICB0eXBlOiAnZ2lmdCcsXG4gICAgc2VuZGVyOiAnbWUnLFxuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG5hbWU6ICflt6flhYvlipsnLFxuICAgICAgc3RhdHVzOiAnYWNjZXB0ZWQnLFxuICAgIH0pLFxuICAgIGRhdGE6IHtcbiAgICAgIG5hbWU6ICflt6flhYvlipsnLFxuICAgICAgc3RhdHVzOiAnYWNjZXB0ZWQnLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5paH5Lu25raI5oGvIC0g55So5oi3XG4gIHtcbiAgICBpZDogZ2VuZXJhdGVJZCgnZmlsZScpLFxuICAgIHR5cGU6ICdmaWxlJyxcbiAgICBzZW5kZXI6ICdtZScsXG4gICAgY29udGVudDogJ+a1i+ivleaWh+ahoy5kb2N4JyxcbiAgfSxcblxuICAvLyDmlofku7bmtojmga8gLSBBSVxuICB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoJ2ZpbGUnKSxcbiAgICB0eXBlOiAnZmlsZScsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogJ+mHjeimgei1hOaWmS5wZGYnLFxuICB9LFxuXG4gIC8vIOaci+WPi+WciCAtIOeUqOaIt+WPkeW4g1xuICB7XG4gICAga2V5OiAnVVNFUl9NT01FTlQnLFxuICAgIGRhdGE6IHtcbiAgICAgIHRleHQ6ICfov5nmmK/nlKjmiLflj5HluIPnmoTmnIvlj4vlnIjmtYvor5XlhoXlrrknLFxuICAgICAgaW1hZ2U6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+iTneiJsl8yLmpwZycsXG4gICAgICBpbWFnZV90eXBlOiAndXJsJyxcbiAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICB0aW1lOiBnZXRDdXJyZW50VGltZSgpLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5pyL5Y+L5ZyIIC0gQUnlj5HluINcbiAge1xuICAgIGtleTogJ0NIQVJfTU9NRU5UJyxcbiAgICBkYXRhOiB7XG4gICAgICB0ZXh0OiAn6L+Z5pivQUnlj5HluIPnmoTmnIvlj4vlnIjmtYvor5XlhoXlrrknLFxuICAgICAgaW1hZ2U6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+eyieiJsuWwj+eMq18xLmpwZycsXG4gICAgICBpbWFnZV90eXBlOiAndXJsJyxcbiAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICB0aW1lOiBnZXRDdXJyZW50VGltZSgpLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5pyL5Y+L5ZyIIC0g57qv5paH5pysXG4gIHtcbiAgICBrZXk6ICdDSEFSX01PTUVOVCcsXG4gICAgZGF0YToge1xuICAgICAgdGV4dDogJ+i/meaYr+S4gOadoeayoeacieWbvueJh+eahOaci+WPi+WciCcsXG4gICAgICBpbWFnZTogJycsXG4gICAgICBpbWFnZV90eXBlOiAnbm9uZScsXG4gICAgICBkYXRlOiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOaci+WPi+WciCAtIOWbvueJh+aPj+i/sFxuICB7XG4gICAga2V5OiAnVVNFUl9NT01FTlQnLFxuICAgIGRhdGE6IHtcbiAgICAgIHRleHQ6ICfov5nmmK/luKbmnInlm77niYfmj4/ov7DnmoTmnIvlj4vlnIgnLFxuICAgICAgaW1hZ2U6ICfkuIDlvKDnvo7kuL3nmoTpo47mma/nhafniYcnLFxuICAgICAgaW1hZ2VfdHlwZTogJ2Rlc2MnLFxuICAgICAgaW1hZ2VfZGVzYzogJ+S4gOW8oOe+juS4veeahOmjjuaZr+eFp+eJhycsXG4gICAgICBkYXRlOiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICB9LFxuICB9LFxuXG4gIC8vIOaci+WPi+WciOivhOiuuiAtIOeUqOaIt+ivhOiuulxuICB7XG4gICAga2V5OiAnVVNFUl9DT01NRU5UJyxcbiAgICBkYXRhOiB7XG4gICAgICB0ZXh0OiAn6L+Z5piv55So5oi355qE6K+E6K66JyxcbiAgICAgIHRhcmdldF9wb3N0X2lkOiAxLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5pyL5Y+L5ZyI6K+E6K66IC0gQUnor4TorrpcbiAge1xuICAgIGtleTogJ0NIQVJfQ09NTUVOVCcsXG4gICAgZGF0YToge1xuICAgICAgdGV4dDogJ+i/meaYr0FJ55qE6K+E6K66JyxcbiAgICAgIHRhcmdldF9wb3N0X2lkOiAwLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5pyL5Y+L5ZyI54K56LWeIC0g55So5oi354K56LWeXG4gIHtcbiAgICBrZXk6ICdVU0VSX0xJS0UnLFxuICAgIGRhdGE6IHtcbiAgICAgIHRhcmdldF9wb3N0X2lkOiAxLFxuICAgIH0sXG4gIH0sXG5cbiAgLy8g5pyL5Y+L5ZyI54K56LWeIC0gQUnngrnotZ5cbiAge1xuICAgIGtleTogJ0NIQVJfTElLRScsXG4gICAgZGF0YToge1xuICAgICAgdGFyZ2V0X3Bvc3RfaWQ6IDAsXG4gICAgfSxcbiAgfSxcblxuICAvLyDmkqTlm57mtojmga/npLrkvotcbiAge1xuICAgIGlkOiBnZW5lcmF0ZUlkKCdtc2cnKSxcbiAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgc2VuZGVyOiAndGhlbScsXG4gICAgY29udGVudDogJ+i/meadoea2iOaBr+Wwhuiiq+aSpOWbnicsXG4gICAgcmVjYWxsZWQ6IHRydWUsXG4gICAgcmVjYWxsZWRfY29udGVudDogJ+i/meadoea2iOaBr+Wwhuiiq+aSpOWbnicsXG4gICAgcmVjYWxsZWRfdGltZXN0YW1wOiBnZXRDdXJyZW50VGltZSgpLFxuICB9LFxuXTtcblxuLy8g5Yqg6L296LCD6K+V5pWw5o2u55qE5Ye95pWwIC0g5LyY5YyW54mI5pys77yM5YeP5bCR5oCn6IO95raI6ICXXG5leHBvcnQgZnVuY3Rpb24gbG9hZERlYnVnRGF0YShibG14TWFuYWdlcjogYW55KTogdm9pZCB7XG4gIC8vIOajgOafpeaYr+WQpuWcqOW8gOWPkeaooeW8j1xuICBjb25zdCBpc0RldmVsb3BtZW50ID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fCB3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCdkZWJ1Zz10cnVlJyk7XG5cbiAgaWYgKCFpc0RldmVsb3BtZW50KSB7XG4gICAgY29uc29sZS5sb2coJ1tERUJVR10g55Sf5Lqn5qih5byP77yM6Lez6L+H6LCD6K+V5pWw5o2u5Yqg6L29Jyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ1tERUJVR10g5q2j5Zyo5Yqg6L296LCD6K+V5pWw5o2uLi4uJyk7XG5cbiAgLy8g5om56YeP5re75Yqg77yM5YeP5bCR5Y2V5qyh5pON5L2cXG4gIGNvbnN0IGJhdGNoU2l6ZSA9IDEwO1xuICBsZXQgaW5kZXggPSAwO1xuXG4gIGNvbnN0IGFkZEJhdGNoID0gKCkgPT4ge1xuICAgIGNvbnN0IGJhdGNoID0gZGVidWdEYXRhLnNsaWNlKGluZGV4LCBpbmRleCArIGJhdGNoU2l6ZSk7XG4gICAgYmF0Y2guZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBibG14TWFuYWdlci5hZGRFbnRyeShlbnRyeSk7XG4gICAgfSk7XG5cbiAgICBpbmRleCArPSBiYXRjaFNpemU7XG5cbiAgICBpZiAoaW5kZXggPCBkZWJ1Z0RhdGEubGVuZ3RoKSB7XG4gICAgICAvLyDkvb/nlKhyZXF1ZXN0QW5pbWF0aW9uRnJhbWXpgb/lhY3pmLvloZ5VSVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFkZEJhdGNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1tERUJVR10g6LCD6K+V5pWw5o2u5Yqg6L295a6M5oiQ77yM5YWx5Yqg6L29JywgZGVidWdEYXRhLmxlbmd0aCwgJ+adoeaVsOaNricpO1xuICAgIH1cbiAgfTtcblxuICBhZGRCYXRjaCgpO1xufVxuXG4vLyDmuIXpmaTosIPor5XmlbDmja7nmoTlh73mlbBcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckRlYnVnRGF0YShibG14TWFuYWdlcjogYW55KTogdm9pZCB7XG4gIGNvbnNvbGUubG9nKCdbREVCVUddIOato+WcqOa4hemZpOiwg+ivleaVsOaNri4uLicpO1xuICBibG14TWFuYWdlci5sb2dFbnRyaWVzID0gW107XG4gIGNvbnNvbGUubG9nKCdbREVCVUddIOiwg+ivleaVsOaNruW3sua4hemZpCcpO1xufVxuXG4vLyDmt7vliqDljZXkuKrmtYvor5XmlbDmja7nmoTlh73mlbDvvIzmlrnkvr/lnKjmjqfliLblj7DkuK3kvb/nlKhcbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXN0RW50cnkoYmxteE1hbmFnZXI6IGFueSwgZW50cnlUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgbGV0IGVudHJ5OiBhbnkgPSBudWxsO1xuXG4gIHN3aXRjaCAoZW50cnlUeXBlKSB7XG4gICAgY2FzZSAndGV4dC11c2VyJzpcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZCgnbXNnJyksXG4gICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICBjb250ZW50OiAn6L+Z5piv5LiA5p2h5rWL6K+V5paH5pys5raI5oGvJyxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0LWNoYXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCdtc2cnKSxcbiAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICAgICAgY29udGVudDogJ+i/meaYr+S4gOadoUFJ5Zue5aSN55qE5rWL6K+V5raI5oGvJyxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzdGlja2VyLXVzZXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCdzdGlja2VyJyksXG4gICAgICAgIHR5cGU6ICdzdGlja2VyJyxcbiAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICBjb250ZW50OiAn5aW955qEJyxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzdGlja2VyLWNoYXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCdzdGlja2VyJyksXG4gICAgICAgIHR5cGU6ICdzdGlja2VyJyxcbiAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgIGNvbnRlbnQ6ICflpb3nmoQnLFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ltYWdlLXVzZXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCdpbWcnKSxcbiAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgICAgdmFsdWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+iTneiJsl8xLmpwZycsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW1hZ2UtY2hhcic6XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlSWQoJ2ltZycpLFxuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHR5cGU6ICd1cmwnLFxuICAgICAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nsonoibLmmJ/mmJ9fMS5qcGcnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ZvaWNlLXVzZXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCd2b2ljZScpLFxuICAgICAgICB0eXBlOiAndm9pY2UnLFxuICAgICAgICBzZW5kZXI6ICdtZScsXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICB0ZXh0OiAn6L+Z5piv5LiA5p2h5rWL6K+V6K+t6Z+z5raI5oGvJyxcbiAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICd2b2ljZS1jaGFyJzpcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZCgndm9pY2UnKSxcbiAgICAgICAgdHlwZTogJ3ZvaWNlJyxcbiAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICB0ZXh0OiAn6L+Z5pivQUnnmoTmtYvor5Xor63pn7Pmtojmga8nLFxuICAgICAgICAgIGR1cmF0aW9uOiA0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RyYW5zZmVyLXVzZXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCd0cmFuc2ZlcicpLFxuICAgICAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgICAgICBzZW5kZXI6ICdtZScsXG4gICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhbW91bnQ6ICc4OC44OCcsXG4gICAgICAgICAgbm90ZTogJ+a1i+ivlei9rOi0picsXG4gICAgICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgICAgIH0pLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYW1vdW50OiAnODguODgnLFxuICAgICAgICAgIG5vdGU6ICfmtYvor5XovazotKYnLFxuICAgICAgICAgIHN0YXR1czogJ3NlbnQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RyYW5zZmVyLWNoYXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCd0cmFuc2ZlcicpLFxuICAgICAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgICAgICBzZW5kZXI6ICd0aGVtJyxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFtb3VudDogJzY2LjY2JyxcbiAgICAgICAgICBub3RlOiAnQUnmtYvor5XovazotKYnLFxuICAgICAgICAgIHN0YXR1czogJ3NlbnQnLFxuICAgICAgICB9KSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGFtb3VudDogJzY2LjY2JyxcbiAgICAgICAgICBub3RlOiAnQUnmtYvor5XovazotKYnLFxuICAgICAgICAgIHN0YXR1czogJ3NlbnQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dpZnQtdXNlcic6XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlSWQoJ2dpZnQnKSxcbiAgICAgICAgdHlwZTogJ2dpZnQnLFxuICAgICAgICBzZW5kZXI6ICdtZScsXG4gICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lOiAn55Sf5pel6JuL57OVJyxcbiAgICAgICAgICBwcmljZTogJzk5Ljk5JyxcbiAgICAgICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAn55Sf5pel6JuL57OVJyxcbiAgICAgICAgICBwcmljZTogJzk5Ljk5JyxcbiAgICAgICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdnaWZ0LWNoYXInOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCdnaWZ0JyksXG4gICAgICAgIHR5cGU6ICdnaWZ0JyxcbiAgICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lOiAn5ben5YWL5YqbJyxcbiAgICAgICAgICBwcmljZTogJzM5Ljk5JyxcbiAgICAgICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAn5ben5YWL5YqbJyxcbiAgICAgICAgICBwcmljZTogJzM5Ljk5JyxcbiAgICAgICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtb21lbnQtdXNlcic6XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAga2V5OiAnVVNFUl9NT01FTlQnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGV4dDogJ+eUqOaIt+aci+WPi+WciOa1i+ivlScsXG4gICAgICAgICAgaW1hZ2U6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+iTneiJsl8yLmpwZycsXG4gICAgICAgICAgaW1hZ2VfdHlwZTogJ3VybCcsXG4gICAgICAgICAgZGF0ZTogZ2V0Q3VycmVudERhdGUoKSxcbiAgICAgICAgICB0aW1lOiBnZXRDdXJyZW50VGltZSgpLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ21vbWVudC1jaGFyJzpcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBrZXk6ICdDSEFSX01PTUVOVCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0ZXh0OiAnQUnmnIvlj4vlnIjmtYvor5UnLFxuICAgICAgICAgIGltYWdlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nsonoibLlsI/njKtfMS5qcGcnLFxuICAgICAgICAgIGltYWdlX3R5cGU6ICd1cmwnLFxuICAgICAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdldmVudC1zaG9ydCc6XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgdHlwZTogJ2V2ZW50JyxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+i/meaYr+S4gOS4queugOefreeahOS6i+S7tuaXpeW/l+a1i+ivlScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZXZlbnQtbG9uZyc6XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgdHlwZTogJ2V2ZW50JyxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICfov5nmmK/kuIDkuKrpnZ7luLjplb/nmoTkuovku7bml6Xlv5fmtYvor5XvvIznlKjmnaXpqozor4Hplb/mlofmnKznmoTmmL7npLrmlYjmnpzjgILlnKjnianor63kuJbnlYznmoTmt7HlpITvvIzpmpDol4/nnYDml6DmlbDnmoTnp5jlr4blkozkvKDor7TjgILmr4/lvZPlpJzluZXpmY3kuLTvvIzmmJ/lhYnmtJLlkJHlpKflnLDvvIzpgqPkupvlj6TogIHnmoTmlYXkuovkvr/kvJrlnKjpo47kuK3ovbvlo7Dor4nor7TjgILkuLvop5LouI/kuIrkuoblr7vmib7nnJ/nm7jnmoTml4XnqIvvvIznqb/otorkuobmo67mnpfjgIHlsbHlt53lkozmtbfmtIvvvIzpgYfliLDkuoblkITnp43lkITmoLfnmoTkurrnianlkozmjJHmiJjjgILov5nmrrXml4XnqIvkuI3ku4XmmK/lr7nlpJblnKjkuJbnlYznmoTmjqLntKLvvIzmm7TmmK/lr7nlhoXlv4Pmt7HlpITnmoToh6rmiJHlj5HnjrDjgIInLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgZW50cnkgPSB7XG4gICAgICAgIHR5cGU6ICd0aW1lJyxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIGRhdGU6IGdldEN1cnJlbnREYXRlKCksXG4gICAgICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHXSDmnKrnn6XnmoTmtYvor5XmlbDmja7nsbvlnos6JywgZW50cnlUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChlbnRyeSkge1xuICAgIGJsbXhNYW5hZ2VyLmFkZEVudHJ5KGVudHJ5KTtcbiAgICBibG14TWFuYWdlci5wZXJzaXN0TG9nVG9TdG9yYWdlKCk7XG4gICAgY29uc29sZS5sb2coYFtERUJVR10g5bey5re75Yqg5rWL6K+V5pWw5o2uOiAke2VudHJ5VHlwZX1gLCBlbnRyeSk7XG4gIH1cbn1cblxuLy8g5pi+56S65rWL6K+V5p2h55uu57G75Z6LXG5leHBvcnQgZnVuY3Rpb24gc2hvd1Rlc3RFbnRyeVR5cGVzKCk6IHZvaWQge1xuICBjb25zb2xlLmxvZygnW0JMTVggRGVidWddIOWPr+eUqOeahOa1i+ivleadoeebruexu+WeizonKTtcbiAgY29uc29sZS5sb2coJy0gdGV4dC11c2VyOiDnlKjmiLfmlofmnKzmtojmga8nKTtcbiAgY29uc29sZS5sb2coJy0gdGV4dC1jaGFyOiBBSeaWh+acrOa2iOaBrycpO1xuICBjb25zb2xlLmxvZygnLSBzdGlja2VyLXVzZXI6IOeUqOaIt+ihqOaDhea2iOaBrycpO1xuICBjb25zb2xlLmxvZygnLSBzdGlja2VyLWNoYXI6IEFJ6KGo5oOF5raI5oGvJyk7XG4gIGNvbnNvbGUubG9nKCctIGltYWdlLXVzZXI6IOeUqOaIt+WbvueJh+a2iOaBrycpO1xuICBjb25zb2xlLmxvZygnLSBpbWFnZS1jaGFyOiBBSeWbvueJh+a2iOaBrycpO1xuICBjb25zb2xlLmxvZygnLSB2b2ljZS11c2VyOiDnlKjmiLfor63pn7Pmtojmga8nKTtcbiAgY29uc29sZS5sb2coJy0gdm9pY2UtY2hhcjogQUnor63pn7Pmtojmga8nKTtcbiAgY29uc29sZS5sb2coJy0gdHJhbnNmZXItdXNlcjog55So5oi36L2s6LSm5raI5oGvJyk7XG4gIGNvbnNvbGUubG9nKCctIGdpZnQtdXNlcjog55So5oi356S854mp5raI5oGvJyk7XG4gIGNvbnNvbGUubG9nKCctIG1vbWVudC11c2VyOiDnlKjmiLfmnIvlj4vlnIjliqjmgIEnKTtcbiAgY29uc29sZS5sb2coJy0gbW9tZW50LWNoYXI6IEFJ5pyL5Y+L5ZyI5Yqo5oCBJyk7XG4gIGNvbnNvbGUubG9nKCctIGV2ZW50LXNob3J0OiDnn63kuovku7bml6Xlv5cnKTtcbiAgY29uc29sZS5sb2coJy0gZXZlbnQtbG9uZzog6ZW/5LqL5Lu25pel5b+X77yI5rWL6K+V6ZW/5paH5pys5pi+56S677yJJyk7XG4gIGNvbnNvbGUubG9nKCctIHRpbWU6IOaXtumXtOaIsycpO1xufVxuXG4vLyDmmL7npLrosIPor5Xkv6Hmga9cbmV4cG9ydCBmdW5jdGlvbiBzaG93RGVidWdJbmZvKGFwcENvbnRyb2xsZXI6IGFueSk6IHZvaWQge1xuICBjb25zb2xlLmxvZygnW0JMTVggRGVidWddIOiwg+ivleS/oeaBrzonKTtcblxuICB0cnkge1xuICAgIC8vIOehruS/neiDveWkn+iOt+WPluWIsOi/meS6m+aWueazlVxuICAgIGNvbnN0IHJhd0FpUmVzcG9uc2UgPSBhcHBDb250cm9sbGVyLmdldFJhd0FpUmVzcG9uc2UgPyBhcHBDb250cm9sbGVyLmdldFJhd0FpUmVzcG9uc2UoKSA6ICfml6Dms5Xojrflj5YnO1xuICAgIGNvbnN0IGZ1bGxQcm9tcHQgPSBhcHBDb250cm9sbGVyLmdldEZ1bGxQcm9tcHQgPyBhcHBDb250cm9sbGVyLmdldEZ1bGxQcm9tcHQoKSA6ICfml6Dms5Xojrflj5YnO1xuICAgIGNvbnN0IGxhdGVzdEFpUmF3UmVzcG9uc2UgPSBhcHBDb250cm9sbGVyLmdldExhdGVzdEFpUmF3UmVzcG9uc2VcbiAgICAgID8gYXBwQ29udHJvbGxlci5nZXRMYXRlc3RBaVJhd1Jlc3BvbnNlKClcbiAgICAgIDogJ+aXoOazleiOt+WPlic7XG4gICAgY29uc3QgbGF0ZXN0U2VudFByb21wdCA9IGFwcENvbnRyb2xsZXIuZ2V0TGF0ZXN0U2VudFByb21wdCA/IGFwcENvbnRyb2xsZXIuZ2V0TGF0ZXN0U2VudFByb21wdCgpIDogJ+aXoOazleiOt+WPlic7XG5cbiAgICBjb25zb2xlLmxvZygnLSDljp/lp4tBSeWTjeW6lDonLCByYXdBaVJlc3BvbnNlKTtcbiAgICBjb25zb2xlLmxvZygnLSDlrozmlbTmj5DnpLror406JywgZnVsbFByb21wdCk7XG4gICAgY29uc29sZS5sb2coJy0g5pyA5paw5aSE55CG5ZCO55qEQUnlk43lupQ6JywgbGF0ZXN0QWlSYXdSZXNwb25zZSk7XG4gICAgY29uc29sZS5sb2coJy0g5pyA5paw5Y+R6YCB57uZQUnnmoTmj5DnpLo6JywgbGF0ZXN0U2VudFByb21wdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0JMTVggRGVidWddIOiOt+WPluiwg+ivleS/oeaBr+aXtuWHuumUmTonLCBlcnJvcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/debug-data.ts\n\n}");
  },
  "./src/同层手机/debug-logger.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DebugLogger: () => (/* binding */ DebugLogger),\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/**\n * 统一的调试日志工具\n * 用于替代散布在各处的 console.log 调试代码\n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 1] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 3] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nclass DebugLogger {\n    static instance;\n    isDevelopment;\n    logLevel;\n    logHistory = [];\n    maxHistorySize = 1000;\n    constructor() {\n        // 检查是否为开发模式\n        this.isDevelopment = this.checkDevelopmentMode();\n        this.logLevel = this.isDevelopment ? LogLevel.DEBUG : LogLevel.ERROR;\n    }\n    static getInstance() {\n        if (!DebugLogger.instance) {\n            DebugLogger.instance = new DebugLogger();\n        }\n        return DebugLogger.instance;\n    }\n    /**\n     * 检查是否为开发模式\n     */\n    checkDevelopmentMode() {\n        // 检查多种开发模式标识\n        return !!(window.BLMX_DEV_MODE ||\n            window.DEBUG ||\n            localStorage.getItem('blmx_debug') === 'true' ||\n            location.hostname === 'localhost' ||\n            location.hostname === '127.0.0.1' ||\n            location.search.includes('debug=true'));\n    }\n    /**\n     * 设置日志级别\n     */\n    setLogLevel(level) {\n        this.logLevel = level;\n    }\n    /**\n     * 启用/禁用开发模式\n     */\n    setDevelopmentMode(enabled) {\n        this.isDevelopment = enabled;\n        if (enabled) {\n            localStorage.setItem('blmx_debug', 'true');\n        }\n        else {\n            localStorage.removeItem('blmx_debug');\n        }\n    }\n    /**\n     * 记录日志到历史\n     */\n    addToHistory(level, module, message, data) {\n        this.logHistory.push({\n            timestamp: new Date(),\n            level,\n            module,\n            message,\n            data,\n        });\n        // 限制历史记录大小\n        if (this.logHistory.length > this.maxHistorySize) {\n            this.logHistory.shift();\n        }\n    }\n    /**\n     * 格式化日志消息\n     */\n    formatMessage(module, message) {\n        const timestamp = new Date().toISOString().substr(11, 12);\n        return `[${timestamp}] [BLMX:${module}] ${message}`;\n    }\n    /**\n     * 调试日志\n     */\n    debug(module, message, data) {\n        if (this.logLevel <= LogLevel.DEBUG && this.isDevelopment) {\n            console.log(this.formatMessage(module, message), data || '');\n            this.addToHistory(LogLevel.DEBUG, module, message, data);\n        }\n    }\n    /**\n     * 信息日志\n     */\n    info(module, message, data) {\n        if (this.logLevel <= LogLevel.INFO && this.isDevelopment) {\n            console.info(this.formatMessage(module, message), data || '');\n            this.addToHistory(LogLevel.INFO, module, message, data);\n        }\n    }\n    /**\n     * 警告日志\n     */\n    warn(module, message, data) {\n        if (this.logLevel <= LogLevel.WARN) {\n            console.warn(this.formatMessage(module, message), data || '');\n            this.addToHistory(LogLevel.WARN, module, message, data);\n        }\n    }\n    /**\n     * 错误日志（总是显示）\n     */\n    error(module, message, data) {\n        console.error(this.formatMessage(module, message), data || '');\n        this.addToHistory(LogLevel.ERROR, module, message, data);\n    }\n    /**\n     * 性能测量开始\n     */\n    timeStart(module, label) {\n        if (this.isDevelopment) {\n            console.time(this.formatMessage(module, label));\n        }\n    }\n    /**\n     * 性能测量结束\n     */\n    timeEnd(module, label) {\n        if (this.isDevelopment) {\n            console.timeEnd(this.formatMessage(module, label));\n        }\n    }\n    /**\n     * 分组日志开始\n     */\n    groupStart(module, title) {\n        if (this.isDevelopment) {\n            console.group(this.formatMessage(module, title));\n        }\n    }\n    /**\n     * 分组日志结束\n     */\n    groupEnd() {\n        if (this.isDevelopment) {\n            console.groupEnd();\n        }\n    }\n    /**\n     * 获取日志历史\n     */\n    getHistory(filterModule, filterLevel) {\n        let filtered = this.logHistory;\n        if (filterModule) {\n            filtered = filtered.filter(log => log.module === filterModule);\n        }\n        if (filterLevel !== undefined) {\n            filtered = filtered.filter(log => log.level >= filterLevel);\n        }\n        return filtered;\n    }\n    /**\n     * 清空日志历史\n     */\n    clearHistory() {\n        this.logHistory = [];\n    }\n    /**\n     * 导出日志历史为JSON\n     */\n    exportHistory() {\n        return JSON.stringify(this.logHistory, null, 2);\n    }\n    /**\n     * 显示调试面板（如果在开发模式）\n     */\n    showDebugPanel() {\n        if (!this.isDevelopment) {\n            console.warn('调试面板仅在开发模式下可用');\n            return;\n        }\n        console.group('🐛 BLMX 调试信息');\n        console.log('开发模式:', this.isDevelopment);\n        console.log('日志级别:', LogLevel[this.logLevel]);\n        console.log('历史记录数量:', this.logHistory.length);\n        if (this.logHistory.length > 0) {\n            console.log('最近的日志:');\n            this.logHistory.slice(-10).forEach(log => {\n                const levelIcon = ['🔍', 'ℹ️', '⚠️', '❌'][log.level];\n                console.log(`${levelIcon} [${log.module}] ${log.message}`, log.data || '');\n            });\n        }\n        console.groupEnd();\n    }\n    /**\n     * 获取当前状态\n     */\n    getStatus() {\n        return {\n            isDevelopment: this.isDevelopment,\n            logLevel: LogLevel[this.logLevel],\n            historyCount: this.logHistory.length,\n        };\n    }\n}\n// 创建全局实例\nconst logger = DebugLogger.getInstance();\n// 在开发模式下暴露到全局作用域，方便调试\nif (typeof window !== 'undefined' && logger.getStatus().isDevelopment) {\n    window.blmxLogger = logger;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZGVidWctbG9nZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog57uf5LiA55qE6LCD6K+V5pel5b+X5bel5YW3XG4gKiDnlKjkuo7mm7/ku6PmlaPluIPlnKjlkITlpITnmoQgY29uc29sZS5sb2cg6LCD6K+V5Luj56CBXG4gKi9cblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICBERUJVRyA9IDAsXG4gIElORk8gPSAxLFxuICBXQVJOID0gMixcbiAgRVJST1IgPSAzLFxufVxuXG5leHBvcnQgY2xhc3MgRGVidWdMb2dnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRGVidWdMb2dnZXI7XG4gIHByaXZhdGUgaXNEZXZlbG9wbWVudDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBsb2dMZXZlbDogTG9nTGV2ZWw7XG4gIHByaXZhdGUgbG9nSGlzdG9yeTogQXJyYXk8eyB0aW1lc3RhbXA6IERhdGU7IGxldmVsOiBMb2dMZXZlbDsgbW9kdWxlOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZzsgZGF0YT86IGFueSB9PiA9IFtdO1xuICBwcml2YXRlIG1heEhpc3RvcnlTaXplOiBudW1iZXIgPSAxMDAwO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5qOA5p+l5piv5ZCm5Li65byA5Y+R5qih5byPXG4gICAgdGhpcy5pc0RldmVsb3BtZW50ID0gdGhpcy5jaGVja0RldmVsb3BtZW50TW9kZSgpO1xuICAgIHRoaXMubG9nTGV2ZWwgPSB0aGlzLmlzRGV2ZWxvcG1lbnQgPyBMb2dMZXZlbC5ERUJVRyA6IExvZ0xldmVsLkVSUk9SO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IERlYnVnTG9nZ2VyIHtcbiAgICBpZiAoIURlYnVnTG9nZ2VyLmluc3RhbmNlKSB7XG4gICAgICBEZWJ1Z0xvZ2dlci5pbnN0YW5jZSA9IG5ldyBEZWJ1Z0xvZ2dlcigpO1xuICAgIH1cbiAgICByZXR1cm4gRGVidWdMb2dnZXIuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5piv5ZCm5Li65byA5Y+R5qih5byPXG4gICAqL1xuICBwcml2YXRlIGNoZWNrRGV2ZWxvcG1lbnRNb2RlKCk6IGJvb2xlYW4ge1xuICAgIC8vIOajgOafpeWkmuenjeW8gOWPkeaooeW8j+agh+ivhlxuICAgIHJldHVybiAhIShcbiAgICAgICh3aW5kb3cgYXMgYW55KS5CTE1YX0RFVl9NT0RFIHx8XG4gICAgICAod2luZG93IGFzIGFueSkuREVCVUcgfHxcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdibG14X2RlYnVnJykgPT09ICd0cnVlJyB8fFxuICAgICAgbG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8XG4gICAgICBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJzEyNy4wLjAuMScgfHxcbiAgICAgIGxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygnZGVidWc9dHJ1ZScpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva7ml6Xlv5fnuqfliKtcbiAgICovXG4gIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xuICAgIHRoaXMubG9nTGV2ZWwgPSBsZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDlkK/nlKgv56aB55So5byA5Y+R5qih5byPXG4gICAqL1xuICBzZXREZXZlbG9wbWVudE1vZGUoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNEZXZlbG9wbWVudCA9IGVuYWJsZWQ7XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdibG14X2RlYnVnJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2JsbXhfZGVidWcnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6K6w5b2V5pel5b+X5Yiw5Y6G5Y+yXG4gICAqL1xuICBwcml2YXRlIGFkZFRvSGlzdG9yeShsZXZlbDogTG9nTGV2ZWwsIG1vZHVsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmxvZ0hpc3RvcnkucHVzaCh7XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBsZXZlbCxcbiAgICAgIG1vZHVsZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBkYXRhLFxuICAgIH0pO1xuXG4gICAgLy8g6ZmQ5Yi25Y6G5Y+y6K6w5b2V5aSn5bCPXG4gICAgaWYgKHRoaXMubG9nSGlzdG9yeS5sZW5ndGggPiB0aGlzLm1heEhpc3RvcnlTaXplKSB7XG4gICAgICB0aGlzLmxvZ0hpc3Rvcnkuc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5qC85byP5YyW5pel5b+X5raI5oGvXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobW9kdWxlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigxMSwgMTIpO1xuICAgIHJldHVybiBgWyR7dGltZXN0YW1wfV0gW0JMTVg6JHttb2R1bGV9XSAke21lc3NhZ2V9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiDosIPor5Xml6Xlv5dcbiAgICovXG4gIGRlYnVnKG1vZHVsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA8PSBMb2dMZXZlbC5ERUJVRyAmJiB0aGlzLmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybWF0TWVzc2FnZShtb2R1bGUsIG1lc3NhZ2UpLCBkYXRhIHx8ICcnKTtcbiAgICAgIHRoaXMuYWRkVG9IaXN0b3J5KExvZ0xldmVsLkRFQlVHLCBtb2R1bGUsIG1lc3NhZ2UsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDkv6Hmga/ml6Xlv5dcbiAgICovXG4gIGluZm8obW9kdWxlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLklORk8gJiYgdGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLmluZm8odGhpcy5mb3JtYXRNZXNzYWdlKG1vZHVsZSwgbWVzc2FnZSksIGRhdGEgfHwgJycpO1xuICAgICAgdGhpcy5hZGRUb0hpc3RvcnkoTG9nTGV2ZWwuSU5GTywgbW9kdWxlLCBtZXNzYWdlLCBkYXRhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6K2m5ZGK5pel5b+XXG4gICAqL1xuICB3YXJuKG1vZHVsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA8PSBMb2dMZXZlbC5XQVJOKSB7XG4gICAgICBjb25zb2xlLndhcm4odGhpcy5mb3JtYXRNZXNzYWdlKG1vZHVsZSwgbWVzc2FnZSksIGRhdGEgfHwgJycpO1xuICAgICAgdGhpcy5hZGRUb0hpc3RvcnkoTG9nTGV2ZWwuV0FSTiwgbW9kdWxlLCBtZXNzYWdlLCBkYXRhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6ZSZ6K+v5pel5b+X77yI5oC75piv5pi+56S677yJXG4gICAqL1xuICBlcnJvcihtb2R1bGU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcih0aGlzLmZvcm1hdE1lc3NhZ2UobW9kdWxlLCBtZXNzYWdlKSwgZGF0YSB8fCAnJyk7XG4gICAgdGhpcy5hZGRUb0hpc3RvcnkoTG9nTGV2ZWwuRVJST1IsIG1vZHVsZSwgbWVzc2FnZSwgZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICog5oCn6IO95rWL6YeP5byA5aeLXG4gICAqL1xuICB0aW1lU3RhcnQobW9kdWxlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLnRpbWUodGhpcy5mb3JtYXRNZXNzYWdlKG1vZHVsZSwgbGFiZWwpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5oCn6IO95rWL6YeP57uT5p2fXG4gICAqL1xuICB0aW1lRW5kKG1vZHVsZTogc3RyaW5nLCBsYWJlbDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgY29uc29sZS50aW1lRW5kKHRoaXMuZm9ybWF0TWVzc2FnZShtb2R1bGUsIGxhYmVsKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIhue7hOaXpeW/l+W8gOWni1xuICAgKi9cbiAgZ3JvdXBTdGFydChtb2R1bGU6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIGNvbnNvbGUuZ3JvdXAodGhpcy5mb3JtYXRNZXNzYWdlKG1vZHVsZSwgdGl0bGUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5YiG57uE5pel5b+X57uT5p2fXG4gICAqL1xuICBncm91cEVuZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaXpeW/l+WOhuWPslxuICAgKi9cbiAgZ2V0SGlzdG9yeShmaWx0ZXJNb2R1bGU/OiBzdHJpbmcsIGZpbHRlckxldmVsPzogTG9nTGV2ZWwpOiB0eXBlb2YgdGhpcy5sb2dIaXN0b3J5IHtcbiAgICBsZXQgZmlsdGVyZWQgPSB0aGlzLmxvZ0hpc3Rvcnk7XG5cbiAgICBpZiAoZmlsdGVyTW9kdWxlKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihsb2cgPT4gbG9nLm1vZHVsZSA9PT0gZmlsdGVyTW9kdWxlKTtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyTGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIobG9nID0+IGxvZy5sZXZlbCA+PSBmaWx0ZXJMZXZlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIOa4heepuuaXpeW/l+WOhuWPslxuICAgKi9cbiAgY2xlYXJIaXN0b3J5KCk6IHZvaWQge1xuICAgIHRoaXMubG9nSGlzdG9yeSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIOWvvOWHuuaXpeW/l+WOhuWPsuS4ukpTT05cbiAgICovXG4gIGV4cG9ydEhpc3RvcnkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5sb2dIaXN0b3J5LCBudWxsLCAyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrosIPor5XpnaLmnb/vvIjlpoLmnpzlnKjlvIDlj5HmqKHlvI/vvIlcbiAgICovXG4gIHNob3dEZWJ1Z1BhbmVsKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+iwg+ivlemdouadv+S7heWcqOW8gOWPkeaooeW8j+S4i+WPr+eUqCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUuZ3JvdXAoJ/CfkJsgQkxNWCDosIPor5Xkv6Hmga8nKTtcbiAgICBjb25zb2xlLmxvZygn5byA5Y+R5qih5byPOicsIHRoaXMuaXNEZXZlbG9wbWVudCk7XG4gICAgY29uc29sZS5sb2coJ+aXpeW/l+e6p+WIqzonLCBMb2dMZXZlbFt0aGlzLmxvZ0xldmVsXSk7XG4gICAgY29uc29sZS5sb2coJ+WOhuWPsuiusOW9leaVsOmHjzonLCB0aGlzLmxvZ0hpc3RvcnkubGVuZ3RoKTtcbiAgICBcbiAgICBpZiAodGhpcy5sb2dIaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCfmnIDov5HnmoTml6Xlv5c6Jyk7XG4gICAgICB0aGlzLmxvZ0hpc3Rvcnkuc2xpY2UoLTEwKS5mb3JFYWNoKGxvZyA9PiB7XG4gICAgICAgIGNvbnN0IGxldmVsSWNvbiA9IFsn8J+UjScsICfihLnvuI8nLCAn4pqg77iPJywgJ+KdjCddW2xvZy5sZXZlbF07XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2xldmVsSWNvbn0gWyR7bG9nLm1vZHVsZX1dICR7bG9nLm1lc3NhZ2V9YCwgbG9nLmRhdGEgfHwgJycpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blvZPliY3nirbmgIFcbiAgICovXG4gIGdldFN0YXR1cygpOiB7XG4gICAgaXNEZXZlbG9wbWVudDogYm9vbGVhbjtcbiAgICBsb2dMZXZlbDogc3RyaW5nO1xuICAgIGhpc3RvcnlDb3VudDogbnVtYmVyO1xuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNEZXZlbG9wbWVudDogdGhpcy5pc0RldmVsb3BtZW50LFxuICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsW3RoaXMubG9nTGV2ZWxdLFxuICAgICAgaGlzdG9yeUNvdW50OiB0aGlzLmxvZ0hpc3RvcnkubGVuZ3RoLFxuICAgIH07XG4gIH1cbn1cblxuLy8g5Yib5bu65YWo5bGA5a6e5L6LXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gRGVidWdMb2dnZXIuZ2V0SW5zdGFuY2UoKTtcblxuLy8g5Zyo5byA5Y+R5qih5byP5LiL5pq06Zyy5Yiw5YWo5bGA5L2c55So5Z+f77yM5pa55L6/6LCD6K+VXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmdldFN0YXR1cygpLmlzRGV2ZWxvcG1lbnQpIHtcbiAgKHdpbmRvdyBhcyBhbnkpLmJsbXhMb2dnZXIgPSBsb2dnZXI7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/debug-logger.ts\n\n}");
  },
  "./src/同层手机/dialog-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DialogManager: () => (/* binding */ DialogManager)\n/* harmony export */ });\n/**\n * 对话框管理器\n * 提供自定义的alert、confirm、prompt对话框，替代系统默认对话框\n */\nclass DialogManager {\n    static instance;\n    activeDialog = null;\n    activeOverlay = null;\n    constructor() {\n        // 私有构造函数，确保单例模式\n    }\n    /**\n     * 获取单例实例\n     */\n    static getInstance() {\n        if (!DialogManager.instance) {\n            DialogManager.instance = new DialogManager();\n        }\n        return DialogManager.instance;\n    }\n    /**\n     * HTML转义辅助方法\n     */\n    escapeHtml(text) {\n        return $('<div>').text(text).html();\n    }\n    /**\n     * 安全显示对话框 - 如果已有对话框则先关闭\n     */\n    async safeShowDialog(dialogFunction) {\n        // 强制清理所有对话框（无论是否有活跃对话框）\n        this.forceCleanupDialogs();\n        return await dialogFunction();\n    }\n    /**\n     * 创建基础对话框元素\n     */\n    createBaseDialogElements(dialogClass) {\n        this.activeOverlay = $('<div>').addClass('dialog-overlay mobile-dialog-overlay')[0];\n        this.activeDialog = $('<div>').addClass(`dialog ${dialogClass} mobile-dialog`)[0];\n    }\n    /**\n     * 将对话框添加到页面中\n     */\n    appendDialogToPage() {\n        if (!this.activeOverlay)\n            return;\n        const $phoneScreen = $('.phone-screen');\n        if ($phoneScreen.length) {\n            $phoneScreen.append(this.activeOverlay);\n        }\n        else {\n            // 如果找不到手机屏幕容器，回退到body\n            $('body').append(this.activeOverlay);\n        }\n    }\n    /**\n     * 初始化对话框中的checkbox按钮样式\n     */\n    initializeCheckboxButtons() {\n        if (!this.activeDialog)\n            return;\n        $(this.activeDialog)\n            .find('.checkbox-button')\n            .each((_, button) => {\n            const $button = $(button);\n            const $checkbox = $button.find('input[type=\"checkbox\"]');\n            if (!$checkbox.length)\n                return;\n            const checkbox = $checkbox[0];\n            // 设置初始状态\n            this.updateCheckboxButtonState(button, checkbox.checked);\n            // 添加点击事件\n            $button.on('click', e => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (checkbox.disabled)\n                    return;\n                // 切换状态\n                checkbox.checked = !checkbox.checked;\n                this.updateCheckboxButtonState(button, checkbox.checked);\n                // 触发change事件 - 使用原生事件确保兼容性\n                const changeEvent = new Event('change', { bubbles: true });\n                checkbox.dispatchEvent(changeEvent);\n            });\n            // 监听外部状态变化\n            $checkbox.on('change', () => {\n                this.updateCheckboxButtonState(button, checkbox.checked);\n            });\n            // 设置可访问性属性\n            $button.attr({\n                role: 'checkbox',\n                tabindex: '0',\n                'aria-checked': checkbox.checked.toString(),\n            });\n        });\n    }\n    /**\n     * 更新checkbox按钮状态\n     */\n    updateCheckboxButtonState(button, checked) {\n        const $button = $(button);\n        $button.toggleClass('checked', checked);\n        $button.attr('aria-checked', checked.toString());\n    }\n    /**\n     * 显示提示对话框（替代alert）\n     */\n    alert(message, title = '提示', confirmText = '确定') {\n        return this.safeShowDialog(() => this.showDialog({\n            type: 'alert',\n            title,\n            message,\n            confirmText,\n        }));\n    }\n    /**\n     * 显示确认对话框（替代confirm）\n     */\n    confirm(message, title = '确认', confirmText = '确定', cancelText = '取消') {\n        return this.safeShowDialog(() => this.showDialog({\n            type: 'confirm',\n            title,\n            message,\n            confirmText,\n            cancelText,\n        }));\n    }\n    /**\n     * 显示输入对话框（替代prompt）\n     */\n    prompt(message, defaultValue = '', title = '请输入', confirmText = '确定', cancelText = '取消', inputType = 'text', placeholder = '') {\n        return this.safeShowDialog(() => this.showDialog({\n            type: 'prompt',\n            title,\n            message,\n            confirmText,\n            cancelText,\n            inputType,\n            inputValue: defaultValue,\n            inputPlaceholder: placeholder,\n        }));\n    }\n    /**\n     * 显示可滚动文本对话框（用于显示长文本内容）\n     */\n    showScrollableText(content, title = '内容', confirmText = '关闭') {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('scrollable-text-dialog');\n            // 设置对话框内容\n            this.activeDialog.innerHTML = `\n          <div class=\"dialog-header\">\n            <h3>${title}</h3>\n          </div>\n          <div class=\"dialog-body scrollable-content\">\n            <pre class=\"scrollable-text\">${this.escapeHtml(content)}</pre>\n          </div>\n          <div class=\"dialog-footer\">\n            <button class=\"dialog-button copy-btn\">复制</button>\n            <button class=\"dialog-button primary-button\">${confirmText}</button>\n          </div>\n        `;\n            const $copyBtn = $(this.activeDialog).find('.copy-btn');\n            const $confirmBtn = $(this.activeDialog).find('.primary-button');\n            const handleCopy = async () => {\n                try {\n                    await navigator.clipboard.writeText(content);\n                    // 临时改变按钮文字提示复制成功\n                    const originalText = $copyBtn.text();\n                    $copyBtn.text('已复制');\n                    setTimeout(() => {\n                        $copyBtn.text(originalText);\n                    }, 1000);\n                }\n                catch (error) {\n                    console.error('复制失败:', error);\n                    // 降级方案：选择文本\n                    const $textElement = $(this.activeDialog).find('.scrollable-text');\n                    if ($textElement.length) {\n                        const range = document.createRange();\n                        range.selectNodeContents($textElement[0]);\n                        const selection = window.getSelection();\n                        if (selection) {\n                            selection.removeAllRanges();\n                            selection.addRange(range);\n                        }\n                    }\n                }\n            };\n            const handleConfirm = () => {\n                this.closeDialog();\n                resolve();\n            };\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve();\n            };\n            $copyBtn.on('click', handleCopy);\n            $confirmBtn.on('click', handleConfirm);\n            // ESC键关闭\n            $(document).on('keydown.dialog', (e) => {\n                if (e.key === 'Escape') {\n                    handleCancel();\n                    $(document).off('keydown.dialog');\n                }\n            });\n            // 添加到手机屏幕容器内\n            $(this.activeOverlay).append(this.activeDialog);\n            this.appendDialogToPage();\n        }));\n    }\n    /**\n     * 显示对话框\n     */\n    showDialog(options) {\n        // 创建对话框元素\n        const { overlay, dialog } = this.createDialogElements(options);\n        // 保存引用\n        this.activeOverlay = overlay;\n        this.activeDialog = dialog;\n        // 添加到页面中\n        this.appendDialogToPage();\n        // 处理输入框自动聚焦\n        if (options.type === 'prompt') {\n            const $inputEl = $(dialog).find('input, textarea');\n            if ($inputEl.length) {\n                setTimeout(() => $inputEl.trigger('focus'), 100);\n            }\n        }\n        return new Promise(resolve => {\n            // 确认按钮点击处理\n            const confirmButton = dialog.querySelector('.primary-button');\n            if (confirmButton) {\n                confirmButton.addEventListener('click', () => {\n                    if (options.type === 'prompt') {\n                        const inputEl = dialog.querySelector('input, textarea');\n                        const value = inputEl ? inputEl.value : null;\n                        this.closeDialog();\n                        resolve(value);\n                    }\n                    else {\n                        this.closeDialog();\n                        resolve(options.type === 'confirm' ? true : undefined);\n                    }\n                });\n            }\n            // 取消按钮点击处理\n            const cancelButton = dialog.querySelector('.cancel-button');\n            if (cancelButton) {\n                cancelButton.addEventListener('click', () => {\n                    this.closeDialog();\n                    resolve(options.type === 'prompt' ? null : false);\n                });\n            }\n            // 点击遮罩层关闭（仅对alert有效）\n            if (options.type === 'alert') {\n                overlay.addEventListener('click', e => {\n                    if (e.target === overlay) {\n                        this.closeDialog();\n                        resolve(undefined);\n                    }\n                });\n            }\n            // 键盘事件处理\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter') {\n                    e.preventDefault();\n                    if (options.type === 'prompt') {\n                        const inputEl = dialog.querySelector('input, textarea');\n                        const value = inputEl ? inputEl.value : null;\n                        this.closeDialog();\n                        resolve(value);\n                    }\n                    else if (options.type === 'confirm') {\n                        this.closeDialog();\n                        resolve(true);\n                    }\n                    else {\n                        // alert\n                        this.closeDialog();\n                        resolve(undefined);\n                    }\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n                else if (e.key === 'Escape') {\n                    e.preventDefault();\n                    this.closeDialog();\n                    resolve(options.type === 'prompt' ? null : false);\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n        });\n    }\n    /**\n     * 创建对话框元素\n     */\n    createDialogElements(options) {\n        // 创建遮罩层\n        const $overlay = $('<div>').addClass('custom-dialog-overlay');\n        // 创建对话框\n        const $dialog = $('<div>').addClass(`custom-dialog ${options.className || ''}`);\n        // 创建标题\n        const $header = $('<div>').addClass('dialog-header');\n        const $title = $('<h3>')\n            .addClass('dialog-title')\n            .text(options.title || '');\n        $header.append($title);\n        $dialog.append($header);\n        // 创建内容\n        const $body = $('<div>').addClass('dialog-body');\n        // 添加消息\n        const $message = $('<div>').text(options.message);\n        $body.append($message);\n        // 如果是prompt，添加输入框\n        if (options.type === 'prompt') {\n            const $inputContainer = $('<div>').addClass('dialog-input-container');\n            const $input = $(options.inputType === 'textarea' ? '<textarea>' : '<input>');\n            if (options.inputType !== 'textarea') {\n                $input.attr('type', options.inputType || 'text');\n            }\n            if (options.inputValue) {\n                $input.val(options.inputValue);\n            }\n            if (options.inputPlaceholder) {\n                $input.attr('placeholder', options.inputPlaceholder);\n            }\n            $inputContainer.append($input);\n            $body.append($inputContainer);\n        }\n        $dialog.append($body);\n        // 创建按钮区域\n        const $footer = $('<div>').addClass('dialog-footer');\n        // 根据类型添加不同的按钮\n        if (options.type === 'confirm' || options.type === 'prompt') {\n            const $cancelButton = $('<button>')\n                .addClass('dialog-button cancel-button')\n                .text(options.cancelText || '取消');\n            $footer.append($cancelButton);\n        }\n        const $confirmButton = $('<button>')\n            .addClass('dialog-button primary-button')\n            .text(options.confirmText || '确定');\n        $footer.append($confirmButton);\n        $dialog.append($footer);\n        $overlay.append($dialog);\n        return { overlay: $overlay[0], dialog: $dialog[0] };\n    }\n    /**\n     * 显示朋友圈评论/点赞对话框\n     */\n    showCommentDialog() {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('comment-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>互动</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"comment-text\">评论内容</label>\n            <textarea id=\"comment-text\" placeholder=\"说点什么...\" rows=\"3\"></textarea>\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button cancel-btn\">取消</button>\n          <button class=\"dialog-button like-btn\">点赞</button>\n          <button class=\"dialog-button confirm-btn\">发送</button>\n        </div>\n      `;\n            const $dialog = $(this.activeDialog);\n            const $cancelBtn = $dialog.find('.cancel-btn');\n            const $likeBtn = $dialog.find('.like-btn');\n            const $confirmBtn = $dialog.find('.confirm-btn');\n            const $commentText = $dialog.find('#comment-text');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleLike = () => {\n                this.closeDialog();\n                resolve({ type: 'like' });\n            };\n            const handleComment = () => {\n                const content = $commentText.val();\n                if (!content) {\n                    // 在输入框上显示错误提示，而不是弹出新的alert\n                    $commentText.css('borderColor', '#ff4444');\n                    $commentText.attr('placeholder', '请输入评论内容');\n                    $commentText.trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({ type: 'comment', content });\n            };\n            $cancelBtn.on('click', handleCancel);\n            $likeBtn.on('click', handleLike);\n            $confirmBtn.on('click', handleComment);\n            // 键盘事件处理\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter' && e.ctrlKey) {\n                    // Ctrl+Enter 发送评论\n                    e.preventDefault();\n                    handleComment();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到文本框\n            setTimeout(() => {\n                $commentText.trigger('focus');\n            }, 100);\n        }));\n    }\n    /**\n     * 显示转账对话框\n     */\n    showTransferDialog() {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('transfer-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>转账</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"transfer-amount\">转账金额 *</label>\n            <input type=\"number\" id=\"transfer-amount\" placeholder=\"请输入转账金额\" step=\"0.01\" min=\"0.01\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"transfer-note\">转账备注</label>\n            <input type=\"text\" id=\"transfer-note\" placeholder=\"请输入转账备注（可选）\">\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button cancel-btn\">取消</button>\n          <button class=\"dialog-button confirm-btn\">确认转账</button>\n        </div>\n      `;\n            const $dialog = $(this.activeDialog);\n            const $cancelBtn = $dialog.find('.cancel-btn');\n            const $confirmBtn = $dialog.find('.confirm-btn');\n            const $amountInput = $dialog.find('#transfer-amount');\n            const $noteInput = $dialog.find('#transfer-note');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                const amount = $amountInput.val();\n                const note = $noteInput.val();\n                if (!amount || parseFloat(amount) <= 0) {\n                    // 在输入框上显示错误提示，而不是弹出新的alert\n                    $amountInput.css('borderColor', '#ff4444');\n                    $amountInput.attr('placeholder', '请输入有效的转账金额');\n                    $amountInput.trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({ amount: parseFloat(amount).toFixed(2), note: note || '' });\n            };\n            $cancelBtn.on('click', handleCancel);\n            $confirmBtn.on('click', handleConfirm);\n            // 回车键确认\n            $(document).on('keydown.transfer-dialog', (e) => {\n                if (e.key === 'Enter') {\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    $(document).off('keydown.transfer-dialog');\n                }\n            });\n            // 添加到手机屏幕容器内\n            $(this.activeOverlay).append(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到金额输入框\n            setTimeout(() => {\n                $amountInput.trigger('focus');\n            }, 100);\n        }));\n    }\n    /**\n     * 显示红包对话框\n     */\n    showRedPacketDialog() {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('red-packet-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>🧧 发送红包</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"red-packet-amount\">红包金额 *</label>\n            <input type=\"number\" id=\"red-packet-amount\" placeholder=\"请输入红包金额\" step=\"0.01\" min=\"0.01\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"red-packet-note\">红包祝福语</label>\n            <input type=\"text\" id=\"red-packet-note\" placeholder=\"恭喜发财，大吉大利！\" value=\"恭喜发财，大吉大利！\">\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button cancel-btn\">取消</button>\n          <button class=\"dialog-button confirm-btn\">发送红包</button>\n        </div>\n      `;\n            const $dialog = $(this.activeDialog);\n            const $cancelBtn = $dialog.find('.cancel-btn');\n            const $confirmBtn = $dialog.find('.confirm-btn');\n            const $amountInput = $dialog.find('#red-packet-amount');\n            const $noteInput = $dialog.find('#red-packet-note');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                const amount = $amountInput.val();\n                const note = $noteInput.val();\n                if (!amount || parseFloat(amount) <= 0) {\n                    // 在输入框上显示错误提示，而不是弹出新的alert\n                    $amountInput.css('borderColor', '#ff4444');\n                    $amountInput.attr('placeholder', '请输入有效的红包金额');\n                    $amountInput.trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({ amount: parseFloat(amount).toFixed(2), note: note || '恭喜发财，大吉大利！' });\n            };\n            $cancelBtn.on('click', handleCancel);\n            $confirmBtn.on('click', handleConfirm);\n            // 回车键确认\n            $(document).on('keydown.red-packet-dialog', (e) => {\n                if (e.key === 'Enter') {\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    $(document).off('keydown.red-packet-dialog');\n                }\n            });\n            // 添加到手机屏幕容器内\n            $(this.activeOverlay).append(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到金额输入框\n            setTimeout(() => {\n                $amountInput.trigger('focus');\n            }, 100);\n        }));\n    }\n    /**\n     * 显示礼物对话框\n     */\n    showGiftDialog() {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('gift-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>🎁 发送礼物</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"gift-name\">礼物名称 *</label>\n            <input type=\"text\" id=\"gift-name\" placeholder=\"请输入礼物名称\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"gift-price\">礼物价格</label>\n            <input type=\"number\" id=\"gift-price\" placeholder=\"请输入价格（可选）\" step=\"0.01\" min=\"0\">\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button cancel-btn\">取消</button>\n          <button class=\"dialog-button confirm-btn\">发送礼物</button>\n        </div>\n      `;\n            const cancelBtn = this.activeDialog.querySelector('.cancel-btn');\n            const confirmBtn = this.activeDialog.querySelector('.confirm-btn');\n            const nameInput = this.activeDialog.querySelector('#gift-name');\n            const priceInput = this.activeDialog.querySelector('#gift-price');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                const name = nameInput.value.trim();\n                const price = priceInput.value.trim();\n                if (!name) {\n                    // 在输入框上显示错误提示，而不是弹出新的alert\n                    $(nameInput).css('borderColor', '#ff4444');\n                    $(nameInput).attr('placeholder', '请输入礼物名称');\n                    $(nameInput).trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({\n                    name,\n                    price: price && parseFloat(price) > 0 ? parseFloat(price).toFixed(2) : undefined,\n                });\n            };\n            cancelBtn.addEventListener('click', handleCancel);\n            confirmBtn.addEventListener('click', handleConfirm);\n            // 回车键确认\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter') {\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到名称输入框\n            setTimeout(() => {\n                $(nameInput).trigger('focus');\n            }, 100);\n        }));\n    }\n    /**\n     * 显示自定义输入对话框（替代系统prompt）\n     */\n    showInputDialog(title, label, defaultValue = '', placeholder = '', inputType = 'text') {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('input-dialog');\n            this.activeDialog.innerHTML = `\n            <div class=\"dialog-header\">\n              <h3>${title}</h3>\n            </div>\n            <div class=\"dialog-body\">\n              <div class=\"form-group\">\n                <label for=\"input-field\">${label}</label>\n                <input type=\"${inputType}\" id=\"input-field\" placeholder=\"${placeholder}\" value=\"${defaultValue}\">\n              </div>\n            </div>\n            <div class=\"dialog-footer\">\n              <button class=\"dialog-button cancel-btn\">取消</button>\n              <button class=\"dialog-button confirm-btn\">确定</button>\n            </div>\n          `;\n            const $dialog = $(this.activeDialog);\n            const $cancelBtn = $dialog.find('.cancel-btn');\n            const $confirmBtn = $dialog.find('.confirm-btn');\n            const $inputField = $dialog.find('#input-field');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                const value = $inputField.val();\n                this.closeDialog();\n                resolve(value);\n            };\n            $cancelBtn.on('click', handleCancel);\n            $confirmBtn.on('click', handleConfirm);\n            // 回车键确认\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter') {\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到输入框并选中默认值\n            setTimeout(() => {\n                $inputField.trigger('focus');\n                if (defaultValue) {\n                    $inputField.trigger('select');\n                }\n            }, 100);\n        }));\n    }\n    /**\n     * 显示语音输入对话框\n     */\n    showVoiceDialog() {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('voice-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>🎤 语音消息</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"voice-text\">语音内容</label>\n            <textarea id=\"voice-text\" placeholder=\"请输入语音内容...\" rows=\"3\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"voice-duration\">语音时长（秒）</label>\n            <input type=\"number\" id=\"voice-duration\" placeholder=\"请输入秒数\" min=\"1\" max=\"60\" value=\"3\">\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button cancel-btn\">取消</button>\n          <button class=\"dialog-button confirm-btn\">发送</button>\n        </div>\n      `;\n            const cancelBtn = this.activeDialog.querySelector('.cancel-btn');\n            const confirmBtn = this.activeDialog.querySelector('.confirm-btn');\n            const textArea = this.activeDialog.querySelector('#voice-text');\n            const durationInput = this.activeDialog.querySelector('#voice-duration');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                const text = textArea.value.trim();\n                const durationStr = durationInput.value.trim();\n                if (!text) {\n                    // 在文本框上显示错误提示，而不是弹出新的alert\n                    $(textArea).css('borderColor', '#ff4444');\n                    $(textArea).attr('placeholder', '请输入语音内容');\n                    $(textArea).trigger('focus');\n                    return;\n                }\n                const duration = parseInt(durationStr, 10);\n                if (!durationStr || isNaN(duration) || duration <= 0 || duration > 60) {\n                    // 在输入框上显示错误提示，而不是弹出新的alert\n                    $(durationInput).css('borderColor', '#ff4444');\n                    $(durationInput).attr('placeholder', '请输入有效的语音时长（1-60秒）');\n                    $(durationInput).trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({ text, duration });\n            };\n            cancelBtn.addEventListener('click', handleCancel);\n            confirmBtn.addEventListener('click', handleConfirm);\n            // 回车键确认（在textarea中使用Ctrl+Enter）\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter' && e.ctrlKey) {\n                    e.preventDefault();\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到文本框\n            setTimeout(() => {\n                $(textArea).trigger('focus');\n            }, 100);\n        }));\n    }\n    /**\n     * 显示礼物/转账接收对话框\n     */\n    showReceiveDialog(type, data) {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            // 创建基础对话框元素\n            this.createBaseDialogElements('receive-dialog');\n            const isGift = type === 'gift';\n            const title = isGift ? '收到礼物' : '收到转账';\n            const icon = isGift ? '🎁' : '💰';\n            let content = '';\n            if (isGift) {\n                content = `\n          <div class=\"receive-content\">\n            <div class=\"receive-icon\">${icon}</div>\n            <div class=\"receive-info\">\n              <div class=\"receive-title\">${data.name}</div>\n              ${data.price ? `<div class=\"receive-price\">¥${data.price}</div>` : ''}\n              ${data.note ? `<div class=\"receive-note\">${data.note}</div>` : ''}\n            </div>\n          </div>\n        `;\n            }\n            else {\n                content = `\n          <div class=\"receive-content\">\n            <div class=\"receive-icon\">${icon}</div>\n            <div class=\"receive-info\">\n              <div class=\"receive-title\">转账金额</div>\n              <div class=\"receive-price\">¥${data.amount}</div>\n              ${data.note ? `<div class=\"receive-note\">${data.note}</div>` : ''}\n            </div>\n          </div>\n        `;\n            }\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>${title}</h3>\n        </div>\n        <div class=\"dialog-body\">\n          ${content}\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-button reject-btn\">拒绝</button>\n          <button class=\"dialog-button accept-btn\">接收</button>\n        </div>\n      `;\n            const rejectBtn = this.activeDialog.querySelector('.reject-btn');\n            const acceptBtn = this.activeDialog.querySelector('.accept-btn');\n            const handleReject = () => {\n                this.closeDialog();\n                resolve('reject');\n            };\n            const handleAccept = () => {\n                this.closeDialog();\n                resolve('accept');\n            };\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            rejectBtn.addEventListener('click', handleReject);\n            acceptBtn.addEventListener('click', handleAccept);\n            // 键盘事件处理\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter') {\n                    // Enter键接受转账/礼物\n                    e.preventDefault();\n                    handleAccept();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n        }));\n    }\n    /**\n     * 显示朋友圈发布对话框\n     */\n    showMomentDialog(defaultTime) {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            const currentDate = window.currentGameDate || new Date();\n            const defaultDateTime = defaultTime ||\n                `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate\n                    .getDate()\n                    .toString()\n                    .padStart(2, '0')} ${currentDate.getHours().toString().padStart(2, '0')}:${currentDate\n                    .getMinutes()\n                    .toString()\n                    .padStart(2, '0')}`;\n            // 创建基础对话框元素\n            this.createBaseDialogElements('moment-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>发布朋友圈</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"moment-text\">这一刻的想法...</label>\n            <textarea id=\"moment-text\" placeholder=\"分享你的想法...\" rows=\"3\"></textarea>\n          </div>\n\n          <div class=\"form-group\">\n            <label>📷 图片类型</label>\n            <div class=\"radio-group\">\n              <label><input type=\"radio\" name=\"image-type\" value=\"desc\" checked> 图片描述</label>\n              <label><input type=\"radio\" name=\"image-type\" value=\"url\"> 图片链接</label>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"image-content\" id=\"image-content-label\">图片描述（可选）</label>\n            <input type=\"text\" id=\"image-content\" placeholder=\"请输入图片描述...（可选）\">\n          </div>\n\n          <div class=\"form-group url-desc-group\" style=\"display: none;\">\n            <label for=\"image-desc\">图片描述（供AI识别，可选）</label>\n            <input type=\"text\" id=\"image-desc\" placeholder=\"描述图片内容，仅供AI识别...（可选）\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"moment-datetime\">发布时间</label>\n            <input type=\"text\" id=\"moment-datetime\" value=\"${defaultDateTime}\" placeholder=\"YYYY-MM-DD HH:MM\">\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-btn dialog-btn-cancel\">取消</button>\n          <button class=\"dialog-btn dialog-btn-confirm\">发布</button>\n        </div>\n      `;\n            // 添加事件监听器\n            const imageTypeRadios = this.activeDialog.querySelectorAll('input[name=\"image-type\"]');\n            const imageContentLabel = this.activeDialog.querySelector('#image-content-label');\n            const imageContentInput = this.activeDialog.querySelector('#image-content');\n            const urlDescGroup = this.activeDialog.querySelector('.url-desc-group');\n            // 初始化checkbox按钮样式（如果有其他checkbox的话）\n            this.initializeCheckboxButtons();\n            // 图片类型切换\n            imageTypeRadios.forEach(radio => {\n                radio.addEventListener('change', () => {\n                    const isDesc = radio.value === 'desc';\n                    imageContentLabel.textContent = isDesc ? '图片描述（可选）' : '图片链接（可选）';\n                    imageContentInput.placeholder = isDesc ? '请输入图片描述...（可选）' : '请输入图片链接...（可选）';\n                    urlDescGroup.style.display = isDesc ? 'none' : 'block';\n                });\n            });\n            // 按钮事件\n            const cancelBtn = this.activeDialog.querySelector('.dialog-btn-cancel');\n            const confirmBtn = this.activeDialog.querySelector('.dialog-btn-confirm');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                // 检查对话框是否还存在\n                if (!this.activeDialog) {\n                    return;\n                }\n                const textArea = this.activeDialog.querySelector('#moment-text');\n                const imageTypeInput = this.activeDialog.querySelector('input[name=\"image-type\"]:checked');\n                const imageContentField = this.activeDialog.querySelector('#image-content');\n                const imageDescField = this.activeDialog.querySelector('#image-desc');\n                const datetimeInput = this.activeDialog.querySelector('#moment-datetime');\n                if (!textArea || !datetimeInput) {\n                    return;\n                }\n                const text = textArea.value;\n                const imageContent = imageContentField ? imageContentField.value.trim() : '';\n                const hasImage = imageContent !== '';\n                const imageType = hasImage && imageTypeInput ? imageTypeInput.value : 'none';\n                const imageDesc = imageType === 'url' && imageDescField ? imageDescField.value.trim() : imageContent;\n                const datetime = datetimeInput.value;\n                // 验证输入\n                if ((!text || text.trim() === '') && (!imageContent || imageContent.trim() === '')) {\n                    // 在文本框上显示错误提示，而不是弹出新的alert\n                    $(textArea).css('borderColor', '#ff4444');\n                    $(textArea).attr('placeholder', '请输入朋友圈内容或添加图片');\n                    $(textArea).trigger('focus');\n                    return;\n                }\n                // 解析时间\n                const datetimeMatch = datetime.match(/^(\\d{4}-\\d{2}-\\d{2})\\s+(\\d{2}:\\d{2})$/);\n                if (!datetimeMatch) {\n                    // 在时间输入框上显示错误提示，而不是弹出新的alert\n                    $(datetimeInput).css('borderColor', '#ff4444');\n                    $(datetimeInput).attr('placeholder', '格式：YYYY-MM-DD HH:MM');\n                    $(datetimeInput).trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({\n                    text: text.trim(),\n                    image: imageContent.trim(),\n                    image_type: imageType,\n                    image_desc: imageDesc.trim(),\n                    date: datetimeMatch[1],\n                    time: datetimeMatch[2],\n                });\n            };\n            cancelBtn.addEventListener('click', handleCancel);\n            confirmBtn.addEventListener('click', handleConfirm);\n            // 键盘事件处理\n            const handleKeyDown = (e) => {\n                if (e.key === 'Enter' && e.ctrlKey) {\n                    // Ctrl+Enter 发布朋友圈\n                    e.preventDefault();\n                    handleConfirm();\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到文本框\n            setTimeout(() => {\n                if (this.activeDialog) {\n                    const $textArea = $(this.activeDialog).find('#moment-text');\n                    if ($textArea.length) {\n                        $textArea.trigger('focus');\n                    }\n                }\n            }, 100);\n        }));\n    }\n    /**\n     * 显示时间跳跃对话框\n     */\n    showTimeJumpDialog(defaultTime) {\n        return this.safeShowDialog(() => new Promise(resolve => {\n            const currentDate = window.currentGameDate || new Date();\n            const defaultDateTime = defaultTime ||\n                `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate\n                    .getDate()\n                    .toString()\n                    .padStart(2, '0')} ${currentDate.getHours().toString().padStart(2, '0')}:${currentDate\n                    .getMinutes()\n                    .toString()\n                    .padStart(2, '0')}`;\n            // 创建基础对话框元素\n            this.createBaseDialogElements('time-jump-dialog');\n            this.activeDialog.innerHTML = `\n        <div class=\"dialog-header\">\n          <h3>时间跳跃</h3>\n        </div>\n        <div class=\"dialog-body\">\n          <div class=\"form-group\">\n            <label for=\"jump-datetime\">跳跃到时间</label>\n            <input type=\"text\" id=\"jump-datetime\" value=\"${defaultDateTime}\" placeholder=\"YYYY-MM-DD HH:MM\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"event-description\">📝 记录这段时间发生了什么</label>\n            <textarea id=\"event-description\" placeholder=\"描述这段时间发生的事情...（可选）\" rows=\"3\"></textarea>\n          </div>\n        </div>\n        <div class=\"dialog-footer\">\n          <button class=\"dialog-btn dialog-btn-cancel\">取消</button>\n          <button class=\"dialog-btn dialog-btn-confirm\">跳跃</button>\n        </div>\n      `;\n            // 初始化checkbox按钮样式（如果有其他checkbox的话）\n            this.initializeCheckboxButtons();\n            // 按钮事件\n            const cancelBtn = this.activeDialog.querySelector('.dialog-btn-cancel');\n            const confirmBtn = this.activeDialog.querySelector('.dialog-btn-confirm');\n            const handleCancel = () => {\n                this.closeDialog();\n                resolve(null);\n            };\n            const handleConfirm = () => {\n                // 检查对话框是否还存在\n                if (!this.activeDialog) {\n                    return;\n                }\n                const datetimeInput = this.activeDialog.querySelector('#jump-datetime');\n                const descriptionInput = this.activeDialog.querySelector('#event-description');\n                if (!datetimeInput) {\n                    return;\n                }\n                const datetime = datetimeInput.value;\n                const description = descriptionInput ? descriptionInput.value.trim() : '';\n                // 解析时间\n                const datetimeMatch = datetime.match(/^(\\d{4}-\\d{2}-\\d{2})\\s+(\\d{2}:\\d{2})$/);\n                if (!datetimeMatch) {\n                    // 在时间输入框上显示错误提示，而不是弹出新的alert\n                    $(datetimeInput).css('borderColor', '#ff4444');\n                    $(datetimeInput).attr('placeholder', '格式：YYYY-MM-DD HH:MM');\n                    $(datetimeInput).trigger('focus');\n                    return;\n                }\n                this.closeDialog();\n                resolve({\n                    date: datetimeMatch[1],\n                    time: datetimeMatch[2],\n                    description: description, // 可以为空字符串\n                });\n            };\n            cancelBtn.addEventListener('click', handleCancel);\n            confirmBtn.addEventListener('click', handleConfirm);\n            // 键盘事件处理\n            const handleKeyDown = (e) => {\n                // 检查对话框是否还存在\n                if (!this.activeDialog) {\n                    document.removeEventListener('keydown', handleKeyDown);\n                    return;\n                }\n                if (e.key === 'Enter') {\n                    // Enter键确认时间跳转\n                    e.preventDefault();\n                    handleConfirm();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n                else if (e.key === 'Escape') {\n                    handleCancel();\n                    document.removeEventListener('keydown', handleKeyDown);\n                }\n            };\n            document.addEventListener('keydown', handleKeyDown);\n            // 添加到手机屏幕容器内\n            this.activeOverlay.appendChild(this.activeDialog);\n            this.appendDialogToPage();\n            // 聚焦到时间输入框\n            setTimeout(() => {\n                if (this.activeDialog) {\n                    const $timeInput = $(this.activeDialog).find('#jump-datetime');\n                    if ($timeInput.length) {\n                        $timeInput.trigger('focus');\n                        $timeInput.trigger('select');\n                    }\n                }\n            }, 100);\n        }));\n    }\n    /**\n     * 强制清理所有对话框元素\n     */\n    forceCleanupDialogs() {\n        // 清理所有可能残留的对话框元素\n        const $container = $('.phone-screen').length ? $('.phone-screen') : $('body');\n        // 使用通用选择器清理所有对话框相关元素\n        const selectors = [\n            '[class*=\"dialog-overlay\"]',\n            '[class*=\"dialog\"]',\n            '.custom-dialog-overlay',\n            '.mobile-dialog-overlay',\n            '.custom-dialog',\n            '.mobile-dialog',\n        ];\n        selectors.forEach(selector => {\n            $container.find(selector).each((_, element) => {\n                try {\n                    $(element).remove();\n                }\n                catch (error) {\n                    console.warn('移除对话框元素时出错:', error);\n                }\n            });\n        });\n        // 清理引用\n        this.activeDialog = null;\n        this.activeOverlay = null;\n    }\n    /**\n     * 关闭对话框\n     */\n    closeDialog() {\n        this.forceCleanupDialogs();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFOUUscUJBQXFCO1FBQ3JCLE1BQU0sU0FBUyxHQUFHO1lBQ2hCLDJCQUEyQjtZQUMzQixtQkFBbUI7WUFDbkIsd0JBQXdCO1lBQ3hCLHdCQUF3QjtZQUN4QixnQkFBZ0I7WUFDaEIsZ0JBQWdCO1NBQ2pCLENBQUM7UUFFRixTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzNCLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFO2dCQUM1QyxJQUFJLENBQUM7b0JBQ0gsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUN0QixDQUFDO2dCQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7b0JBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3JDLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTztRQUNQLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFRDs7T0FFRztJQUNLLFdBQVc7UUFDakIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovZGlhbG9nLW1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlr7nor53moYbnrqHnkIblmahcbiAqIOaPkOS+m+iHquWumuS5ieeahGFsZXJ044CBY29uZmlybeOAgXByb21wdOWvueivneahhu+8jOabv+S7o+ezu+e7n+m7mOiupOWvueivneahhlxuICovXG5cbi8vIOWvueivneahhuexu+Wei1xudHlwZSBEaWFsb2dUeXBlID0gJ2FsZXJ0JyB8ICdjb25maXJtJyB8ICdwcm9tcHQnO1xuXG4vLyDlr7nor53moYbpgInpoblcbmludGVyZmFjZSBEaWFsb2dPcHRpb25zIHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgdHlwZTogRGlhbG9nVHlwZTtcbiAgaW5wdXRUeXBlPzogc3RyaW5nO1xuICBpbnB1dFBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICBpbnB1dFZhbHVlPzogc3RyaW5nO1xuICBjb25maXJtVGV4dD86IHN0cmluZztcbiAgY2FuY2VsVGV4dD86IHN0cmluZztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRGlhbG9nTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBEaWFsb2dNYW5hZ2VyO1xuICBwcml2YXRlIGFjdGl2ZURpYWxvZzogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhY3RpdmVPdmVybGF5OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g56eB5pyJ5p6E6YCg5Ye95pWw77yM56Gu5L+d5Y2V5L6L5qih5byPXG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5Y2V5L6L5a6e5L6LXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IERpYWxvZ01hbmFnZXIge1xuICAgIGlmICghRGlhbG9nTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgRGlhbG9nTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBEaWFsb2dNYW5hZ2VyKCk7XG4gICAgfVxuICAgIHJldHVybiBEaWFsb2dNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhUTUzovazkuYnovoXliqnmlrnms5VcbiAgICovXG4gIHByaXZhdGUgZXNjYXBlSHRtbCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiAkKCc8ZGl2PicpLnRleHQodGV4dCkuaHRtbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWuieWFqOaYvuekuuWvueivneahhiAtIOWmguaenOW3suacieWvueivneahhuWImeWFiOWFs+mXrVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzYWZlU2hvd0RpYWxvZzxUPihkaWFsb2dGdW5jdGlvbjogKCkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAgIC8vIOW8uuWItua4heeQhuaJgOacieWvueivneahhu+8iOaXoOiuuuaYr+WQpuaciea0u+i3g+Wvueivneahhu+8iVxuICAgIHRoaXMuZm9yY2VDbGVhbnVwRGlhbG9ncygpO1xuXG4gICAgcmV0dXJuIGF3YWl0IGRpYWxvZ0Z1bmN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65Z+656GA5a+56K+d5qGG5YWD57SgXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUJhc2VEaWFsb2dFbGVtZW50cyhkaWFsb2dDbGFzczogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5hY3RpdmVPdmVybGF5ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnZGlhbG9nLW92ZXJsYXkgbW9iaWxlLWRpYWxvZy1vdmVybGF5JylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5hY3RpdmVEaWFsb2cgPSAkKCc8ZGl2PicpLmFkZENsYXNzKGBkaWFsb2cgJHtkaWFsb2dDbGFzc30gbW9iaWxlLWRpYWxvZ2ApWzBdIGFzIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIOWwhuWvueivneahhua3u+WKoOWIsOmhtemdouS4rVxuICAgKi9cbiAgcHJpdmF0ZSBhcHBlbmREaWFsb2dUb1BhZ2UoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZU92ZXJsYXkpIHJldHVybjtcblxuICAgIGNvbnN0ICRwaG9uZVNjcmVlbiA9ICQoJy5waG9uZS1zY3JlZW4nKTtcbiAgICBpZiAoJHBob25lU2NyZWVuLmxlbmd0aCkge1xuICAgICAgJHBob25lU2NyZWVuLmFwcGVuZCh0aGlzLmFjdGl2ZU92ZXJsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlpoLmnpzmib7kuI3liLDmiYvmnLrlsY/luZXlrrnlmajvvIzlm57pgIDliLBib2R5XG4gICAgICAkKCdib2R5JykuYXBwZW5kKHRoaXMuYWN0aXZlT3ZlcmxheSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluWvueivneahhuS4reeahGNoZWNrYm945oyJ6ZKu5qC35byPXG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVDaGVja2JveEJ1dHRvbnMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZURpYWxvZykgcmV0dXJuO1xuXG4gICAgJCh0aGlzLmFjdGl2ZURpYWxvZylcbiAgICAgIC5maW5kKCcuY2hlY2tib3gtYnV0dG9uJylcbiAgICAgIC5lYWNoKChfLCBidXR0b24pID0+IHtcbiAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQoYnV0dG9uKTtcbiAgICAgICAgY29uc3QgJGNoZWNrYm94ID0gJGJ1dHRvbi5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgaWYgKCEkY2hlY2tib3gubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSAkY2hlY2tib3hbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgICAvLyDorr7nva7liJ3lp4vnirbmgIFcbiAgICAgICAgdGhpcy51cGRhdGVDaGVja2JveEJ1dHRvblN0YXRlKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCwgY2hlY2tib3guY2hlY2tlZCk7XG5cbiAgICAgICAgLy8g5re75Yqg54K55Ye75LqL5Lu2XG4gICAgICAgICRidXR0b24ub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICBpZiAoY2hlY2tib3guZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgICAgIC8vIOWIh+aNoueKtuaAgVxuICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrYm94QnV0dG9uU3RhdGUoYnV0dG9uIGFzIEhUTUxFbGVtZW50LCBjaGVja2JveC5jaGVja2VkKTtcblxuICAgICAgICAgIC8vIOinpuWPkWNoYW5nZeS6i+S7tiAtIOS9v+eUqOWOn+eUn+S6i+S7tuehruS/neWFvOWuueaAp1xuICAgICAgICAgIGNvbnN0IGNoYW5nZUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgICAgICAgY2hlY2tib3guZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOebkeWQrOWklumDqOeKtuaAgeWPmOWMllxuICAgICAgICAkY2hlY2tib3gub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrYm94QnV0dG9uU3RhdGUoYnV0dG9uIGFzIEhUTUxFbGVtZW50LCBjaGVja2JveC5jaGVja2VkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g6K6+572u5Y+v6K6/6Zeu5oCn5bGe5oCnXG4gICAgICAgICRidXR0b24uYXR0cih7XG4gICAgICAgICAgcm9sZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICB0YWJpbmRleDogJzAnLFxuICAgICAgICAgICdhcmlhLWNoZWNrZWQnOiBjaGVja2JveC5jaGVja2VkLnRvU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5pu05pawY2hlY2tib3jmjInpkq7nirbmgIFcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQ2hlY2tib3hCdXR0b25TdGF0ZShidXR0b246IEhUTUxFbGVtZW50LCBjaGVja2VkOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgJGJ1dHRvbiA9ICQoYnV0dG9uKTtcbiAgICAkYnV0dG9uLnRvZ2dsZUNsYXNzKCdjaGVja2VkJywgY2hlY2tlZCk7XG4gICAgJGJ1dHRvbi5hdHRyKCdhcmlhLWNoZWNrZWQnLCBjaGVja2VkLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuaPkOekuuWvueivneahhu+8iOabv+S7o2FsZXJ077yJXG4gICAqL1xuICBwdWJsaWMgYWxlcnQobWVzc2FnZTogc3RyaW5nLCB0aXRsZSA9ICfmj5DnpLonLCBjb25maXJtVGV4dCA9ICfnoa7lrponKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coKCkgPT5cbiAgICAgIHRoaXMuc2hvd0RpYWxvZyh7XG4gICAgICAgIHR5cGU6ICdhbGVydCcsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBjb25maXJtVGV4dCxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S656Gu6K6k5a+56K+d5qGG77yI5pu/5LujY29uZmlybe+8iVxuICAgKi9cbiAgcHVibGljIGNvbmZpcm0obWVzc2FnZTogc3RyaW5nLCB0aXRsZSA9ICfnoa7orqQnLCBjb25maXJtVGV4dCA9ICfnoa7lrponLCBjYW5jZWxUZXh0ID0gJ+WPlua2iCcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5zYWZlU2hvd0RpYWxvZyhcbiAgICAgICgpID0+XG4gICAgICAgIHRoaXMuc2hvd0RpYWxvZyh7XG4gICAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgY29uZmlybVRleHQsXG4gICAgICAgICAgY2FuY2VsVGV4dCxcbiAgICAgICAgfSkgYXMgUHJvbWlzZTxib29sZWFuPixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuui+k+WFpeWvueivneahhu+8iOabv+S7o3Byb21wdO+8iVxuICAgKi9cbiAgcHVibGljIHByb21wdChcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgZGVmYXVsdFZhbHVlID0gJycsXG4gICAgdGl0bGUgPSAn6K+36L6T5YWlJyxcbiAgICBjb25maXJtVGV4dCA9ICfnoa7lrponLFxuICAgIGNhbmNlbFRleHQgPSAn5Y+W5raIJyxcbiAgICBpbnB1dFR5cGUgPSAndGV4dCcsXG4gICAgcGxhY2Vob2xkZXIgPSAnJyxcbiAgKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnNob3dEaWFsb2coe1xuICAgICAgICAgIHR5cGU6ICdwcm9tcHQnLFxuICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgY29uZmlybVRleHQsXG4gICAgICAgICAgY2FuY2VsVGV4dCxcbiAgICAgICAgICBpbnB1dFR5cGUsXG4gICAgICAgICAgaW5wdXRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgIGlucHV0UGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgICB9KSBhcyBQcm9taXNlPHN0cmluZyB8IG51bGw+LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65Y+v5rua5Yqo5paH5pys5a+56K+d5qGG77yI55So5LqO5pi+56S66ZW/5paH5pys5YaF5a6577yJXG4gICAqL1xuICBwdWJsaWMgc2hvd1Njcm9sbGFibGVUZXh0KGNvbnRlbnQ6IHN0cmluZywgdGl0bGUgPSAn5YaF5a65JywgY29uZmlybVRleHQgPSAn5YWz6ZetJyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnNhZmVTaG93RGlhbG9nKFxuICAgICAgKCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgLy8g5Yib5bu65Z+656GA5a+56K+d5qGG5YWD57SgXG4gICAgICAgICAgdGhpcy5jcmVhdGVCYXNlRGlhbG9nRWxlbWVudHMoJ3Njcm9sbGFibGUtdGV4dC1kaWFsb2cnKTtcblxuICAgICAgICAgIC8vIOiuvue9ruWvueivneahhuWGheWuuVxuICAgICAgICAgIHRoaXMuYWN0aXZlRGlhbG9nIS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMz4ke3RpdGxlfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1ib2R5IHNjcm9sbGFibGUtY29udGVudFwiPlxuICAgICAgICAgICAgPHByZSBjbGFzcz1cInNjcm9sbGFibGUtdGV4dFwiPiR7dGhpcy5lc2NhcGVIdG1sKGNvbnRlbnQpfTwvcHJlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjb3B5LWJ0blwiPuWkjeWItjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b24gcHJpbWFyeS1idXR0b25cIj4ke2NvbmZpcm1UZXh0fTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgICAgY29uc3QgJGNvcHlCdG4gPSAkKHRoaXMuYWN0aXZlRGlhbG9nISkuZmluZCgnLmNvcHktYnRuJyk7XG4gICAgICAgICAgY29uc3QgJGNvbmZpcm1CdG4gPSAkKHRoaXMuYWN0aXZlRGlhbG9nISkuZmluZCgnLnByaW1hcnktYnV0dG9uJyk7XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVDb3B5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29udGVudCk7XG4gICAgICAgICAgICAgIC8vIOS4tOaXtuaUueWPmOaMiemSruaWh+Wtl+aPkOekuuWkjeWItuaIkOWKn1xuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSAkY29weUJ0bi50ZXh0KCk7XG4gICAgICAgICAgICAgICRjb3B5QnRuLnRleHQoJ+W3suWkjeWIticpO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAkY29weUJ0bi50ZXh0KG9yaWdpbmFsVGV4dCk7XG4gICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5aSN5Yi25aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgLy8g6ZmN57qn5pa55qGI77ya6YCJ5oup5paH5pysXG4gICAgICAgICAgICAgIGNvbnN0ICR0ZXh0RWxlbWVudCA9ICQodGhpcy5hY3RpdmVEaWFsb2chKS5maW5kKCcuc2Nyb2xsYWJsZS10ZXh0Jyk7XG4gICAgICAgICAgICAgIGlmICgkdGV4dEVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cygkdGV4dEVsZW1lbnRbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRjb3B5QnRuLm9uKCdjbGljaycsIGhhbmRsZUNvcHkpO1xuICAgICAgICAgICRjb25maXJtQnRuLm9uKCdjbGljaycsIGhhbmRsZUNvbmZpcm0pO1xuXG4gICAgICAgICAgLy8gRVND6ZSu5YWz6ZetXG4gICAgICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24uZGlhbG9nJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlkb3duLmRpYWxvZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgJCh0aGlzLmFjdGl2ZU92ZXJsYXkhKS5hcHBlbmQodGhpcy5hY3RpdmVEaWFsb2chKTtcbiAgICAgICAgICB0aGlzLmFwcGVuZERpYWxvZ1RvUGFnZSgpO1xuICAgICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuWvueivneahhlxuICAgKi9cbiAgcHJpdmF0ZSBzaG93RGlhbG9nKG9wdGlvbnM6IERpYWxvZ09wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIOWIm+W7uuWvueivneahhuWFg+e0oFxuICAgIGNvbnN0IHsgb3ZlcmxheSwgZGlhbG9nIH0gPSB0aGlzLmNyZWF0ZURpYWxvZ0VsZW1lbnRzKG9wdGlvbnMpO1xuXG4gICAgLy8g5L+d5a2Y5byV55SoXG4gICAgdGhpcy5hY3RpdmVPdmVybGF5ID0gb3ZlcmxheTtcbiAgICB0aGlzLmFjdGl2ZURpYWxvZyA9IGRpYWxvZztcblxuICAgIC8vIOa3u+WKoOWIsOmhtemdouS4rVxuICAgIHRoaXMuYXBwZW5kRGlhbG9nVG9QYWdlKCk7XG5cbiAgICAvLyDlpITnkIbovpPlhaXmoYboh6rliqjogZrnhKZcbiAgICBpZiAob3B0aW9ucy50eXBlID09PSAncHJvbXB0Jykge1xuICAgICAgY29uc3QgJGlucHV0RWwgPSAkKGRpYWxvZykuZmluZCgnaW5wdXQsIHRleHRhcmVhJyk7XG4gICAgICBpZiAoJGlucHV0RWwubGVuZ3RoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gJGlucHV0RWwudHJpZ2dlcignZm9jdXMnKSwgMTAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvLyDnoa7orqTmjInpkq7ngrnlh7vlpITnkIZcbiAgICAgIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkaWFsb2cucXVlcnlTZWxlY3RvcignLnByaW1hcnktYnV0dG9uJyk7XG4gICAgICBpZiAoY29uZmlybUJ1dHRvbikge1xuICAgICAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdwcm9tcHQnKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LCB0ZXh0YXJlYScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlucHV0RWwgPyBpbnB1dEVsLnZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKG9wdGlvbnMudHlwZSA9PT0gJ2NvbmZpcm0nID8gdHJ1ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g5Y+W5raI5oyJ6ZKu54K55Ye75aSE55CGXG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkaWFsb2cucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idXR0b24nKTtcbiAgICAgIGlmIChjYW5jZWxCdXR0b24pIHtcbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICByZXNvbHZlKG9wdGlvbnMudHlwZSA9PT0gJ3Byb21wdCcgPyBudWxsIDogZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g54K55Ye76YGu572p5bGC5YWz6Zet77yI5LuF5a+5YWxlcnTmnInmlYjvvIlcbiAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdhbGVydCcpIHtcbiAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3ZlcmxheSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIOmUruebmOS6i+S7tuWkhOeQhlxuICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSAncHJvbXB0Jykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dEVsID8gaW5wdXRFbC52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ2NvbmZpcm0nKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBhbGVydFxuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICByZXNvbHZlKG9wdGlvbnMudHlwZSA9PT0gJ3Byb21wdCcgPyBudWxsIDogZmFsc2UpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rlr7nor53moYblhYPntKBcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlRGlhbG9nRWxlbWVudHMob3B0aW9uczogRGlhbG9nT3B0aW9ucyk6IHsgb3ZlcmxheTogSFRNTEVsZW1lbnQ7IGRpYWxvZzogSFRNTEVsZW1lbnQgfSB7XG4gICAgLy8g5Yib5bu66YGu572p5bGCXG4gICAgY29uc3QgJG92ZXJsYXkgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdjdXN0b20tZGlhbG9nLW92ZXJsYXknKTtcblxuICAgIC8vIOWIm+W7uuWvueivneahhlxuICAgIGNvbnN0ICRkaWFsb2cgPSAkKCc8ZGl2PicpLmFkZENsYXNzKGBjdXN0b20tZGlhbG9nICR7b3B0aW9ucy5jbGFzc05hbWUgfHwgJyd9YCk7XG5cbiAgICAvLyDliJvlu7rmoIfpophcbiAgICBjb25zdCAkaGVhZGVyID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnZGlhbG9nLWhlYWRlcicpO1xuICAgIGNvbnN0ICR0aXRsZSA9ICQoJzxoMz4nKVxuICAgICAgLmFkZENsYXNzKCdkaWFsb2ctdGl0bGUnKVxuICAgICAgLnRleHQob3B0aW9ucy50aXRsZSB8fCAnJyk7XG4gICAgJGhlYWRlci5hcHBlbmQoJHRpdGxlKTtcbiAgICAkZGlhbG9nLmFwcGVuZCgkaGVhZGVyKTtcblxuICAgIC8vIOWIm+W7uuWGheWuuVxuICAgIGNvbnN0ICRib2R5ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnZGlhbG9nLWJvZHknKTtcblxuICAgIC8vIOa3u+WKoOa2iOaBr1xuICAgIGNvbnN0ICRtZXNzYWdlID0gJCgnPGRpdj4nKS50ZXh0KG9wdGlvbnMubWVzc2FnZSk7XG4gICAgJGJvZHkuYXBwZW5kKCRtZXNzYWdlKTtcblxuICAgIC8vIOWmguaenOaYr3Byb21wdO+8jOa3u+WKoOi+k+WFpeahhlxuICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdwcm9tcHQnKSB7XG4gICAgICBjb25zdCAkaW5wdXRDb250YWluZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdkaWFsb2ctaW5wdXQtY29udGFpbmVyJyk7XG4gICAgICBjb25zdCAkaW5wdXQgPSAkKG9wdGlvbnMuaW5wdXRUeXBlID09PSAndGV4dGFyZWEnID8gJzx0ZXh0YXJlYT4nIDogJzxpbnB1dD4nKTtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUeXBlICE9PSAndGV4dGFyZWEnKSB7XG4gICAgICAgICRpbnB1dC5hdHRyKCd0eXBlJywgb3B0aW9ucy5pbnB1dFR5cGUgfHwgJ3RleHQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaW5wdXRWYWx1ZSkge1xuICAgICAgICAkaW5wdXQudmFsKG9wdGlvbnMuaW5wdXRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmlucHV0UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgJGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgb3B0aW9ucy5pbnB1dFBsYWNlaG9sZGVyKTtcbiAgICAgIH1cblxuICAgICAgJGlucHV0Q29udGFpbmVyLmFwcGVuZCgkaW5wdXQpO1xuICAgICAgJGJvZHkuYXBwZW5kKCRpbnB1dENvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgJGRpYWxvZy5hcHBlbmQoJGJvZHkpO1xuXG4gICAgLy8g5Yib5bu65oyJ6ZKu5Yy65Z+fXG4gICAgY29uc3QgJGZvb3RlciA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2RpYWxvZy1mb290ZXInKTtcblxuICAgIC8vIOagueaNruexu+Wei+a3u+WKoOS4jeWQjOeahOaMiemSrlxuICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdjb25maXJtJyB8fCBvcHRpb25zLnR5cGUgPT09ICdwcm9tcHQnKSB7XG4gICAgICBjb25zdCAkY2FuY2VsQnV0dG9uID0gJCgnPGJ1dHRvbj4nKVxuICAgICAgICAuYWRkQ2xhc3MoJ2RpYWxvZy1idXR0b24gY2FuY2VsLWJ1dHRvbicpXG4gICAgICAgIC50ZXh0KG9wdGlvbnMuY2FuY2VsVGV4dCB8fCAn5Y+W5raIJyk7XG4gICAgICAkZm9vdGVyLmFwcGVuZCgkY2FuY2VsQnV0dG9uKTtcbiAgICB9XG5cbiAgICBjb25zdCAkY29uZmlybUJ1dHRvbiA9ICQoJzxidXR0b24+JylcbiAgICAgIC5hZGRDbGFzcygnZGlhbG9nLWJ1dHRvbiBwcmltYXJ5LWJ1dHRvbicpXG4gICAgICAudGV4dChvcHRpb25zLmNvbmZpcm1UZXh0IHx8ICfnoa7lrponKTtcbiAgICAkZm9vdGVyLmFwcGVuZCgkY29uZmlybUJ1dHRvbik7XG5cbiAgICAkZGlhbG9nLmFwcGVuZCgkZm9vdGVyKTtcbiAgICAkb3ZlcmxheS5hcHBlbmQoJGRpYWxvZyk7XG5cbiAgICByZXR1cm4geyBvdmVybGF5OiAkb3ZlcmxheVswXSwgZGlhbG9nOiAkZGlhbG9nWzBdIH07XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65pyL5Y+L5ZyI6K+E6K66L+eCuei1nuWvueivneahhlxuICAgKi9cbiAgcHVibGljIHNob3dDb21tZW50RGlhbG9nKCk6IFByb21pc2U8eyB0eXBlOiAnbGlrZScgfCAnY29tbWVudCc7IGNvbnRlbnQ/OiBzdHJpbmcgfSB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5zYWZlU2hvd0RpYWxvZyhcbiAgICAgICgpID0+XG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIC8vIOWIm+W7uuWfuuehgOWvueivneahhuWFg+e0oFxuICAgICAgICAgIHRoaXMuY3JlYXRlQmFzZURpYWxvZ0VsZW1lbnRzKCdjb21tZW50LWRpYWxvZycpO1xuXG4gICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2chLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+5LqS5YqoPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29tbWVudC10ZXh0XCI+6K+E6K665YaF5a65PC9sYWJlbD5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImNvbW1lbnQtdGV4dFwiIHBsYWNlaG9sZGVyPVwi6K+054K55LuA5LmILi4uXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjYW5jZWwtYnRuXCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b24gbGlrZS1idG5cIj7ngrnotZ48L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjb25maXJtLWJ0blwiPuWPkemAgTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgICAgICBjb25zdCAkZGlhbG9nID0gJCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIGNvbnN0ICRjYW5jZWxCdG4gPSAkZGlhbG9nLmZpbmQoJy5jYW5jZWwtYnRuJyk7XG4gICAgICAgICAgY29uc3QgJGxpa2VCdG4gPSAkZGlhbG9nLmZpbmQoJy5saWtlLWJ0bicpO1xuICAgICAgICAgIGNvbnN0ICRjb25maXJtQnRuID0gJGRpYWxvZy5maW5kKCcuY29uZmlybS1idG4nKTtcbiAgICAgICAgICBjb25zdCAkY29tbWVudFRleHQgPSAkZGlhbG9nLmZpbmQoJyNjb21tZW50LXRleHQnKTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUxpa2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKHsgdHlwZTogJ2xpa2UnIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVDb21tZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9ICRjb21tZW50VGV4dC52YWwoKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgLy8g5Zyo6L6T5YWl5qGG5LiK5pi+56S66ZSZ6K+v5o+Q56S677yM6ICM5LiN5piv5by55Ye65paw55qEYWxlcnRcbiAgICAgICAgICAgICAgJGNvbW1lbnRUZXh0LmNzcygnYm9yZGVyQ29sb3InLCAnI2ZmNDQ0NCcpO1xuICAgICAgICAgICAgICAkY29tbWVudFRleHQuYXR0cigncGxhY2Vob2xkZXInLCAn6K+36L6T5YWl6K+E6K665YaF5a65Jyk7XG4gICAgICAgICAgICAgICRjb21tZW50VGV4dC50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKHsgdHlwZTogJ2NvbW1lbnQnLCBjb250ZW50IH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkY2FuY2VsQnRuLm9uKCdjbGljaycsIGhhbmRsZUNhbmNlbCk7XG4gICAgICAgICAgJGxpa2VCdG4ub24oJ2NsaWNrJywgaGFuZGxlTGlrZSk7XG4gICAgICAgICAgJGNvbmZpcm1CdG4ub24oJ2NsaWNrJywgaGFuZGxlQ29tbWVudCk7XG5cbiAgICAgICAgICAvLyDplK7nm5jkuovku7blpITnkIZcbiAgICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgLy8gQ3RybCtFbnRlciDlj5HpgIHor4TorrpcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBoYW5kbGVDb21tZW50KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgdGhpcy5hY3RpdmVPdmVybGF5IS5hcHBlbmRDaGlsZCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIHRoaXMuYXBwZW5kRGlhbG9nVG9QYWdlKCk7XG5cbiAgICAgICAgICAvLyDogZrnhKbliLDmlofmnKzmoYZcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICRjb21tZW50VGV4dC50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S66L2s6LSm5a+56K+d5qGGXG4gICAqL1xuICBwdWJsaWMgc2hvd1RyYW5zZmVyRGlhbG9nKCk6IFByb21pc2U8eyBhbW91bnQ6IHN0cmluZzsgbm90ZTogc3RyaW5nIH0gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coXG4gICAgICAoKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAvLyDliJvlu7rln7rnoYDlr7nor53moYblhYPntKBcbiAgICAgICAgICB0aGlzLmNyZWF0ZUJhc2VEaWFsb2dFbGVtZW50cygndHJhbnNmZXItZGlhbG9nJyk7XG5cbiAgICAgICAgICB0aGlzLmFjdGl2ZURpYWxvZyEuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWhlYWRlclwiPlxuICAgICAgICAgIDxoMz7ovazotKY8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0cmFuc2Zlci1hbW91bnRcIj7ovazotKbph5Hpop0gKjwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwidHJhbnNmZXItYW1vdW50XCIgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXovazotKbph5Hpop1cIiBzdGVwPVwiMC4wMVwiIG1pbj1cIjAuMDFcIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRyYW5zZmVyLW5vdGVcIj7ovazotKblpIfms6g8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ0cmFuc2Zlci1ub3RlXCIgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXovazotKblpIfms6jvvIjlj6/pgInvvIlcIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b24gY2FuY2VsLWJ0blwiPuWPlua2iDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIGNvbmZpcm0tYnRuXCI+56Gu6K6k6L2s6LSmPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgICAgIGNvbnN0ICRkaWFsb2cgPSAkKHRoaXMuYWN0aXZlRGlhbG9nISk7XG4gICAgICAgICAgY29uc3QgJGNhbmNlbEJ0biA9ICRkaWFsb2cuZmluZCgnLmNhbmNlbC1idG4nKTtcbiAgICAgICAgICBjb25zdCAkY29uZmlybUJ0biA9ICRkaWFsb2cuZmluZCgnLmNvbmZpcm0tYnRuJyk7XG4gICAgICAgICAgY29uc3QgJGFtb3VudElucHV0ID0gJGRpYWxvZy5maW5kKCcjdHJhbnNmZXItYW1vdW50Jyk7XG4gICAgICAgICAgY29uc3QgJG5vdGVJbnB1dCA9ICRkaWFsb2cuZmluZCgnI3RyYW5zZmVyLW5vdGUnKTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSAkYW1vdW50SW5wdXQudmFsKCkgYXMgc3RyaW5nO1xuICAgICAgICAgICAgY29uc3Qgbm90ZSA9ICRub3RlSW5wdXQudmFsKCkgYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICBpZiAoIWFtb3VudCB8fCBwYXJzZUZsb2F0KGFtb3VudCkgPD0gMCkge1xuICAgICAgICAgICAgICAvLyDlnKjovpPlhaXmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkYW1vdW50SW5wdXQuY3NzKCdib3JkZXJDb2xvcicsICcjZmY0NDQ0Jyk7XG4gICAgICAgICAgICAgICRhbW91bnRJbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsICfor7fovpPlhaXmnInmlYjnmoTovazotKbph5Hpop0nKTtcbiAgICAgICAgICAgICAgJGFtb3VudElucHV0LnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IGFtb3VudDogcGFyc2VGbG9hdChhbW91bnQpLnRvRml4ZWQoMiksIG5vdGU6IG5vdGUgfHwgJycgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRjYW5jZWxCdG4ub24oJ2NsaWNrJywgaGFuZGxlQ2FuY2VsKTtcbiAgICAgICAgICAkY29uZmlybUJ0bi5vbignY2xpY2snLCBoYW5kbGVDb25maXJtKTtcblxuICAgICAgICAgIC8vIOWbnui9pumUruehruiupFxuICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duLnRyYW5zZmVyLWRpYWxvZycsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICBoYW5kbGVDb25maXJtKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlkb3duLnRyYW5zZmVyLWRpYWxvZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgJCh0aGlzLmFjdGl2ZU92ZXJsYXkhKS5hcHBlbmQodGhpcy5hY3RpdmVEaWFsb2chKTtcbiAgICAgICAgICB0aGlzLmFwcGVuZERpYWxvZ1RvUGFnZSgpO1xuXG4gICAgICAgICAgLy8g6IGa54Sm5Yiw6YeR6aKd6L6T5YWl5qGGXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkYW1vdW50SW5wdXQudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuue6ouWMheWvueivneahhlxuICAgKi9cbiAgcHVibGljIHNob3dSZWRQYWNrZXREaWFsb2coKTogUHJvbWlzZTx7IGFtb3VudDogc3RyaW5nOyBub3RlOiBzdHJpbmcgfSB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5zYWZlU2hvd0RpYWxvZyhcbiAgICAgICgpID0+XG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIC8vIOWIm+W7uuWfuuehgOWvueivneahhuWFg+e0oFxuICAgICAgICAgIHRoaXMuY3JlYXRlQmFzZURpYWxvZ0VsZW1lbnRzKCdyZWQtcGFja2V0LWRpYWxvZycpO1xuXG4gICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2chLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+8J+npyDlj5HpgIHnuqLljIU8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWQtcGFja2V0LWFtb3VudFwiPue6ouWMhemHkeminSAqPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgaWQ9XCJyZWQtcGFja2V0LWFtb3VudFwiIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl57qi5YyF6YeR6aKdXCIgc3RlcD1cIjAuMDFcIiBtaW49XCIwLjAxXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWQtcGFja2V0LW5vdGVcIj7nuqLljIXnpZ3npo/or608L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJyZWQtcGFja2V0LW5vdGVcIiBwbGFjZWhvbGRlcj1cIuaBreWWnOWPkei0ou+8jOWkp+WQieWkp+WIqe+8gVwiIHZhbHVlPVwi5oGt5Zac5Y+R6LSi77yM5aSn5ZCJ5aSn5Yip77yBXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIGNhbmNlbC1idG5cIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjb25maXJtLWJ0blwiPuWPkemAgee6ouWMhTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgICAgICBjb25zdCAkZGlhbG9nID0gJCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIGNvbnN0ICRjYW5jZWxCdG4gPSAkZGlhbG9nLmZpbmQoJy5jYW5jZWwtYnRuJyk7XG4gICAgICAgICAgY29uc3QgJGNvbmZpcm1CdG4gPSAkZGlhbG9nLmZpbmQoJy5jb25maXJtLWJ0bicpO1xuICAgICAgICAgIGNvbnN0ICRhbW91bnRJbnB1dCA9ICRkaWFsb2cuZmluZCgnI3JlZC1wYWNrZXQtYW1vdW50Jyk7XG4gICAgICAgICAgY29uc3QgJG5vdGVJbnB1dCA9ICRkaWFsb2cuZmluZCgnI3JlZC1wYWNrZXQtbm90ZScpO1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9ICRhbW91bnRJbnB1dC52YWwoKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICBjb25zdCBub3RlID0gJG5vdGVJbnB1dC52YWwoKSBhcyBzdHJpbmc7XG5cbiAgICAgICAgICAgIGlmICghYW1vdW50IHx8IHBhcnNlRmxvYXQoYW1vdW50KSA8PSAwKSB7XG4gICAgICAgICAgICAgIC8vIOWcqOi+k+WFpeahhuS4iuaYvuekuumUmeivr+aPkOekuu+8jOiAjOS4jeaYr+W8ueWHuuaWsOeahGFsZXJ0XG4gICAgICAgICAgICAgICRhbW91bnRJbnB1dC5jc3MoJ2JvcmRlckNvbG9yJywgJyNmZjQ0NDQnKTtcbiAgICAgICAgICAgICAgJGFtb3VudElucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+ivt+i+k+WFpeacieaViOeahOe6ouWMhemHkeminScpO1xuICAgICAgICAgICAgICAkYW1vdW50SW5wdXQudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKHsgYW1vdW50OiBwYXJzZUZsb2F0KGFtb3VudCkudG9GaXhlZCgyKSwgbm90ZTogbm90ZSB8fCAn5oGt5Zac5Y+R6LSi77yM5aSn5ZCJ5aSn5Yip77yBJyB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJGNhbmNlbEJ0bi5vbignY2xpY2snLCBoYW5kbGVDYW5jZWwpO1xuICAgICAgICAgICRjb25maXJtQnRuLm9uKCdjbGljaycsIGhhbmRsZUNvbmZpcm0pO1xuXG4gICAgICAgICAgLy8g5Zue6L2m6ZSu56Gu6K6kXG4gICAgICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24ucmVkLXBhY2tldC1kaWFsb2cnLCAoZTogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ29uZmlybSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZigna2V5ZG93bi5yZWQtcGFja2V0LWRpYWxvZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgJCh0aGlzLmFjdGl2ZU92ZXJsYXkhKS5hcHBlbmQodGhpcy5hY3RpdmVEaWFsb2chKTtcbiAgICAgICAgICB0aGlzLmFwcGVuZERpYWxvZ1RvUGFnZSgpO1xuXG4gICAgICAgICAgLy8g6IGa54Sm5Yiw6YeR6aKd6L6T5YWl5qGGXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkYW1vdW50SW5wdXQudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuekvOeJqeWvueivneahhlxuICAgKi9cbiAgcHVibGljIHNob3dHaWZ0RGlhbG9nKCk6IFByb21pc2U8eyBuYW1lOiBzdHJpbmc7IHByaWNlPzogc3RyaW5nIH0gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coXG4gICAgICAoKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAvLyDliJvlu7rln7rnoYDlr7nor53moYblhYPntKBcbiAgICAgICAgICB0aGlzLmNyZWF0ZUJhc2VEaWFsb2dFbGVtZW50cygnZ2lmdC1kaWFsb2cnKTtcblxuICAgICAgICAgIHRoaXMuYWN0aXZlRGlhbG9nIS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctaGVhZGVyXCI+XG4gICAgICAgICAgPGgzPvCfjoEg5Y+R6YCB56S854mpPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiZ2lmdC1uYW1lXCI+56S854mp5ZCN56ewICo8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJnaWZ0LW5hbWVcIiBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeekvOeJqeWQjeensFwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiZ2lmdC1wcmljZVwiPuekvOeJqeS7t+agvDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiZ2lmdC1wcmljZVwiIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Lu35qC877yI5Y+v6YCJ77yJXCIgc3RlcD1cIjAuMDFcIiBtaW49XCIwXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIGNhbmNlbC1idG5cIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjb25maXJtLWJ0blwiPuWPkemAgeekvOeJqTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSB0aGlzLmFjdGl2ZURpYWxvZyEucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgICBjb25zdCBjb25maXJtQnRuID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJy5jb25maXJtLWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcjZ2lmdC1uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBjb25zdCBwcmljZUlucHV0ID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJyNnaWZ0LXByaWNlJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcHJpY2VJbnB1dC52YWx1ZS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAvLyDlnKjovpPlhaXmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkKG5hbWVJbnB1dCkuY3NzKCdib3JkZXJDb2xvcicsICcjZmY0NDQ0Jyk7XG4gICAgICAgICAgICAgICQobmFtZUlucHV0KS5hdHRyKCdwbGFjZWhvbGRlcicsICfor7fovpPlhaXnpLznianlkI3np7AnKTtcbiAgICAgICAgICAgICAgJChuYW1lSW5wdXQpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIHByaWNlOiBwcmljZSAmJiBwYXJzZUZsb2F0KHByaWNlKSA+IDAgPyBwYXJzZUZsb2F0KHByaWNlKS50b0ZpeGVkKDIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNhbmNlbCk7XG4gICAgICAgICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNvbmZpcm0pO1xuXG4gICAgICAgICAgLy8g5Zue6L2m6ZSu56Gu6K6kXG4gICAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ29uZmlybSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcblxuICAgICAgICAgIC8vIOa3u+WKoOWIsOaJi+acuuWxj+W5leWuueWZqOWGhVxuICAgICAgICAgIHRoaXMuYWN0aXZlT3ZlcmxheSEuYXBwZW5kQ2hpbGQodGhpcy5hY3RpdmVEaWFsb2chKTtcbiAgICAgICAgICB0aGlzLmFwcGVuZERpYWxvZ1RvUGFnZSgpO1xuXG4gICAgICAgICAgLy8g6IGa54Sm5Yiw5ZCN56ew6L6T5YWl5qGGXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKG5hbWVJbnB1dCkudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuiHquWumuS5iei+k+WFpeWvueivneahhu+8iOabv+S7o+ezu+e7n3Byb21wdO+8iVxuICAgKi9cbiAgcHVibGljIHNob3dJbnB1dERpYWxvZyhcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGxhYmVsOiBzdHJpbmcsXG4gICAgZGVmYXVsdFZhbHVlOiBzdHJpbmcgPSAnJyxcbiAgICBwbGFjZWhvbGRlcjogc3RyaW5nID0gJycsXG4gICAgaW5wdXRUeXBlOiAndGV4dCcgfCAndXJsJyB8ICdlbWFpbCcgPSAndGV4dCcsXG4gICk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLnNhZmVTaG93RGlhbG9nKFxuICAgICAgKCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgLy8g5Yib5bu65Z+656GA5a+56K+d5qGG5YWD57SgXG4gICAgICAgICAgdGhpcy5jcmVhdGVCYXNlRGlhbG9nRWxlbWVudHMoJ2lucHV0LWRpYWxvZycpO1xuXG4gICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2chLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxoMz4ke3RpdGxlfTwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dC1maWVsZFwiPiR7bGFiZWx9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIiR7aW5wdXRUeXBlfVwiIGlkPVwiaW5wdXQtZmllbGRcIiBwbGFjZWhvbGRlcj1cIiR7cGxhY2Vob2xkZXJ9XCIgdmFsdWU9XCIke2RlZmF1bHRWYWx1ZX1cIj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIGNhbmNlbC1idG5cIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b24gY29uZmlybS1idG5cIj7noa7lrpo8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG5cbiAgICAgICAgICBjb25zdCAkZGlhbG9nID0gJCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIGNvbnN0ICRjYW5jZWxCdG4gPSAkZGlhbG9nLmZpbmQoJy5jYW5jZWwtYnRuJyk7XG4gICAgICAgICAgY29uc3QgJGNvbmZpcm1CdG4gPSAkZGlhbG9nLmZpbmQoJy5jb25maXJtLWJ0bicpO1xuICAgICAgICAgIGNvbnN0ICRpbnB1dEZpZWxkID0gJGRpYWxvZy5maW5kKCcjaW5wdXQtZmllbGQnKTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICRpbnB1dEZpZWxkLnZhbCgpIGFzIHN0cmluZztcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkY2FuY2VsQnRuLm9uKCdjbGljaycsIGhhbmRsZUNhbmNlbCk7XG4gICAgICAgICAgJGNvbmZpcm1CdG4ub24oJ2NsaWNrJywgaGFuZGxlQ29uZmlybSk7XG5cbiAgICAgICAgICAvLyDlm57ovabplK7noa7orqRcbiAgICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICBoYW5kbGVDb25maXJtKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgdGhpcy5hY3RpdmVPdmVybGF5IS5hcHBlbmRDaGlsZCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIHRoaXMuYXBwZW5kRGlhbG9nVG9QYWdlKCk7XG5cbiAgICAgICAgICAvLyDogZrnhKbliLDovpPlhaXmoYblubbpgInkuK3pu5jorqTlgLxcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICRpbnB1dEZpZWxkLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICRpbnB1dEZpZWxkLnRyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S66K+t6Z+z6L6T5YWl5a+56K+d5qGGXG4gICAqL1xuICBwdWJsaWMgc2hvd1ZvaWNlRGlhbG9nKCk6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IGR1cmF0aW9uOiBudW1iZXIgfSB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5zYWZlU2hvd0RpYWxvZyhcbiAgICAgICgpID0+XG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIC8vIOWIm+W7uuWfuuehgOWvueivneahhuWFg+e0oFxuICAgICAgICAgIHRoaXMuY3JlYXRlQmFzZURpYWxvZ0VsZW1lbnRzKCd2b2ljZS1kaWFsb2cnKTtcblxuICAgICAgICAgIHRoaXMuYWN0aXZlRGlhbG9nIS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctaGVhZGVyXCI+XG4gICAgICAgICAgPGgzPvCfjqQg6K+t6Z+z5raI5oGvPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwidm9pY2UtdGV4dFwiPuivremfs+WGheWuuTwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJ2b2ljZS10ZXh0XCIgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXor63pn7PlhoXlrrkuLi5cIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ2b2ljZS1kdXJhdGlvblwiPuivremfs+aXtumVv++8iOenku+8iTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwidm9pY2UtZHVyYXRpb25cIiBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeenkuaVsFwiIG1pbj1cIjFcIiBtYXg9XCI2MFwiIHZhbHVlPVwiM1wiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBjYW5jZWwtYnRuXCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b24gY29uZmlybS1idG5cIj7lj5HpgIE8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWwtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgY29uZmlybUJ0biA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcuY29uZmlybS1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgICBjb25zdCB0ZXh0QXJlYSA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcjdm9pY2UtdGV4dCcpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgZHVyYXRpb25JbnB1dCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcjdm9pY2UtZHVyYXRpb24nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0QXJlYS52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvblN0ciA9IGR1cmF0aW9uSW5wdXQudmFsdWUudHJpbSgpO1xuXG4gICAgICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgICAgLy8g5Zyo5paH5pys5qGG5LiK5pi+56S66ZSZ6K+v5o+Q56S677yM6ICM5LiN5piv5by55Ye65paw55qEYWxlcnRcbiAgICAgICAgICAgICAgJCh0ZXh0QXJlYSkuY3NzKCdib3JkZXJDb2xvcicsICcjZmY0NDQ0Jyk7XG4gICAgICAgICAgICAgICQodGV4dEFyZWEpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+ivt+i+k+WFpeivremfs+WGheWuuScpO1xuICAgICAgICAgICAgICAkKHRleHRBcmVhKS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyc2VJbnQoZHVyYXRpb25TdHIsIDEwKTtcbiAgICAgICAgICAgIGlmICghZHVyYXRpb25TdHIgfHwgaXNOYU4oZHVyYXRpb24pIHx8IGR1cmF0aW9uIDw9IDAgfHwgZHVyYXRpb24gPiA2MCkge1xuICAgICAgICAgICAgICAvLyDlnKjovpPlhaXmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkKGR1cmF0aW9uSW5wdXQpLmNzcygnYm9yZGVyQ29sb3InLCAnI2ZmNDQ0NCcpO1xuICAgICAgICAgICAgICAkKGR1cmF0aW9uSW5wdXQpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+ivt+i+k+WFpeacieaViOeahOivremfs+aXtumVv++8iDEtNjDnp5LvvIknKTtcbiAgICAgICAgICAgICAgJChkdXJhdGlvbklucHV0KS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUoeyB0ZXh0LCBkdXJhdGlvbiB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2FuY2VsKTtcbiAgICAgICAgICBjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29uZmlybSk7XG5cbiAgICAgICAgICAvLyDlm57ovabplK7noa7orqTvvIjlnKh0ZXh0YXJlYeS4reS9v+eUqEN0cmwrRW50ZXLvvIlcbiAgICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBoYW5kbGVDb25maXJtKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuXG4gICAgICAgICAgLy8g5re75Yqg5Yiw5omL5py65bGP5bmV5a655Zmo5YaFXG4gICAgICAgICAgdGhpcy5hY3RpdmVPdmVybGF5IS5hcHBlbmRDaGlsZCh0aGlzLmFjdGl2ZURpYWxvZyEpO1xuICAgICAgICAgIHRoaXMuYXBwZW5kRGlhbG9nVG9QYWdlKCk7XG5cbiAgICAgICAgICAvLyDogZrnhKbliLDmlofmnKzmoYZcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQodGV4dEFyZWEpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrnpLzniakv6L2s6LSm5o6l5pS25a+56K+d5qGGXG4gICAqL1xuICBwdWJsaWMgc2hvd1JlY2VpdmVEaWFsb2codHlwZTogJ2dpZnQnIHwgJ3RyYW5zZmVyJywgZGF0YTogYW55KTogUHJvbWlzZTwnYWNjZXB0JyB8ICdyZWplY3QnIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLnNhZmVTaG93RGlhbG9nKFxuICAgICAgKCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgLy8g5Yib5bu65Z+656GA5a+56K+d5qGG5YWD57SgXG4gICAgICAgICAgdGhpcy5jcmVhdGVCYXNlRGlhbG9nRWxlbWVudHMoJ3JlY2VpdmUtZGlhbG9nJyk7XG5cbiAgICAgICAgICBjb25zdCBpc0dpZnQgPSB0eXBlID09PSAnZ2lmdCc7XG4gICAgICAgICAgY29uc3QgdGl0bGUgPSBpc0dpZnQgPyAn5pS25Yiw56S854mpJyA6ICfmlLbliLDovazotKYnO1xuICAgICAgICAgIGNvbnN0IGljb24gPSBpc0dpZnQgPyAn8J+OgScgOiAn8J+SsCc7XG5cbiAgICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICAgIGlmIChpc0dpZnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtaWNvblwiPiR7aWNvbn08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXZlLWluZm9cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtdGl0bGVcIj4ke2RhdGEubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgJHtkYXRhLnByaWNlID8gYDxkaXYgY2xhc3M9XCJyZWNlaXZlLXByaWNlXCI+wqUke2RhdGEucHJpY2V9PC9kaXY+YCA6ICcnfVxuICAgICAgICAgICAgICAke2RhdGEubm90ZSA/IGA8ZGl2IGNsYXNzPVwicmVjZWl2ZS1ub3RlXCI+JHtkYXRhLm5vdGV9PC9kaXY+YCA6ICcnfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtaWNvblwiPiR7aWNvbn08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXZlLWluZm9cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtdGl0bGVcIj7ovazotKbph5Hpop08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpdmUtcHJpY2VcIj7CpSR7ZGF0YS5hbW91bnR9PC9kaXY+XG4gICAgICAgICAgICAgICR7ZGF0YS5ub3RlID8gYDxkaXYgY2xhc3M9XCJyZWNlaXZlLW5vdGVcIj4ke2RhdGEubm90ZX08L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmFjdGl2ZURpYWxvZyEuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWhlYWRlclwiPlxuICAgICAgICAgIDxoMz4ke3RpdGxlfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWJvZHlcIj5cbiAgICAgICAgICAke2NvbnRlbnR9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnV0dG9uIHJlamVjdC1idG5cIj7mi5Lnu508L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ1dHRvbiBhY2NlcHQtYnRuXCI+5o6l5pS2PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgICAgIGNvbnN0IHJlamVjdEJ0biA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcucmVqZWN0LWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICAgIGNvbnN0IGFjY2VwdEJ0biA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcuYWNjZXB0LWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlUmVqZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZSgncmVqZWN0Jyk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUFjY2VwdCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUoJ2FjY2VwdCcpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWplY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3QpO1xuICAgICAgICAgIGFjY2VwdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFjY2VwdCk7XG5cbiAgICAgICAgICAvLyDplK7nm5jkuovku7blpITnkIZcbiAgICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAvLyBFbnRlcumUruaOpeWPl+i9rOi0pi/npLznialcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBoYW5kbGVBY2NlcHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgIGhhbmRsZUNhbmNlbCgpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG5cbiAgICAgICAgICAvLyDmt7vliqDliLDmiYvmnLrlsY/luZXlrrnlmajlhoVcbiAgICAgICAgICB0aGlzLmFjdGl2ZU92ZXJsYXkhLmFwcGVuZENoaWxkKHRoaXMuYWN0aXZlRGlhbG9nISk7XG4gICAgICAgICAgdGhpcy5hcHBlbmREaWFsb2dUb1BhZ2UoKTtcbiAgICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrmnIvlj4vlnIjlj5HluIPlr7nor53moYZcbiAgICovXG4gIHB1YmxpYyBzaG93TW9tZW50RGlhbG9nKGRlZmF1bHRUaW1lPzogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIGltYWdlOiBzdHJpbmc7XG4gICAgaW1hZ2VfdHlwZTogJ25vbmUnIHwgJ3VybCcgfCAnZGVzYyc7XG4gICAgaW1hZ2VfZGVzYzogc3RyaW5nO1xuICAgIGRhdGU6IHN0cmluZztcbiAgICB0aW1lOiBzdHJpbmc7XG4gIH0gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coXG4gICAgICAoKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHdpbmRvdy5jdXJyZW50R2FtZURhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0RGF0ZVRpbWUgPVxuICAgICAgICAgICAgZGVmYXVsdFRpbWUgfHxcbiAgICAgICAgICAgIGAke2N1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCl9LSR7KGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LSR7Y3VycmVudERhdGVcbiAgICAgICAgICAgICAgLmdldERhdGUoKVxuICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX0gJHtjdXJyZW50RGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtjdXJyZW50RGF0ZVxuICAgICAgICAgICAgICAuZ2V0TWludXRlcygpXG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgICAgICAvLyDliJvlu7rln7rnoYDlr7nor53moYblhYPntKBcbiAgICAgICAgICB0aGlzLmNyZWF0ZUJhc2VEaWFsb2dFbGVtZW50cygnbW9tZW50LWRpYWxvZycpO1xuXG4gICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2chLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+5Y+R5biD5pyL5Y+L5ZyIPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibW9tZW50LXRleHRcIj7ov5nkuIDliLvnmoTmg7Pms5UuLi48L2xhYmVsPlxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwibW9tZW50LXRleHRcIiBwbGFjZWhvbGRlcj1cIuWIhuS6q+S9oOeahOaDs+azlS4uLlwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWw+8J+TtyDlm77niYfnsbvlnos8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhZGlvLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImltYWdlLXR5cGVcIiB2YWx1ZT1cImRlc2NcIiBjaGVja2VkPiDlm77niYfmj4/ov7A8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJpbWFnZS10eXBlXCIgdmFsdWU9XCJ1cmxcIj4g5Zu+54mH6ZO+5o6lPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJpbWFnZS1jb250ZW50XCIgaWQ9XCJpbWFnZS1jb250ZW50LWxhYmVsXCI+5Zu+54mH5o+P6L+w77yI5Y+v6YCJ77yJPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaW1hZ2UtY29udGVudFwiIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Zu+54mH5o+P6L+wLi4u77yI5Y+v6YCJ77yJXCI+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCB1cmwtZGVzYy1ncm91cFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJpbWFnZS1kZXNjXCI+5Zu+54mH5o+P6L+w77yI5L6bQUnor4bliKvvvIzlj6/pgInvvIk8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpbWFnZS1kZXNjXCIgcGxhY2Vob2xkZXI9XCLmj4/ov7Dlm77niYflhoXlrrnvvIzku4XkvptBSeivhuWIqy4uLu+8iOWPr+mAie+8iVwiPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJtb21lbnQtZGF0ZXRpbWVcIj7lj5HluIPml7bpl7Q8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJtb21lbnQtZGF0ZXRpbWVcIiB2YWx1ZT1cIiR7ZGVmYXVsdERhdGVUaW1lfVwiIHBsYWNlaG9sZGVyPVwiWVlZWS1NTS1ERCBISDpNTVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ0biBkaWFsb2ctYnRuLWNhbmNlbFwiPuWPlua2iDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnRuIGRpYWxvZy1idG4tY29uZmlybVwiPuWPkeW4gzwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgICAgICAvLyDmt7vliqDkuovku7bnm5HlkKzlmahcbiAgICAgICAgICBjb25zdCBpbWFnZVR5cGVSYWRpb3MgPSB0aGlzLmFjdGl2ZURpYWxvZyEucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICdpbnB1dFtuYW1lPVwiaW1hZ2UtdHlwZVwiXScsXG4gICAgICAgICAgKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgICAgICAgIGNvbnN0IGltYWdlQ29udGVudExhYmVsID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZS1jb250ZW50LWxhYmVsJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgaW1hZ2VDb250ZW50SW5wdXQgPSB0aGlzLmFjdGl2ZURpYWxvZyEucXVlcnlTZWxlY3RvcignI2ltYWdlLWNvbnRlbnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgIGNvbnN0IHVybERlc2NHcm91cCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcudXJsLWRlc2MtZ3JvdXAnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgIC8vIOWIneWni+WMlmNoZWNrYm945oyJ6ZKu5qC35byP77yI5aaC5p6c5pyJ5YW25LuWY2hlY2tib3jnmoTor53vvIlcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVDaGVja2JveEJ1dHRvbnMoKTtcblxuICAgICAgICAgIC8vIOWbvueJh+exu+Wei+WIh+aNolxuICAgICAgICAgIGltYWdlVHlwZVJhZGlvcy5mb3JFYWNoKHJhZGlvID0+IHtcbiAgICAgICAgICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXNEZXNjID0gcmFkaW8udmFsdWUgPT09ICdkZXNjJztcbiAgICAgICAgICAgICAgaW1hZ2VDb250ZW50TGFiZWwudGV4dENvbnRlbnQgPSBpc0Rlc2MgPyAn5Zu+54mH5o+P6L+w77yI5Y+v6YCJ77yJJyA6ICflm77niYfpk77mjqXvvIjlj6/pgInvvIknO1xuICAgICAgICAgICAgICBpbWFnZUNvbnRlbnRJbnB1dC5wbGFjZWhvbGRlciA9IGlzRGVzYyA/ICfor7fovpPlhaXlm77niYfmj4/ov7AuLi7vvIjlj6/pgInvvIknIDogJ+ivt+i+k+WFpeWbvueJh+mTvuaOpS4uLu+8iOWPr+mAie+8iSc7XG4gICAgICAgICAgICAgIHVybERlc2NHcm91cC5zdHlsZS5kaXNwbGF5ID0gaXNEZXNjID8gJ25vbmUnIDogJ2Jsb2NrJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8g5oyJ6ZKu5LqL5Lu2XG4gICAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2ctYnRuLWNhbmNlbCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIGNvbnN0IGNvbmZpcm1CdG4gPSB0aGlzLmFjdGl2ZURpYWxvZyEucXVlcnlTZWxlY3RvcignLmRpYWxvZy1idG4tY29uZmlybScpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIOajgOafpeWvueivneahhuaYr+WQpui/mOWtmOWcqFxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZURpYWxvZykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHRBcmVhID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJyNtb21lbnQtdGV4dCcpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBpbWFnZVR5cGVJbnB1dCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAnaW5wdXRbbmFtZT1cImltYWdlLXR5cGVcIl06Y2hlY2tlZCcsXG4gICAgICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUNvbnRlbnRGaWVsZCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UtY29udGVudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURlc2NGaWVsZCA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UtZGVzYycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBkYXRldGltZUlucHV0ID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJyNtb21lbnQtZGF0ZXRpbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAoIXRleHRBcmVhIHx8ICFkYXRldGltZUlucHV0KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRleHRBcmVhLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VDb250ZW50ID0gaW1hZ2VDb250ZW50RmllbGQgPyBpbWFnZUNvbnRlbnRGaWVsZC52YWx1ZS50cmltKCkgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IGhhc0ltYWdlID0gaW1hZ2VDb250ZW50ICE9PSAnJztcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVHlwZSA9IGhhc0ltYWdlICYmIGltYWdlVHlwZUlucHV0ID8gKGltYWdlVHlwZUlucHV0LnZhbHVlIGFzICd1cmwnIHwgJ2Rlc2MnKSA6ICdub25lJztcbiAgICAgICAgICAgIGNvbnN0IGltYWdlRGVzYyA9IGltYWdlVHlwZSA9PT0gJ3VybCcgJiYgaW1hZ2VEZXNjRmllbGQgPyBpbWFnZURlc2NGaWVsZC52YWx1ZS50cmltKCkgOiBpbWFnZUNvbnRlbnQ7XG4gICAgICAgICAgICBjb25zdCBkYXRldGltZSA9IGRhdGV0aW1lSW5wdXQudmFsdWU7XG5cbiAgICAgICAgICAgIC8vIOmqjOivgei+k+WFpVxuICAgICAgICAgICAgaWYgKCghdGV4dCB8fCB0ZXh0LnRyaW0oKSA9PT0gJycpICYmICghaW1hZ2VDb250ZW50IHx8IGltYWdlQ29udGVudC50cmltKCkgPT09ICcnKSkge1xuICAgICAgICAgICAgICAvLyDlnKjmlofmnKzmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkKHRleHRBcmVhKS5jc3MoJ2JvcmRlckNvbG9yJywgJyNmZjQ0NDQnKTtcbiAgICAgICAgICAgICAgJCh0ZXh0QXJlYSkuYXR0cigncGxhY2Vob2xkZXInLCAn6K+36L6T5YWl5pyL5Y+L5ZyI5YaF5a655oiW5re75Yqg5Zu+54mHJyk7XG4gICAgICAgICAgICAgICQodGV4dEFyZWEpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6Kej5p6Q5pe26Ze0XG4gICAgICAgICAgICBjb25zdCBkYXRldGltZU1hdGNoID0gZGF0ZXRpbWUubWF0Y2goL14oXFxkezR9LVxcZHsyfS1cXGR7Mn0pXFxzKyhcXGR7Mn06XFxkezJ9KSQvKTtcbiAgICAgICAgICAgIGlmICghZGF0ZXRpbWVNYXRjaCkge1xuICAgICAgICAgICAgICAvLyDlnKjml7bpl7TovpPlhaXmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkKGRhdGV0aW1lSW5wdXQpLmNzcygnYm9yZGVyQ29sb3InLCAnI2ZmNDQ0NCcpO1xuICAgICAgICAgICAgICAkKGRhdGV0aW1lSW5wdXQpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+agvOW8j++8mllZWVktTU0tREQgSEg6TU0nKTtcbiAgICAgICAgICAgICAgJChkYXRldGltZUlucHV0KS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LnRyaW0oKSxcbiAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlQ29udGVudC50cmltKCksXG4gICAgICAgICAgICAgIGltYWdlX3R5cGU6IGltYWdlVHlwZSxcbiAgICAgICAgICAgICAgaW1hZ2VfZGVzYzogaW1hZ2VEZXNjLnRyaW0oKSxcbiAgICAgICAgICAgICAgZGF0ZTogZGF0ZXRpbWVNYXRjaFsxXSxcbiAgICAgICAgICAgICAgdGltZTogZGF0ZXRpbWVNYXRjaFsyXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDYW5jZWwpO1xuICAgICAgICAgIGNvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDb25maXJtKTtcblxuICAgICAgICAgIC8vIOmUruebmOS6i+S7tuWkhOeQhlxuICAgICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAvLyBDdHJsK0VudGVyIOWPkeW4g+aci+WPi+WciFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGhhbmRsZUNvbmZpcm0oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgIGhhbmRsZUNhbmNlbCgpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG5cbiAgICAgICAgICAvLyDmt7vliqDliLDmiYvmnLrlsY/luZXlrrnlmajlhoVcbiAgICAgICAgICB0aGlzLmFjdGl2ZU92ZXJsYXkhLmFwcGVuZENoaWxkKHRoaXMuYWN0aXZlRGlhbG9nISk7XG4gICAgICAgICAgdGhpcy5hcHBlbmREaWFsb2dUb1BhZ2UoKTtcblxuICAgICAgICAgIC8vIOiBmueEpuWIsOaWh+acrOahhlxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlRGlhbG9nKSB7XG4gICAgICAgICAgICAgIGNvbnN0ICR0ZXh0QXJlYSA9ICQodGhpcy5hY3RpdmVEaWFsb2cpLmZpbmQoJyNtb21lbnQtdGV4dCcpO1xuICAgICAgICAgICAgICBpZiAoJHRleHRBcmVhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICR0ZXh0QXJlYS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrml7bpl7Tot7Pot4Plr7nor53moYZcbiAgICovXG4gIHB1YmxpYyBzaG93VGltZUp1bXBEaWFsb2coZGVmYXVsdFRpbWU/OiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICBkYXRlOiBzdHJpbmc7XG4gICAgdGltZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIH0gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVNob3dEaWFsb2coXG4gICAgICAoKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHdpbmRvdy5jdXJyZW50R2FtZURhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0RGF0ZVRpbWUgPVxuICAgICAgICAgICAgZGVmYXVsdFRpbWUgfHxcbiAgICAgICAgICAgIGAke2N1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCl9LSR7KGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LSR7Y3VycmVudERhdGVcbiAgICAgICAgICAgICAgLmdldERhdGUoKVxuICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX0gJHtjdXJyZW50RGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtjdXJyZW50RGF0ZVxuICAgICAgICAgICAgICAuZ2V0TWludXRlcygpXG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgICAgICAvLyDliJvlu7rln7rnoYDlr7nor53moYblhYPntKBcbiAgICAgICAgICB0aGlzLmNyZWF0ZUJhc2VEaWFsb2dFbGVtZW50cygndGltZS1qdW1wLWRpYWxvZycpO1xuXG4gICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2chLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+5pe26Ze06Lez6LeDPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwianVtcC1kYXRldGltZVwiPui3s+i3g+WIsOaXtumXtDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImp1bXAtZGF0ZXRpbWVcIiB2YWx1ZT1cIiR7ZGVmYXVsdERhdGVUaW1lfVwiIHBsYWNlaG9sZGVyPVwiWVlZWS1NTS1ERCBISDpNTVwiPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJldmVudC1kZXNjcmlwdGlvblwiPvCfk50g6K6w5b2V6L+Z5q615pe26Ze05Y+R55Sf5LqG5LuA5LmIPC9sYWJlbD5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImV2ZW50LWRlc2NyaXB0aW9uXCIgcGxhY2Vob2xkZXI9XCLmj4/ov7Dov5nmrrXml7bpl7Tlj5HnlJ/nmoTkuovmg4UuLi7vvIjlj6/pgInvvIlcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnRuIGRpYWxvZy1idG4tY2FuY2VsXCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idG4gZGlhbG9nLWJ0bi1jb25maXJtXCI+6Lez6LeDPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgICAgIC8vIOWIneWni+WMlmNoZWNrYm945oyJ6ZKu5qC35byP77yI5aaC5p6c5pyJ5YW25LuWY2hlY2tib3jnmoTor53vvIlcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVDaGVja2JveEJ1dHRvbnMoKTtcblxuICAgICAgICAgIC8vIOaMiemSruS6i+S7tlxuICAgICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IHRoaXMuYWN0aXZlRGlhbG9nIS5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nLWJ0bi1jYW5jZWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICBjb25zdCBjb25maXJtQnRuID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2ctYnRuLWNvbmZpcm0nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyDmo4Dmn6Xlr7nor53moYbmmK/lkKbov5jlrZjlnKhcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVEaWFsb2cpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRldGltZUlucHV0ID0gdGhpcy5hY3RpdmVEaWFsb2chLnF1ZXJ5U2VsZWN0b3IoJyNqdW1wLWRhdGV0aW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSB0aGlzLmFjdGl2ZURpYWxvZyEucXVlcnlTZWxlY3RvcignI2V2ZW50LWRlc2NyaXB0aW9uJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKCFkYXRldGltZUlucHV0KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBkYXRldGltZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbklucHV0ID8gZGVzY3JpcHRpb25JbnB1dC52YWx1ZS50cmltKCkgOiAnJztcblxuICAgICAgICAgICAgLy8g6Kej5p6Q5pe26Ze0XG4gICAgICAgICAgICBjb25zdCBkYXRldGltZU1hdGNoID0gZGF0ZXRpbWUubWF0Y2goL14oXFxkezR9LVxcZHsyfS1cXGR7Mn0pXFxzKyhcXGR7Mn06XFxkezJ9KSQvKTtcbiAgICAgICAgICAgIGlmICghZGF0ZXRpbWVNYXRjaCkge1xuICAgICAgICAgICAgICAvLyDlnKjml7bpl7TovpPlhaXmoYbkuIrmmL7npLrplJnor6/mj5DnpLrvvIzogIzkuI3mmK/lvLnlh7rmlrDnmoRhbGVydFxuICAgICAgICAgICAgICAkKGRhdGV0aW1lSW5wdXQpLmNzcygnYm9yZGVyQ29sb3InLCAnI2ZmNDQ0NCcpO1xuICAgICAgICAgICAgICAkKGRhdGV0aW1lSW5wdXQpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+agvOW8j++8mllZWVktTU0tREQgSEg6TU0nKTtcbiAgICAgICAgICAgICAgJChkYXRldGltZUlucHV0KS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICBkYXRlOiBkYXRldGltZU1hdGNoWzFdLFxuICAgICAgICAgICAgICB0aW1lOiBkYXRldGltZU1hdGNoWzJdLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sIC8vIOWPr+S7peS4uuepuuWtl+espuS4slxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNhbmNlbCk7XG4gICAgICAgICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNvbmZpcm0pO1xuXG4gICAgICAgICAgLy8g6ZSu55uY5LqL5Lu25aSE55CGXG4gICAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyDmo4Dmn6Xlr7nor53moYbmmK/lkKbov5jlrZjlnKhcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVEaWFsb2cpIHtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAvLyBFbnRlcumUruehruiupOaXtumXtOi3s+i9rFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGhhbmRsZUNvbmZpcm0oKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcblxuICAgICAgICAgIC8vIOa3u+WKoOWIsOaJi+acuuWxj+W5leWuueWZqOWGhVxuICAgICAgICAgIHRoaXMuYWN0aXZlT3ZlcmxheSEuYXBwZW5kQ2hpbGQodGhpcy5hY3RpdmVEaWFsb2chKTtcbiAgICAgICAgICB0aGlzLmFwcGVuZERpYWxvZ1RvUGFnZSgpO1xuXG4gICAgICAgICAgLy8g6IGa54Sm5Yiw5pe26Ze06L6T5YWl5qGGXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVEaWFsb2cpIHtcbiAgICAgICAgICAgICAgY29uc3QgJHRpbWVJbnB1dCA9ICQodGhpcy5hY3RpdmVEaWFsb2cpLmZpbmQoJyNqdW1wLWRhdGV0aW1lJyk7XG4gICAgICAgICAgICAgIGlmICgkdGltZUlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICR0aW1lSW5wdXQudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAkdGltZUlucHV0LnRyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlvLrliLbmuIXnkIbmiYDmnInlr7nor53moYblhYPntKBcbiAgICovXG4gIHByaXZhdGUgZm9yY2VDbGVhbnVwRGlhbG9ncygpOiB2b2lkIHtcbiAgICAvLyDmuIXnkIbmiYDmnInlj6/og73mrovnlZnnmoTlr7nor53moYblhYPntKBcbiAgICBjb25zdCAkY29udGFpbmVyID0gJCgnLnBob25lLXNjcmVlbicpLmxlbmd0aCA/ICQoJy5waG9uZS1zY3JlZW4nKSA6ICQoJ2JvZHknKTtcblxuICAgIC8vIOS9v+eUqOmAmueUqOmAieaLqeWZqOa4heeQhuaJgOacieWvueivneahhuebuOWFs+WFg+e0oFxuICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtcbiAgICAgICdbY2xhc3MqPVwiZGlhbG9nLW92ZXJsYXlcIl0nLFxuICAgICAgJ1tjbGFzcyo9XCJkaWFsb2dcIl0nLFxuICAgICAgJy5jdXN0b20tZGlhbG9nLW92ZXJsYXknLFxuICAgICAgJy5tb2JpbGUtZGlhbG9nLW92ZXJsYXknLFxuICAgICAgJy5jdXN0b20tZGlhbG9nJyxcbiAgICAgICcubW9iaWxlLWRpYWxvZycsXG4gICAgXTtcblxuICAgIHNlbGVjdG9ycy5mb3JFYWNoKHNlbGVjdG9yID0+IHtcbiAgICAgICRjb250YWluZXIuZmluZChzZWxlY3RvcikuZWFjaCgoXywgZWxlbWVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfnp7vpmaTlr7nor53moYblhYPntKDml7blh7rplJk6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIOa4heeQhuW8leeUqFxuICAgIHRoaXMuYWN0aXZlRGlhbG9nID0gbnVsbDtcbiAgICB0aGlzLmFjdGl2ZU92ZXJsYXkgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIOWFs+mXreWvueivneahhlxuICAgKi9cbiAgcHJpdmF0ZSBjbG9zZURpYWxvZygpOiB2b2lkIHtcbiAgICB0aGlzLmZvcmNlQ2xlYW51cERpYWxvZ3MoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/dialog-manager.ts\n\n}");
  },
  "./src/同层手机/event-handler.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventHandler: () => (/* binding */ EventHandler)\n/* harmony export */ });\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/同层手机/utils.ts\");\n\n\n// 事件处理器类\nclass EventHandler {\n    wechatInput;\n    sendBtn;\n    plusBtn;\n    uiRenderer;\n    options;\n    blmxManager;\n    appController;\n    hasPendingNotifications = false;\n    dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n    // 添加getter方法\n    get hasNotifications() {\n        return this.hasPendingNotifications;\n    }\n    // 设置UIRenderer引用\n    setUIRenderer(uiRenderer) {\n        this.uiRenderer = uiRenderer;\n    }\n    constructor(inputSelector, sendBtnSelector, plusBtnSelector, blmxManager, appController, uiRenderer, options) {\n        this.wechatInput = $(inputSelector)[0];\n        this.sendBtn = $(sendBtnSelector)[0];\n        this.plusBtn = $(plusBtnSelector)[0];\n        if (!this.wechatInput || !this.sendBtn || !this.plusBtn) {\n            throw new Error('One or more required elements not found');\n        }\n        this.blmxManager = blmxManager;\n        this.options = options;\n        this.appController = appController;\n        this.uiRenderer = uiRenderer;\n        this.setupEventListeners();\n    }\n    // 设置是否有待处理的通知\n    setHasPendingNotifications(value) {\n        this.hasPendingNotifications = value;\n        this.options.updateFooterButtonsState();\n    }\n    // 统一更新时间到全局状态 + 状态栏 + 时间戳\n    updateGameTime(date) {\n        if (isNaN(date.getTime()))\n            return;\n        window.currentGameDate = date;\n        const $timeElement = $('#current-time');\n        if ($timeElement.length) {\n            const formattedTime = `${date.getHours().toString().padStart(2, '0')}:${date\n                .getMinutes()\n                .toString()\n                .padStart(2, '0')}`;\n            $timeElement.text(formattedTime);\n        }\n        if (this.uiRenderer) {\n            this.uiRenderer.refreshAllTimestamps();\n        }\n    }\n    // 删除模式：按日志下标或消息队列下标删除，并刷新界面\n    async deleteByLogIndex(indexToDelete, previewText) {\n        const confirmed = await this.dialogManager.confirm(`确定要删除这条记录吗？\\n\\n预览: \"${previewText}...\"`, '删除记录');\n        if (!confirmed)\n            return;\n        const mainLogLength = this.blmxManager.logEntries.length;\n        if (indexToDelete < mainLogLength) {\n            this.blmxManager.logEntries.splice(indexToDelete, 1);\n            await this.blmxManager.persistLogToStorage();\n        }\n        else {\n            const queueIndex = indexToDelete - mainLogLength;\n            this.appController.removeFromUserMessageQueue(queueIndex);\n        }\n        this.options.renderChatHistory();\n        this.options.renderMomentsFeed();\n    }\n    // 删除模式：按 messageId 删除，并处理找不到日志的情况\n    async deleteByMessageId(messageId, previewText, $messageRow) {\n        const confirmed = await this.dialogManager.confirm(`确定要删除这条消息吗？\\n\\n预览: \"${previewText}...\"`, '删除消息');\n        if (!confirmed)\n            return;\n        const indexToDelete = this.blmxManager.logEntries.findIndex(entry => 'id' in entry && entry.id === messageId);\n        if (indexToDelete !== -1) {\n            this.blmxManager.logEntries.splice(indexToDelete, 1);\n            await this.blmxManager.persistLogToStorage();\n            this.options.renderChatHistory();\n            this.options.renderMomentsFeed();\n        }\n        else {\n            $messageRow.remove();\n            await this.dialogManager.alert('无法找到对应的日志条目，已从界面移除该消息', '错误');\n        }\n    }\n    // 添加长按监听器\n    addLongPressListener(element, callback, options = { duration: 600, preventDefault: true }) {\n        let timer;\n        let startX, startY;\n        const onStart = (e) => {\n            if (e.type === 'mousedown' && e.button !== 0)\n                return;\n            startX = e.clientX;\n            startY = e.clientY;\n            if (options.preventDefault)\n                e.preventDefault();\n            clearTimeout(timer);\n            timer = window.setTimeout(() => {\n                timer = 0;\n                callback();\n            }, options.duration);\n        };\n        const onMove = (e) => {\n            if (!timer)\n                return;\n            const moveX = e.clientX;\n            const moveY = e.clientY;\n            if (Math.abs(moveX - startX) > 10 || Math.abs(moveY - startY) > 10) {\n                clearTimeout(timer);\n            }\n        };\n        const onEnd = () => clearTimeout(timer);\n        element.addEventListener('pointerdown', onStart);\n        element.addEventListener('pointermove', onMove);\n        element.addEventListener('pointerup', onEnd);\n        element.addEventListener('pointerleave', onEnd);\n        if (options.preventDefault) {\n            element.addEventListener('contextmenu', e => e.preventDefault());\n        }\n    }\n    // 提示用户输入日期和时间\n    async promptForDateTime(defaultText) {\n        const dateTimeInput = await this.dialogManager.prompt('请输入日期和时间', defaultText, '日期时间设置', '确定', '取消', 'text', '格式YYYY-MM-DD HH:mm');\n        if (!dateTimeInput || !/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}$/.test(dateTimeInput)) {\n            if (dateTimeInput)\n                await this.dialogManager.alert('格式错误，请输入YYYY-MM-DD HH:mm 格式。', '格式错误');\n            return null;\n        }\n        const [newDate, newTime] = dateTimeInput.split(' ');\n        const parsedDate = new Date(dateTimeInput.replace(' ', 'T'));\n        if (isNaN(parsedDate.getTime())) {\n            await this.dialogManager.alert('无效的日期时间格式。', '格式错误');\n            return null;\n        }\n        // 统一更新系统当前日期和相关UI\n        this.updateGameTime(parsedDate);\n        return [newDate, newTime];\n    }\n    // 处理消息撤回\n    async handleMessageRecall(messageId) {\n        const entryToRecall = this.blmxManager.logEntries.find(e => 'id' in e && e.id === messageId);\n        if (entryToRecall) {\n            const currentDate = window.currentGameDate || new Date();\n            const timeString = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1)\n                .toString()\n                .padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')} ${currentDate\n                .getHours()\n                .toString()\n                .padStart(2, '0')}:${currentDate.getMinutes().toString().padStart(2, '0')}`;\n            const dateTimeResult = await this.promptForDateTime(timeString);\n            if (dateTimeResult === null) {\n                return;\n            }\n            const confirmed = await this.dialogManager.confirm('是否要撤回这条消息？', '确认撤回');\n            if (confirmed) {\n                const [newDate, newTime] = dateTimeResult;\n                // 标记消息为已撤回\n                entryToRecall.recalled = true;\n                entryToRecall.recalled_timestamp = `${newDate} ${newTime}`;\n                entryToRecall.recalled_content = entryToRecall.content;\n                // 立即保存更新后的日志\n                this.blmxManager.persistLogToStorage().then(() => {\n                    // 保存成功后，立即用最新的数据重绘整个聊天界面\n                    this.options.renderChatHistory();\n                });\n                // 更新底部按钮状态\n                this.options.updateFooterButtonsState();\n                // 如果是用户撤回的消息，询问是否通过朋友圈通知AI\n                if (entryToRecall.sender === 'me') {\n                    // 获取消息内容\n                    const messageContent = typeof entryToRecall.content === 'string'\n                        ? entryToRecall.content\n                        : (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(entryToRecall.content);\n                    // 调用AppController的通知方法\n                    this.appController.notifyRecallViaMoments('USER', messageContent);\n                }\n            }\n        }\n        else {\n            await this.dialogManager.alert('找不到该消息，无法撤回。', '错误');\n        }\n    }\n    // 设置事件监听器\n    setupEventListeners() {\n        // 发送按钮点击事件 - 使用jQuery\n        $(this.sendBtn).on('click', () => {\n            const text = this.wechatInput.value.trim();\n            if (text) {\n                this.options.stageAndDisplayEntry({\n                    id: `msg-${Date.now()}${Math.random()}`,\n                    type: 'message',\n                    sender: 'me',\n                    content: text,\n                });\n                this.wechatInput.value = '';\n                this.options.updateFooterButtonsState();\n            }\n            else {\n                // 无论是否有通知，都强制触发AI响应\n                this.hasPendingNotifications = false;\n                this.options.triggerAiResponse(true); // 明确传递immediate=true\n            }\n        });\n        $('#smile-btn').on('click', () => {\n            this.options.togglePanel('sticker');\n            this.renderStickerFeatures();\n        });\n        // Plus按钮点击事件 - 使用jQuery\n        $(this.plusBtn).on('click', () => {\n            this.options.togglePanel('plus');\n            this.renderPlusFeatures();\n        });\n        $('#microphone-btn').on('click', async () => {\n            const result = await this.dialogManager.showVoiceDialog();\n            if (result) {\n                this.options.stageAndDisplayEntry({\n                    id: `msg-${Date.now()}${Math.random()}`,\n                    type: 'voice',\n                    sender: 'me',\n                    content: { text: result.text, duration: result.duration },\n                });\n            }\n        });\n        // 输入框事件 - 使用jQuery\n        $(this.wechatInput).on('keydown', (e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                $(this.sendBtn).trigger('click');\n            }\n        });\n        $(this.wechatInput).on('input', () => {\n            this.options.updateFooterButtonsState();\n        });\n        $(this.wechatInput).on('focus', () => {\n            this.options.togglePanel(null);\n        });\n        // 导航事件\n        $('#app-wechat').on('click', () => this.appController.navigateTo('wechat'));\n        $('#app-settings').on('click', () => this.appController.navigateTo('settings'));\n        $('#wechat-back-btn-dummy').on('click', () => this.appController.navigateTo('home'));\n        $('#settings-back-btn').on('click', () => this.appController.navigateTo('home'));\n        $('#wechat-options-btn').on('click', () => this.appController.navigateTo('moments'));\n        $('#moments-back-btn').on('click', () => this.appController.navigateTo('wechat'));\n        // 渲染功能面板\n        this.renderPlusFeatures();\n        this.renderStickerFeatures();\n        // 各种点击事件监听\n        this.setupClickListeners();\n        // 输入框长按事件 - 使用jQuery获取元素\n        this.addLongPressListener($('#wechat-input-field')[0], async () => {\n            // 使用自定义对话框来更新输入框提示文字\n            const currentPlaceholder = $('#wechat-input-field').attr('placeholder') || '';\n            const newPlaceholder = await this.dialogManager.prompt('修改输入框提示文字:', currentPlaceholder, '修改提示文字');\n            if (newPlaceholder !== null) {\n                $('#wechat-input-field').attr('placeholder', newPlaceholder);\n                localStorage.setItem(`blmx_input_placeholder_${this.blmxManager.getCharId()}`, newPlaceholder);\n            }\n        }, { duration: 5000, preventDefault: false });\n    }\n    async setupClickListeners() {\n        $('#hidden-send-trigger').on('click', async () => {\n            const confirmed = await this.dialogManager.confirm('是否要立即触发AI响应（即使没有新消息）？', '触发AI响应');\n            if (confirmed) {\n                this.options.triggerAiResponse(true);\n            }\n        });\n        // 添加微信选项按钮点击事件 - 导航到朋友圈\n        $('#wechat-options-btn').on('click', () => {\n            this.appController.navigateTo('moments');\n        });\n        $('#delete-mode-trigger').on('click', async () => {\n            const wechatView = $('#wechat-view');\n            wechatView?.toggleClass('delete-mode');\n            if (wechatView?.hasClass('delete-mode')) {\n                await this.dialogManager.alert('已进入删除模式。点击任意消息或时间戳可将其删除。再次点击左上角可退出。', '删除模式');\n            }\n            else {\n                await this.dialogManager.alert('已退出删除模式。', '删除模式');\n            }\n        });\n        $('#post-moment-btn').on('click', async () => {\n            const currentDate = window.currentGameDate || new Date();\n            const timeString = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1)\n                .toString()\n                .padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')} ${currentDate\n                .getHours()\n                .toString()\n                .padStart(2, '0')}:${currentDate.getMinutes().toString().padStart(2, '0')}`;\n            // 使用综合对话框获取所有朋友圈信息\n            const momentData = await this.dialogManager.showMomentDialog(timeString);\n            if (!momentData)\n                return; // 用户取消了发布\n            // 为朋友圈生成唯一ID\n            const momentId = `moment-${Date.now()}-${Math.random().toString(36).substring(2, 10)}`;\n            const momentEntry = {\n                key: 'USER_MOMENT',\n                id: momentId,\n                data: {\n                    text: momentData.text,\n                    image: momentData.image,\n                    image_type: momentData.image_type,\n                    image_desc: momentData.image_desc,\n                    date: momentData.date,\n                    time: momentData.time,\n                },\n            };\n            // 添加到日志\n            this.blmxManager.addEntry(momentEntry);\n            // 检查是否需要推进时间\n            const momentDateTime = `${momentData.date} ${momentData.time}`;\n            const momentDate = new Date(momentDateTime.replace(' ', 'T'));\n            const currentGameDate = window.currentGameDate || new Date();\n            // 如果朋友圈时间晚于当前游戏时间，延迟询问用户是否要推进时间（避免对话框冲突）\n            if (momentDate > currentGameDate) {\n                // 延迟300ms避免与朋友圈发布对话框冲突\n                setTimeout(async () => {\n                    const shouldAdvanceTime = await this.dialogManager.confirm(`朋友圈发布时间（${momentData.date} ${momentData.time}）晚于当前游戏时间。\\n是否要将游戏时间推进到朋友圈发布时间？`, '时间推进确认');\n                    if (shouldAdvanceTime) {\n                        // 推进时间到朋友圈发布时间\n                        const parsedDate = new Date(momentDateTime.replace(' ', 'T'));\n                        if (!isNaN(parsedDate.getTime())) {\n                            // 统一更新时间和相关UI\n                            this.updateGameTime(parsedDate);\n                            // 创建时间推进事件记录\n                            const timeAdvanceEvent = {\n                                type: 'event',\n                                content: {\n                                    date: momentData.date,\n                                    time: momentData.time,\n                                    description: `时间来到了 ${momentData.date} ${momentData.time}`,\n                                },\n                                id: `event-${Date.now()}`,\n                            };\n                            this.blmxManager.addEntry(timeAdvanceEvent);\n                            // 重新渲染朋友圈以反映时间变化\n                            this.options.renderMomentsFeed();\n                        }\n                    }\n                }, 300);\n            }\n            // 关键修改：先渲染朋友圈，再异步持久化数据\n            this.options.renderMomentsFeed();\n            // 设置通知状态\n            this.setHasPendingNotifications(true);\n            this.options.updateFooterButtonsState();\n            // 在后台进行数据持久化，不阻塞UI更新\n            this.blmxManager.persistLogToStorage().then(() => { });\n        });\n        const momentsFeedList = $('#moments-feed-list');\n        momentsFeedList?.on('click', async (e) => {\n            const target = $(e.target)[0];\n            const postEl = target.closest('.moment-post');\n            if (!postEl)\n                return;\n            // 获取朋友圈的唯一ID\n            const momentId = postEl.dataset.momentId;\n            if (!momentId) {\n                console.error('[BLMX] 无法获取朋友圈ID，data-moment-id属性缺失');\n                return;\n            }\n            // 朋友圈操作\n            if (target.closest('.delete-moment-btn')) {\n                const confirmed = await this.dialogManager.confirm('确定要删除这条朋友圈吗？\\n此操作也会删除相关的点赞和评论。', '删除朋友圈');\n                if (confirmed) {\n                    // momentId是序列ID，需要找到对应的实际朋友圈条目\n                    const momentPostLogIndices = [];\n                    this.blmxManager.logEntries.forEach((entry, index) => {\n                        if ('key' in entry && entry.key.includes('_MOMENT')) {\n                            momentPostLogIndices.push(index);\n                        }\n                    });\n                    const momentSequenceId = parseInt(momentId, 10);\n                    const actualMomentIndex = momentPostLogIndices[momentSequenceId];\n                    // 删除朋友圈\n                    if (actualMomentIndex !== undefined && actualMomentIndex >= 0) {\n                        // 先收集所有需要删除的条目索引（从后往前删除避免索引变化）\n                        const indicesToDelete = [actualMomentIndex];\n                        // 找到相关的点赞和评论索引\n                        this.blmxManager.logEntries.forEach((entry, index) => {\n                            if ('key' in entry &&\n                                (entry.key === 'USER_LIKE' || entry.key === 'USER_COMMENT') &&\n                                'data' in entry &&\n                                'target_post_id' in entry.data &&\n                                entry.data.target_post_id === momentSequenceId) {\n                                indicesToDelete.push(index);\n                            }\n                        });\n                        // 按索引从大到小排序，从后往前删除\n                        indicesToDelete.sort((a, b) => b - a);\n                        for (const index of indicesToDelete) {\n                            this.blmxManager.logEntries.splice(index, 1);\n                        }\n                        // 保存更新后的日志\n                        this.blmxManager.persistLogToStorage().then(() => {\n                            // 重绘朋友圈界面\n                            this.options.renderMomentsFeed();\n                        });\n                    }\n                }\n            }\n            else if (target.closest('.comment-button')) {\n                // 处理评论/点赞按钮\n                const result = await this.dialogManager.showCommentDialog();\n                if (result) {\n                    if (result.type === 'like') {\n                        // 添加点赞\n                        const likeId = `like-${Date.now()}-${Math.random().toString(36).substring(2, 10)}`;\n                        const likeEntry = {\n                            key: 'USER_LIKE',\n                            id: likeId,\n                            data: { target_post_id: parseInt(momentId, 10) },\n                        };\n                        this.blmxManager.addEntry(likeEntry);\n                        // 用户点赞朋友圈\n                    }\n                    else if (result.type === 'comment' && result.content) {\n                        // 添加评论\n                        const commentId = `comment-${Date.now()}-${Math.random().toString(36).substring(2, 10)}`;\n                        const commentEntry = {\n                            key: 'USER_COMMENT',\n                            id: commentId,\n                            data: { text: result.content, target_post_id: parseInt(momentId, 10) },\n                        };\n                        this.blmxManager.addEntry(commentEntry);\n                        // 用户评论朋友圈\n                    }\n                    // 更新界面和状态\n                    this.options.renderMomentsFeed();\n                    this.setHasPendingNotifications(true);\n                    this.options.updateFooterButtonsState();\n                    // 持久化数据\n                    this.blmxManager.persistLogToStorage();\n                }\n            }\n        });\n        $(document.body).on('click', e => {\n            const target = $(e.target)[0];\n            if (target.matches('.message-avatar')) {\n                const row = target.closest('.message-row');\n                if (row) {\n                    const avatarType = row.classList.contains('me') ? 'user' : 'char';\n                    this.appController.updateAvatar(avatarType);\n                }\n            }\n        });\n        $('#contact-name-header').on('click', () => {\n            this.appController.updateCharRemark();\n        });\n        $('#moments-user-name').on('click', () => {\n            this.appController.updateUserName();\n        });\n        $('#moments-user-avatar').on('click', () => {\n            this.appController.updateAvatar('user');\n        });\n        // 个性签名设置已整合到用户头像设置对话框中，无需单独点击事件\n        $('#moments-cover-photo').on('click', () => {\n            this.appController.updateCoverPhoto();\n        });\n        const $wechatBody = $('.wechat-body');\n        // 使用jQuery的on方法，不使用capture参数\n        $wechatBody.on('click', async (e) => {\n            const $wechatView = $('#wechat-view');\n            if (!$wechatView.hasClass('delete-mode')) {\n                return;\n            }\n            // 首先检查是否有data-log-index属性\n            const $targetRow = $(e.target).closest('[data-log-index]');\n            if ($targetRow.length) {\n                e.preventDefault();\n                e.stopPropagation();\n                // 以当前 DOM 顺序为准，避免 data-log-index 与最新日志错位\n                const indexToDelete = $('.wechat-body [data-log-index]').index($targetRow) !== -1\n                    ? $('.wechat-body [data-log-index]').index($targetRow)\n                    : parseInt($targetRow.data('logIndex'), 10);\n                const previewText = $targetRow.text().trim().replace(/\\s+/g, ' ').substring(0, 50);\n                await this.deleteByLogIndex(indexToDelete, previewText);\n                return;\n            }\n            // 如果没有data-log-index属性，检查是否有data-message-id属性\n            const $messageRow = $(e.target).closest('[data-message-id]');\n            if ($messageRow.length) {\n                e.preventDefault();\n                e.stopPropagation();\n                const messageId = $messageRow.data('messageId');\n                const previewText = $messageRow.text().trim().replace(/\\s+/g, ' ').substring(0, 50);\n                await this.deleteByMessageId(messageId, previewText, $messageRow);\n            }\n        });\n        $('#change-chat-wallpaper-btn').on('click', e => {\n            e.preventDefault();\n            this.appController.changeWallpaper('chat');\n        });\n        $('#change-home-wallpaper-btn').on('click', e => {\n            e.preventDefault();\n            this.appController.changeWallpaper('home');\n        });\n        $('#change-settings-wallpaper-btn').on('click', e => {\n            e.preventDefault();\n            this.appController.changeWallpaper('settings');\n        });\n        $('#show-last-ai-response-btn').on('click', async (e) => {\n            e.preventDefault();\n            const response = this.appController.getLatestAiRawResponse();\n            await this.dialogManager.showScrollableText(response || '暂无AI回复内容', 'AI原始回复', '关闭');\n        });\n        $('#show-last-sent-prompt-btn').on('click', async (e) => {\n            e.preventDefault();\n            const prompt = this.appController.getLatestSentPrompt();\n            await this.dialogManager.showScrollableText(prompt || '暂无发送的提示内容', '发送的提示', '关闭');\n        });\n        // 灵动岛全屏功能\n        $('.dynamic-island').on('click', async () => {\n            try {\n                // 使用jQuery检查全屏状态，但仍需要使用原生API进行全屏操作\n                if (!document.fullscreenElement) {\n                    // 进入全屏\n                    await document.documentElement.requestFullscreen();\n                }\n                else {\n                    // 退出全屏\n                    await document.exitFullscreen();\n                }\n            }\n            catch (error) {\n                console.warn('[BLMX] 全屏功能不支持或被阻止:', error);\n                await this.dialogManager.alert('您的浏览器不支持全屏功能或被阻止', '全屏功能');\n            }\n        });\n    }\n    renderPlusFeatures() {\n        const $plusGrid = $('#plus-grid');\n        if (!$plusGrid.length)\n            return;\n        const PLUS_FEATURES = [\n            {\n                label: '相册',\n                icon: 'fas fa-images',\n                action: async () => {\n                    const desc = await this.dialogManager.prompt('请输入图片描述:', '', '添加图片');\n                    if (desc) {\n                        this.options.stageAndDisplayEntry({\n                            type: 'image',\n                            sender: 'me',\n                            content: { type: 'desc', value: desc },\n                            id: `msg-${Date.now()}`,\n                        });\n                        this.options.togglePanel(null);\n                    }\n                },\n            },\n            {\n                label: '拍摄',\n                icon: 'fas fa-camera',\n                action: async () => {\n                    const currentDate = window.currentGameDate || new Date();\n                    const dateString = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1)\n                        .toString()\n                        .padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')}`;\n                    const timeString = `${currentDate.getHours().toString().padStart(2, '0')}:${currentDate\n                        .getMinutes()\n                        .toString()\n                        .padStart(2, '0')}`;\n                    // 使用综合时间跳跃对话框\n                    const timeJumpData = await this.dialogManager.showTimeJumpDialog(`${dateString} ${timeString}`);\n                    if (!timeJumpData)\n                        return;\n                    const eventData = {\n                        date: timeJumpData.date,\n                        time: timeJumpData.time,\n                        description: timeJumpData.description,\n                    };\n                    // 按照原版逻辑：发送eventlog时立即更新游戏时间\n                    const [newDate, newTime] = [timeJumpData.date, timeJumpData.time];\n                    const newGameDate = new Date(`${newDate} ${newTime}`.replace(' ', 'T'));\n                    this.updateGameTime(newGameDate);\n                    this.options.stageAndDisplayEntry({\n                        type: 'event',\n                        content: eventData,\n                        id: `event-${Date.now()}`,\n                    });\n                    this.options.togglePanel(null);\n                },\n            },\n            {\n                label: '视频通话',\n                icon: 'fas fa-video',\n                action: async () => await this.dialogManager.alert('本同层手机只【免费发布于discord的尾巴镇社区和旅程社区，作者暴力美学，点击链接即可免费获取https://discord.com/channels/1379304008157499423/1388180976873766973。https://discord.com/channels/1291925535324110879/1388182155707814009', '关于作者'),\n            },\n            {\n                label: '位置',\n                icon: 'fas fa-map-marker-alt',\n                action: async () => {\n                    const loc = await this.dialogManager.prompt('请输入位置:', '', '发送位置');\n                    if (loc)\n                        this.options.stageAndDisplayEntry({\n                            type: 'location',\n                            sender: 'me',\n                            content: loc,\n                            id: `msg-${Date.now()}`,\n                        });\n                    this.options.togglePanel(null);\n                },\n            },\n            {\n                label: '红包',\n                icon: 'fas fa-envelope',\n                action: async () => {\n                    const result = await this.dialogManager.showRedPacketDialog();\n                    if (result) {\n                        const giftData = {\n                            name: '红包',\n                            price: result.amount,\n                            note: result.note,\n                            status: 'sent',\n                        };\n                        this.options.stageAndDisplayEntry({\n                            type: 'gift',\n                            sender: 'me',\n                            content: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(giftData),\n                            data: giftData,\n                            id: `msg-${Date.now()}`,\n                        });\n                        this.options.togglePanel(null);\n                    }\n                },\n            },\n            {\n                label: '转账',\n                icon: 'fas fa-money-bill-wave',\n                action: async () => {\n                    const result = await this.dialogManager.showTransferDialog();\n                    if (result) {\n                        const transferData = {\n                            amount: result.amount,\n                            note: result.note || ' ',\n                            status: 'sent',\n                        };\n                        this.options.stageAndDisplayEntry({\n                            type: 'transfer',\n                            sender: 'me',\n                            content: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(transferData),\n                            data: transferData,\n                            id: `msg-${Date.now()}`,\n                        });\n                        this.options.togglePanel(null);\n                    }\n                },\n            },\n            {\n                label: '文件',\n                icon: 'fas fa-file-alt',\n                action: async () => {\n                    const fileName = await this.dialogManager.prompt('请输入文件名:', '', '发送文件');\n                    if (fileName)\n                        this.options.stageAndDisplayEntry({\n                            type: 'file',\n                            sender: 'me',\n                            content: fileName,\n                            id: `msg-${Date.now()}`,\n                        });\n                    this.options.togglePanel(null);\n                },\n            },\n            {\n                label: '礼物',\n                icon: 'fas fa-gift',\n                action: async () => {\n                    const result = await this.dialogManager.showGiftDialog();\n                    if (result) {\n                        const giftData = {\n                            name: result.name,\n                            price: result.price,\n                            status: 'sent',\n                        };\n                        this.options.stageAndDisplayEntry({\n                            type: 'gift',\n                            sender: 'me',\n                            content: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(giftData),\n                            data: giftData,\n                            id: `msg-${Date.now()}`,\n                        });\n                        this.options.togglePanel(null);\n                    }\n                },\n            },\n        ];\n        // 确保uiRenderer存在且已经初始化\n        if (this.uiRenderer) {\n            // 直接使用DOM元素而不是jQuery对象\n            this.uiRenderer.renderFeatureGrid($plusGrid[0], PLUS_FEATURES, {\n                onToggleDeleteMode: () => { },\n                onAddStickers: () => { },\n            });\n        }\n        else {\n            console.error('[BLMX] UIRenderer is not initialized');\n        }\n    }\n    renderStickerFeatures() {\n        const $stickerGrid = $('#sticker-grid');\n        if (!$stickerGrid.length)\n            return;\n        // 定义默认表情包\n        const defaultGlobalStickers = [{ label: '好的', url: 'https://files.catbox.moe/3j0tpc.jpeg' }];\n        // 读取全局表情包 - 使用与原版一致的存储键\n        const GLOBAL_STICKER_STORAGE_KEY = 'blmx_wechat_stickers_global_blmx';\n        const customStickers = _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.getItem(GLOBAL_STICKER_STORAGE_KEY, []) || [];\n        const allStickers = [...defaultGlobalStickers, ...customStickers];\n        // 创建表情包功能\n        const features = allStickers.map(s => ({\n            label: s.label,\n            icon: s.url,\n            isDefault: defaultGlobalStickers.some(ds => ds.label === s.label),\n            action: () => {\n                this.options.stageAndDisplayEntry({\n                    type: 'sticker',\n                    sender: 'me',\n                    content: s.label,\n                    id: `msg-${Date.now()}`,\n                });\n                this.options.togglePanel(null);\n            },\n        }));\n        // 添加\"表情管理\"按钮\n        features.unshift({\n            label: '表情管理',\n            icon: 'fas fa-cog', // 将图标改为齿轮图标\n            isAddBtn: true,\n            isDefault: false, // 添加isDefault属性\n            action: () => {\n                this.showStickerManager();\n            },\n        });\n        // 确保uiRenderer存在且已经初始化\n        if (this.uiRenderer) {\n            // 直接使用DOM元素而不是jQuery对象\n            this.uiRenderer.renderFeatureGrid($stickerGrid[0], features, {\n                onToggleDeleteMode: () => this.showStickerManager(),\n                onAddStickers: () => this.showStickerManager(),\n            });\n        }\n        else {\n            console.error('[BLMX] UIRenderer is not initialized');\n        }\n    }\n    // 表情包管理界面\n    showStickerManager() {\n        // 创建模态框\n        const modal = document.createElement('div');\n        modal.className = 'sticker-manager-modal';\n        // 创建内容容器\n        const container = document.createElement('div');\n        container.className = 'sticker-manager-container';\n        // 使用innerHTML创建完整结构，包含多标签页\n        container.innerHTML = `\n      <h2>表情包管理</h2>\n      <div class=\"sticker-manager-tabs\">\n        <div class=\"tab-button active\" data-tab=\"add-sticker\">添加表情</div>\n        <div class=\"tab-button\" data-tab=\"batch-add\">批量添加</div>\n        <div class=\"tab-button\" data-tab=\"delete-manage\">删除管理</div>\n      </div>\n      <div class=\"sticker-manager-content\">\n        \x3c!-- 添加单个表情标签页 --\x3e\n        <div class=\"tab-content active\" data-tab=\"add-sticker\">\n          <div class=\"add-sticker-section\">\n            <div class=\"add-sticker-form\">\n              <div class=\"form-group\">\n                <label for=\"sticker-label\">表情包名称</label>\n                <input type=\"text\" id=\"sticker-label\" placeholder=\"表情描述/名称\">\n              </div>\n              <div class=\"form-group\">\n                <label for=\"sticker-url\">表情包URL</label>\n                <input type=\"url\" id=\"sticker-url\" placeholder=\"表情图片URL链接\">\n              </div>\n              <div class=\"preview-container\">\n                <div class=\"preview-label\">预览</div>\n                <img id=\"preview-img\" class=\"preview-img\" style=\"display: none;\">\n              </div>\n              <button class=\"add-sticker-btn\">添加表情包</button>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- 批量添加标签页 --\x3e\n        <div class=\"tab-content\" data-tab=\"batch-add\">\n          <div class=\"batch-add-section\">\n            <div class=\"batch-instructions\">\n              <p>批量添加格式说明：</p>\n              <ul>\n                <li>每个表情包格式：<strong>表情名称http://图片链接</strong></li>\n                <li>多个表情包用<strong>英文逗号</strong>分隔</li>\n                <li>也支持 <strong>表情名称=http://图片链接</strong> 格式</li>\n                <li>示例：<code>笑脸https://example.com/smile.jpg,哭脸https://example.com/cry.jpg</code></li>\n              </ul>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"batch-textarea\">批量表情包数据</label>\n              <textarea id=\"batch-textarea\" placeholder=\"请按照上述格式输入多个表情包...\"></textarea>\n            </div>\n            <button class=\"batch-add-btn\">批量添加表情包</button>\n          </div>\n        </div>\n\n        \x3c!-- 删除管理标签页 --\x3e\n        <div class=\"tab-content\" data-tab=\"delete-manage\">\n          <div class=\"delete-manage-section\">\n            <div class=\"control-bar\">\n              <div class=\"selection-controls\">\n                <button class=\"select-all-btn\">全选</button>\n                <button class=\"deselect-all-btn\">取消选择</button>\n              </div>\n              <button class=\"delete-selected-btn\">删除选中</button>\n            </div>\n            <div class=\"sticker-list-container\">\n              <div class=\"sticker-grid\" id=\"delete-sticker-grid\">\n                \x3c!-- 表情包列表将在这里动态生成 --\x3e\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sticker-manager-footer\">\n        <button class=\"dialog-button\">关闭</button>\n      </div>\n    `;\n        // 获取DOM元素\n        const tabButtons = container.querySelectorAll('.tab-button');\n        const tabContents = container.querySelectorAll('.tab-content');\n        const closeBtn = container.querySelector('.dialog-button');\n        // 添加表情相关元素\n        const labelInput = container.querySelector('#sticker-label');\n        const urlInput = container.querySelector('#sticker-url');\n        const previewImg = container.querySelector('#preview-img');\n        const addStickerBtn = container.querySelector('.add-sticker-btn');\n        // 批量添加相关元素\n        const batchTextarea = container.querySelector('#batch-textarea');\n        const batchAddBtn = container.querySelector('.batch-add-btn');\n        // 删除管理相关元素\n        const selectAllBtn = container.querySelector('.select-all-btn');\n        const deselectAllBtn = container.querySelector('.deselect-all-btn');\n        const deleteSelectedBtn = container.querySelector('.delete-selected-btn');\n        const deleteStickerGrid = container.querySelector('#delete-sticker-grid');\n        // 标签页切换功能\n        tabButtons.forEach(button => {\n            button.addEventListener('click', () => {\n                const targetTab = button.dataset.tab;\n                // 移除所有活动状态\n                tabButtons.forEach(btn => btn.classList.remove('active'));\n                tabContents.forEach(content => content.classList.remove('active'));\n                // 设置当前标签为活动状态\n                button.classList.add('active');\n                const targetContent = container.querySelector(`.tab-content[data-tab=\"${targetTab}\"]`);\n                if (targetContent) {\n                    targetContent.classList.add('active');\n                }\n                // 如果切换到删除管理标签页，渲染表情包列表\n                if (targetTab === 'delete-manage') {\n                    renderDeleteStickerList();\n                }\n            });\n        });\n        // URL输入预览功能\n        urlInput.addEventListener('input', () => {\n            if (urlInput.value.trim()) {\n                previewImg.src = urlInput.value.trim();\n                previewImg.style.display = 'block';\n            }\n            else {\n                previewImg.style.display = 'none';\n            }\n        });\n        // 添加单个表情包\n        addStickerBtn.addEventListener('click', () => {\n            const label = labelInput.value.trim();\n            const url = urlInput.value.trim();\n            if (!label || !url) {\n                alert('请输入表情名称和URL');\n                return;\n            }\n            const GLOBAL_STICKER_STORAGE_KEY = 'blmx_wechat_stickers_global_blmx';\n            const existingStickers = _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.getItem(GLOBAL_STICKER_STORAGE_KEY, []) || [];\n            const newSticker = { label, url };\n            existingStickers.push(newSticker);\n            _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.setItem(GLOBAL_STICKER_STORAGE_KEY, existingStickers);\n            alert('表情包添加成功！');\n            // 清空输入框\n            labelInput.value = '';\n            urlInput.value = '';\n            previewImg.style.display = 'none';\n            // 刷新表情包菜单\n            this.renderStickerFeatures();\n        });\n        // 批量添加表情包\n        batchAddBtn.addEventListener('click', () => {\n            const input = batchTextarea.value.trim();\n            if (!input) {\n                alert('请输入表情包数据');\n                return;\n            }\n            const GLOBAL_STICKER_STORAGE_KEY = 'blmx_wechat_stickers_global_blmx';\n            const pairs = input.split(',');\n            const newStickers = [];\n            for (const pair of pairs) {\n                // 查找URL部分的起始位置 - 通常是http或https开头\n                const urlStartIndex = pair.indexOf('http');\n                if (urlStartIndex > 0) {\n                    const label = pair.substring(0, urlStartIndex).trim();\n                    const url = pair.substring(urlStartIndex).trim();\n                    if (label && url) {\n                        newStickers.push({ label, url });\n                    }\n                }\n                else if (pair.includes('=')) {\n                    // 支持label=url格式\n                    const [label, url] = pair.split('=').map(part => part.trim());\n                    if (label && url) {\n                        newStickers.push({ label, url });\n                    }\n                }\n            }\n            if (newStickers.length > 0) {\n                const existingStickers = _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.getItem(GLOBAL_STICKER_STORAGE_KEY, []) || [];\n                const updatedStickers = [...existingStickers, ...newStickers];\n                _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.setItem(GLOBAL_STICKER_STORAGE_KEY, updatedStickers);\n                alert(`${newStickers.length} 个表情包已添加！`);\n                batchTextarea.value = '';\n                // 刷新表情包菜单\n                this.renderStickerFeatures();\n            }\n            else {\n                alert('未找到有效的表情包格式。请按照上方的格式说明输入。');\n            }\n        });\n        // 渲染删除管理的表情包列表\n        const renderDeleteStickerList = () => {\n            const GLOBAL_STICKER_STORAGE_KEY = 'blmx_wechat_stickers_global_blmx';\n            const stickers = _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.getItem(GLOBAL_STICKER_STORAGE_KEY, []) || [];\n            deleteStickerGrid.innerHTML = '';\n            if (stickers.length === 0) {\n                const noStickersMsg = document.createElement('div');\n                noStickersMsg.textContent = '没有表情包，请点击\"添加表情\"标签添加。';\n                noStickersMsg.className = 'no-stickers-msg';\n                deleteStickerGrid.appendChild(noStickersMsg);\n                return;\n            }\n            stickers.forEach((sticker, index) => {\n                const stickerItem = document.createElement('div');\n                stickerItem.className = 'sticker-item';\n                // 创建隐藏的原生checkbox\n                const checkbox = document.createElement('input');\n                checkbox.type = 'checkbox';\n                checkbox.className = 'sticker-checkbox';\n                checkbox.dataset.index = index.toString();\n                // 创建可见的checkbox按钮\n                const checkboxButton = document.createElement('div');\n                checkboxButton.className = 'sticker-checkbox-button';\n                // 创建其他元素\n                const stickerImg = document.createElement('img');\n                stickerImg.src = sticker.url;\n                stickerImg.alt = sticker.label;\n                stickerImg.className = 'sticker-preview';\n                const stickerLabel = document.createElement('div');\n                stickerLabel.className = 'sticker-label';\n                stickerLabel.textContent = sticker.label;\n                // 更新checkbox按钮状态\n                const updateCheckboxState = (checked) => {\n                    if (checked) {\n                        checkboxButton.classList.add('checked');\n                    }\n                    else {\n                        checkboxButton.classList.remove('checked');\n                    }\n                };\n                // 点击事件\n                const handleClick = (e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    checkbox.checked = !checkbox.checked;\n                    updateCheckboxState(checkbox.checked);\n                };\n                stickerItem.addEventListener('click', handleClick);\n                checkboxButton.addEventListener('click', handleClick);\n                // 组装元素\n                stickerItem.appendChild(checkbox);\n                stickerItem.appendChild(checkboxButton);\n                stickerItem.appendChild(stickerImg);\n                stickerItem.appendChild(stickerLabel);\n                deleteStickerGrid.appendChild(stickerItem);\n                // 设置初始状态\n                updateCheckboxState(checkbox.checked);\n            });\n        };\n        // 全选功能\n        selectAllBtn.addEventListener('click', () => {\n            const checkboxes = deleteStickerGrid.querySelectorAll('.sticker-checkbox');\n            const checkboxButtons = deleteStickerGrid.querySelectorAll('.sticker-checkbox-button');\n            checkboxes.forEach((checkbox, index) => {\n                checkbox.checked = true;\n                checkboxButtons[index]?.classList.add('checked');\n            });\n        });\n        // 取消选择功能\n        deselectAllBtn.addEventListener('click', () => {\n            const checkboxes = deleteStickerGrid.querySelectorAll('.sticker-checkbox');\n            const checkboxButtons = deleteStickerGrid.querySelectorAll('.sticker-checkbox-button');\n            checkboxes.forEach((checkbox, index) => {\n                checkbox.checked = false;\n                checkboxButtons[index]?.classList.remove('checked');\n            });\n        });\n        // 删除选中功能\n        deleteSelectedBtn.addEventListener('click', () => {\n            const checkboxes = deleteStickerGrid.querySelectorAll('.sticker-checkbox:checked');\n            if (checkboxes.length === 0) {\n                alert('请选择要删除的表情包');\n                return;\n            }\n            if (confirm(`确定要删除选中的 ${checkboxes.length} 个表情包吗？`)) {\n                const GLOBAL_STICKER_STORAGE_KEY = 'blmx_wechat_stickers_global_blmx';\n                const stickers = _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.getItem(GLOBAL_STICKER_STORAGE_KEY, []) || [];\n                // 获取要删除的索引（从大到小排序，避免删除时索引变化）\n                const indicesToDelete = window._.chain(checkboxes)\n                    .map((checkbox) => parseInt(checkbox.dataset.index))\n                    .sortBy()\n                    .reverse()\n                    .value();\n                // 删除选中的表情包\n                indicesToDelete.forEach((index) => {\n                    stickers.splice(index, 1);\n                });\n                _utils__WEBPACK_IMPORTED_MODULE_1__.SafeStorage.setItem(GLOBAL_STICKER_STORAGE_KEY, stickers);\n                alert(`已删除 ${checkboxes.length} 个表情包`);\n                // 重新渲染列表\n                renderDeleteStickerList();\n                // 刷新表情包菜单\n                this.renderStickerFeatures();\n            }\n        });\n        // 关闭按钮事件\n        closeBtn.addEventListener('click', () => {\n            document.body.removeChild(modal);\n        });\n        // 点击遮罩层关闭\n        modal.addEventListener('click', e => {\n            if (e.target === modal) {\n                document.body.removeChild(modal);\n            }\n        });\n        modal.appendChild(container);\n        document.body.appendChild(modal);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WQjOWxguaJi+acui9ldmVudC1oYW5kbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpYWxvZ01hbmFnZXIgfSBmcm9tICcuL2RpYWxvZy1tYW5hZ2VyJztcbmltcG9ydCB7IEJMTVhfUHJvdG9jb2wsIENoYXRFbnRyeSwgTG9nRW50cnkgfSBmcm9tICcuL3NjcmlwdCc7XG5pbXBvcnQgeyBJQXBwQ29udHJvbGxlciwgSUV2ZW50SGFuZGxlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVUlSZW5kZXJlciB9IGZyb20gJy4vdWktcmVuZGVyZXInO1xuaW1wb3J0IHsgc2FmZUpzb25TdHJpbmdpZnksIFNhZmVTdG9yYWdlIH0gZnJvbSAnLi91dGlscyc7XG5cbi8vIOexu+Wei+WumuS5iVxuaW50ZXJmYWNlIEV2ZW50SGFuZGxlck9wdGlvbnMge1xuICBnZXREaXNwbGF5TmFtZTogKHR5cGU6ICd1c2VyJyB8ICdjaGFyJykgPT4gc3RyaW5nO1xuICBzdGFnZUFuZERpc3BsYXlFbnRyeTogKGVudHJ5OiBMb2dFbnRyeSkgPT4gdm9pZDtcbiAgdHJpZ2dlckFpUmVzcG9uc2U6IChpbW1lZGlhdGU/OiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVGb290ZXJCdXR0b25zU3RhdGU6ICgpID0+IHZvaWQ7XG4gIHJlbmRlckNoYXRIaXN0b3J5OiAoKSA9PiB2b2lkO1xuICByZW5kZXJNb21lbnRzRmVlZDogKCkgPT4gdm9pZDtcbiAgdG9nZ2xlUGFuZWw6IChwYW5lbE5hbWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGZpbmRTdGlja2VyVXJsQnlOYW1lOiAobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbi8vIOS6i+S7tuWkhOeQhuWZqOexu1xuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlciBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXIge1xuICBwcml2YXRlIHdlY2hhdElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICBwcml2YXRlIHNlbmRCdG46IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHBsdXNCdG46IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHVpUmVuZGVyZXI6IFVJUmVuZGVyZXIgfCBudWxsO1xuICBwcml2YXRlIG9wdGlvbnM6IEV2ZW50SGFuZGxlck9wdGlvbnM7XG4gIHByaXZhdGUgYmxteE1hbmFnZXI6IEJMTVhfUHJvdG9jb2w7XG4gIHByaXZhdGUgYXBwQ29udHJvbGxlcjogSUFwcENvbnRyb2xsZXI7XG4gIHByaXZhdGUgaGFzUGVuZGluZ05vdGlmaWNhdGlvbnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBkaWFsb2dNYW5hZ2VyOiBEaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gIC8vIOa3u+WKoGdldHRlcuaWueazlVxuICBnZXQgaGFzTm90aWZpY2F0aW9ucygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oYXNQZW5kaW5nTm90aWZpY2F0aW9ucztcbiAgfVxuXG4gIC8vIOiuvue9rlVJUmVuZGVyZXLlvJXnlKhcbiAgc2V0VUlSZW5kZXJlcih1aVJlbmRlcmVyOiBVSVJlbmRlcmVyKTogdm9pZCB7XG4gICAgdGhpcy51aVJlbmRlcmVyID0gdWlSZW5kZXJlcjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlucHV0U2VsZWN0b3I6IHN0cmluZyxcbiAgICBzZW5kQnRuU2VsZWN0b3I6IHN0cmluZyxcbiAgICBwbHVzQnRuU2VsZWN0b3I6IHN0cmluZyxcbiAgICBibG14TWFuYWdlcjogQkxNWF9Qcm90b2NvbCxcbiAgICBhcHBDb250cm9sbGVyOiBJQXBwQ29udHJvbGxlcixcbiAgICB1aVJlbmRlcmVyOiBVSVJlbmRlcmVyIHwgbnVsbCxcbiAgICBvcHRpb25zOiBFdmVudEhhbmRsZXJPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLndlY2hhdElucHV0ID0gJChpbnB1dFNlbGVjdG9yKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2VuZEJ0biA9ICQoc2VuZEJ0blNlbGVjdG9yKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnBsdXNCdG4gPSAkKHBsdXNCdG5TZWxlY3RvcilbMF0gYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZiAoIXRoaXMud2VjaGF0SW5wdXQgfHwgIXRoaXMuc2VuZEJ0biB8fCAhdGhpcy5wbHVzQnRuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvciBtb3JlIHJlcXVpcmVkIGVsZW1lbnRzIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIHRoaXMuYmxteE1hbmFnZXIgPSBibG14TWFuYWdlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuYXBwQ29udHJvbGxlciA9IGFwcENvbnRyb2xsZXI7XG4gICAgdGhpcy51aVJlbmRlcmVyID0gdWlSZW5kZXJlcjtcblxuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgLy8g6K6+572u5piv5ZCm5pyJ5b6F5aSE55CG55qE6YCa55+lXG4gIHNldEhhc1BlbmRpbmdOb3RpZmljYXRpb25zKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5oYXNQZW5kaW5nTm90aWZpY2F0aW9ucyA9IHZhbHVlO1xuICAgIHRoaXMub3B0aW9ucy51cGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcbiAgfVxuXG4gIC8vIOe7n+S4gOabtOaWsOaXtumXtOWIsOWFqOWxgOeKtuaAgSArIOeKtuaAgeagjyArIOaXtumXtOaIs1xuICBwcml2YXRlIHVwZGF0ZUdhbWVUaW1lKGRhdGU6IERhdGUpOiB2b2lkIHtcbiAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm47XG4gICAgd2luZG93LmN1cnJlbnRHYW1lRGF0ZSA9IGRhdGU7XG5cbiAgICBjb25zdCAkdGltZUVsZW1lbnQgPSAkKCcjY3VycmVudC10aW1lJyk7XG4gICAgaWYgKCR0aW1lRWxlbWVudC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBgJHtkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke2RhdGVcbiAgICAgICAgLmdldE1pbnV0ZXMoKVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgJHRpbWVFbGVtZW50LnRleHQoZm9ybWF0dGVkVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudWlSZW5kZXJlcikge1xuICAgICAgdGhpcy51aVJlbmRlcmVyLnJlZnJlc2hBbGxUaW1lc3RhbXBzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g5Yig6Zmk5qih5byP77ya5oyJ5pel5b+X5LiL5qCH5oiW5raI5oGv6Zif5YiX5LiL5qCH5Yig6Zmk77yM5bm25Yi35paw55WM6Z2iXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQnlMb2dJbmRleChpbmRleFRvRGVsZXRlOiBudW1iZXIsIHByZXZpZXdUZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuY29uZmlybShcbiAgICAgIGDnoa7lrpropoHliKDpmaTov5nmnaHorrDlvZXlkJfvvJ9cXG5cXG7pooTop4g6IFwiJHtwcmV2aWV3VGV4dH0uLi5cImAsXG4gICAgICAn5Yig6Zmk6K6w5b2VJyxcbiAgICApO1xuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBjb25zdCBtYWluTG9nTGVuZ3RoID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzLmxlbmd0aDtcbiAgICBpZiAoaW5kZXhUb0RlbGV0ZSA8IG1haW5Mb2dMZW5ndGgpIHtcbiAgICAgIHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5zcGxpY2UoaW5kZXhUb0RlbGV0ZSwgMSk7XG4gICAgICBhd2FpdCB0aGlzLmJsbXhNYW5hZ2VyLnBlcnNpc3RMb2dUb1N0b3JhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcXVldWVJbmRleCA9IGluZGV4VG9EZWxldGUgLSBtYWluTG9nTGVuZ3RoO1xuICAgICAgdGhpcy5hcHBDb250cm9sbGVyLnJlbW92ZUZyb21Vc2VyTWVzc2FnZVF1ZXVlKHF1ZXVlSW5kZXgpO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5yZW5kZXJDaGF0SGlzdG9yeSgpO1xuICAgIHRoaXMub3B0aW9ucy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuICB9XG5cbiAgLy8g5Yig6Zmk5qih5byP77ya5oyJIG1lc3NhZ2VJZCDliKDpmaTvvIzlubblpITnkIbmib7kuI3liLDml6Xlv5fnmoTmg4XlhrVcbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVCeU1lc3NhZ2VJZChcbiAgICBtZXNzYWdlSWQ6IHN0cmluZyxcbiAgICBwcmV2aWV3VGV4dDogc3RyaW5nLFxuICAgICRtZXNzYWdlUm93OiBKUXVlcnk8SFRNTEVsZW1lbnQ+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuY29uZmlybShcbiAgICAgIGDnoa7lrpropoHliKDpmaTov5nmnaHmtojmga/lkJfvvJ9cXG5cXG7pooTop4g6IFwiJHtwcmV2aWV3VGV4dH0uLi5cImAsXG4gICAgICAn5Yig6Zmk5raI5oGvJyxcbiAgICApO1xuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBjb25zdCBpbmRleFRvRGVsZXRlID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzLmZpbmRJbmRleChlbnRyeSA9PiAnaWQnIGluIGVudHJ5ICYmIGVudHJ5LmlkID09PSBtZXNzYWdlSWQpO1xuXG4gICAgaWYgKGluZGV4VG9EZWxldGUgIT09IC0xKSB7XG4gICAgICB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMuc3BsaWNlKGluZGV4VG9EZWxldGUsIDEpO1xuICAgICAgYXdhaXQgdGhpcy5ibG14TWFuYWdlci5wZXJzaXN0TG9nVG9TdG9yYWdlKCk7XG4gICAgICB0aGlzLm9wdGlvbnMucmVuZGVyQ2hhdEhpc3RvcnkoKTtcbiAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkbWVzc2FnZVJvdy5yZW1vdmUoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5hbGVydCgn5peg5rOV5om+5Yiw5a+55bqU55qE5pel5b+X5p2h55uu77yM5bey5LuO55WM6Z2i56e76Zmk6K+l5raI5oGvJywgJ+mUmeivrycpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOa3u+WKoOmVv+aMieebkeWQrOWZqFxuICBhZGRMb25nUHJlc3NMaXN0ZW5lcihcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBvcHRpb25zOiB7IGR1cmF0aW9uOiBudW1iZXI7IHByZXZlbnREZWZhdWx0OiBib29sZWFuIH0gPSB7IGR1cmF0aW9uOiA2MDAsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICk6IHZvaWQge1xuICAgIGxldCB0aW1lcjogbnVtYmVyO1xuICAgIGxldCBzdGFydFg6IG51bWJlciwgc3RhcnRZOiBudW1iZXI7XG5cbiAgICBjb25zdCBvblN0YXJ0ID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZS5idXR0b24gIT09IDApIHJldHVybjtcbiAgICAgIHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICAgIHN0YXJ0WSA9IGUuY2xpZW50WTtcbiAgICAgIGlmIChvcHRpb25zLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRpbWVyID0gMDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0sIG9wdGlvbnMuZHVyYXRpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBvbk1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICBpZiAoIXRpbWVyKSByZXR1cm47XG4gICAgICBjb25zdCBtb3ZlWCA9IGUuY2xpZW50WDtcbiAgICAgIGNvbnN0IG1vdmVZID0gZS5jbGllbnRZO1xuICAgICAgaWYgKE1hdGguYWJzKG1vdmVYIC0gc3RhcnRYKSA+IDEwIHx8IE1hdGguYWJzKG1vdmVZIC0gc3RhcnRZKSA+IDEwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9uRW5kID0gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblN0YXJ0KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Nb3ZlKTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uRW5kKTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uRW5kKTtcblxuICAgIGlmIChvcHRpb25zLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOaPkOekuueUqOaIt+i+k+WFpeaXpeacn+WSjOaXtumXtFxuICBhc3luYyBwcm9tcHRGb3JEYXRlVGltZShkZWZhdWx0VGV4dDogc3RyaW5nKTogUHJvbWlzZTxbc3RyaW5nLCBzdHJpbmddIHwgbnVsbD4ge1xuICAgIGNvbnN0IGRhdGVUaW1lSW5wdXQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIucHJvbXB0KFxuICAgICAgJ+ivt+i+k+WFpeaXpeacn+WSjOaXtumXtCcsXG4gICAgICBkZWZhdWx0VGV4dCxcbiAgICAgICfml6XmnJ/ml7bpl7Torr7nva4nLFxuICAgICAgJ+ehruWumicsXG4gICAgICAn5Y+W5raIJyxcbiAgICAgICd0ZXh0JyxcbiAgICAgICfmoLzlvI9ZWVlZLU1NLUREIEhIOm1tJyxcbiAgICApO1xuXG4gICAgaWYgKCFkYXRlVGltZUlucHV0IHx8ICEvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9IFxcZHsyfTpcXGR7Mn0kLy50ZXN0KGRhdGVUaW1lSW5wdXQpKSB7XG4gICAgICBpZiAoZGF0ZVRpbWVJbnB1dCkgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCfmoLzlvI/plJnor6/vvIzor7fovpPlhaVZWVlZLU1NLUREIEhIOm1tIOagvOW8j+OAgicsICfmoLzlvI/plJnor68nKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IFtuZXdEYXRlLCBuZXdUaW1lXSA9IGRhdGVUaW1lSW5wdXQuc3BsaXQoJyAnKTtcbiAgICBjb25zdCBwYXJzZWREYXRlID0gbmV3IERhdGUoZGF0ZVRpbWVJbnB1dC5yZXBsYWNlKCcgJywgJ1QnKSk7XG5cbiAgICBpZiAoaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuYWxlcnQoJ+aXoOaViOeahOaXpeacn+aXtumXtOagvOW8j+OAgicsICfmoLzlvI/plJnor68nKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIOe7n+S4gOabtOaWsOezu+e7n+W9k+WJjeaXpeacn+WSjOebuOWFs1VJXG4gICAgdGhpcy51cGRhdGVHYW1lVGltZShwYXJzZWREYXRlKTtcblxuICAgIHJldHVybiBbbmV3RGF0ZSwgbmV3VGltZV0gYXMgW3N0cmluZywgc3RyaW5nXTtcbiAgfVxuXG4gIC8vIOWkhOeQhua2iOaBr+aSpOWbnlxuICBhc3luYyBoYW5kbGVNZXNzYWdlUmVjYWxsKG1lc3NhZ2VJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZW50cnlUb1JlY2FsbCA9IHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5maW5kKGUgPT4gJ2lkJyBpbiBlICYmIGUuaWQgPT09IG1lc3NhZ2VJZCkgYXNcbiAgICAgIHwgQ2hhdEVudHJ5XG4gICAgICB8IHVuZGVmaW5lZDtcblxuICAgIGlmIChlbnRyeVRvUmVjYWxsKSB7XG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHdpbmRvdy5jdXJyZW50R2FtZURhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHtjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpfS0keyhjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSlcbiAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9LSR7Y3VycmVudERhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0gJHtjdXJyZW50RGF0ZVxuICAgICAgICAuZ2V0SG91cnMoKVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX06JHtjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgIGNvbnN0IGRhdGVUaW1lUmVzdWx0ID0gYXdhaXQgdGhpcy5wcm9tcHRGb3JEYXRlVGltZSh0aW1lU3RyaW5nKTtcblxuICAgICAgaWYgKGRhdGVUaW1lUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ+aYr+WQpuimgeaSpOWbnui/meadoea2iOaBr++8nycsICfnoa7orqTmkqTlm54nKTtcblxuICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICBjb25zdCBbbmV3RGF0ZSwgbmV3VGltZV0gPSBkYXRlVGltZVJlc3VsdDtcbiAgICAgICAgLy8g5qCH6K6w5raI5oGv5Li65bey5pKk5ZueXG4gICAgICAgIGVudHJ5VG9SZWNhbGwucmVjYWxsZWQgPSB0cnVlO1xuICAgICAgICBlbnRyeVRvUmVjYWxsLnJlY2FsbGVkX3RpbWVzdGFtcCA9IGAke25ld0RhdGV9ICR7bmV3VGltZX1gO1xuICAgICAgICBlbnRyeVRvUmVjYWxsLnJlY2FsbGVkX2NvbnRlbnQgPSBlbnRyeVRvUmVjYWxsLmNvbnRlbnQ7XG5cbiAgICAgICAgLy8g56uL5Y2z5L+d5a2Y5pu05paw5ZCO55qE5pel5b+XXG4gICAgICAgIHRoaXMuYmxteE1hbmFnZXIucGVyc2lzdExvZ1RvU3RvcmFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIC8vIOS/neWtmOaIkOWKn+WQju+8jOeri+WNs+eUqOacgOaWsOeahOaVsOaNrumHjee7mOaVtOS4quiBiuWkqeeVjOmdolxuICAgICAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJDaGF0SGlzdG9yeSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmm7TmlrDlupXpg6jmjInpkq7nirbmgIFcbiAgICAgICAgdGhpcy5vcHRpb25zLnVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSgpO1xuXG4gICAgICAgIC8vIOWmguaenOaYr+eUqOaIt+aSpOWbnueahOa2iOaBr++8jOivoumXruaYr+WQpumAmui/h+aci+WPi+WciOmAmuefpUFJXG4gICAgICAgIGlmIChlbnRyeVRvUmVjYWxsLnNlbmRlciA9PT0gJ21lJykge1xuICAgICAgICAgIC8vIOiOt+WPlua2iOaBr+WGheWuuVxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID1cbiAgICAgICAgICAgIHR5cGVvZiBlbnRyeVRvUmVjYWxsLmNvbnRlbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgID8gZW50cnlUb1JlY2FsbC5jb250ZW50XG4gICAgICAgICAgICAgIDogc2FmZUpzb25TdHJpbmdpZnkoZW50cnlUb1JlY2FsbC5jb250ZW50KTtcblxuICAgICAgICAgIC8vIOiwg+eUqEFwcENvbnRyb2xsZXLnmoTpgJrnn6Xmlrnms5VcbiAgICAgICAgICB0aGlzLmFwcENvbnRyb2xsZXIubm90aWZ5UmVjYWxsVmlhTW9tZW50cygnVVNFUicsIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuYWxlcnQoJ+aJvuS4jeWIsOivpea2iOaBr++8jOaXoOazleaSpOWbnuOAgicsICfplJnor68nKTtcbiAgICB9XG4gIH1cblxuICAvLyDorr7nva7kuovku7bnm5HlkKzlmahcbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIC8vIOWPkemAgeaMiemSrueCueWHu+S6i+S7tiAtIOS9v+eUqGpRdWVyeVxuICAgICQodGhpcy5zZW5kQnRuKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy53ZWNoYXRJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuc3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICAgIGNvbnRlbnQ6IHRleHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndlY2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMub3B0aW9ucy51cGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaXoOiuuuaYr+WQpuaciemAmuefpe+8jOmDveW8uuWItuinpuWPkUFJ5ZON5bqUXG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ05vdGlmaWNhdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnRyaWdnZXJBaVJlc3BvbnNlKHRydWUpOyAvLyDmmI7noa7kvKDpgJJpbW1lZGlhdGU9dHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI3NtaWxlLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMub3B0aW9ucy50b2dnbGVQYW5lbCgnc3RpY2tlcicpO1xuICAgICAgdGhpcy5yZW5kZXJTdGlja2VyRmVhdHVyZXMoKTtcbiAgICB9KTtcblxuICAgIC8vIFBsdXPmjInpkq7ngrnlh7vkuovku7YgLSDkvb/nlKhqUXVlcnlcbiAgICAkKHRoaXMucGx1c0J0bikub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKCdwbHVzJyk7XG4gICAgICB0aGlzLnJlbmRlclBsdXNGZWF0dXJlcygpO1xuICAgIH0pO1xuXG4gICAgJCgnI21pY3JvcGhvbmUtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLnNob3dWb2ljZURpYWxvZygpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuc3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICB0eXBlOiAndm9pY2UnLFxuICAgICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgICBjb250ZW50OiB7IHRleHQ6IHJlc3VsdC50ZXh0LCBkdXJhdGlvbjogcmVzdWx0LmR1cmF0aW9uIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g6L6T5YWl5qGG5LqL5Lu2IC0g5L2/55SoalF1ZXJ5XG4gICAgJCh0aGlzLndlY2hhdElucHV0KS5vbigna2V5ZG93bicsIChlOiBKUXVlcnkuS2V5RG93bkV2ZW50KSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKHRoaXMuc2VuZEJ0bikudHJpZ2dlcignY2xpY2snKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQodGhpcy53ZWNoYXRJbnB1dCkub24oJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdGhpcy5vcHRpb25zLnVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgJCh0aGlzLndlY2hhdElucHV0KS5vbignZm9jdXMnLCAoKSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnMudG9nZ2xlUGFuZWwobnVsbCk7XG4gICAgfSk7XG5cbiAgICAvLyDlr7zoiKrkuovku7ZcbiAgICAkKCcjYXBwLXdlY2hhdCcpLm9uKCdjbGljaycsICgpID0+IHRoaXMuYXBwQ29udHJvbGxlci5uYXZpZ2F0ZVRvKCd3ZWNoYXQnKSk7XG4gICAgJCgnI2FwcC1zZXR0aW5ncycpLm9uKCdjbGljaycsICgpID0+IHRoaXMuYXBwQ29udHJvbGxlci5uYXZpZ2F0ZVRvKCdzZXR0aW5ncycpKTtcbiAgICAkKCcjd2VjaGF0LWJhY2stYnRuLWR1bW15Jykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5hcHBDb250cm9sbGVyLm5hdmlnYXRlVG8oJ2hvbWUnKSk7XG4gICAgJCgnI3NldHRpbmdzLWJhY2stYnRuJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5hcHBDb250cm9sbGVyLm5hdmlnYXRlVG8oJ2hvbWUnKSk7XG4gICAgJCgnI3dlY2hhdC1vcHRpb25zLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHRoaXMuYXBwQ29udHJvbGxlci5uYXZpZ2F0ZVRvKCdtb21lbnRzJykpO1xuICAgICQoJyNtb21lbnRzLWJhY2stYnRuJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5hcHBDb250cm9sbGVyLm5hdmlnYXRlVG8oJ3dlY2hhdCcpKTtcblxuICAgIC8vIOa4suafk+WKn+iDvemdouadv1xuICAgIHRoaXMucmVuZGVyUGx1c0ZlYXR1cmVzKCk7XG4gICAgdGhpcy5yZW5kZXJTdGlja2VyRmVhdHVyZXMoKTtcblxuICAgIC8vIOWQhOenjeeCueWHu+S6i+S7tuebkeWQrFxuICAgIHRoaXMuc2V0dXBDbGlja0xpc3RlbmVycygpO1xuXG4gICAgLy8g6L6T5YWl5qGG6ZW/5oyJ5LqL5Lu2IC0g5L2/55SoalF1ZXJ56I635Y+W5YWD57SgXG4gICAgdGhpcy5hZGRMb25nUHJlc3NMaXN0ZW5lcihcbiAgICAgICQoJyN3ZWNoYXQtaW5wdXQtZmllbGQnKVswXSBhcyBIVE1MRWxlbWVudCxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8g5L2/55So6Ieq5a6a5LmJ5a+56K+d5qGG5p2l5pu05paw6L6T5YWl5qGG5o+Q56S65paH5a2XXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQbGFjZWhvbGRlciA9ICQoJyN3ZWNoYXQtaW5wdXQtZmllbGQnKS5hdHRyKCdwbGFjZWhvbGRlcicpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQbGFjZWhvbGRlciA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5wcm9tcHQoXG4gICAgICAgICAgJ+S/ruaUuei+k+WFpeahhuaPkOekuuaWh+WtlzonLFxuICAgICAgICAgIGN1cnJlbnRQbGFjZWhvbGRlcixcbiAgICAgICAgICAn5L+u5pS55o+Q56S65paH5a2XJyxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG5ld1BsYWNlaG9sZGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgJCgnI3dlY2hhdC1pbnB1dC1maWVsZCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgbmV3UGxhY2Vob2xkZXIpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBibG14X2lucHV0X3BsYWNlaG9sZGVyXyR7dGhpcy5ibG14TWFuYWdlci5nZXRDaGFySWQoKX1gLCBuZXdQbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwcmV2ZW50RGVmYXVsdDogZmFsc2UgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZXR1cENsaWNrTGlzdGVuZXJzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICQoJyNoaWRkZW4tc2VuZC10cmlnZ2VyJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ+aYr+WQpuimgeeri+WNs+inpuWPkUFJ5ZON5bqU77yI5Y2z5L2/5rKh5pyJ5paw5raI5oGv77yJ77yfJywgJ+inpuWPkUFJ5ZON5bqUJyk7XG4gICAgICBpZiAoY29uZmlybWVkKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy50cmlnZ2VyQWlSZXNwb25zZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOa3u+WKoOW+ruS/oemAiemhueaMiemSrueCueWHu+S6i+S7tiAtIOWvvOiIquWIsOaci+WPi+WciFxuICAgICQoJyN3ZWNoYXQtb3B0aW9ucy1idG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmFwcENvbnRyb2xsZXIubmF2aWdhdGVUbygnbW9tZW50cycpO1xuICAgIH0pO1xuXG4gICAgJCgnI2RlbGV0ZS1tb2RlLXRyaWdnZXInKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB3ZWNoYXRWaWV3ID0gJCgnI3dlY2hhdC12aWV3Jyk7XG4gICAgICB3ZWNoYXRWaWV3Py50b2dnbGVDbGFzcygnZGVsZXRlLW1vZGUnKTtcbiAgICAgIGlmICh3ZWNoYXRWaWV3Py5oYXNDbGFzcygnZGVsZXRlLW1vZGUnKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuYWxlcnQoXG4gICAgICAgICAgJ+W3sui/m+WFpeWIoOmZpOaooeW8j+OAgueCueWHu+S7u+aEj+a2iOaBr+aIluaXtumXtOaIs+WPr+WwhuWFtuWIoOmZpOOAguWGjeasoeeCueWHu+W3puS4iuinkuWPr+mAgOWHuuOAgicsXG4gICAgICAgICAgJ+WIoOmZpOaooeW8jycsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuYWxlcnQoJ+W3sumAgOWHuuWIoOmZpOaooeW8j+OAgicsICfliKDpmaTmqKHlvI8nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNwb3N0LW1vbWVudC1idG4nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHdpbmRvdy5jdXJyZW50R2FtZURhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHtjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpfS0keyhjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSlcbiAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9LSR7Y3VycmVudERhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0gJHtjdXJyZW50RGF0ZVxuICAgICAgICAuZ2V0SG91cnMoKVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX06JHtjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgIC8vIOS9v+eUqOe7vOWQiOWvueivneahhuiOt+WPluaJgOacieaci+WPi+WciOS/oeaBr1xuICAgICAgY29uc3QgbW9tZW50RGF0YSA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5zaG93TW9tZW50RGlhbG9nKHRpbWVTdHJpbmcpO1xuICAgICAgaWYgKCFtb21lbnREYXRhKSByZXR1cm47IC8vIOeUqOaIt+WPlua2iOS6huWPkeW4g1xuXG4gICAgICAvLyDkuLrmnIvlj4vlnIjnlJ/miJDllK/kuIBJRFxuICAgICAgY29uc3QgbW9tZW50SWQgPSBgbW9tZW50LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApfWA7XG4gICAgICBjb25zdCBtb21lbnRFbnRyeSA9IHtcbiAgICAgICAga2V5OiAnVVNFUl9NT01FTlQnLFxuICAgICAgICBpZDogbW9tZW50SWQsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0ZXh0OiBtb21lbnREYXRhLnRleHQsXG4gICAgICAgICAgaW1hZ2U6IG1vbWVudERhdGEuaW1hZ2UsXG4gICAgICAgICAgaW1hZ2VfdHlwZTogbW9tZW50RGF0YS5pbWFnZV90eXBlLFxuICAgICAgICAgIGltYWdlX2Rlc2M6IG1vbWVudERhdGEuaW1hZ2VfZGVzYyxcbiAgICAgICAgICBkYXRlOiBtb21lbnREYXRhLmRhdGUsXG4gICAgICAgICAgdGltZTogbW9tZW50RGF0YS50aW1lLFxuICAgICAgICB9LFxuICAgICAgfSBhcyBpbXBvcnQoJy4vc2NyaXB0JykuTW9tZW50RW50cnk7XG5cbiAgICAgIC8vIOa3u+WKoOWIsOaXpeW/l1xuICAgICAgdGhpcy5ibG14TWFuYWdlci5hZGRFbnRyeShtb21lbnRFbnRyeSk7XG5cbiAgICAgIC8vIOajgOafpeaYr+WQpumcgOimgeaOqOi/m+aXtumXtFxuICAgICAgY29uc3QgbW9tZW50RGF0ZVRpbWUgPSBgJHttb21lbnREYXRhLmRhdGV9ICR7bW9tZW50RGF0YS50aW1lfWA7XG4gICAgICBjb25zdCBtb21lbnREYXRlID0gbmV3IERhdGUobW9tZW50RGF0ZVRpbWUucmVwbGFjZSgnICcsICdUJykpO1xuICAgICAgY29uc3QgY3VycmVudEdhbWVEYXRlID0gd2luZG93LmN1cnJlbnRHYW1lRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuXG4gICAgICAvLyDlpoLmnpzmnIvlj4vlnIjml7bpl7TmmZrkuo7lvZPliY3muLjmiI/ml7bpl7TvvIzlu7bov5/or6Lpl67nlKjmiLfmmK/lkKbopoHmjqjov5vml7bpl7TvvIjpgb/lhY3lr7nor53moYblhrLnqoHvvIlcbiAgICAgIGlmIChtb21lbnREYXRlID4gY3VycmVudEdhbWVEYXRlKSB7XG4gICAgICAgIC8vIOW7tui/nzMwMG1z6YG/5YWN5LiO5pyL5Y+L5ZyI5Y+R5biD5a+56K+d5qGG5Yay56qBXG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNob3VsZEFkdmFuY2VUaW1lID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmNvbmZpcm0oXG4gICAgICAgICAgICBg5pyL5Y+L5ZyI5Y+R5biD5pe26Ze077yIJHttb21lbnREYXRhLmRhdGV9ICR7bW9tZW50RGF0YS50aW1lfe+8ieaZmuS6juW9k+WJjea4uOaIj+aXtumXtOOAglxcbuaYr+WQpuimgeWwhua4uOaIj+aXtumXtOaOqOi/m+WIsOaci+WPi+WciOWPkeW4g+aXtumXtO+8n2AsXG4gICAgICAgICAgICAn5pe26Ze05o6o6L+b56Gu6K6kJyxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHNob3VsZEFkdmFuY2VUaW1lKSB7XG4gICAgICAgICAgICAvLyDmjqjov5vml7bpl7TliLDmnIvlj4vlnIjlj5HluIPml7bpl7RcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShtb21lbnREYXRlVGltZS5yZXBsYWNlKCcgJywgJ1QnKSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgICAvLyDnu5/kuIDmm7TmlrDml7bpl7Tlkoznm7jlhbNVSVxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdhbWVUaW1lKHBhcnNlZERhdGUpO1xuXG4gICAgICAgICAgICAgIC8vIOWIm+W7uuaXtumXtOaOqOi/m+S6i+S7tuiusOW9lVxuICAgICAgICAgICAgICBjb25zdCB0aW1lQWR2YW5jZUV2ZW50OiBpbXBvcnQoJy4vc2NyaXB0JykuRXZlbnRMb2dFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXZlbnQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgIGRhdGU6IG1vbWVudERhdGEuZGF0ZSxcbiAgICAgICAgICAgICAgICAgIHRpbWU6IG1vbWVudERhdGEudGltZSxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBg5pe26Ze05p2l5Yiw5LqGICR7bW9tZW50RGF0YS5kYXRlfSAke21vbWVudERhdGEudGltZX1gLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaWQ6IGBldmVudC0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgdGhpcy5ibG14TWFuYWdlci5hZGRFbnRyeSh0aW1lQWR2YW5jZUV2ZW50KTtcblxuICAgICAgICAgICAgICAvLyDph43mlrDmuLLmn5PmnIvlj4vlnIjku6Xlj43mmKDml7bpl7Tlj5jljJZcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlbmRlck1vbWVudHNGZWVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuXG4gICAgICAvLyDlhbPplK7kv67mlLnvvJrlhYjmuLLmn5PmnIvlj4vlnIjvvIzlho3lvILmraXmjIHkuYXljJbmlbDmja5cbiAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuXG4gICAgICAvLyDorr7nva7pgJrnn6XnirbmgIFcbiAgICAgIHRoaXMuc2V0SGFzUGVuZGluZ05vdGlmaWNhdGlvbnModHJ1ZSk7XG4gICAgICB0aGlzLm9wdGlvbnMudXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG5cbiAgICAgIC8vIOWcqOWQjuWPsOi/m+ihjOaVsOaNruaMgeS5heWMlu+8jOS4jemYu+WhnlVJ5pu05pawXG4gICAgICB0aGlzLmJsbXhNYW5hZ2VyLnBlcnNpc3RMb2dUb1N0b3JhZ2UoKS50aGVuKCgpID0+IHt9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1vbWVudHNGZWVkTGlzdCA9ICQoJyNtb21lbnRzLWZlZWQtbGlzdCcpO1xuICAgIG1vbWVudHNGZWVkTGlzdD8ub24oJ2NsaWNrJywgYXN5bmMgZSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSAkKGUudGFyZ2V0KVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IHBvc3RFbCA9IHRhcmdldC5jbG9zZXN0KCcubW9tZW50LXBvc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmICghcG9zdEVsKSByZXR1cm47XG5cbiAgICAgIC8vIOiOt+WPluaci+WPi+WciOeahOWUr+S4gElEXG4gICAgICBjb25zdCBtb21lbnRJZCA9IHBvc3RFbC5kYXRhc2V0Lm1vbWVudElkO1xuICAgICAgaWYgKCFtb21lbnRJZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbQkxNWF0g5peg5rOV6I635Y+W5pyL5Y+L5ZyISUTvvIxkYXRhLW1vbWVudC1pZOWxnuaAp+e8uuWksScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyDmnIvlj4vlnIjmk43kvZxcblxuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLW1vbWVudC1idG4nKSkge1xuICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuY29uZmlybShcbiAgICAgICAgICAn56Gu5a6a6KaB5Yig6Zmk6L+Z5p2h5pyL5Y+L5ZyI5ZCX77yfXFxu5q2k5pON5L2c5Lmf5Lya5Yig6Zmk55u45YWz55qE54K56LWe5ZKM6K+E6K6644CCJyxcbiAgICAgICAgICAn5Yig6Zmk5pyL5Y+L5ZyIJyxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICAgIC8vIG1vbWVudElk5piv5bqP5YiXSUTvvIzpnIDopoHmib7liLDlr7nlupTnmoTlrp7pmYXmnIvlj4vlnIjmnaHnm65cbiAgICAgICAgICBjb25zdCBtb21lbnRQb3N0TG9nSW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgICB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoJ2tleScgaW4gZW50cnkgJiYgZW50cnkua2V5LmluY2x1ZGVzKCdfTU9NRU5UJykpIHtcbiAgICAgICAgICAgICAgbW9tZW50UG9zdExvZ0luZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBtb21lbnRTZXF1ZW5jZUlkID0gcGFyc2VJbnQobW9tZW50SWQsIDEwKTtcbiAgICAgICAgICBjb25zdCBhY3R1YWxNb21lbnRJbmRleCA9IG1vbWVudFBvc3RMb2dJbmRpY2VzW21vbWVudFNlcXVlbmNlSWRdO1xuXG4gICAgICAgICAgLy8g5Yig6Zmk5pyL5Y+L5ZyIXG5cbiAgICAgICAgICBpZiAoYWN0dWFsTW9tZW50SW5kZXggIT09IHVuZGVmaW5lZCAmJiBhY3R1YWxNb21lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAvLyDlhYjmlLbpm4bmiYDmnInpnIDopoHliKDpmaTnmoTmnaHnm67ntKLlvJXvvIjku47lkI7lvoDliY3liKDpmaTpgb/lhY3ntKLlvJXlj5jljJbvvIlcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXNUb0RlbGV0ZTogbnVtYmVyW10gPSBbYWN0dWFsTW9tZW50SW5kZXhdO1xuXG4gICAgICAgICAgICAvLyDmib7liLDnm7jlhbPnmoTngrnotZ7lkozor4TorrrntKLlvJVcbiAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICdrZXknIGluIGVudHJ5ICYmXG4gICAgICAgICAgICAgICAgKGVudHJ5LmtleSA9PT0gJ1VTRVJfTElLRScgfHwgZW50cnkua2V5ID09PSAnVVNFUl9DT01NRU5UJykgJiZcbiAgICAgICAgICAgICAgICAnZGF0YScgaW4gZW50cnkgJiZcbiAgICAgICAgICAgICAgICAndGFyZ2V0X3Bvc3RfaWQnIGluIGVudHJ5LmRhdGEgJiZcbiAgICAgICAgICAgICAgICBlbnRyeS5kYXRhLnRhcmdldF9wb3N0X2lkID09PSBtb21lbnRTZXF1ZW5jZUlkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGluZGljZXNUb0RlbGV0ZS5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIOaMiee0ouW8leS7juWkp+WIsOWwj+aOkuW6j++8jOS7juWQjuW+gOWJjeWIoOmZpFxuICAgICAgICAgICAgaW5kaWNlc1RvRGVsZXRlLnNvcnQoKGEsIGIpID0+IGIgLSBhKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kaWNlc1RvRGVsZXRlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDkv53lrZjmm7TmlrDlkI7nmoTml6Xlv5dcbiAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIucGVyc2lzdExvZ1RvU3RvcmFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAvLyDph43nu5jmnIvlj4vlnIjnlYzpnaJcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlbmRlck1vbWVudHNGZWVkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5jb21tZW50LWJ1dHRvbicpKSB7XG4gICAgICAgIC8vIOWkhOeQhuivhOiuui/ngrnotZ7mjInpkq5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLnNob3dDb21tZW50RGlhbG9nKCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdsaWtlJykge1xuICAgICAgICAgICAgLy8g5re75Yqg54K56LWeXG4gICAgICAgICAgICBjb25zdCBsaWtlSWQgPSBgbGlrZS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKX1gO1xuICAgICAgICAgICAgY29uc3QgbGlrZUVudHJ5ID0ge1xuICAgICAgICAgICAgICBrZXk6ICdVU0VSX0xJS0UnLFxuICAgICAgICAgICAgICBpZDogbGlrZUlkLFxuICAgICAgICAgICAgICBkYXRhOiB7IHRhcmdldF9wb3N0X2lkOiBwYXJzZUludChtb21lbnRJZCwgMTApIH0sXG4gICAgICAgICAgICB9IGFzIGltcG9ydCgnLi9zY3JpcHQnKS5MaWtlRW50cnk7XG5cbiAgICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkobGlrZUVudHJ5KTtcbiAgICAgICAgICAgIC8vIOeUqOaIt+eCuei1nuaci+WPi+WciFxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnR5cGUgPT09ICdjb21tZW50JyAmJiByZXN1bHQuY29udGVudCkge1xuICAgICAgICAgICAgLy8g5re75Yqg6K+E6K66XG4gICAgICAgICAgICBjb25zdCBjb21tZW50SWQgPSBgY29tbWVudC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKX1gO1xuICAgICAgICAgICAgY29uc3QgY29tbWVudEVudHJ5ID0ge1xuICAgICAgICAgICAgICBrZXk6ICdVU0VSX0NPTU1FTlQnLFxuICAgICAgICAgICAgICBpZDogY29tbWVudElkLFxuICAgICAgICAgICAgICBkYXRhOiB7IHRleHQ6IHJlc3VsdC5jb250ZW50LCB0YXJnZXRfcG9zdF9pZDogcGFyc2VJbnQobW9tZW50SWQsIDEwKSB9LFxuICAgICAgICAgICAgfSBhcyBpbXBvcnQoJy4vc2NyaXB0JykuQ29tbWVudEVudHJ5O1xuXG4gICAgICAgICAgICB0aGlzLmJsbXhNYW5hZ2VyLmFkZEVudHJ5KGNvbW1lbnRFbnRyeSk7XG4gICAgICAgICAgICAvLyDnlKjmiLfor4TorrrmnIvlj4vlnIhcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDmm7TmlrDnlYzpnaLlkoznirbmgIFcbiAgICAgICAgICB0aGlzLm9wdGlvbnMucmVuZGVyTW9tZW50c0ZlZWQoKTtcbiAgICAgICAgICB0aGlzLnNldEhhc1BlbmRpbmdOb3RpZmljYXRpb25zKHRydWUpO1xuICAgICAgICAgIHRoaXMub3B0aW9ucy51cGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcblxuICAgICAgICAgIC8vIOaMgeS5heWMluaVsOaNrlxuICAgICAgICAgIHRoaXMuYmxteE1hbmFnZXIucGVyc2lzdExvZ1RvU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gJChlLnRhcmdldClbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJy5tZXNzYWdlLWF2YXRhcicpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHRhcmdldC5jbG9zZXN0KCcubWVzc2FnZS1yb3cnKTtcbiAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgIGNvbnN0IGF2YXRhclR5cGUgPSByb3cuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZScpID8gJ3VzZXInIDogJ2NoYXInO1xuICAgICAgICAgIHRoaXMuYXBwQ29udHJvbGxlci51cGRhdGVBdmF0YXIoYXZhdGFyVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNjb250YWN0LW5hbWUtaGVhZGVyJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5hcHBDb250cm9sbGVyLnVwZGF0ZUNoYXJSZW1hcmsoKTtcbiAgICB9KTtcbiAgICAkKCcjbW9tZW50cy11c2VyLW5hbWUnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmFwcENvbnRyb2xsZXIudXBkYXRlVXNlck5hbWUoKTtcbiAgICB9KTtcbiAgICAkKCcjbW9tZW50cy11c2VyLWF2YXRhcicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYXBwQ29udHJvbGxlci51cGRhdGVBdmF0YXIoJ3VzZXInKTtcbiAgICB9KTtcbiAgICAvLyDkuKrmgKfnrb7lkI3orr7nva7lt7LmlbTlkIjliLDnlKjmiLflpLTlg4/orr7nva7lr7nor53moYbkuK3vvIzml6DpnIDljZXni6zngrnlh7vkuovku7ZcbiAgICAkKCcjbW9tZW50cy1jb3Zlci1waG90bycpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYXBwQ29udHJvbGxlci51cGRhdGVDb3ZlclBob3RvKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCAkd2VjaGF0Qm9keSA9ICQoJy53ZWNoYXQtYm9keScpO1xuICAgIC8vIOS9v+eUqGpRdWVyeeeahG9u5pa55rOV77yM5LiN5L2/55SoY2FwdHVyZeWPguaVsFxuICAgICR3ZWNoYXRCb2R5Lm9uKCdjbGljaycsIGFzeW5jIChlOiBKUXVlcnkuQ2xpY2tFdmVudCkgPT4ge1xuICAgICAgY29uc3QgJHdlY2hhdFZpZXcgPSAkKCcjd2VjaGF0LXZpZXcnKTtcbiAgICAgIGlmICghJHdlY2hhdFZpZXcuaGFzQ2xhc3MoJ2RlbGV0ZS1tb2RlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDpppblhYjmo4Dmn6XmmK/lkKbmnIlkYXRhLWxvZy1pbmRleOWxnuaAp1xuICAgICAgY29uc3QgJHRhcmdldFJvdyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ1tkYXRhLWxvZy1pbmRleF0nKTtcbiAgICAgIGlmICgkdGFyZ2V0Um93Lmxlbmd0aCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8g5Lul5b2T5YmNIERPTSDpobrluo/kuLrlh4bvvIzpgb/lhY0gZGF0YS1sb2ctaW5kZXgg5LiO5pyA5paw5pel5b+X6ZSZ5L2NXG4gICAgICAgIGNvbnN0IGluZGV4VG9EZWxldGUgPVxuICAgICAgICAgICQoJy53ZWNoYXQtYm9keSBbZGF0YS1sb2ctaW5kZXhdJykuaW5kZXgoJHRhcmdldFJvdykgIT09IC0xXG4gICAgICAgICAgICA/ICQoJy53ZWNoYXQtYm9keSBbZGF0YS1sb2ctaW5kZXhdJykuaW5kZXgoJHRhcmdldFJvdylcbiAgICAgICAgICAgIDogcGFyc2VJbnQoJHRhcmdldFJvdy5kYXRhKCdsb2dJbmRleCcpLCAxMCk7XG4gICAgICAgIGNvbnN0IHByZXZpZXdUZXh0ID0gJHRhcmdldFJvdy50ZXh0KCkudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKS5zdWJzdHJpbmcoMCwgNTApO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlQnlMb2dJbmRleChpbmRleFRvRGVsZXRlLCBwcmV2aWV3VGV4dCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g5aaC5p6c5rKh5pyJZGF0YS1sb2ctaW5kZXjlsZ7mgKfvvIzmo4Dmn6XmmK/lkKbmnIlkYXRhLW1lc3NhZ2UtaWTlsZ7mgKdcbiAgICAgIGNvbnN0ICRtZXNzYWdlUm93ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnW2RhdGEtbWVzc2FnZS1pZF0nKTtcbiAgICAgIGlmICgkbWVzc2FnZVJvdy5sZW5ndGgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9ICRtZXNzYWdlUm93LmRhdGEoJ21lc3NhZ2VJZCcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3VGV4dCA9ICRtZXNzYWdlUm93LnRleHQoKS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnN1YnN0cmluZygwLCA1MCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVCeU1lc3NhZ2VJZChtZXNzYWdlSWQsIHByZXZpZXdUZXh0LCAkbWVzc2FnZVJvdyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcjY2hhbmdlLWNoYXQtd2FsbHBhcGVyLWJ0bicpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5hcHBDb250cm9sbGVyLmNoYW5nZVdhbGxwYXBlcignY2hhdCcpO1xuICAgIH0pO1xuICAgICQoJyNjaGFuZ2UtaG9tZS13YWxscGFwZXItYnRuJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFwcENvbnRyb2xsZXIuY2hhbmdlV2FsbHBhcGVyKCdob21lJyk7XG4gICAgfSk7XG4gICAgJCgnI2NoYW5nZS1zZXR0aW5ncy13YWxscGFwZXItYnRuJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFwcENvbnRyb2xsZXIuY2hhbmdlV2FsbHBhcGVyKCdzZXR0aW5ncycpO1xuICAgIH0pO1xuXG4gICAgJCgnI3Nob3ctbGFzdC1haS1yZXNwb25zZS1idG4nKS5vbignY2xpY2snLCBhc3luYyBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5hcHBDb250cm9sbGVyLmdldExhdGVzdEFpUmF3UmVzcG9uc2UoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5zaG93U2Nyb2xsYWJsZVRleHQocmVzcG9uc2UgfHwgJ+aaguaXoEFJ5Zue5aSN5YaF5a65JywgJ0FJ5Y6f5aeL5Zue5aSNJywgJ+WFs+mXrScpO1xuICAgIH0pO1xuXG4gICAgJCgnI3Nob3ctbGFzdC1zZW50LXByb21wdC1idG4nKS5vbignY2xpY2snLCBhc3luYyBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHByb21wdCA9IHRoaXMuYXBwQ29udHJvbGxlci5nZXRMYXRlc3RTZW50UHJvbXB0KCk7XG4gICAgICBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd1Njcm9sbGFibGVUZXh0KHByb21wdCB8fCAn5pqC5peg5Y+R6YCB55qE5o+Q56S65YaF5a65JywgJ+WPkemAgeeahOaPkOekuicsICflhbPpl60nKTtcbiAgICB9KTtcblxuICAgIC8vIOeBteWKqOWym+WFqOWxj+WKn+iDvVxuICAgICQoJy5keW5hbWljLWlzbGFuZCcpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOS9v+eUqGpRdWVyeeajgOafpeWFqOWxj+eKtuaAge+8jOS9huS7jemcgOimgeS9v+eUqOWOn+eUn0FQSei/m+ihjOWFqOWxj+aTjeS9nFxuICAgICAgICBpZiAoIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICAgICAgLy8g6L+b5YWl5YWo5bGPXG4gICAgICAgICAgYXdhaXQgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g6YCA5Ye65YWo5bGPXG4gICAgICAgICAgYXdhaXQgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbQkxNWF0g5YWo5bGP5Yqf6IO95LiN5pSv5oyB5oiW6KKr6Zi75q2iOicsIGVycm9yKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLmFsZXJ0KCfmgqjnmoTmtY/op4jlmajkuI3mlK/mjIHlhajlsY/lip/og73miJbooqvpmLvmraInLCAn5YWo5bGP5Yqf6IO9Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclBsdXNGZWF0dXJlcygpOiB2b2lkIHtcbiAgICBjb25zdCAkcGx1c0dyaWQgPSAkKCcjcGx1cy1ncmlkJyk7XG4gICAgaWYgKCEkcGx1c0dyaWQubGVuZ3RoKSByZXR1cm47XG5cbiAgICBjb25zdCBQTFVTX0ZFQVRVUkVTID0gW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ+ebuOWGjCcsXG4gICAgICAgIGljb246ICdmYXMgZmEtaW1hZ2VzJyxcbiAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVzYyA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5wcm9tcHQoJ+ivt+i+k+WFpeWbvueJh+aPj+i/sDonLCAnJywgJ+a3u+WKoOWbvueJhycpO1xuICAgICAgICAgIGlmIChkZXNjKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICBzZW5kZXI6ICdtZScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHsgdHlwZTogJ2Rlc2MnLCB2YWx1ZTogZGVzYyB9LFxuICAgICAgICAgICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAn5ouN5pGEJyxcbiAgICAgICAgaWNvbjogJ2ZhcyBmYS1jYW1lcmEnLFxuICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHdpbmRvdy5jdXJyZW50R2FtZURhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gYCR7Y3VycmVudERhdGUuZ2V0RnVsbFllYXIoKX0tJHsoY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDEpXG4gICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9LSR7Y3VycmVudERhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHtjdXJyZW50RGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtjdXJyZW50RGF0ZVxuICAgICAgICAgICAgLmdldE1pbnV0ZXMoKVxuICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgICAgICAvLyDkvb/nlKjnu7zlkIjml7bpl7Tot7Pot4Plr7nor53moYZcbiAgICAgICAgICBjb25zdCB0aW1lSnVtcERhdGEgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd1RpbWVKdW1wRGlhbG9nKGAke2RhdGVTdHJpbmd9ICR7dGltZVN0cmluZ31gKTtcbiAgICAgICAgICBpZiAoIXRpbWVKdW1wRGF0YSkgcmV0dXJuO1xuXG4gICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xuICAgICAgICAgICAgZGF0ZTogdGltZUp1bXBEYXRhLmRhdGUsXG4gICAgICAgICAgICB0aW1lOiB0aW1lSnVtcERhdGEudGltZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aW1lSnVtcERhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIOaMieeFp+WOn+eJiOmAu+i+ke+8muWPkemAgWV2ZW50bG9n5pe256uL5Y2z5pu05paw5ri45oiP5pe26Ze0XG4gICAgICAgICAgY29uc3QgW25ld0RhdGUsIG5ld1RpbWVdID0gW3RpbWVKdW1wRGF0YS5kYXRlLCB0aW1lSnVtcERhdGEudGltZV07XG4gICAgICAgICAgY29uc3QgbmV3R2FtZURhdGUgPSBuZXcgRGF0ZShgJHtuZXdEYXRlfSAke25ld1RpbWV9YC5yZXBsYWNlKCcgJywgJ1QnKSk7XG4gICAgICAgICAgdGhpcy51cGRhdGVHYW1lVGltZShuZXdHYW1lRGF0ZSk7XG5cbiAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICAgICAgdHlwZTogJ2V2ZW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGV2ZW50RGF0YSxcbiAgICAgICAgICAgIGlkOiBgZXZlbnQtJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgfSBhcyBpbXBvcnQoJy4vc2NyaXB0JykuRXZlbnRMb2dFbnRyeSk7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICfop4bpopHpgJror50nLFxuICAgICAgICBpY29uOiAnZmFzIGZhLXZpZGVvJyxcbiAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PlxuICAgICAgICAgIGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5hbGVydChcbiAgICAgICAgICAgICfmnKzlkIzlsYLmiYvmnLrlj6rjgJDlhY3otLnlj5HluIPkuo5kaXNjb3Jk55qE5bC+5be06ZWH56S+5Yy65ZKM5peF56iL56S+5Yy677yM5L2c6ICF5pq05Yqb576O5a2m77yM54K55Ye76ZO+5o6l5Y2z5Y+v5YWN6LS56I635Y+WaHR0cHM6Ly9kaXNjb3JkLmNvbS9jaGFubmVscy8xMzc5MzA0MDA4MTU3NDk5NDIzLzEzODgxODA5NzY4NzM3NjY5NzPjgIJodHRwczovL2Rpc2NvcmQuY29tL2NoYW5uZWxzLzEyOTE5MjU1MzUzMjQxMTA4NzkvMTM4ODE4MjE1NTcwNzgxNDAwOScsXG4gICAgICAgICAgICAn5YWz5LqO5L2c6ICFJyxcbiAgICAgICAgICApLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICfkvY3nva4nLFxuICAgICAgICBpY29uOiAnZmFzIGZhLW1hcC1tYXJrZXItYWx0JyxcbiAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbG9jID0gYXdhaXQgdGhpcy5kaWFsb2dNYW5hZ2VyLnByb21wdCgn6K+36L6T5YWl5L2N572uOicsICcnLCAn5Y+R6YCB5L2N572uJyk7XG4gICAgICAgICAgaWYgKGxvYylcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGFnZUFuZERpc3BsYXlFbnRyeSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdsb2NhdGlvbicsXG4gICAgICAgICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgICAgICAgY29udGVudDogbG9jLFxuICAgICAgICAgICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMub3B0aW9ucy50b2dnbGVQYW5lbChudWxsKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAn57qi5YyFJyxcbiAgICAgICAgaWNvbjogJ2ZhcyBmYS1lbnZlbG9wZScsXG4gICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGlhbG9nTWFuYWdlci5zaG93UmVkUGFja2V0RGlhbG9nKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc3QgZ2lmdERhdGEgPSB7XG4gICAgICAgICAgICAgIG5hbWU6ICfnuqLljIUnLFxuICAgICAgICAgICAgICBwcmljZTogcmVzdWx0LmFtb3VudCxcbiAgICAgICAgICAgICAgbm90ZTogcmVzdWx0Lm5vdGUsXG4gICAgICAgICAgICAgIHN0YXR1czogJ3NlbnQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGFnZUFuZERpc3BsYXlFbnRyeSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdnaWZ0JyxcbiAgICAgICAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICAgICAgICBjb250ZW50OiBzYWZlSnNvblN0cmluZ2lmeShnaWZ0RGF0YSksXG4gICAgICAgICAgICAgIGRhdGE6IGdpZnREYXRhLFxuICAgICAgICAgICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAn6L2s6LSmJyxcbiAgICAgICAgaWNvbjogJ2ZhcyBmYS1tb25leS1iaWxsLXdhdmUnLFxuICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd1RyYW5zZmVyRGlhbG9nKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJEYXRhID0ge1xuICAgICAgICAgICAgICBhbW91bnQ6IHJlc3VsdC5hbW91bnQsXG4gICAgICAgICAgICAgIG5vdGU6IHJlc3VsdC5ub3RlIHx8ICcgJyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnc2VudCcgYXMgY29uc3QsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnN0YWdlQW5kRGlzcGxheUVudHJ5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICAgICAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICAgICAgICBjb250ZW50OiBzYWZlSnNvblN0cmluZ2lmeSh0cmFuc2ZlckRhdGEpLFxuICAgICAgICAgICAgICBkYXRhOiB0cmFuc2ZlckRhdGEsXG4gICAgICAgICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudG9nZ2xlUGFuZWwobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICfmlofku7YnLFxuICAgICAgICBpY29uOiAnZmFzIGZhLWZpbGUtYWx0JyxcbiAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIucHJvbXB0KCfor7fovpPlhaXmlofku7blkI06JywgJycsICflj5HpgIHmlofku7YnKTtcbiAgICAgICAgICBpZiAoZmlsZU5hbWUpXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgICAgICAgY29udGVudDogZmlsZU5hbWUsXG4gICAgICAgICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICfnpLzniaknLFxuICAgICAgICBpY29uOiAnZmFzIGZhLWdpZnQnLFxuICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd0dpZnREaWFsb2coKTtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCBnaWZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgbmFtZTogcmVzdWx0Lm5hbWUsXG4gICAgICAgICAgICAgIHByaWNlOiByZXN1bHQucHJpY2UsXG4gICAgICAgICAgICAgIHN0YXR1czogJ3NlbnQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGFnZUFuZERpc3BsYXlFbnRyeSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdnaWZ0JyxcbiAgICAgICAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICAgICAgICBjb250ZW50OiBzYWZlSnNvblN0cmluZ2lmeShnaWZ0RGF0YSksXG4gICAgICAgICAgICAgIGRhdGE6IGdpZnREYXRhLFxuICAgICAgICAgICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIC8vIOehruS/nXVpUmVuZGVyZXLlrZjlnKjkuJTlt7Lnu4/liJ3lp4vljJZcbiAgICBpZiAodGhpcy51aVJlbmRlcmVyKSB7XG4gICAgICAvLyDnm7TmjqXkvb/nlKhET03lhYPntKDogIzkuI3mmK9qUXVlcnnlr7nosaFcbiAgICAgIHRoaXMudWlSZW5kZXJlci5yZW5kZXJGZWF0dXJlR3JpZCgkcGx1c0dyaWRbMF0sIFBMVVNfRkVBVFVSRVMsIHtcbiAgICAgICAgb25Ub2dnbGVEZWxldGVNb2RlOiAoKSA9PiB7fSxcbiAgICAgICAgb25BZGRTdGlja2VyczogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignW0JMTVhdIFVJUmVuZGVyZXIgaXMgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTdGlja2VyRmVhdHVyZXMoKTogdm9pZCB7XG4gICAgY29uc3QgJHN0aWNrZXJHcmlkID0gJCgnI3N0aWNrZXItZ3JpZCcpO1xuICAgIGlmICghJHN0aWNrZXJHcmlkLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgLy8g5a6a5LmJ6buY6K6k6KGo5oOF5YyFXG4gICAgY29uc3QgZGVmYXVsdEdsb2JhbFN0aWNrZXJzID0gW3sgbGFiZWw6ICflpb3nmoQnLCB1cmw6ICdodHRwczovL2ZpbGVzLmNhdGJveC5tb2UvM2owdHBjLmpwZWcnIH1dO1xuXG4gICAgLy8g6K+75Y+W5YWo5bGA6KGo5oOF5YyFIC0g5L2/55So5LiO5Y6f54mI5LiA6Ie055qE5a2Y5YKo6ZSuXG4gICAgY29uc3QgR0xPQkFMX1NUSUNLRVJfU1RPUkFHRV9LRVkgPSAnYmxteF93ZWNoYXRfc3RpY2tlcnNfZ2xvYmFsX2JsbXgnO1xuICAgIGNvbnN0IGN1c3RvbVN0aWNrZXJzID0gU2FmZVN0b3JhZ2UuZ2V0SXRlbShHTE9CQUxfU1RJQ0tFUl9TVE9SQUdFX0tFWSwgW10pIHx8IFtdO1xuICAgIGNvbnN0IGFsbFN0aWNrZXJzID0gWy4uLmRlZmF1bHRHbG9iYWxTdGlja2VycywgLi4uY3VzdG9tU3RpY2tlcnNdO1xuXG4gICAgLy8g5Yib5bu66KGo5oOF5YyF5Yqf6IO9XG4gICAgY29uc3QgZmVhdHVyZXMgPSBhbGxTdGlja2Vycy5tYXAocyA9PiAoe1xuICAgICAgbGFiZWw6IHMubGFiZWwsXG4gICAgICBpY29uOiBzLnVybCxcbiAgICAgIGlzRGVmYXVsdDogZGVmYXVsdEdsb2JhbFN0aWNrZXJzLnNvbWUoZHMgPT4gZHMubGFiZWwgPT09IHMubGFiZWwpLFxuICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5zdGFnZUFuZERpc3BsYXlFbnRyeSh7XG4gICAgICAgICAgdHlwZTogJ3N0aWNrZXInLFxuICAgICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgICBjb250ZW50OiBzLmxhYmVsLFxuICAgICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnRvZ2dsZVBhbmVsKG51bGwpO1xuICAgICAgfSxcbiAgICB9KSk7XG5cbiAgICAvLyDmt7vliqBcIuihqOaDheeuoeeQhlwi5oyJ6ZKuXG4gICAgZmVhdHVyZXMudW5zaGlmdCh7XG4gICAgICBsYWJlbDogJ+ihqOaDheeuoeeQhicsXG4gICAgICBpY29uOiAnZmFzIGZhLWNvZycsIC8vIOWwhuWbvuagh+aUueS4uum9v+i9ruWbvuagh1xuICAgICAgaXNBZGRCdG46IHRydWUsXG4gICAgICBpc0RlZmF1bHQ6IGZhbHNlLCAvLyDmt7vliqBpc0RlZmF1bHTlsZ7mgKdcbiAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3dTdGlja2VyTWFuYWdlcigpO1xuICAgICAgfSxcbiAgICB9IGFzIHtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICBpY29uOiBzdHJpbmc7XG4gICAgICBpc0FkZEJ0bjogYm9vbGVhbjtcbiAgICAgIGlzRGVmYXVsdDogYm9vbGVhbjtcbiAgICAgIGFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICB9KTtcblxuICAgIC8vIOehruS/nXVpUmVuZGVyZXLlrZjlnKjkuJTlt7Lnu4/liJ3lp4vljJZcbiAgICBpZiAodGhpcy51aVJlbmRlcmVyKSB7XG4gICAgICAvLyDnm7TmjqXkvb/nlKhET03lhYPntKDogIzkuI3mmK9qUXVlcnnlr7nosaFcbiAgICAgIHRoaXMudWlSZW5kZXJlci5yZW5kZXJGZWF0dXJlR3JpZCgkc3RpY2tlckdyaWRbMF0sIGZlYXR1cmVzLCB7XG4gICAgICAgIG9uVG9nZ2xlRGVsZXRlTW9kZTogKCkgPT4gdGhpcy5zaG93U3RpY2tlck1hbmFnZXIoKSxcbiAgICAgICAgb25BZGRTdGlja2VyczogKCkgPT4gdGhpcy5zaG93U3RpY2tlck1hbmFnZXIoKSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQkxNWF0gVUlSZW5kZXJlciBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyDooajmg4XljIXnrqHnkIbnlYzpnaJcbiAgcHJpdmF0ZSBzaG93U3RpY2tlck1hbmFnZXIoKTogdm9pZCB7XG4gICAgLy8g5Yib5bu65qih5oCB5qGGXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnc3RpY2tlci1tYW5hZ2VyLW1vZGFsJztcblxuICAgIC8vIOWIm+W7uuWGheWuueWuueWZqFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnc3RpY2tlci1tYW5hZ2VyLWNvbnRhaW5lcic7XG5cbiAgICAvLyDkvb/nlKhpbm5lckhUTUzliJvlu7rlrozmlbTnu5PmnoTvvIzljIXlkKvlpJrmoIfnrb7pobVcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGgyPuihqOaDheWMheeuoeeQhjwvaDI+XG4gICAgICA8ZGl2IGNsYXNzPVwic3RpY2tlci1tYW5hZ2VyLXRhYnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1idXR0b24gYWN0aXZlXCIgZGF0YS10YWI9XCJhZGQtc3RpY2tlclwiPua3u+WKoOihqOaDhTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWJ1dHRvblwiIGRhdGEtdGFiPVwiYmF0Y2gtYWRkXCI+5om56YeP5re75YqgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItYnV0dG9uXCIgZGF0YS10YWI9XCJkZWxldGUtbWFuYWdlXCI+5Yig6Zmk566h55CGPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzdGlja2VyLW1hbmFnZXItY29udGVudFwiPlxuICAgICAgICA8IS0tIOa3u+WKoOWNleS4quihqOaDheagh+etvumhtSAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IGFjdGl2ZVwiIGRhdGEtdGFiPVwiYWRkLXN0aWNrZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLXN0aWNrZXItc2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkZC1zdGlja2VyLWZvcm1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwic3RpY2tlci1sYWJlbFwiPuihqOaDheWMheWQjeensDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzdGlja2VyLWxhYmVsXCIgcGxhY2Vob2xkZXI9XCLooajmg4Xmj4/ov7Av5ZCN56ewXCI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJzdGlja2VyLXVybFwiPuihqOaDheWMhVVSTDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBpZD1cInN0aWNrZXItdXJsXCIgcGxhY2Vob2xkZXI9XCLooajmg4Xlm77niYdVUkzpk77mjqVcIj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LWxhYmVsXCI+6aKE6KeIPC9kaXY+XG4gICAgICAgICAgICAgICAgPGltZyBpZD1cInByZXZpZXctaW1nXCIgY2xhc3M9XCJwcmV2aWV3LWltZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJhZGQtc3RpY2tlci1idG5cIj7mt7vliqDooajmg4XljIU8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIOaJuemHj+a3u+WKoOagh+etvumhtSAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCIgZGF0YS10YWI9XCJiYXRjaC1hZGRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmF0Y2gtYWRkLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYXRjaC1pbnN0cnVjdGlvbnNcIj5cbiAgICAgICAgICAgICAgPHA+5om56YeP5re75Yqg5qC85byP6K+05piO77yaPC9wPlxuICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgPGxpPuavj+S4quihqOaDheWMheagvOW8j++8mjxzdHJvbmc+6KGo5oOF5ZCN56ewaHR0cDovL+WbvueJh+mTvuaOpTwvc3Ryb25nPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuWkmuS4quihqOaDheWMheeUqDxzdHJvbmc+6Iux5paH6YCX5Y+3PC9zdHJvbmc+5YiG6ZqUPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+5Lmf5pSv5oyBIDxzdHJvbmc+6KGo5oOF5ZCN56ewPWh0dHA6Ly/lm77niYfpk77mjqU8L3N0cm9uZz4g5qC85byPPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+56S65L6L77yaPGNvZGU+56yR6IS4aHR0cHM6Ly9leGFtcGxlLmNvbS9zbWlsZS5qcGcs5ZOt6IS4aHR0cHM6Ly9leGFtcGxlLmNvbS9jcnkuanBnPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJiYXRjaC10ZXh0YXJlYVwiPuaJuemHj+ihqOaDheWMheaVsOaNrjwvbGFiZWw+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImJhdGNoLXRleHRhcmVhXCIgcGxhY2Vob2xkZXI9XCLor7fmjInnhafkuIrov7DmoLzlvI/ovpPlhaXlpJrkuKrooajmg4XljIUuLi5cIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmF0Y2gtYWRkLWJ0blwiPuaJuemHj+a3u+WKoOihqOaDheWMhTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIOWIoOmZpOeuoeeQhuagh+etvumhtSAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCIgZGF0YS10YWI9XCJkZWxldGUtbWFuYWdlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRlbGV0ZS1tYW5hZ2Utc2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2wtYmFyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3Rpb24tY29udHJvbHNcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2VsZWN0LWFsbC1idG5cIj7lhajpgIk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGVzZWxlY3QtYWxsLWJ0blwiPuWPlua2iOmAieaLqTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRlbGV0ZS1zZWxlY3RlZC1idG5cIj7liKDpmaTpgInkuK08L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0aWNrZXItbGlzdC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0aWNrZXItZ3JpZFwiIGlkPVwiZGVsZXRlLXN0aWNrZXItZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDwhLS0g6KGo5oOF5YyF5YiX6KGo5bCG5Zyo6L+Z6YeM5Yqo5oCB55Sf5oiQIC0tPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInN0aWNrZXItbWFuYWdlci1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idXR0b25cIj7lhbPpl608L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICAvLyDojrflj5ZET03lhYPntKBcbiAgICBjb25zdCB0YWJCdXR0b25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgY29uc3QgdGFiQ29udGVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1jb250ZW50JykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgY29uc3QgY2xvc2VCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmRpYWxvZy1idXR0b24nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAgIC8vIOa3u+WKoOihqOaDheebuOWFs+WFg+e0oFxuICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI3N0aWNrZXItbGFiZWwnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IHVybElucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzdGlja2VyLXVybCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgcHJldmlld0ltZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcHJldmlldy1pbWcnKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIGNvbnN0IGFkZFN0aWNrZXJCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkZC1zdGlja2VyLWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgLy8g5om56YeP5re75Yqg55u45YWz5YWD57SgXG4gICAgY29uc3QgYmF0Y2hUZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjYmF0Y2gtdGV4dGFyZWEnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIGNvbnN0IGJhdGNoQWRkQnRuID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5iYXRjaC1hZGQtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgICAvLyDliKDpmaTnrqHnkIbnm7jlhbPlhYPntKBcbiAgICBjb25zdCBzZWxlY3RBbGxCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlbGVjdC1hbGwtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgY29uc3QgZGVzZWxlY3RBbGxCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmRlc2VsZWN0LWFsbC1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBjb25zdCBkZWxldGVTZWxlY3RlZEJ0biA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLXNlbGVjdGVkLWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGNvbnN0IGRlbGV0ZVN0aWNrZXJHcmlkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNkZWxldGUtc3RpY2tlci1ncmlkJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyDmoIfnrb7pobXliIfmjaLlip/og71cbiAgICB0YWJCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0VGFiID0gYnV0dG9uLmRhdGFzZXQudGFiO1xuXG4gICAgICAgIC8vIOenu+mZpOaJgOaciea0u+WKqOeKtuaAgVxuICAgICAgICB0YWJCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICAgIHRhYkNvbnRlbnRzLmZvckVhY2goY29udGVudCA9PiBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcblxuICAgICAgICAvLyDorr7nva7lvZPliY3moIfnrb7kuLrmtLvliqjnirbmgIFcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBjb25zdCB0YXJnZXRDb250ZW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC50YWItY29udGVudFtkYXRhLXRhYj1cIiR7dGFyZ2V0VGFifVwiXWApO1xuICAgICAgICBpZiAodGFyZ2V0Q29udGVudCkge1xuICAgICAgICAgIHRhcmdldENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDlpoLmnpzliIfmjaLliLDliKDpmaTnrqHnkIbmoIfnrb7pobXvvIzmuLLmn5Pooajmg4XljIXliJfooahcbiAgICAgICAgaWYgKHRhcmdldFRhYiA9PT0gJ2RlbGV0ZS1tYW5hZ2UnKSB7XG4gICAgICAgICAgcmVuZGVyRGVsZXRlU3RpY2tlckxpc3QoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBVUkzovpPlhaXpooTop4jlip/og71cbiAgICB1cmxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cmxJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgcHJldmlld0ltZy5zcmMgPSB1cmxJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgIHByZXZpZXdJbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aWV3SW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDmt7vliqDljZXkuKrooajmg4XljIVcbiAgICBhZGRTdGlja2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWwgPSBsYWJlbElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHVybCA9IHVybElucHV0LnZhbHVlLnRyaW0oKTtcblxuICAgICAgaWYgKCFsYWJlbCB8fCAhdXJsKSB7XG4gICAgICAgIGFsZXJ0KCfor7fovpPlhaXooajmg4XlkI3np7DlkoxVUkwnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBHTE9CQUxfU1RJQ0tFUl9TVE9SQUdFX0tFWSA9ICdibG14X3dlY2hhdF9zdGlja2Vyc19nbG9iYWxfYmxteCc7XG4gICAgICBjb25zdCBleGlzdGluZ1N0aWNrZXJzID0gU2FmZVN0b3JhZ2UuZ2V0SXRlbTxhbnlbXT4oR0xPQkFMX1NUSUNLRVJfU1RPUkFHRV9LRVksIFtdKSB8fCBbXTtcblxuICAgICAgY29uc3QgbmV3U3RpY2tlciA9IHsgbGFiZWwsIHVybCB9O1xuICAgICAgZXhpc3RpbmdTdGlja2Vycy5wdXNoKG5ld1N0aWNrZXIpO1xuXG4gICAgICBTYWZlU3RvcmFnZS5zZXRJdGVtKEdMT0JBTF9TVElDS0VSX1NUT1JBR0VfS0VZLCBleGlzdGluZ1N0aWNrZXJzKTtcbiAgICAgIGFsZXJ0KCfooajmg4XljIXmt7vliqDmiJDlip/vvIEnKTtcblxuICAgICAgLy8g5riF56m66L6T5YWl5qGGXG4gICAgICBsYWJlbElucHV0LnZhbHVlID0gJyc7XG4gICAgICB1cmxJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgcHJldmlld0ltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAvLyDliLfmlrDooajmg4XljIXoj5zljZVcbiAgICAgIHRoaXMucmVuZGVyU3RpY2tlckZlYXR1cmVzKCk7XG4gICAgfSk7XG5cbiAgICAvLyDmibnph4/mt7vliqDooajmg4XljIVcbiAgICBiYXRjaEFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gYmF0Y2hUZXh0YXJlYS52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIGFsZXJ0KCfor7fovpPlhaXooajmg4XljIXmlbDmja4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBHTE9CQUxfU1RJQ0tFUl9TVE9SQUdFX0tFWSA9ICdibG14X3dlY2hhdF9zdGlja2Vyc19nbG9iYWxfYmxteCc7XG4gICAgICBjb25zdCBwYWlycyA9IGlucHV0LnNwbGl0KCcsJyk7XG4gICAgICBjb25zdCBuZXdTdGlja2VycyA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgLy8g5p+l5om+VVJM6YOo5YiG55qE6LW35aeL5L2N572uIC0g6YCa5bi45pivaHR0cOaIlmh0dHBz5byA5aS0XG4gICAgICAgIGNvbnN0IHVybFN0YXJ0SW5kZXggPSBwYWlyLmluZGV4T2YoJ2h0dHAnKTtcblxuICAgICAgICBpZiAodXJsU3RhcnRJbmRleCA+IDApIHtcbiAgICAgICAgICBjb25zdCBsYWJlbCA9IHBhaXIuc3Vic3RyaW5nKDAsIHVybFN0YXJ0SW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICBjb25zdCB1cmwgPSBwYWlyLnN1YnN0cmluZyh1cmxTdGFydEluZGV4KS50cmltKCk7XG5cbiAgICAgICAgICBpZiAobGFiZWwgJiYgdXJsKSB7XG4gICAgICAgICAgICBuZXdTdGlja2Vycy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocGFpci5pbmNsdWRlcygnPScpKSB7XG4gICAgICAgICAgLy8g5pSv5oyBbGFiZWw9dXJs5qC85byPXG4gICAgICAgICAgY29uc3QgW2xhYmVsLCB1cmxdID0gcGFpci5zcGxpdCgnPScpLm1hcChwYXJ0ID0+IHBhcnQudHJpbSgpKTtcbiAgICAgICAgICBpZiAobGFiZWwgJiYgdXJsKSB7XG4gICAgICAgICAgICBuZXdTdGlja2Vycy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1N0aWNrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTdGlja2VycyA9IFNhZmVTdG9yYWdlLmdldEl0ZW08YW55W10+KEdMT0JBTF9TVElDS0VSX1NUT1JBR0VfS0VZLCBbXSkgfHwgW107XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdGlja2VycyA9IFsuLi5leGlzdGluZ1N0aWNrZXJzLCAuLi5uZXdTdGlja2Vyc107XG4gICAgICAgIFNhZmVTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX1NUSUNLRVJfU1RPUkFHRV9LRVksIHVwZGF0ZWRTdGlja2Vycyk7XG4gICAgICAgIGFsZXJ0KGAke25ld1N0aWNrZXJzLmxlbmd0aH0g5Liq6KGo5oOF5YyF5bey5re75Yqg77yBYCk7XG4gICAgICAgIGJhdGNoVGV4dGFyZWEudmFsdWUgPSAnJztcblxuICAgICAgICAvLyDliLfmlrDooajmg4XljIXoj5zljZVcbiAgICAgICAgdGhpcy5yZW5kZXJTdGlja2VyRmVhdHVyZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KCfmnKrmib7liLDmnInmlYjnmoTooajmg4XljIXmoLzlvI/jgILor7fmjInnhafkuIrmlrnnmoTmoLzlvI/or7TmmI7ovpPlhaXjgIInKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOa4suafk+WIoOmZpOeuoeeQhueahOihqOaDheWMheWIl+ihqFxuICAgIGNvbnN0IHJlbmRlckRlbGV0ZVN0aWNrZXJMaXN0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgR0xPQkFMX1NUSUNLRVJfU1RPUkFHRV9LRVkgPSAnYmxteF93ZWNoYXRfc3RpY2tlcnNfZ2xvYmFsX2JsbXgnO1xuICAgICAgY29uc3Qgc3RpY2tlcnMgPSBTYWZlU3RvcmFnZS5nZXRJdGVtPGFueVtdPihHTE9CQUxfU1RJQ0tFUl9TVE9SQUdFX0tFWSwgW10pIHx8IFtdO1xuXG4gICAgICBkZWxldGVTdGlja2VyR3JpZC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgaWYgKHN0aWNrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBub1N0aWNrZXJzTXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5vU3RpY2tlcnNNc2cudGV4dENvbnRlbnQgPSAn5rKh5pyJ6KGo5oOF5YyF77yM6K+354K55Ye7XCLmt7vliqDooajmg4VcIuagh+etvua3u+WKoOOAgic7XG4gICAgICAgIG5vU3RpY2tlcnNNc2cuY2xhc3NOYW1lID0gJ25vLXN0aWNrZXJzLW1zZyc7XG4gICAgICAgIGRlbGV0ZVN0aWNrZXJHcmlkLmFwcGVuZENoaWxkKG5vU3RpY2tlcnNNc2cpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN0aWNrZXJzLmZvckVhY2goKHN0aWNrZXI6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBzdGlja2VySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzdGlja2VySXRlbS5jbGFzc05hbWUgPSAnc3RpY2tlci1pdGVtJztcblxuICAgICAgICAvLyDliJvlu7rpmpDol4/nmoTljp/nlJ9jaGVja2JveFxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBjaGVja2JveC5jbGFzc05hbWUgPSAnc3RpY2tlci1jaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94LmRhdGFzZXQuaW5kZXggPSBpbmRleC50b1N0cmluZygpO1xuXG4gICAgICAgIC8vIOWIm+W7uuWPr+ingeeahGNoZWNrYm945oyJ6ZKuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNoZWNrYm94QnV0dG9uLmNsYXNzTmFtZSA9ICdzdGlja2VyLWNoZWNrYm94LWJ1dHRvbic7XG5cbiAgICAgICAgLy8g5Yib5bu65YW25LuW5YWD57SgXG4gICAgICAgIGNvbnN0IHN0aWNrZXJJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgc3RpY2tlckltZy5zcmMgPSBzdGlja2VyLnVybDtcbiAgICAgICAgc3RpY2tlckltZy5hbHQgPSBzdGlja2VyLmxhYmVsO1xuICAgICAgICBzdGlja2VySW1nLmNsYXNzTmFtZSA9ICdzdGlja2VyLXByZXZpZXcnO1xuXG4gICAgICAgIGNvbnN0IHN0aWNrZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzdGlja2VyTGFiZWwuY2xhc3NOYW1lID0gJ3N0aWNrZXItbGFiZWwnO1xuICAgICAgICBzdGlja2VyTGFiZWwudGV4dENvbnRlbnQgPSBzdGlja2VyLmxhYmVsO1xuXG4gICAgICAgIC8vIOabtOaWsGNoZWNrYm945oyJ6ZKu54q25oCBXG4gICAgICAgIGNvbnN0IHVwZGF0ZUNoZWNrYm94U3RhdGUgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICBjaGVja2JveEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrYm94QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g54K55Ye75LqL5Lu2XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9ICFjaGVja2JveC5jaGVja2VkO1xuICAgICAgICAgIHVwZGF0ZUNoZWNrYm94U3RhdGUoY2hlY2tib3guY2hlY2tlZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3RpY2tlckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgICAgIGNoZWNrYm94QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuXG4gICAgICAgIC8vIOe7hOijheWFg+e0oFxuICAgICAgICBzdGlja2VySXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIHN0aWNrZXJJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94QnV0dG9uKTtcbiAgICAgICAgc3RpY2tlckl0ZW0uYXBwZW5kQ2hpbGQoc3RpY2tlckltZyk7XG4gICAgICAgIHN0aWNrZXJJdGVtLmFwcGVuZENoaWxkKHN0aWNrZXJMYWJlbCk7XG5cbiAgICAgICAgZGVsZXRlU3RpY2tlckdyaWQuYXBwZW5kQ2hpbGQoc3RpY2tlckl0ZW0pO1xuXG4gICAgICAgIC8vIOiuvue9ruWIneWni+eKtuaAgVxuICAgICAgICB1cGRhdGVDaGVja2JveFN0YXRlKGNoZWNrYm94LmNoZWNrZWQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIOWFqOmAieWKn+iDvVxuICAgIHNlbGVjdEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkZWxldGVTdGlja2VyR3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RpY2tlci1jaGVja2JveCcpIGFzIE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD47XG4gICAgICBjb25zdCBjaGVja2JveEJ1dHRvbnMgPSBkZWxldGVTdGlja2VyR3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RpY2tlci1jaGVja2JveC1idXR0b24nKTtcblxuICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKChjaGVja2JveCwgaW5kZXgpID0+IHtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIGNoZWNrYm94QnV0dG9uc1tpbmRleF0/LmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8g5Y+W5raI6YCJ5oup5Yqf6IO9XG4gICAgZGVzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGVja2JveGVzID0gZGVsZXRlU3RpY2tlckdyaWQucXVlcnlTZWxlY3RvckFsbCgnLnN0aWNrZXItY2hlY2tib3gnKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgICAgY29uc3QgY2hlY2tib3hCdXR0b25zID0gZGVsZXRlU3RpY2tlckdyaWQucXVlcnlTZWxlY3RvckFsbCgnLnN0aWNrZXItY2hlY2tib3gtYnV0dG9uJyk7XG5cbiAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaCgoY2hlY2tib3gsIGluZGV4KSA9PiB7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tib3hCdXR0b25zW2luZGV4XT8uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyDliKDpmaTpgInkuK3lip/og71cbiAgICBkZWxldGVTZWxlY3RlZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkZWxldGVTdGlja2VyR3JpZC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAnLnN0aWNrZXItY2hlY2tib3g6Y2hlY2tlZCcsXG4gICAgICApIGFzIE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD47XG5cbiAgICAgIGlmIChjaGVja2JveGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhbGVydCgn6K+36YCJ5oup6KaB5Yig6Zmk55qE6KGo5oOF5YyFJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpcm0oYOehruWumuimgeWIoOmZpOmAieS4reeahCAke2NoZWNrYm94ZXMubGVuZ3RofSDkuKrooajmg4XljIXlkJfvvJ9gKSkge1xuICAgICAgICBjb25zdCBHTE9CQUxfU1RJQ0tFUl9TVE9SQUdFX0tFWSA9ICdibG14X3dlY2hhdF9zdGlja2Vyc19nbG9iYWxfYmxteCc7XG4gICAgICAgIGNvbnN0IHN0aWNrZXJzID0gU2FmZVN0b3JhZ2UuZ2V0SXRlbTxhbnlbXT4oR0xPQkFMX1NUSUNLRVJfU1RPUkFHRV9LRVksIFtdKSB8fCBbXTtcblxuICAgICAgICAvLyDojrflj5bopoHliKDpmaTnmoTntKLlvJXvvIjku47lpKfliLDlsI/mjpLluo/vvIzpgb/lhY3liKDpmaTml7bntKLlvJXlj5jljJbvvIlcbiAgICAgICAgY29uc3QgaW5kaWNlc1RvRGVsZXRlID0gKHdpbmRvdyBhcyBhbnkpLl8uY2hhaW4oY2hlY2tib3hlcylcbiAgICAgICAgICAubWFwKChjaGVja2JveDogSFRNTElucHV0RWxlbWVudCkgPT4gcGFyc2VJbnQoY2hlY2tib3guZGF0YXNldC5pbmRleCEpKVxuICAgICAgICAgIC5zb3J0QnkoKVxuICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAudmFsdWUoKTtcblxuICAgICAgICAvLyDliKDpmaTpgInkuK3nmoTooajmg4XljIVcbiAgICAgICAgaW5kaWNlc1RvRGVsZXRlLmZvckVhY2goKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICBzdGlja2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBTYWZlU3RvcmFnZS5zZXRJdGVtKEdMT0JBTF9TVElDS0VSX1NUT1JBR0VfS0VZLCBzdGlja2Vycyk7XG4gICAgICAgIGFsZXJ0KGDlt7LliKDpmaQgJHtjaGVja2JveGVzLmxlbmd0aH0g5Liq6KGo5oOF5YyFYCk7XG5cbiAgICAgICAgLy8g6YeN5paw5riy5p+T5YiX6KGoXG4gICAgICAgIHJlbmRlckRlbGV0ZVN0aWNrZXJMaXN0KCk7XG5cbiAgICAgICAgLy8g5Yi35paw6KGo5oOF5YyF6I+c5Y2VXG4gICAgICAgIHRoaXMucmVuZGVyU3RpY2tlckZlYXR1cmVzKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDlhbPpl63mjInpkq7kuovku7ZcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xuICAgIH0pO1xuXG4gICAgLy8g54K55Ye76YGu572p5bGC5YWz6ZetXG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtb2RhbC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/event-handler.ts\n\n}");
  },
  "./src/同层手机/event-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventManager: () => (/* binding */ EventManager),\n/* harmony export */   globalEventManager: () => (/* binding */ globalEventManager)\n/* harmony export */ });\n/**\n * 事件管理器\n * 统一管理全局事件监听器和定时器，防止内存泄漏\n */\nclass EventManager {\n    listeners = [];\n    timers = new Set();\n    intervals = new Set();\n    isDestroyed = false;\n    /**\n     * 添加全局事件监听器\n     * @param event 事件名称\n     * @param handler 事件处理函数\n     * @returns 清理函数\n     */\n    addGlobalListener(event, handler) {\n        if (this.isDestroyed) {\n            console.warn('[EventManager] 尝试在已销毁的管理器上添加监听器');\n            return () => { };\n        }\n        const cleanup = window.eventOn(event, handler);\n        if (cleanup && typeof cleanup === 'function') {\n            this.listeners.push(cleanup);\n            return cleanup;\n        }\n        else {\n            console.warn(`[EventManager] 无法为事件 ${event} 创建清理函数`);\n            return () => { };\n        }\n    }\n    /**\n     * 添加DOM事件监听器\n     * @param element DOM元素\n     * @param event 事件类型\n     * @param handler 事件处理函数\n     * @param options 事件选项\n     */\n    addDOMListener(element, event, handler, options) {\n        if (this.isDestroyed) {\n            console.warn('[EventManager] 尝试在已销毁的管理器上添加DOM监听器');\n            return;\n        }\n        element.addEventListener(event, handler, options);\n        // 创建清理函数\n        const cleanup = () => {\n            element.removeEventListener(event, handler, options);\n        };\n        this.listeners.push(cleanup);\n    }\n    /**\n     * 安全的setTimeout\n     * @param callback 回调函数\n     * @param delay 延迟时间\n     * @returns 定时器ID\n     */\n    setTimeout(callback, delay) {\n        if (this.isDestroyed) {\n            console.warn('[EventManager] 尝试在已销毁的管理器上创建定时器');\n            return -1;\n        }\n        const timerId = window.setTimeout(() => {\n            this.timers.delete(timerId);\n            try {\n                callback();\n            }\n            catch (error) {\n                console.error('[EventManager] 定时器回调执行错误:', error);\n            }\n        }, delay);\n        this.timers.add(timerId);\n        return timerId;\n    }\n    /**\n     * 安全的setInterval\n     * @param callback 回调函数\n     * @param interval 间隔时间\n     * @returns 定时器ID\n     */\n    setInterval(callback, interval) {\n        if (this.isDestroyed) {\n            console.warn('[EventManager] 尝试在已销毁的管理器上创建间隔定时器');\n            return -1;\n        }\n        const intervalId = window.setInterval(() => {\n            try {\n                callback();\n            }\n            catch (error) {\n                console.error('[EventManager] 间隔定时器回调执行错误:', error);\n            }\n        }, interval);\n        this.intervals.add(intervalId);\n        return intervalId;\n    }\n    /**\n     * 清除指定的定时器\n     * @param timerId 定时器ID\n     */\n    clearTimeout(timerId) {\n        if (this.timers.has(timerId)) {\n            window.clearTimeout(timerId);\n            this.timers.delete(timerId);\n        }\n    }\n    /**\n     * 清除指定的间隔定时器\n     * @param intervalId 间隔定时器ID\n     */\n    clearInterval(intervalId) {\n        if (this.intervals.has(intervalId)) {\n            window.clearInterval(intervalId);\n            this.intervals.delete(intervalId);\n        }\n    }\n    /**\n     * 清理所有监听器和定时器\n     */\n    cleanup() {\n        if (this.isDestroyed) {\n            return;\n        }\n        // 清理事件监听器\n        this.listeners.forEach(cleanup => {\n            try {\n                cleanup();\n            }\n            catch (error) {\n                console.error('[EventManager] 清理监听器时出错:', error);\n            }\n        });\n        this.listeners = [];\n        // 清理定时器\n        this.timers.forEach(timerId => {\n            window.clearTimeout(timerId);\n        });\n        this.timers.clear();\n        // 清理间隔定时器\n        this.intervals.forEach(intervalId => {\n            window.clearInterval(intervalId);\n        });\n        this.intervals.clear();\n        this.isDestroyed = true;\n        //console.log('[EventManager] 所有资源已清理');\n    }\n    /**\n     * 获取当前状态信息\n     */\n    getStatus() {\n        return {\n            listenersCount: this.listeners.length,\n            timersCount: this.timers.size,\n            intervalsCount: this.intervals.size,\n            isDestroyed: this.isDestroyed,\n        };\n    }\n    /**\n     * 检查是否已销毁\n     */\n    isDestroyed_() {\n        return this.isDestroyed;\n    }\n}\n/**\n * 全局事件管理器实例\n * 用于管理应用级别的事件监听器\n */\nconst globalEventManager = new EventManager();\n/**\n * 在页面卸载时自动清理全局事件管理器\n */\nif (typeof window !== 'undefined') {\n    window.addEventListener('beforeunload', () => {\n        globalEventManager.cleanup();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7SUFDbEMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUU7UUFDM0Msa0JBQWtCLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovZXZlbnQtbWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOS6i+S7tueuoeeQhuWZqFxuICog57uf5LiA566h55CG5YWo5bGA5LqL5Lu255uR5ZCs5Zmo5ZKM5a6a5pe25Zmo77yM6Ziy5q2i5YaF5a2Y5rOE5ryPXG4gKi9cblxuZXhwb3J0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBwcml2YXRlIHRpbWVyczogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgaW50ZXJ2YWxzOiBTZXQ8bnVtYmVyPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBpc0Rlc3Ryb3llZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiDmt7vliqDlhajlsYDkuovku7bnm5HlkKzlmahcbiAgICogQHBhcmFtIGV2ZW50IOS6i+S7tuWQjeensFxuICAgKiBAcGFyYW0gaGFuZGxlciDkuovku7blpITnkIblh73mlbBcbiAgICogQHJldHVybnMg5riF55CG5Ye95pWwXG4gICAqL1xuICBhZGRHbG9iYWxMaXN0ZW5lcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6ICgpID0+IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tFdmVudE1hbmFnZXJdIOWwneivleWcqOW3sumUgOavgeeahOeuoeeQhuWZqOS4iua3u+WKoOebkeWQrOWZqCcpO1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cblxuICAgIGNvbnN0IGNsZWFudXAgPSAod2luZG93IGFzIGFueSkuZXZlbnRPbihldmVudCwgaGFuZGxlcik7XG4gICAgaWYgKGNsZWFudXAgJiYgdHlwZW9mIGNsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2xlYW51cCk7XG4gICAgICByZXR1cm4gY2xlYW51cDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGBbRXZlbnRNYW5hZ2VyXSDml6Dms5XkuLrkuovku7YgJHtldmVudH0g5Yib5bu65riF55CG5Ye95pWwYCk7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOa3u+WKoERPTeS6i+S7tuebkeWQrOWZqFxuICAgKiBAcGFyYW0gZWxlbWVudCBET03lhYPntKBcbiAgICogQHBhcmFtIGV2ZW50IOS6i+S7tuexu+Wei1xuICAgKiBAcGFyYW0gaGFuZGxlciDkuovku7blpITnkIblh73mlbBcbiAgICogQHBhcmFtIG9wdGlvbnMg5LqL5Lu26YCJ6aG5XG4gICAqL1xuICBhZGRET01MaXN0ZW5lcihcbiAgICBlbGVtZW50OiBFbGVtZW50IHwgV2luZG93IHwgRG9jdW1lbnQsXG4gICAgZXZlbnQ6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyLFxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tFdmVudE1hbmFnZXJdIOWwneivleWcqOW3sumUgOavgeeahOeuoeeQhuWZqOS4iua3u+WKoERPTeebkeWQrOWZqCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cbiAgICAvLyDliJvlu7rmuIXnkIblh73mlbBcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjbGVhbnVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlronlhajnmoRzZXRUaW1lb3V0XG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osIPlh73mlbBcbiAgICogQHBhcmFtIGRlbGF5IOW7tui/n+aXtumXtFxuICAgKiBAcmV0dXJucyDlrprml7blmahJRFxuICAgKi9cbiAgc2V0VGltZW91dChjYWxsYmFjazogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tFdmVudE1hbmFnZXJdIOWwneivleWcqOW3sumUgOavgeeahOeuoeeQhuWZqOS4iuWIm+W7uuWumuaXtuWZqCcpO1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRpbWVycy5kZWxldGUodGltZXJJZCk7XG4gICAgICB0cnkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0V2ZW50TWFuYWdlcl0g5a6a5pe25Zmo5Zue6LCD5omn6KGM6ZSZ6K+vOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG5cbiAgICB0aGlzLnRpbWVycy5hZGQodGltZXJJZCk7XG4gICAgcmV0dXJuIHRpbWVySWQ7XG4gIH1cblxuICAvKipcbiAgICog5a6J5YWo55qEc2V0SW50ZXJ2YWxcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWbnuiwg+WHveaVsFxuICAgKiBAcGFyYW0gaW50ZXJ2YWwg6Ze06ZqU5pe26Ze0XG4gICAqIEByZXR1cm5zIOWumuaXtuWZqElEXG4gICAqL1xuICBzZXRJbnRlcnZhbChjYWxsYmFjazogRnVuY3Rpb24sIGludGVydmFsOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tFdmVudE1hbmFnZXJdIOWwneivleWcqOW3sumUgOavgeeahOeuoeeQhuWZqOS4iuWIm+W7uumXtOmalOWumuaXtuWZqCcpO1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVydmFsSWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFdmVudE1hbmFnZXJdIOmXtOmalOWumuaXtuWZqOWbnuiwg+aJp+ihjOmUmeivrzonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSwgaW50ZXJ2YWwpO1xuXG4gICAgdGhpcy5pbnRlcnZhbHMuYWRkKGludGVydmFsSWQpO1xuICAgIHJldHVybiBpbnRlcnZhbElkO1xuICB9XG5cbiAgLyoqXG4gICAqIOa4hemZpOaMh+WumueahOWumuaXtuWZqFxuICAgKiBAcGFyYW0gdGltZXJJZCDlrprml7blmahJRFxuICAgKi9cbiAgY2xlYXJUaW1lb3V0KHRpbWVySWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLnRpbWVycy5oYXModGltZXJJZCkpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICB0aGlzLnRpbWVycy5kZWxldGUodGltZXJJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOa4hemZpOaMh+WumueahOmXtOmalOWumuaXtuWZqFxuICAgKiBAcGFyYW0gaW50ZXJ2YWxJZCDpl7TpmpTlrprml7blmahJRFxuICAgKi9cbiAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbHMuaGFzKGludGVydmFsSWQpKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgIHRoaXMuaW50ZXJ2YWxzLmRlbGV0ZShpbnRlcnZhbElkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5riF55CG5omA5pyJ55uR5ZCs5Zmo5ZKM5a6a5pe25ZmoXG4gICAqL1xuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5riF55CG5LqL5Lu255uR5ZCs5ZmoXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChjbGVhbnVwID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFdmVudE1hbmFnZXJdIOa4heeQhuebkeWQrOWZqOaXtuWHuumUmTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcblxuICAgIC8vIOa4heeQhuWumuaXtuWZqFxuICAgIHRoaXMudGltZXJzLmZvckVhY2godGltZXJJZCA9PiB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH0pO1xuICAgIHRoaXMudGltZXJzLmNsZWFyKCk7XG5cbiAgICAvLyDmuIXnkIbpl7TpmpTlrprml7blmahcbiAgICB0aGlzLmludGVydmFscy5mb3JFYWNoKGludGVydmFsSWQgPT4ge1xuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcnZhbHMuY2xlYXIoKTtcblxuICAgIHRoaXMuaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIC8vY29uc29sZS5sb2coJ1tFdmVudE1hbmFnZXJdIOaJgOaciei1hOa6kOW3sua4heeQhicpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluW9k+WJjeeKtuaAgeS/oeaBr1xuICAgKi9cbiAgZ2V0U3RhdHVzKCk6IHtcbiAgICBsaXN0ZW5lcnNDb3VudDogbnVtYmVyO1xuICAgIHRpbWVyc0NvdW50OiBudW1iZXI7XG4gICAgaW50ZXJ2YWxzQ291bnQ6IG51bWJlcjtcbiAgICBpc0Rlc3Ryb3llZDogYm9vbGVhbjtcbiAgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RlbmVyc0NvdW50OiB0aGlzLmxpc3RlbmVycy5sZW5ndGgsXG4gICAgICB0aW1lcnNDb3VudDogdGhpcy50aW1lcnMuc2l6ZSxcbiAgICAgIGludGVydmFsc0NvdW50OiB0aGlzLmludGVydmFscy5zaXplLFxuICAgICAgaXNEZXN0cm95ZWQ6IHRoaXMuaXNEZXN0cm95ZWQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmo4Dmn6XmmK/lkKblt7LplIDmr4FcbiAgICovXG4gIGlzRGVzdHJveWVkXygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0Rlc3Ryb3llZDtcbiAgfVxufVxuXG4vKipcbiAqIOWFqOWxgOS6i+S7tueuoeeQhuWZqOWunuS+i1xuICog55So5LqO566h55CG5bqU55So57qn5Yir55qE5LqL5Lu255uR5ZCs5ZmoXG4gKi9cbmV4cG9ydCBjb25zdCBnbG9iYWxFdmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbi8qKlxuICog5Zyo6aG16Z2i5Y246L295pe26Ieq5Yqo5riF55CG5YWo5bGA5LqL5Lu2566h55CG5ZmoXG4gKi9cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgIGdsb2JhbEV2ZW50TWFuYWdlci5jbGVhbnVwKCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/event-manager.ts\n\n}");
  },
  "./src/同层手机/index.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _app_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app-controller */ \"./src/同层手机/app-controller.ts\");\n/* harmony import */ var _event_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-handler */ \"./src/同层手机/event-handler.ts\");\n/* harmony import */ var _style_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style-manager */ \"./src/同层手机/style-manager.ts\");\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\");\n/* harmony import */ var _wechat_home__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./wechat-home */ \"./src/同层手机/wechat-home.ts\");\n\n\n\n\n\n// 开发模式标志 - 发布前将此值设置为false\n// 使用window全局变量存储，避免循环依赖\nwindow.BLMX_DEV_MODE = false;\n// 解决循环依赖问题，将EventHandler类存储在全局变量中\nwindow.EventHandlerClass = _event_handler__WEBPACK_IMPORTED_MODULE_1__.EventHandler;\n// 添加全局标志来防止重复处理AI响应\nwindow.BLMX_PROCESSING_AI_RESPONSE = false;\n// 使用jQuery的$(async () => {})语法\n$(async () => {\n    try {\n        // 重置全局标志，确保页面刷新时不会保留旧的状态\n        window.BLMX_PROCESSING_AI_RESPONSE = false;\n        // 创建并初始化应用控制器\n        const appController = new _app_controller__WEBPACK_IMPORTED_MODULE_0__.AppController();\n        await appController.initialize();\n        // 将控制器实例存储在全局变量中，以便调试\n        window.blmxApp = appController;\n        window.blmxStyleManager = _style_manager__WEBPACK_IMPORTED_MODULE_2__.styleManager;\n        window.dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_3__.DialogManager.getInstance();\n        // 初始化微信主界面 Tab\n        (0,_wechat_home__WEBPACK_IMPORTED_MODULE_4__.initWechatHome)(appController);\n        // 主屏幕应用入口\n        $('#app-wechat').on('click', () => appController.navigateTo('wechatHome'));\n        $('#app-settings').on('click', () => appController.navigateTo('settings'));\n        if (window.BLMX_DEV_MODE) {\n            console.log('[BLMX] 开发模式已启用，已加载测试数据');\n            console.log('[BLMX] 可用的调试命令:');\n            console.log('  window.blmxApp.showTestEntryTypes() - 显示可用的测试数据类型');\n            console.log('  window.blmxApp.addTestEntry(类型) - 添加指定类型的测试数据');\n            console.log('  window.blmxApp.clearDebugData() - 清除所有数据');\n        }\n    }\n    catch (error) {\n        console.error('[BLMX] 初始化失败:', error);\n        // 使用自定义对话框替代alert\n        // 确保手机屏幕元素已经存在\n        setTimeout(() => {\n            const dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_3__.DialogManager.getInstance();\n            dialogManager.alert('初始化失败，请查看控制台获取详细信息。', '错误');\n        }, 500); // 延迟显示对话框，确保DOM已经加载\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5ZCM5bGC5omL5py6L2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUNGO0FBQ0E7QUFDRTtBQUNGO0FBRS9DLDBCQUEwQjtBQUMxQix3QkFBd0I7QUFDdkIsTUFBYyxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7QUFFdEMsa0NBQWtDO0FBQ2pDLE1BQWMsQ0FBQyxpQkFBaUIsR0FBRyx3REFBWSxDQUFDO0FBRWpELG9CQUFvQjtBQUNuQixNQUFjLENBQUMsMkJBQTJCLEdBQUcsS0FBSyxDQUFDO0FBRXBELCtCQUErQjtBQUMvQixDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUU7SUFDWCxJQUFJLENBQUM7UUFDSCx5QkFBeUI7UUFDeEIsTUFBYyxDQUFDLDJCQUEyQixHQUFHLEtBQUssQ0FBQztRQUVwRCxjQUFjO1FBQ2QsTUFBTSxhQUFhLEdBQUcsSUFBSSwwREFBYSxFQUFFLENBQUM7UUFDMUMsTUFBTSxhQUFhLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFakMsc0JBQXNCO1FBQ3JCLE1BQWMsQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDO1FBQ3ZDLE1BQWMsQ0FBQyxnQkFBZ0IsR0FBRyx3REFBWSxDQUFDO1FBQy9DLE1BQWMsQ0FBQyxhQUFhLEdBQUcsMERBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUU1RCxlQUFlO1FBQ2YsNERBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUU5QixVQUFVO1FBQ1YsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUUzRSxJQUFLLE1BQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNsQyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7WUFDdEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMscURBQXFELENBQUMsQ0FBQztZQUNuRSxPQUFPLENBQUMsR0FBRyxDQUFDLGlEQUFpRCxDQUFDLENBQUM7WUFDL0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDO1FBQzVELENBQUM7SUFDSCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXRDLGtCQUFrQjtRQUNsQixlQUFlO1FBQ2YsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLE1BQU0sYUFBYSxHQUFHLDBEQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDbEQsYUFBYSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNuRCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxvQkFBb0I7SUFDL0IsQ0FBQztBQUNILENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwQ29udHJvbGxlciB9IGZyb20gJy4vYXBwLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi9ldmVudC1oYW5kbGVyJztcbmltcG9ydCB7IHN0eWxlTWFuYWdlciB9IGZyb20gJy4vc3R5bGUtbWFuYWdlcic7XG5pbXBvcnQgeyBEaWFsb2dNYW5hZ2VyIH0gZnJvbSAnLi9kaWFsb2ctbWFuYWdlcic7XG5pbXBvcnQgeyBpbml0V2VjaGF0SG9tZSB9IGZyb20gJy4vd2VjaGF0LWhvbWUnO1xuXG4vLyDlvIDlj5HmqKHlvI/moIflv5cgLSDlj5HluIPliY3lsIbmraTlgLzorr7nva7kuLpmYWxzZVxuLy8g5L2/55Sod2luZG935YWo5bGA5Y+Y6YeP5a2Y5YKo77yM6YG/5YWN5b6q546v5L6d6LWWXG4od2luZG93IGFzIGFueSkuQkxNWF9ERVZfTU9ERSA9IGZhbHNlO1xuXG4vLyDop6PlhrPlvqrnjq/kvp3otZbpl67popjvvIzlsIZFdmVudEhhbmRsZXLnsbvlrZjlgqjlnKjlhajlsYDlj5jph4/kuK1cbih3aW5kb3cgYXMgYW55KS5FdmVudEhhbmRsZXJDbGFzcyA9IEV2ZW50SGFuZGxlcjtcblxuLy8g5re75Yqg5YWo5bGA5qCH5b+X5p2l6Ziy5q2i6YeN5aSN5aSE55CGQUnlk43lupRcbih3aW5kb3cgYXMgYW55KS5CTE1YX1BST0NFU1NJTkdfQUlfUkVTUE9OU0UgPSBmYWxzZTtcblxuLy8g5L2/55SoalF1ZXJ555qEJChhc3luYyAoKSA9PiB7fSnor63ms5VcbiQoYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIC8vIOmHjee9ruWFqOWxgOagh+W/l++8jOehruS/nemhtemdouWIt+aWsOaXtuS4jeS8muS/neeVmeaXp+eahOeKtuaAgVxuICAgICh3aW5kb3cgYXMgYW55KS5CTE1YX1BST0NFU1NJTkdfQUlfUkVTUE9OU0UgPSBmYWxzZTtcblxuICAgIC8vIOWIm+W7uuW5tuWIneWni+WMluW6lOeUqOaOp+WItuWZqFxuICAgIGNvbnN0IGFwcENvbnRyb2xsZXIgPSBuZXcgQXBwQ29udHJvbGxlcigpO1xuICAgIGF3YWl0IGFwcENvbnRyb2xsZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgLy8g5bCG5o6n5Yi25Zmo5a6e5L6L5a2Y5YKo5Zyo5YWo5bGA5Y+Y6YeP5Lit77yM5Lul5L6/6LCD6K+VXG4gICAgKHdpbmRvdyBhcyBhbnkpLmJsbXhBcHAgPSBhcHBDb250cm9sbGVyO1xuICAgICh3aW5kb3cgYXMgYW55KS5ibG14U3R5bGVNYW5hZ2VyID0gc3R5bGVNYW5hZ2VyO1xuICAgICh3aW5kb3cgYXMgYW55KS5kaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgLy8g5Yid5aeL5YyW5b6u5L+h5Li755WM6Z2iIFRhYlxuICAgIGluaXRXZWNoYXRIb21lKGFwcENvbnRyb2xsZXIpO1xuXG4gICAgLy8g5Li75bGP5bmV5bqU55So5YWl5Y+jXG4gICAgJCgnI2FwcC13ZWNoYXQnKS5vbignY2xpY2snLCAoKSA9PiBhcHBDb250cm9sbGVyLm5hdmlnYXRlVG8oJ3dlY2hhdEhvbWUnKSk7XG4gICAgJCgnI2FwcC1zZXR0aW5ncycpLm9uKCdjbGljaycsICgpID0+IGFwcENvbnRyb2xsZXIubmF2aWdhdGVUbygnc2V0dGluZ3MnKSk7XG5cbiAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLkJMTVhfREVWX01PREUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQkxNWF0g5byA5Y+R5qih5byP5bey5ZCv55So77yM5bey5Yqg6L295rWL6K+V5pWw5o2uJyk7XG4gICAgICBjb25zb2xlLmxvZygnW0JMTVhdIOWPr+eUqOeahOiwg+ivleWRveS7pDonKTtcbiAgICAgIGNvbnNvbGUubG9nKCcgIHdpbmRvdy5ibG14QXBwLnNob3dUZXN0RW50cnlUeXBlcygpIC0g5pi+56S65Y+v55So55qE5rWL6K+V5pWw5o2u57G75Z6LJyk7XG4gICAgICBjb25zb2xlLmxvZygnICB3aW5kb3cuYmxteEFwcC5hZGRUZXN0RW50cnko57G75Z6LKSAtIOa3u+WKoOaMh+Wumuexu+Wei+eahOa1i+ivleaVsOaNricpO1xuICAgICAgY29uc29sZS5sb2coJyAgd2luZG93LmJsbXhBcHAuY2xlYXJEZWJ1Z0RhdGEoKSAtIOa4hemZpOaJgOacieaVsOaNricpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQkxNWF0g5Yid5aeL5YyW5aSx6LSlOicsIGVycm9yKTtcblxuICAgIC8vIOS9v+eUqOiHquWumuS5ieWvueivneahhuabv+S7o2FsZXJ0XG4gICAgLy8g56Gu5L+d5omL5py65bGP5bmV5YWD57Sg5bey57uP5a2Y5ZyoXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBkaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgZGlhbG9nTWFuYWdlci5hbGVydCgn5Yid5aeL5YyW5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w6I635Y+W6K+m57uG5L+h5oGv44CCJywgJ+mUmeivrycpO1xuICAgIH0sIDUwMCk7IC8vIOW7tui/n+aYvuekuuWvueivneahhu+8jOehruS/nURPTeW3sue7j+WKoOi9vVxuICB9XG59KTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/index.ts\n\n}");
  },
  "./src/同层手机/input-handler.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputHandler: () => (/* binding */ InputHandler)\n/* harmony export */ });\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\");\n// 输入处理模块\n// 负责消息发送、文件上传、语音录制、表情包选择等功能\n\nclass InputHandler {\n    configManager;\n    onStageAndDisplayEntry;\n    onUpdateFooterButtonsState;\n    dialogManager;\n    constructor(configManager, onStageAndDisplayEntry, onUpdateFooterButtonsState) {\n        this.configManager = configManager;\n        this.onStageAndDisplayEntry = onStageAndDisplayEntry;\n        this.onUpdateFooterButtonsState = onUpdateFooterButtonsState;\n        this.dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n    }\n    // 处理转账接受\n    async handleTransferAccept(data) {\n        const result = await this.dialogManager.showReceiveDialog('transfer', data);\n        if (result === 'accept') {\n            const acceptData = { ...data, status: 'accepted' };\n            this.onStageAndDisplayEntry({\n                type: 'transfer',\n                sender: 'me',\n                content: JSON.stringify(acceptData),\n                data: acceptData,\n                id: `transfer-${Date.now()}`,\n            });\n        }\n        else if (result === 'reject') {\n            const rejectData = { ...data, status: 'rejected' };\n            this.onStageAndDisplayEntry({\n                type: 'transfer',\n                sender: 'me',\n                content: JSON.stringify(rejectData),\n                data: rejectData,\n                id: `transfer-${Date.now()}`,\n            });\n        }\n    }\n    // 处理礼物动作\n    async handleGiftAction(data) {\n        const result = await this.dialogManager.showReceiveDialog('gift', data);\n        if (result === 'accept') {\n            const receiptData = { name: data.name, status: 'accepted' };\n            this.onStageAndDisplayEntry({\n                type: 'gift',\n                sender: 'me',\n                content: JSON.stringify(receiptData),\n                data: receiptData,\n                id: `gift-${Date.now()}`,\n            });\n        }\n        else if (result === 'reject') {\n            const receiptData = { name: data.name, status: 'rejected' };\n            this.onStageAndDisplayEntry({\n                type: 'gift',\n                sender: 'me',\n                content: JSON.stringify(receiptData),\n                data: receiptData,\n                id: `gift-${Date.now()}`,\n            });\n        }\n        // 通知有待处理的通知\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送文本消息\n    sendTextMessage(text) {\n        if (!text.trim())\n            return;\n        const messageEntry = {\n            type: 'message',\n            sender: 'me',\n            content: text.trim(),\n            id: `msg-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(messageEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送表情包 - 简化数据结构\n    sendSticker(stickerName) {\n        const stickerUrl = this.configManager.findStickerUrlByName(stickerName);\n        if (!stickerUrl) {\n            console.error(`[BLMX] 未找到表情包: ${stickerName}`);\n            return;\n        }\n        // 使用简单的数据结构，与原版保持一致\n        const stickerEntry = {\n            type: 'sticker',\n            sender: 'me',\n            content: stickerName, // 直接存储表情包名称\n            id: `sticker-${Date.now()}-${Math.random()}`, // 恢复原来的ID格式以保持兼容性\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(stickerEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送图片\n    sendImage(imageData) {\n        const imageEntry = {\n            type: 'image',\n            sender: 'me',\n            content: imageData,\n            id: `image-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(imageEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送语音消息\n    sendVoiceMessage(voiceData) {\n        const voiceEntry = {\n            type: 'voice',\n            sender: 'me',\n            content: voiceData,\n            id: `voice-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(voiceEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送位置信息\n    sendLocation(locationData) {\n        const locationEntry = {\n            type: 'location',\n            sender: 'me',\n            content: locationData,\n            id: `location-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(locationEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送文件\n    sendFile(fileData) {\n        const fileEntry = {\n            type: 'file',\n            sender: 'me',\n            content: fileData,\n            id: `file-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(fileEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送转账\n    sendTransfer(transferData) {\n        const transferEntry = {\n            type: 'transfer',\n            sender: 'me',\n            content: transferData,\n            id: `transfer-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(transferEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 发送礼物\n    sendGift(giftData) {\n        const giftEntry = {\n            type: 'gift',\n            sender: 'me',\n            content: giftData,\n            id: `gift-${Date.now()}-${Math.random()}`,\n            timestamp: Date.now(),\n        };\n        this.onStageAndDisplayEntry(giftEntry);\n        this.onUpdateFooterButtonsState();\n    }\n    // 处理文件上传\n    async handleFileUpload(file) {\n        try {\n            if (file.type.startsWith('image/')) {\n                // 处理图片文件\n                const reader = new FileReader();\n                reader.onload = e => {\n                    const result = e.target?.result;\n                    this.sendImage({\n                        type: 'file',\n                        value: result,\n                        name: file.name,\n                    });\n                };\n                reader.readAsDataURL(file);\n            }\n            else {\n                // 处理其他文件类型\n                this.sendFile({\n                    name: file.name,\n                    size: file.size,\n                    type: file.type,\n                });\n            }\n        }\n        catch (error) {\n            console.error('[BLMX] 文件上传失败:', error);\n            const dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n            await dialogManager.alert('文件上传失败，请重试。', '上传失败');\n        }\n    }\n    // 处理图片URL输入\n    async handleImageUrl(url) {\n        if (!url.trim())\n            return;\n        // 验证URL格式\n        try {\n            new URL(url);\n            this.sendImage({\n                type: 'url',\n                value: url.trim(),\n            });\n        }\n        catch (error) {\n            const dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n            await dialogManager.alert('请输入有效的图片URL', 'URL格式错误');\n        }\n    }\n    // 处理语音录制\n    async handleVoiceRecording() {\n        try {\n            const dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n            // 检查浏览器是否支持语音录制\n            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n                await dialogManager.alert('您的浏览器不支持语音录制功能', '不支持语音录制');\n                return;\n            }\n            // 请求麦克风权限\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            // 这里可以集成语音录制库，如 MediaRecorder API\n            // 为了简化，这里只是模拟语音录制\n            const text = await dialogManager.prompt('请输入语音内容（模拟语音转文字）:', '', '语音录制');\n            if (text) {\n                this.sendVoiceMessage({\n                    text: text.trim(),\n                    duration: Math.floor(Math.random() * 30) + 5, // 模拟5-35秒的语音\n                });\n            }\n            // 停止录制\n            stream.getTracks().forEach(track => track.stop());\n        }\n        catch (error) {\n            console.error('[BLMX] 语音录制失败:', error);\n            const dialogManager = _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance();\n            await dialogManager.alert('语音录制失败，请检查麦克风权限。', '录制失败');\n        }\n    }\n    // 处理位置分享\n    handleLocationShare() {\n        // 检查浏览器是否支持地理位置\n        if (!navigator.geolocation) {\n            alert('您的浏览器不支持地理位置功能');\n            return;\n        }\n        navigator.geolocation.getCurrentPosition(position => {\n            const { latitude, longitude } = position.coords;\n            const locationName = prompt('请输入位置名称:') || '我的位置';\n            const address = prompt('请输入详细地址:') || `纬度: ${latitude.toFixed(6)}, 经度: ${longitude.toFixed(6)}`;\n            this.sendLocation({\n                name: locationName,\n                address: address,\n                latitude: latitude,\n                longitude: longitude,\n            });\n        }, error => {\n            console.error('[BLMX] 获取位置失败:', error);\n            // 允许用户手动输入位置信息\n            const locationName = prompt('无法获取当前位置，请手动输入位置名称:');\n            const address = prompt('请输入详细地址:');\n            if (locationName && address) {\n                this.sendLocation({\n                    name: locationName,\n                    address: address,\n                });\n            }\n        });\n    }\n    // 处理转账发送\n    handleTransferSend() {\n        const amountStr = prompt('请输入转账金额:');\n        if (!amountStr)\n            return;\n        const amount = parseFloat(amountStr);\n        if (isNaN(amount) || amount <= 0) {\n            alert('请输入有效的金额');\n            return;\n        }\n        const note = prompt('请输入转账备注（可选）:') || '';\n        this.sendTransfer({\n            amount: amount,\n            note: note,\n        });\n    }\n    // 处理礼物发送\n    handleGiftSend() {\n        const giftName = prompt('请输入礼物名称:');\n        if (!giftName)\n            return;\n        const giftImage = prompt('请输入礼物图片URL（可选）:') || '';\n        const description = prompt('请输入礼物描述（可选）:') || '';\n        this.sendGift({\n            name: giftName,\n            image: giftImage,\n            description: description,\n        });\n    }\n    // 获取表情包列表 - 增加向后兼容性\n    getStickerList() {\n        // 尝试从新的存储键读取\n        let globalStickers = JSON.parse(localStorage.getItem('blmx_wechat_stickers_global_blmx') || '[]');\n        let charStickers = JSON.parse(localStorage.getItem(`blmx_char_stickers_blmx_${this.configManager.getConfig().currentCharId}`) || '[]');\n        // 如果新存储键没有数据，尝试从旧存储键读取\n        if (globalStickers.length === 0) {\n            const oldGlobalStickers = JSON.parse(localStorage.getItem('blmx_wechat_stickers_global') || '[]');\n            if (oldGlobalStickers.length > 0) {\n                globalStickers = oldGlobalStickers;\n            }\n        }\n        if (charStickers.length === 0) {\n            const oldCharStickers = JSON.parse(localStorage.getItem(`blmx_char_stickers_${this.configManager.getConfig().currentCharId}`) || '[]');\n            if (oldCharStickers.length > 0) {\n                charStickers = oldCharStickers;\n            }\n        }\n        return [...globalStickers, ...charStickers];\n    }\n    // 搜索表情包\n    searchStickers(query) {\n        const stickers = this.getStickerList();\n        if (!query.trim())\n            return stickers;\n        const searchTerm = query.toLowerCase();\n        return stickers.filter(sticker => sticker.label.toLowerCase().includes(searchTerm));\n    }\n    // 清空输入框\n    clearInput() {\n        const inputElement = document.getElementById('wechat-input-field');\n        if (inputElement) {\n            inputElement.value = '';\n            this.onUpdateFooterButtonsState();\n        }\n    }\n    // 设置输入框焦点\n    focusInput() {\n        const inputElement = document.getElementById('wechat-input-field');\n        if (inputElement) {\n            inputElement.focus();\n        }\n    }\n    // 获取输入框内容\n    getInputText() {\n        const inputElement = document.getElementById('wechat-input-field');\n        return inputElement ? inputElement.value : '';\n    }\n    // 设置输入框内容\n    setInputText(text) {\n        const inputElement = document.getElementById('wechat-input-field');\n        if (inputElement) {\n            inputElement.value = text;\n            this.onUpdateFooterButtonsState();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUFxQixDQUFDO1FBQ3ZGLElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsWUFBWSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7UUFDcEMsQ0FBQztJQUNILENBQUM7SUFFRCxVQUFVO0lBQ1YsVUFBVTtRQUNSLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQXFCLENBQUM7UUFDdkYsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdkIsQ0FBQztJQUNILENBQUM7SUFFRCxVQUFVO0lBQ1YsWUFBWTtRQUNWLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQXFCLENBQUM7UUFDdkYsT0FBTyxZQUFZLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0lBRUQsVUFBVTtJQUNWLFlBQVksQ0FBQyxJQUFZO1FBQ3ZCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQXFCLENBQUM7UUFDdkYsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixZQUFZLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUMxQixJQUFJLENBQUMsMEJBQTBCLEVBQUUsQ0FBQztRQUNwQyxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovaW5wdXQtaGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDovpPlhaXlpITnkIbmqKHlnZdcbi8vIOi0n+i0o+a2iOaBr+WPkemAgeOAgeaWh+S7tuS4iuS8oOOAgeivremfs+W9leWItuOAgeihqOaDheWMhemAieaLqeetieWKn+iDvVxuXG5pbXBvcnQgeyBDb25maWdNYW5hZ2VyLCBTdGlja2VyIH0gZnJvbSAnLi9jb25maWctbWFuYWdlcic7XG5pbXBvcnQgeyBEaWFsb2dNYW5hZ2VyIH0gZnJvbSAnLi9kaWFsb2ctbWFuYWdlcic7XG5pbXBvcnQgeyBMb2dFbnRyeSB9IGZyb20gJy4vc2NyaXB0JztcblxuZXhwb3J0IGNsYXNzIElucHV0SGFuZGxlciB7XG4gIHByaXZhdGUgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcjtcbiAgcHJpdmF0ZSBvblN0YWdlQW5kRGlzcGxheUVudHJ5OiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkO1xuICBwcml2YXRlIG9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIGRpYWxvZ01hbmFnZXI6IERpYWxvZ01hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcixcbiAgICBvblN0YWdlQW5kRGlzcGxheUVudHJ5OiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkLFxuICAgIG9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlOiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBjb25maWdNYW5hZ2VyO1xuICAgIHRoaXMub25TdGFnZUFuZERpc3BsYXlFbnRyeSA9IG9uU3RhZ2VBbmREaXNwbGF5RW50cnk7XG4gICAgdGhpcy5vblVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSA9IG9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlO1xuICAgIHRoaXMuZGlhbG9nTWFuYWdlciA9IERpYWxvZ01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIC8vIOWkhOeQhui9rOi0puaOpeWPl1xuICBhc3luYyBoYW5kbGVUcmFuc2ZlckFjY2VwdChkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd1JlY2VpdmVEaWFsb2coJ3RyYW5zZmVyJywgZGF0YSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gJ2FjY2VwdCcpIHtcbiAgICAgIGNvbnN0IGFjY2VwdERhdGEgPSB7IC4uLmRhdGEsIHN0YXR1czogJ2FjY2VwdGVkJyB9O1xuICAgICAgdGhpcy5vblN0YWdlQW5kRGlzcGxheUVudHJ5KHtcbiAgICAgICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShhY2NlcHREYXRhKSxcbiAgICAgICAgZGF0YTogYWNjZXB0RGF0YSxcbiAgICAgICAgaWQ6IGB0cmFuc2Zlci0ke0RhdGUubm93KCl9YCxcbiAgICAgIH0gYXMgYW55KTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gJ3JlamVjdCcpIHtcbiAgICAgIGNvbnN0IHJlamVjdERhdGEgPSB7IC4uLmRhdGEsIHN0YXR1czogJ3JlamVjdGVkJyB9O1xuICAgICAgdGhpcy5vblN0YWdlQW5kRGlzcGxheUVudHJ5KHtcbiAgICAgICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShyZWplY3REYXRhKSxcbiAgICAgICAgZGF0YTogcmVqZWN0RGF0YSxcbiAgICAgICAgaWQ6IGB0cmFuc2Zlci0ke0RhdGUubm93KCl9YCxcbiAgICAgIH0gYXMgYW55KTtcbiAgICB9XG4gIH1cblxuICAvLyDlpITnkIbnpLznianliqjkvZxcbiAgYXN5bmMgaGFuZGxlR2lmdEFjdGlvbihkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRpYWxvZ01hbmFnZXIuc2hvd1JlY2VpdmVEaWFsb2coJ2dpZnQnLCBkYXRhKTtcbiAgICBpZiAocmVzdWx0ID09PSAnYWNjZXB0Jykge1xuICAgICAgY29uc3QgcmVjZWlwdERhdGEgPSB7IG5hbWU6IGRhdGEubmFtZSwgc3RhdHVzOiAnYWNjZXB0ZWQnIH07XG4gICAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICB0eXBlOiAnZ2lmdCcsXG4gICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkocmVjZWlwdERhdGEpLFxuICAgICAgICBkYXRhOiByZWNlaXB0RGF0YSxcbiAgICAgICAgaWQ6IGBnaWZ0LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgfSBhcyBhbnkpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSAncmVqZWN0Jykge1xuICAgICAgY29uc3QgcmVjZWlwdERhdGEgPSB7IG5hbWU6IGRhdGEubmFtZSwgc3RhdHVzOiAncmVqZWN0ZWQnIH07XG4gICAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkoe1xuICAgICAgICB0eXBlOiAnZ2lmdCcsXG4gICAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkocmVjZWlwdERhdGEpLFxuICAgICAgICBkYXRhOiByZWNlaXB0RGF0YSxcbiAgICAgICAgaWQ6IGBnaWZ0LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgfSBhcyBhbnkpO1xuICAgIH1cbiAgICAvLyDpgJrnn6XmnInlvoXlpITnkIbnmoTpgJrnn6VcbiAgICB0aGlzLm9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gIH1cblxuICAvLyDlj5HpgIHmlofmnKzmtojmga9cbiAgc2VuZFRleHRNZXNzYWdlKHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGV4dC50cmltKCkpIHJldHVybjtcblxuICAgIGNvbnN0IG1lc3NhZ2VFbnRyeTogTG9nRW50cnkgPSB7XG4gICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICBzZW5kZXI6ICdtZScsXG4gICAgICBjb250ZW50OiB0ZXh0LnRyaW0oKSxcbiAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkobWVzc2FnZUVudHJ5KTtcbiAgICB0aGlzLm9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gIH1cblxuICAvLyDlj5HpgIHooajmg4XljIUgLSDnroDljJbmlbDmja7nu5PmnoRcbiAgc2VuZFN0aWNrZXIoc3RpY2tlck5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHN0aWNrZXJVcmwgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZmluZFN0aWNrZXJVcmxCeU5hbWUoc3RpY2tlck5hbWUpO1xuICAgIGlmICghc3RpY2tlclVybCkge1xuICAgICAgY29uc29sZS5lcnJvcihgW0JMTVhdIOacquaJvuWIsOihqOaDheWMhTogJHtzdGlja2VyTmFtZX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDkvb/nlKjnroDljZXnmoTmlbDmja7nu5PmnoTvvIzkuI7ljp/niYjkv53mjIHkuIDoh7RcbiAgICBjb25zdCBzdGlja2VyRW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgdHlwZTogJ3N0aWNrZXInLFxuICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgY29udGVudDogc3RpY2tlck5hbWUsIC8vIOebtOaOpeWtmOWCqOihqOaDheWMheWQjeensFxuICAgICAgaWQ6IGBzdGlja2VyLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsIC8vIOaBouWkjeWOn+adpeeahElE5qC85byP5Lul5L+d5oyB5YW85a655oCnXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkoc3RpY2tlckVudHJ5KTtcbiAgICB0aGlzLm9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gIH1cblxuICAvLyDlj5HpgIHlm77niYdcbiAgc2VuZEltYWdlKGltYWdlRGF0YTogeyB0eXBlOiAndXJsJyB8ICdmaWxlJzsgdmFsdWU6IHN0cmluZzsgbmFtZT86IHN0cmluZyB9KTogdm9pZCB7XG4gICAgY29uc3QgaW1hZ2VFbnRyeTogTG9nRW50cnkgPSB7XG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgY29udGVudDogaW1hZ2VEYXRhLFxuICAgICAgaWQ6IGBpbWFnZS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0gYXMgYW55O1xuXG4gICAgdGhpcy5vblN0YWdlQW5kRGlzcGxheUVudHJ5KGltYWdlRW50cnkpO1xuICAgIHRoaXMub25VcGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcbiAgfVxuXG4gIC8vIOWPkemAgeivremfs+a2iOaBr1xuICBzZW5kVm9pY2VNZXNzYWdlKHZvaWNlRGF0YTogeyB0ZXh0OiBzdHJpbmc7IGR1cmF0aW9uPzogbnVtYmVyIH0pOiB2b2lkIHtcbiAgICBjb25zdCB2b2ljZUVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIHR5cGU6ICd2b2ljZScsXG4gICAgICBzZW5kZXI6ICdtZScsXG4gICAgICBjb250ZW50OiB2b2ljZURhdGEsXG4gICAgICBpZDogYHZvaWNlLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkodm9pY2VFbnRyeSk7XG4gICAgdGhpcy5vblVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSgpO1xuICB9XG5cbiAgLy8g5Y+R6YCB5L2N572u5L+h5oGvXG4gIHNlbmRMb2NhdGlvbihsb2NhdGlvbkRhdGE6IHsgbmFtZTogc3RyaW5nOyBhZGRyZXNzOiBzdHJpbmc7IGxhdGl0dWRlPzogbnVtYmVyOyBsb25naXR1ZGU/OiBudW1iZXIgfSk6IHZvaWQge1xuICAgIGNvbnN0IGxvY2F0aW9uRW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgdHlwZTogJ2xvY2F0aW9uJyxcbiAgICAgIHNlbmRlcjogJ21lJyxcbiAgICAgIGNvbnRlbnQ6IGxvY2F0aW9uRGF0YSxcbiAgICAgIGlkOiBgbG9jYXRpb24tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9IGFzIGFueTtcblxuICAgIHRoaXMub25TdGFnZUFuZERpc3BsYXlFbnRyeShsb2NhdGlvbkVudHJ5KTtcbiAgICB0aGlzLm9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gIH1cblxuICAvLyDlj5HpgIHmlofku7ZcbiAgc2VuZEZpbGUoZmlsZURhdGE6IHsgbmFtZTogc3RyaW5nOyBzaXplOiBudW1iZXI7IHR5cGU6IHN0cmluZzsgdXJsPzogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBjb25zdCBmaWxlRW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgY29udGVudDogZmlsZURhdGEsXG4gICAgICBpZDogYGZpbGUtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9IGFzIGFueTtcblxuICAgIHRoaXMub25TdGFnZUFuZERpc3BsYXlFbnRyeShmaWxlRW50cnkpO1xuICAgIHRoaXMub25VcGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcbiAgfVxuXG4gIC8vIOWPkemAgei9rOi0plxuICBzZW5kVHJhbnNmZXIodHJhbnNmZXJEYXRhOiB7IGFtb3VudDogbnVtYmVyOyBub3RlPzogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBjb25zdCB0cmFuc2ZlckVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIHR5cGU6ICd0cmFuc2ZlcicsXG4gICAgICBzZW5kZXI6ICdtZScsXG4gICAgICBjb250ZW50OiB0cmFuc2ZlckRhdGEsXG4gICAgICBpZDogYHRyYW5zZmVyLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICB0aGlzLm9uU3RhZ2VBbmREaXNwbGF5RW50cnkodHJhbnNmZXJFbnRyeSk7XG4gICAgdGhpcy5vblVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSgpO1xuICB9XG5cbiAgLy8g5Y+R6YCB56S854mpXG4gIHNlbmRHaWZ0KGdpZnREYXRhOiB7IG5hbWU6IHN0cmluZzsgaW1hZ2U/OiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBjb25zdCBnaWZ0RW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgdHlwZTogJ2dpZnQnLFxuICAgICAgc2VuZGVyOiAnbWUnLFxuICAgICAgY29udGVudDogZ2lmdERhdGEsXG4gICAgICBpZDogYGdpZnQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9IGFzIGFueTtcblxuICAgIHRoaXMub25TdGFnZUFuZERpc3BsYXlFbnRyeShnaWZ0RW50cnkpO1xuICAgIHRoaXMub25VcGRhdGVGb290ZXJCdXR0b25zU3RhdGUoKTtcbiAgfVxuXG4gIC8vIOWkhOeQhuaWh+S7tuS4iuS8oFxuICBhc3luYyBoYW5kbGVGaWxlVXBsb2FkKGZpbGU6IEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAvLyDlpITnkIblm77niYfmlofku7ZcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGUudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nO1xuICAgICAgICAgIHRoaXMuc2VuZEltYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgIHZhbHVlOiByZXN1bHQsXG4gICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5aSE55CG5YW25LuW5paH5Lu257G75Z6LXG4gICAgICAgIHRoaXMuc2VuZEZpbGUoe1xuICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICBzaXplOiBmaWxlLnNpemUsXG4gICAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0JMTVhdIOaWh+S7tuS4iuS8oOWksei0pTonLCBlcnJvcik7XG4gICAgICBjb25zdCBkaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgYXdhaXQgZGlhbG9nTWFuYWdlci5hbGVydCgn5paH5Lu25LiK5Lyg5aSx6LSl77yM6K+36YeN6K+V44CCJywgJ+S4iuS8oOWksei0pScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOWkhOeQhuWbvueJh1VSTOi+k+WFpVxuICBhc3luYyBoYW5kbGVJbWFnZVVybCh1cmw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdXJsLnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgLy8g6aqM6K+BVVJM5qC85byPXG4gICAgdHJ5IHtcbiAgICAgIG5ldyBVUkwodXJsKTtcbiAgICAgIHRoaXMuc2VuZEltYWdlKHtcbiAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgIHZhbHVlOiB1cmwudHJpbSgpLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGRpYWxvZ01hbmFnZXIgPSBEaWFsb2dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBhd2FpdCBkaWFsb2dNYW5hZ2VyLmFsZXJ0KCfor7fovpPlhaXmnInmlYjnmoTlm77niYdVUkwnLCAnVVJM5qC85byP6ZSZ6K+vJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g5aSE55CG6K+t6Z+z5b2V5Yi2XG4gIGFzeW5jIGhhbmRsZVZvaWNlUmVjb3JkaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAvLyDmo4Dmn6XmtY/op4jlmajmmK/lkKbmlK/mjIHor63pn7PlvZXliLZcbiAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgYXdhaXQgZGlhbG9nTWFuYWdlci5hbGVydCgn5oKo55qE5rWP6KeI5Zmo5LiN5pSv5oyB6K+t6Z+z5b2V5Yi25Yqf6IO9JywgJ+S4jeaUr+aMgeivremfs+W9leWIticpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOivt+axgum6puWFi+mjjuadg+mZkFxuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTtcblxuICAgICAgLy8g6L+Z6YeM5Y+v5Lul6ZuG5oiQ6K+t6Z+z5b2V5Yi25bqT77yM5aaCIE1lZGlhUmVjb3JkZXIgQVBJXG4gICAgICAvLyDkuLrkuobnroDljJbvvIzov5nph4zlj6rmmK/mqKHmi5/or63pn7PlvZXliLZcbiAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBkaWFsb2dNYW5hZ2VyLnByb21wdCgn6K+36L6T5YWl6K+t6Z+z5YaF5a6577yI5qih5ouf6K+t6Z+z6L2s5paH5a2X77yJOicsICcnLCAn6K+t6Z+z5b2V5Yi2Jyk7XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICB0aGlzLnNlbmRWb2ljZU1lc3NhZ2Uoe1xuICAgICAgICAgIHRleHQ6IHRleHQudHJpbSgpLFxuICAgICAgICAgIGR1cmF0aW9uOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMCkgKyA1LCAvLyDmqKHmi581LTM156eS55qE6K+t6Z+zXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyDlgZzmraLlvZXliLZcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCTE1YXSDor63pn7PlvZXliLblpLHotKU6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZGlhbG9nTWFuYWdlciA9IERpYWxvZ01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGF3YWl0IGRpYWxvZ01hbmFnZXIuYWxlcnQoJ+ivremfs+W9leWItuWksei0pe+8jOivt+ajgOafpem6puWFi+mjjuadg+mZkOOAgicsICflvZXliLblpLHotKUnKTtcbiAgICB9XG4gIH1cblxuICAvLyDlpITnkIbkvY3nva7liIbkuqtcbiAgaGFuZGxlTG9jYXRpb25TaGFyZSgpOiB2b2lkIHtcbiAgICAvLyDmo4Dmn6XmtY/op4jlmajmmK/lkKbmlK/mjIHlnLDnkIbkvY3nva5cbiAgICBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgYWxlcnQoJ+aCqOeahOa1j+iniOWZqOS4jeaUr+aMgeWcsOeQhuS9jee9ruWKn+iDvScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICBwb3NpdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9ID0gcG9zaXRpb24uY29vcmRzO1xuICAgICAgICBjb25zdCBsb2NhdGlvbk5hbWUgPSBwcm9tcHQoJ+ivt+i+k+WFpeS9jee9ruWQjeensDonKSB8fCAn5oiR55qE5L2N572uJztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHByb21wdCgn6K+36L6T5YWl6K+m57uG5Zyw5Z2AOicpIHx8IGDnuqzluqY6ICR7bGF0aXR1ZGUudG9GaXhlZCg2KX0sIOe7j+W6pjogJHtsb25naXR1ZGUudG9GaXhlZCg2KX1gO1xuXG4gICAgICAgIHRoaXMuc2VuZExvY2F0aW9uKHtcbiAgICAgICAgICBuYW1lOiBsb2NhdGlvbk5hbWUsXG4gICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGUsXG4gICAgICAgICAgbG9uZ2l0dWRlOiBsb25naXR1ZGUsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0JMTVhdIOiOt+WPluS9jee9ruWksei0pTonLCBlcnJvcik7XG4gICAgICAgIC8vIOWFgeiuuOeUqOaIt+aJi+WKqOi+k+WFpeS9jee9ruS/oeaBr1xuICAgICAgICBjb25zdCBsb2NhdGlvbk5hbWUgPSBwcm9tcHQoJ+aXoOazleiOt+WPluW9k+WJjeS9jee9ru+8jOivt+aJi+WKqOi+k+WFpeS9jee9ruWQjeensDonKTtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHByb21wdCgn6K+36L6T5YWl6K+m57uG5Zyw5Z2AOicpO1xuXG4gICAgICAgIGlmIChsb2NhdGlvbk5hbWUgJiYgYWRkcmVzcykge1xuICAgICAgICAgIHRoaXMuc2VuZExvY2F0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IGxvY2F0aW9uTmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIOWkhOeQhui9rOi0puWPkemAgVxuICBoYW5kbGVUcmFuc2ZlclNlbmQoKTogdm9pZCB7XG4gICAgY29uc3QgYW1vdW50U3RyID0gcHJvbXB0KCfor7fovpPlhaXovazotKbph5Hpop06Jyk7XG4gICAgaWYgKCFhbW91bnRTdHIpIHJldHVybjtcblxuICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50U3RyKTtcbiAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xuICAgICAgYWxlcnQoJ+ivt+i+k+WFpeacieaViOeahOmHkeminScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdGUgPSBwcm9tcHQoJ+ivt+i+k+WFpei9rOi0puWkh+azqO+8iOWPr+mAie+8iTonKSB8fCAnJztcblxuICAgIHRoaXMuc2VuZFRyYW5zZmVyKHtcbiAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgbm90ZTogbm90ZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOWkhOeQhuekvOeJqeWPkemAgVxuICBoYW5kbGVHaWZ0U2VuZCgpOiB2b2lkIHtcbiAgICBjb25zdCBnaWZ0TmFtZSA9IHByb21wdCgn6K+36L6T5YWl56S854mp5ZCN56ewOicpO1xuICAgIGlmICghZ2lmdE5hbWUpIHJldHVybjtcblxuICAgIGNvbnN0IGdpZnRJbWFnZSA9IHByb21wdCgn6K+36L6T5YWl56S854mp5Zu+54mHVVJM77yI5Y+v6YCJ77yJOicpIHx8ICcnO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJvbXB0KCfor7fovpPlhaXnpLznianmj4/ov7DvvIjlj6/pgInvvIk6JykgfHwgJyc7XG5cbiAgICB0aGlzLnNlbmRHaWZ0KHtcbiAgICAgIG5hbWU6IGdpZnROYW1lLFxuICAgICAgaW1hZ2U6IGdpZnRJbWFnZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOiOt+WPluihqOaDheWMheWIl+ihqCAtIOWinuWKoOWQkeWQjuWFvOWuueaAp1xuICBnZXRTdGlja2VyTGlzdCgpOiBTdGlja2VyW10ge1xuICAgIC8vIOWwneivleS7juaWsOeahOWtmOWCqOmUruivu+WPllxuICAgIGxldCBnbG9iYWxTdGlja2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JsbXhfd2VjaGF0X3N0aWNrZXJzX2dsb2JhbF9ibG14JykgfHwgJ1tdJyk7XG4gICAgbGV0IGNoYXJTdGlja2VycyA9IEpTT04ucGFyc2UoXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgYmxteF9jaGFyX3N0aWNrZXJzX2JsbXhfJHt0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCkuY3VycmVudENoYXJJZH1gKSB8fCAnW10nLFxuICAgICk7XG5cbiAgICAvLyDlpoLmnpzmlrDlrZjlgqjplK7msqHmnInmlbDmja7vvIzlsJ3or5Xku47ml6flrZjlgqjplK7or7vlj5ZcbiAgICBpZiAoZ2xvYmFsU3RpY2tlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBvbGRHbG9iYWxTdGlja2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JsbXhfd2VjaGF0X3N0aWNrZXJzX2dsb2JhbCcpIHx8ICdbXScpO1xuICAgICAgaWYgKG9sZEdsb2JhbFN0aWNrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ2xvYmFsU3RpY2tlcnMgPSBvbGRHbG9iYWxTdGlja2VycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hhclN0aWNrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3Qgb2xkQ2hhclN0aWNrZXJzID0gSlNPTi5wYXJzZShcbiAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oYGJsbXhfY2hhcl9zdGlja2Vyc18ke3RoaXMuY29uZmlnTWFuYWdlci5nZXRDb25maWcoKS5jdXJyZW50Q2hhcklkfWApIHx8ICdbXScsXG4gICAgICApO1xuICAgICAgaWYgKG9sZENoYXJTdGlja2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNoYXJTdGlja2VycyA9IG9sZENoYXJTdGlja2VycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmdsb2JhbFN0aWNrZXJzLCAuLi5jaGFyU3RpY2tlcnNdO1xuICB9XG5cbiAgLy8g5pCc57Si6KGo5oOF5YyFXG4gIHNlYXJjaFN0aWNrZXJzKHF1ZXJ5OiBzdHJpbmcpOiBTdGlja2VyW10ge1xuICAgIGNvbnN0IHN0aWNrZXJzID0gdGhpcy5nZXRTdGlja2VyTGlzdCgpO1xuICAgIGlmICghcXVlcnkudHJpbSgpKSByZXR1cm4gc3RpY2tlcnM7XG5cbiAgICBjb25zdCBzZWFyY2hUZXJtID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gc3RpY2tlcnMuZmlsdGVyKHN0aWNrZXIgPT4gc3RpY2tlci5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pKTtcbiAgfVxuXG4gIC8vIOa4heepuui+k+WFpeahhlxuICBjbGVhcklucHV0KCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWNoYXQtaW5wdXQtZmllbGQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5vblVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOiuvue9rui+k+WFpeahhueEpueCuVxuICBmb2N1c0lucHV0KCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWNoYXQtaW5wdXQtZmllbGQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOiOt+WPlui+k+WFpeahhuWGheWuuVxuICBnZXRJbnB1dFRleHQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VjaGF0LWlucHV0LWZpZWxkJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICByZXR1cm4gaW5wdXRFbGVtZW50ID8gaW5wdXRFbGVtZW50LnZhbHVlIDogJyc7XG4gIH1cblxuICAvLyDorr7nva7ovpPlhaXmoYblhoXlrrlcbiAgc2V0SW5wdXRUZXh0KHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWNoYXQtaW5wdXQtZmllbGQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IHRleHQ7XG4gICAgICB0aGlzLm9uVXBkYXRlRm9vdGVyQnV0dG9uc1N0YXRlKCk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/input-handler.ts\n\n}");
  },
  "./src/同层手机/moments-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MomentsManager: () => (/* binding */ MomentsManager)\n/* harmony export */ });\n// 朋友圈管理模块\n// 负责朋友圈渲染、通知管理、时间格式化等功能\nclass MomentsManager {\n    blmxManager;\n    configManager;\n    uiRenderer;\n    hasMomentNotification = false;\n    constructor(blmxManager, configManager, uiRenderer) {\n        this.blmxManager = blmxManager;\n        this.configManager = configManager;\n        this.uiRenderer = uiRenderer;\n        // 初始化通知状态\n        this.hasMomentNotification = this.configManager.getMomentNotificationState();\n    }\n    // 渲染朋友圈\n    renderMomentsFeed() {\n        if (!this.blmxManager || !this.uiRenderer)\n            return;\n        const logEntries = this.blmxManager.logEntries;\n        const avatars = this.configManager.getConfig().avatars;\n        // 使用jQuery选择器\n        const $momentsFeedList = $('#moments-feed-list');\n        if (!$momentsFeedList.length)\n            return;\n        // 检查用户是否在朋友圈界面，如果是则更新最后查看时间戳\n        const isCurrentlyInMomentsView = this.isInMomentsView();\n        if (isCurrentlyInMomentsView) {\n            this.setLastMomentViewTimestamp();\n            // 清除朋友圈通知，因为用户正在查看朋友圈\n            this.setMomentNotification(false);\n        }\n        $momentsFeedList.empty();\n        // 使用lodash进行数据处理\n        const posts = {};\n        const momentPostLogIndices = _.reduce(logEntries, (result, entry, index) => {\n            if ('key' in entry && entry.key.includes('_MOMENT')) {\n                result.push(index);\n            }\n            return result;\n        }, []);\n        // 收集所有帖子\n        _.forEach(momentPostLogIndices, (logIndex) => {\n            const entry = logEntries[logIndex];\n            posts[logIndex] = { ...entry, likes: [], comments: [], id: logIndex };\n        });\n        // 检查是否有CHAR发表的新朋友圈或评论\n        let hasNewCharMoments = false;\n        const lastViewTimestamp = this.getLastMomentViewTimestamp();\n        const userInMomentsView = this.isInMomentsView();\n        // 处理点赞和评论\n        _.forEach(logEntries, (entry, index) => {\n            if ('key' in entry && (entry.key.includes('_LIKE') || entry.key.includes('_COMMENT'))) {\n                // 修复target_post_id的处理逻辑，使用与原版相同的方式\n                const targetPostAbsoluteIndex = momentPostLogIndices[parseInt(entry.data.target_post_id, 10)];\n                const targetPost = posts[targetPostAbsoluteIndex];\n                if (targetPost) {\n                    if (entry.key.includes('_LIKE')) {\n                        const likerName = entry.key.startsWith('USER') ? this.getDisplayName('user') : this.getDisplayName('char');\n                        if (!_.some(targetPost.likes, (l) => l.name === likerName)) {\n                            targetPost.likes.push({ key: entry.key, name: likerName, originalLogIndex: index });\n                            // 如果是CHAR点赞，且用户不在朋友圈界面，检查是否是新活动\n                            if (entry.key.startsWith('CHAR') && !userInMomentsView) {\n                                // 使用索引位置来判断是否是新活动：\n                                // 如果这个点赞在日志中的索引大于最后查看朋友圈时保存的日志长度，说明这是新活动\n                                const isNewActivity = index > lastViewTimestamp;\n                                if (isNewActivity) {\n                                    hasNewCharMoments = true;\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        targetPost.comments.push({ ...entry, originalLogIndex: index });\n                        // 如果是CHAR评论，且用户不在朋友圈界面，检查是否是新活动\n                        if (entry.key.startsWith('CHAR') && !userInMomentsView) {\n                            // 使用索引位置来判断是否是新活动\n                            const isNewActivity = index > lastViewTimestamp;\n                            if (isNewActivity) {\n                                hasNewCharMoments = true;\n                            }\n                        }\n                    }\n                }\n                else {\n                    console.warn(`[BLMX] Could not find target post for interaction. target_post_id: ${entry.data.target_post_id}, available posts: ${Object.keys(posts).join(', ')}`, entry);\n                }\n            }\n            // 检查CHAR发表的朋友圈\n            if ('key' in entry && entry.key === 'CHAR_MOMENT') {\n                // 使用索引位置判断是否是新朋友圈\n                const isNewMoment = index > lastViewTimestamp;\n                // 只有当是新朋友圈且用户不在朋友圈界面时才显示通知\n                if (isNewMoment && !userInMomentsView) {\n                    hasNewCharMoments = true;\n                }\n            }\n        });\n        // 更新朋友圈通知状态 - 只有当有新活动且用户不在朋友圈界面时才设置通知\n        if (!userInMomentsView) {\n            this.setMomentNotification(hasNewCharMoments);\n            // console.log('[BLMX] 朋友圈通知状态:', {\n            //   hasNewCharMoments,\n            //   lastViewIndex: this.getLastMomentViewTimestamp(),\n            //   currentLogLength: this.blmxManager.logEntries.length,\n            //   userInMomentsView,\n            // });\n        }\n        // 反转帖子顺序并渲染\n        _.chain(posts)\n            .values()\n            .reverse()\n            .forEach((post) => {\n            const fromUser = post.key.startsWith('USER');\n            const authorName = fromUser ? this.getDisplayName('user') : this.getDisplayName('char');\n            const authorAvatar = fromUser ? avatars.user : avatars.char;\n            const $li = $('<li>').addClass('moment-post').attr('data-post-id', post.id);\n            const momentSequenceId = momentPostLogIndices.indexOf(post.id);\n            $li.attr('data-moment-sequence-id', String(momentSequenceId));\n            // 设置moment-id属性，使用momentSequenceId作为朋友圈的唯一标识符\n            // 这样可以确保点赞和评论正确关联到对应的朋友圈\n            $li.attr('data-moment-id', String(momentSequenceId));\n            // 构建媒体HTML\n            let mediaHtml = '';\n            if (post.data.image_type === 'url' && post.data.image) {\n                mediaHtml = `<img src=\"${post.data.image}\" class=\"post-media-image\" />`;\n            }\n            else if (post.data.image_type === 'desc' && post.data.image) {\n                mediaHtml = `<div class=\"image-desc-content\"><div class=\"text-wrapper\">${post.data.image}</div></div>`;\n            }\n            // 构建互动区域HTML\n            let interactionsHtml = '';\n            if (post.likes.length > 0 || post.comments.length > 0) {\n                const likersHtml = post.likes.length > 0\n                    ? `<div class=\"likes-section\"><i class=\"fas fa-heart\"></i> ${_.map(post.likes, (l) => `<span class=\"liker-name\">${l.name}</span>`).join(', ')}</div>`\n                    : '';\n                const commentsHtml = post.comments.length > 0\n                    ? `<ul class=\"comments-section\">${_.map(post.comments, (c) => `<li><span class=\"comment-author\">${c.key.startsWith('USER') ? this.getDisplayName('user') : this.getDisplayName('char')}</span>: ${c.data.text}</li>`).join('')}</ul>`\n                    : '';\n                interactionsHtml = `<div class=\"post-interactions\">${likersHtml}${commentsHtml}</div>`;\n            }\n            // 使用自定义格式化时间函数\n            const displayTime = this.formatMomentTime(post.data.date, post.data.time);\n            const deleteBtnHtml = `<span class=\"delete-moment-btn\" title=\"删除\">删除</span>`;\n            $li.html(`<img src=\"${authorAvatar}\" class=\"post-author-avatar\" />\n                 <div class=\"post-details\">\n                     <span class=\"post-author-name\">${authorName}</span>\n                     <p class=\"post-content\">${post.data.text || ''}</p>\n                     <div class=\"post-media\">${mediaHtml}</div>\n                     <div class=\"post-meta\">\n                         <div class=\"post-meta-left\">\n                             <span class=\"timestamp\">${displayTime}</span>\n                             ${deleteBtnHtml}\n                         </div>\n                         <div class=\"post-actions\">\n                             <span class=\"comment-button\" title=\"评论/点赞\"><i class=\"fas fa-comment-dots\"></i></span>\n                         </div>\n                     </div>\n                     ${interactionsHtml}\n                 </div>`);\n            $momentsFeedList.append($li);\n        })\n            .value();\n        // 确保加载最新的封面图片\n        const savedCoverPhoto = this.configManager.getSavedCoverPhoto();\n        if (savedCoverPhoto) {\n            $('#moments-cover-photo').attr('src', savedCoverPhoto);\n        }\n    }\n    // 格式化朋友圈时间显示\n    formatMomentTime(dateString, timeString) {\n        try {\n            // 使用游戏内时间而非现实时间\n            const now = window.currentGameDate ? new Date(window.currentGameDate) : new Date();\n            const date = new Date(`${dateString} ${timeString}`);\n            const diffMs = now.getTime() - date.getTime();\n            const diffMins = Math.floor(diffMs / 60000);\n            const diffHours = Math.floor(diffMins / 60);\n            const diffDays = Math.floor(diffHours / 24);\n            if (diffMins < 1) {\n                return '刚刚';\n            }\n            else if (diffMins < 60) {\n                return `${diffMins}分钟前`;\n            }\n            else if (diffHours < 24) {\n                return `${diffHours}小时前`;\n            }\n            else if (diffDays === 1) {\n                return '昨天';\n            }\n            else if (diffDays === 2) {\n                return '前天';\n            }\n            else if (diffDays < 7) {\n                return `${diffDays}天前`;\n            }\n            else {\n                // 超过一周显示具体日期\n                const month = date.getMonth() + 1;\n                const day = date.getDate();\n                return `${month}月${day}日`;\n            }\n        }\n        catch (error) {\n            console.error('时间格式化错误:', error);\n            return `${dateString} ${timeString}`;\n        }\n    }\n    // 获取显示名称\n    getDisplayName(type) {\n        return this.configManager.getDisplayName(type);\n    }\n    // 检查用户是否在朋友圈界面\n    isInMomentsView() {\n        return $('#moments-view').hasClass('active');\n    }\n    // 获取朋友圈通知状态\n    hasMomentNotifications() {\n        return this.configManager.getMomentNotificationState();\n    }\n    // 设置朋友圈通知状态\n    setMomentNotification(value) {\n        this.hasMomentNotification = value;\n        this.configManager.setMomentNotificationState(value);\n        // 更新UI中的通知指示器\n        this.updateMomentNotificationIndicator();\n    }\n    // 更新朋友圈通知指示器\n    updateMomentNotificationIndicator() {\n        const $optionsBtn = $('#wechat-options-btn');\n        if (this.hasMomentNotification) {\n            if (!$optionsBtn.find('.notification-dot').length) {\n                $optionsBtn.append('<span class=\"notification-dot\"></span>');\n            }\n        }\n        else {\n            $optionsBtn.find('.notification-dot').remove();\n        }\n    }\n    // 获取最后查看朋友圈时的时间戳\n    getLastMomentViewTimestamp() {\n        return this.configManager.getLastMomentViewTimestamp();\n    }\n    // 设置最后查看朋友圈时的时间戳\n    setLastMomentViewTimestamp() {\n        // 保存当前日志长度作为最后查看时间点\n        const currentLogLength = this.blmxManager.logEntries.length;\n        this.configManager.setLastMomentViewTimestamp(currentLogLength);\n    }\n    // 进入朋友圈视图时的处理\n    onEnterMomentsView() {\n        // console.log('[BLMX] 进入朋友圈视图，清除通知并更新最后查看时间');\n        // 使用jQuery更新封面图片\n        const savedCoverPhoto = this.configManager.getSavedCoverPhoto();\n        if (savedCoverPhoto) {\n            $('#moments-cover-photo').attr('src', savedCoverPhoto);\n        }\n        // 使用jQuery更新个性签名\n        const savedSignature = this.configManager.getSavedSignature();\n        $('#user-signature-display').text(savedSignature || '点击头像设置个性签名');\n        // 清除朋友圈通知\n        this.setMomentNotification(false);\n        // 更新最后查看朋友圈的时间戳\n        this.setLastMomentViewTimestamp();\n        // 记录当前日志长度用于调试\n        // console.log('[BLMX] 更新朋友圈最后查看索引为:', this.blmxManager.logEntries.length);\n    }\n    // 创建用户朋友圈动态\n    createUserMoment(text, image = '', imageType = 'none') {\n        // 获取当前日期时间\n        const now = window.currentGameDate || new Date();\n        const dateStr = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n        const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\n        return {\n            key: 'USER_MOMENT',\n            data: {\n                text,\n                image,\n                image_type: imageType,\n                date: dateStr,\n                time: timeStr,\n            },\n        };\n    }\n    // 发送朋友圈动态通知（用于用户名、签名等变更）\n    notifyMomentChange(type, _oldValue, newValue) {\n        let text = '';\n        switch (type) {\n            case 'name':\n                text = `我改名字啦，新名字是\"${newValue}\"`;\n                break;\n            case 'signature':\n                text = `我的个性签名已更改为：\"${newValue}\"`;\n                break;\n        }\n        const momentEntry = this.createUserMoment(text);\n        // 添加到聊天记录\n        this.blmxManager.addEntry(momentEntry);\n        this.renderMomentsFeed();\n    }\n    // 处理消息撤回的朋友圈通知\n    notifyRecallViaMoments(sender, targetText) {\n        // 获取当前日期时间\n        const now = window.currentGameDate || new Date();\n        const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\n        // 创建撤回通知条目\n        const recallEntry = {\n            key: 'RECALL',\n            data: {\n                sender: sender,\n                target_text: targetText,\n                timestamp: `${timeStr}`,\n            },\n        };\n        // 添加到聊天记录\n        this.blmxManager.addEntry(recallEntry);\n        return recallEntry;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVEsR0FBRyxDQUFDO2dCQUNqQyxNQUFNO1lBQ1IsS0FBSyxXQUFXO2dCQUNkLElBQUksR0FBRyxlQUFlLFFBQVEsR0FBRyxDQUFDO2dCQUNsQyxNQUFNO1FBQ1YsQ0FBQztRQUVELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVoRCxVQUFVO1FBQ1YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELGVBQWU7SUFDZixzQkFBc0IsQ0FBQyxNQUF1QixFQUFFLFVBQWtCO1FBQ2hFLFdBQVc7UUFDWCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsZUFBZSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7UUFDakQsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBRTFHLFdBQVc7UUFDWCxNQUFNLFdBQVcsR0FBRztZQUNsQixHQUFHLEVBQUUsUUFBUTtZQUNiLElBQUksRUFBRTtnQkFDSixNQUFNLEVBQUUsTUFBTTtnQkFDZCxXQUFXLEVBQUUsVUFBVTtnQkFDdkIsU0FBUyxFQUFFLEdBQUcsT0FBTyxFQUFFO2FBQ3hCO1NBQ0YsQ0FBQztRQUVGLFVBQVU7UUFDVixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxXQUFrQixDQUFDLENBQUM7UUFFOUMsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovbW9tZW50cy1tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOaci+WPi+WciOeuoeeQhuaooeWdl1xuLy8g6LSf6LSj5pyL5Y+L5ZyI5riy5p+T44CB6YCa55+l566h55CG44CB5pe26Ze05qC85byP5YyW562J5Yqf6IO9XG5cbmltcG9ydCB7IENvbmZpZ01hbmFnZXIgfSBmcm9tICcuL2NvbmZpZy1tYW5hZ2VyJztcbmltcG9ydCB7IEJMTVhfUHJvdG9jb2wsIExvZ0VudHJ5LCBNb21lbnRFbnRyeSB9IGZyb20gJy4vc2NyaXB0JztcbmltcG9ydCB7IFVJUmVuZGVyZXIgfSBmcm9tICcuL3VpLXJlbmRlcmVyJztcblxuLy8gQWxsb3cgdXNlIG9mIGxvZGFzaCBhcyBnbG9iYWxcbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuXG5leHBvcnQgY2xhc3MgTW9tZW50c01hbmFnZXIge1xuICBwcml2YXRlIGJsbXhNYW5hZ2VyOiBCTE1YX1Byb3RvY29sO1xuICBwcml2YXRlIGNvbmZpZ01hbmFnZXI6IENvbmZpZ01hbmFnZXI7XG4gIHByaXZhdGUgdWlSZW5kZXJlcjogVUlSZW5kZXJlcjtcbiAgcHJpdmF0ZSBoYXNNb21lbnROb3RpZmljYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihibG14TWFuYWdlcjogQkxNWF9Qcm90b2NvbCwgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlciwgdWlSZW5kZXJlcjogVUlSZW5kZXJlcikge1xuICAgIHRoaXMuYmxteE1hbmFnZXIgPSBibG14TWFuYWdlcjtcbiAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBjb25maWdNYW5hZ2VyO1xuICAgIHRoaXMudWlSZW5kZXJlciA9IHVpUmVuZGVyZXI7XG5cbiAgICAvLyDliJ3lp4vljJbpgJrnn6XnirbmgIFcbiAgICB0aGlzLmhhc01vbWVudE5vdGlmaWNhdGlvbiA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRNb21lbnROb3RpZmljYXRpb25TdGF0ZSgpO1xuICB9XG5cbiAgLy8g5riy5p+T5pyL5Y+L5ZyIXG4gIHJlbmRlck1vbWVudHNGZWVkKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5ibG14TWFuYWdlciB8fCAhdGhpcy51aVJlbmRlcmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBsb2dFbnRyaWVzID0gdGhpcy5ibG14TWFuYWdlci5sb2dFbnRyaWVzO1xuICAgIGNvbnN0IGF2YXRhcnMgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCkuYXZhdGFycztcblxuICAgIC8vIOS9v+eUqGpRdWVyeemAieaLqeWZqFxuICAgIGNvbnN0ICRtb21lbnRzRmVlZExpc3QgPSAkKCcjbW9tZW50cy1mZWVkLWxpc3QnKTtcbiAgICBpZiAoISRtb21lbnRzRmVlZExpc3QubGVuZ3RoKSByZXR1cm47XG5cbiAgICAvLyDmo4Dmn6XnlKjmiLfmmK/lkKblnKjmnIvlj4vlnIjnlYzpnaLvvIzlpoLmnpzmmK/liJnmm7TmlrDmnIDlkI7mn6XnnIvml7bpl7TmiLNcbiAgICBjb25zdCBpc0N1cnJlbnRseUluTW9tZW50c1ZpZXcgPSB0aGlzLmlzSW5Nb21lbnRzVmlldygpO1xuICAgIGlmIChpc0N1cnJlbnRseUluTW9tZW50c1ZpZXcpIHtcbiAgICAgIHRoaXMuc2V0TGFzdE1vbWVudFZpZXdUaW1lc3RhbXAoKTtcbiAgICAgIC8vIOa4hemZpOaci+WPi+WciOmAmuefpe+8jOWboOS4uueUqOaIt+ato+WcqOafpeeci+aci+WPi+WciFxuICAgICAgdGhpcy5zZXRNb21lbnROb3RpZmljYXRpb24oZmFsc2UpO1xuICAgIH1cblxuICAgICRtb21lbnRzRmVlZExpc3QuZW1wdHkoKTtcblxuICAgIC8vIOS9v+eUqGxvZGFzaOi/m+ihjOaVsOaNruWkhOeQhlxuICAgIGNvbnN0IHBvc3RzOiBSZWNvcmQ8bnVtYmVyLCBhbnk+ID0ge307XG4gICAgY29uc3QgbW9tZW50UG9zdExvZ0luZGljZXMgPSBfLnJlZHVjZShcbiAgICAgIGxvZ0VudHJpZXMsXG4gICAgICAocmVzdWx0OiBudW1iZXJbXSwgZW50cnk6IExvZ0VudHJ5LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmICgna2V5JyBpbiBlbnRyeSAmJiBlbnRyeS5rZXkuaW5jbHVkZXMoJ19NT01FTlQnKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIFtdLFxuICAgICk7XG5cbiAgICAvLyDmlLbpm4bmiYDmnInluJblrZBcbiAgICBfLmZvckVhY2gobW9tZW50UG9zdExvZ0luZGljZXMsIChsb2dJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IGxvZ0VudHJpZXNbbG9nSW5kZXhdO1xuICAgICAgcG9zdHNbbG9nSW5kZXhdID0geyAuLi5lbnRyeSwgbGlrZXM6IFtdLCBjb21tZW50czogW10sIGlkOiBsb2dJbmRleCB9O1xuICAgIH0pO1xuXG4gICAgLy8g5qOA5p+l5piv5ZCm5pyJQ0hBUuWPkeihqOeahOaWsOaci+WPi+WciOaIluivhOiuulxuICAgIGxldCBoYXNOZXdDaGFyTW9tZW50cyA9IGZhbHNlO1xuICAgIGNvbnN0IGxhc3RWaWV3VGltZXN0YW1wID0gdGhpcy5nZXRMYXN0TW9tZW50Vmlld1RpbWVzdGFtcCgpO1xuICAgIGNvbnN0IHVzZXJJbk1vbWVudHNWaWV3ID0gdGhpcy5pc0luTW9tZW50c1ZpZXcoKTtcblxuICAgIC8vIOWkhOeQhueCuei1nuWSjOivhOiuulxuICAgIF8uZm9yRWFjaChsb2dFbnRyaWVzLCAoZW50cnk6IExvZ0VudHJ5LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoJ2tleScgaW4gZW50cnkgJiYgKGVudHJ5LmtleS5pbmNsdWRlcygnX0xJS0UnKSB8fCBlbnRyeS5rZXkuaW5jbHVkZXMoJ19DT01NRU5UJykpKSB7XG4gICAgICAgIC8vIOS/ruWkjXRhcmdldF9wb3N0X2lk55qE5aSE55CG6YC76L6R77yM5L2/55So5LiO5Y6f54mI55u45ZCM55qE5pa55byPXG4gICAgICAgIGNvbnN0IHRhcmdldFBvc3RBYnNvbHV0ZUluZGV4ID0gbW9tZW50UG9zdExvZ0luZGljZXNbcGFyc2VJbnQoKGVudHJ5IGFzIGFueSkuZGF0YS50YXJnZXRfcG9zdF9pZCwgMTApXTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zdCA9IHBvc3RzW3RhcmdldFBvc3RBYnNvbHV0ZUluZGV4XTtcblxuICAgICAgICBpZiAodGFyZ2V0UG9zdCkge1xuICAgICAgICAgIGlmIChlbnRyeS5rZXkuaW5jbHVkZXMoJ19MSUtFJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpa2VyTmFtZSA9IGVudHJ5LmtleS5zdGFydHNXaXRoKCdVU0VSJykgPyB0aGlzLmdldERpc3BsYXlOYW1lKCd1c2VyJykgOiB0aGlzLmdldERpc3BsYXlOYW1lKCdjaGFyJyk7XG4gICAgICAgICAgICBpZiAoIV8uc29tZSh0YXJnZXRQb3N0Lmxpa2VzLCAobDogYW55KSA9PiBsLm5hbWUgPT09IGxpa2VyTmFtZSkpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0UG9zdC5saWtlcy5wdXNoKHsga2V5OiBlbnRyeS5rZXksIG5hbWU6IGxpa2VyTmFtZSwgb3JpZ2luYWxMb2dJbmRleDogaW5kZXggfSk7XG5cbiAgICAgICAgICAgICAgLy8g5aaC5p6c5pivQ0hBUueCuei1nu+8jOS4lOeUqOaIt+S4jeWcqOaci+WPi+WciOeVjOmdou+8jOajgOafpeaYr+WQpuaYr+aWsOa0u+WKqFxuICAgICAgICAgICAgICBpZiAoZW50cnkua2V5LnN0YXJ0c1dpdGgoJ0NIQVInKSAmJiAhdXNlckluTW9tZW50c1ZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyDkvb/nlKjntKLlvJXkvY3nva7mnaXliKTmlq3mmK/lkKbmmK/mlrDmtLvliqjvvJpcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzov5nkuKrngrnotZ7lnKjml6Xlv5fkuK3nmoTntKLlvJXlpKfkuo7mnIDlkI7mn6XnnIvmnIvlj4vlnIjml7bkv53lrZjnmoTml6Xlv5fplb/luqbvvIzor7TmmI7ov5nmmK/mlrDmtLvliqhcbiAgICAgICAgICAgICAgICBjb25zdCBpc05ld0FjdGl2aXR5ID0gaW5kZXggPiBsYXN0Vmlld1RpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdBY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgICAgaGFzTmV3Q2hhck1vbWVudHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRQb3N0LmNvbW1lbnRzLnB1c2goeyAuLi5lbnRyeSwgb3JpZ2luYWxMb2dJbmRleDogaW5kZXggfSk7XG5cbiAgICAgICAgICAgIC8vIOWmguaenOaYr0NIQVLor4TorrrvvIzkuJTnlKjmiLfkuI3lnKjmnIvlj4vlnIjnlYzpnaLvvIzmo4Dmn6XmmK/lkKbmmK/mlrDmtLvliqhcbiAgICAgICAgICAgIGlmIChlbnRyeS5rZXkuc3RhcnRzV2l0aCgnQ0hBUicpICYmICF1c2VySW5Nb21lbnRzVmlldykge1xuICAgICAgICAgICAgICAvLyDkvb/nlKjntKLlvJXkvY3nva7mnaXliKTmlq3mmK/lkKbmmK/mlrDmtLvliqhcbiAgICAgICAgICAgICAgY29uc3QgaXNOZXdBY3Rpdml0eSA9IGluZGV4ID4gbGFzdFZpZXdUaW1lc3RhbXA7XG4gICAgICAgICAgICAgIGlmIChpc05ld0FjdGl2aXR5KSB7XG4gICAgICAgICAgICAgICAgaGFzTmV3Q2hhck1vbWVudHMgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIGBbQkxNWF0gQ291bGQgbm90IGZpbmQgdGFyZ2V0IHBvc3QgZm9yIGludGVyYWN0aW9uLiB0YXJnZXRfcG9zdF9pZDogJHtcbiAgICAgICAgICAgICAgKGVudHJ5IGFzIGFueSkuZGF0YS50YXJnZXRfcG9zdF9pZFxuICAgICAgICAgICAgfSwgYXZhaWxhYmxlIHBvc3RzOiAke09iamVjdC5rZXlzKHBvc3RzKS5qb2luKCcsICcpfWAsXG4gICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOajgOafpUNIQVLlj5HooajnmoTmnIvlj4vlnIhcbiAgICAgIGlmICgna2V5JyBpbiBlbnRyeSAmJiBlbnRyeS5rZXkgPT09ICdDSEFSX01PTUVOVCcpIHtcbiAgICAgICAgLy8g5L2/55So57Si5byV5L2N572u5Yik5pat5piv5ZCm5piv5paw5pyL5Y+L5ZyIXG4gICAgICAgIGNvbnN0IGlzTmV3TW9tZW50ID0gaW5kZXggPiBsYXN0Vmlld1RpbWVzdGFtcDtcblxuICAgICAgICAvLyDlj6rmnInlvZPmmK/mlrDmnIvlj4vlnIjkuJTnlKjmiLfkuI3lnKjmnIvlj4vlnIjnlYzpnaLml7bmiY3mmL7npLrpgJrnn6VcbiAgICAgICAgaWYgKGlzTmV3TW9tZW50ICYmICF1c2VySW5Nb21lbnRzVmlldykge1xuICAgICAgICAgIGhhc05ld0NoYXJNb21lbnRzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5pu05paw5pyL5Y+L5ZyI6YCa55+l54q25oCBIC0g5Y+q5pyJ5b2T5pyJ5paw5rS75Yqo5LiU55So5oi35LiN5Zyo5pyL5Y+L5ZyI55WM6Z2i5pe25omN6K6+572u6YCa55+lXG4gICAgaWYgKCF1c2VySW5Nb21lbnRzVmlldykge1xuICAgICAgdGhpcy5zZXRNb21lbnROb3RpZmljYXRpb24oaGFzTmV3Q2hhck1vbWVudHMpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ1tCTE1YXSDmnIvlj4vlnIjpgJrnn6XnirbmgIE6Jywge1xuICAgICAgLy8gICBoYXNOZXdDaGFyTW9tZW50cyxcbiAgICAgIC8vICAgbGFzdFZpZXdJbmRleDogdGhpcy5nZXRMYXN0TW9tZW50Vmlld1RpbWVzdGFtcCgpLFxuICAgICAgLy8gICBjdXJyZW50TG9nTGVuZ3RoOiB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMubGVuZ3RoLFxuICAgICAgLy8gICB1c2VySW5Nb21lbnRzVmlldyxcbiAgICAgIC8vIH0pO1xuICAgIH1cblxuICAgIC8vIOWPjei9rOW4luWtkOmhuuW6j+W5tua4suafk1xuICAgIF8uY2hhaW4ocG9zdHMpXG4gICAgICAudmFsdWVzKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5mb3JFYWNoKChwb3N0OiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgZnJvbVVzZXIgPSBwb3N0LmtleS5zdGFydHNXaXRoKCdVU0VSJyk7XG4gICAgICAgIGNvbnN0IGF1dGhvck5hbWUgPSBmcm9tVXNlciA/IHRoaXMuZ2V0RGlzcGxheU5hbWUoJ3VzZXInKSA6IHRoaXMuZ2V0RGlzcGxheU5hbWUoJ2NoYXInKTtcbiAgICAgICAgY29uc3QgYXV0aG9yQXZhdGFyID0gZnJvbVVzZXIgPyBhdmF0YXJzLnVzZXIgOiBhdmF0YXJzLmNoYXI7XG5cbiAgICAgICAgY29uc3QgJGxpID0gJCgnPGxpPicpLmFkZENsYXNzKCdtb21lbnQtcG9zdCcpLmF0dHIoJ2RhdGEtcG9zdC1pZCcsIHBvc3QuaWQpO1xuXG4gICAgICAgIGNvbnN0IG1vbWVudFNlcXVlbmNlSWQgPSBtb21lbnRQb3N0TG9nSW5kaWNlcy5pbmRleE9mKHBvc3QuaWQpO1xuICAgICAgICAkbGkuYXR0cignZGF0YS1tb21lbnQtc2VxdWVuY2UtaWQnLCBTdHJpbmcobW9tZW50U2VxdWVuY2VJZCkpO1xuXG4gICAgICAgIC8vIOiuvue9rm1vbWVudC1pZOWxnuaAp++8jOS9v+eUqG1vbWVudFNlcXVlbmNlSWTkvZzkuLrmnIvlj4vlnIjnmoTllK/kuIDmoIfor4bnrKZcbiAgICAgICAgLy8g6L+Z5qC35Y+v5Lul56Gu5L+d54K56LWe5ZKM6K+E6K665q2j56Gu5YWz6IGU5Yiw5a+55bqU55qE5pyL5Y+L5ZyIXG4gICAgICAgICRsaS5hdHRyKCdkYXRhLW1vbWVudC1pZCcsIFN0cmluZyhtb21lbnRTZXF1ZW5jZUlkKSk7XG5cbiAgICAgICAgLy8g5p6E5bu65aqS5L2TSFRNTFxuICAgICAgICBsZXQgbWVkaWFIdG1sID0gJyc7XG4gICAgICAgIGlmIChwb3N0LmRhdGEuaW1hZ2VfdHlwZSA9PT0gJ3VybCcgJiYgcG9zdC5kYXRhLmltYWdlKSB7XG4gICAgICAgICAgbWVkaWFIdG1sID0gYDxpbWcgc3JjPVwiJHtwb3N0LmRhdGEuaW1hZ2V9XCIgY2xhc3M9XCJwb3N0LW1lZGlhLWltYWdlXCIgLz5gO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc3QuZGF0YS5pbWFnZV90eXBlID09PSAnZGVzYycgJiYgcG9zdC5kYXRhLmltYWdlKSB7XG4gICAgICAgICAgbWVkaWFIdG1sID0gYDxkaXYgY2xhc3M9XCJpbWFnZS1kZXNjLWNvbnRlbnRcIj48ZGl2IGNsYXNzPVwidGV4dC13cmFwcGVyXCI+JHtwb3N0LmRhdGEuaW1hZ2V9PC9kaXY+PC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaehOW7uuS6kuWKqOWMuuWfn0hUTUxcbiAgICAgICAgbGV0IGludGVyYWN0aW9uc0h0bWwgPSAnJztcbiAgICAgICAgaWYgKHBvc3QubGlrZXMubGVuZ3RoID4gMCB8fCBwb3N0LmNvbW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBsaWtlcnNIdG1sID1cbiAgICAgICAgICAgIHBvc3QubGlrZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGA8ZGl2IGNsYXNzPVwibGlrZXMtc2VjdGlvblwiPjxpIGNsYXNzPVwiZmFzIGZhLWhlYXJ0XCI+PC9pPiAke18ubWFwKFxuICAgICAgICAgICAgICAgICAgcG9zdC5saWtlcyxcbiAgICAgICAgICAgICAgICAgIChsOiBhbnkpID0+IGA8c3BhbiBjbGFzcz1cImxpa2VyLW5hbWVcIj4ke2wubmFtZX08L3NwYW4+YCxcbiAgICAgICAgICAgICAgICApLmpvaW4oJywgJyl9PC9kaXY+YFxuICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgY29uc3QgY29tbWVudHNIdG1sID1cbiAgICAgICAgICAgIHBvc3QuY29tbWVudHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGA8dWwgY2xhc3M9XCJjb21tZW50cy1zZWN0aW9uXCI+JHtfLm1hcChcbiAgICAgICAgICAgICAgICAgIHBvc3QuY29tbWVudHMsXG4gICAgICAgICAgICAgICAgICAoYzogYW55KSA9PlxuICAgICAgICAgICAgICAgICAgICBgPGxpPjxzcGFuIGNsYXNzPVwiY29tbWVudC1hdXRob3JcIj4ke1xuICAgICAgICAgICAgICAgICAgICAgIGMua2V5LnN0YXJ0c1dpdGgoJ1VTRVInKSA/IHRoaXMuZ2V0RGlzcGxheU5hbWUoJ3VzZXInKSA6IHRoaXMuZ2V0RGlzcGxheU5hbWUoJ2NoYXInKVxuICAgICAgICAgICAgICAgICAgICB9PC9zcGFuPjogJHtjLmRhdGEudGV4dH08L2xpPmAsXG4gICAgICAgICAgICAgICAgKS5qb2luKCcnKX08L3VsPmBcbiAgICAgICAgICAgICAgOiAnJztcblxuICAgICAgICAgIGludGVyYWN0aW9uc0h0bWwgPSBgPGRpdiBjbGFzcz1cInBvc3QtaW50ZXJhY3Rpb25zXCI+JHtsaWtlcnNIdG1sfSR7Y29tbWVudHNIdG1sfTwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDkvb/nlKjoh6rlrprkuYnmoLzlvI/ljJbml7bpl7Tlh73mlbBcbiAgICAgICAgY29uc3QgZGlzcGxheVRpbWUgPSB0aGlzLmZvcm1hdE1vbWVudFRpbWUocG9zdC5kYXRhLmRhdGUsIHBvc3QuZGF0YS50aW1lKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQnRuSHRtbCA9IGA8c3BhbiBjbGFzcz1cImRlbGV0ZS1tb21lbnQtYnRuXCIgdGl0bGU9XCLliKDpmaRcIj7liKDpmaQ8L3NwYW4+YDtcblxuICAgICAgICAkbGkuaHRtbChgPGltZyBzcmM9XCIke2F1dGhvckF2YXRhcn1cIiBjbGFzcz1cInBvc3QtYXV0aG9yLWF2YXRhclwiIC8+XG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG9zdC1hdXRob3ItbmFtZVwiPiR7YXV0aG9yTmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBvc3QtY29udGVudFwiPiR7cG9zdC5kYXRhLnRleHQgfHwgJyd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtbWVkaWFcIj4ke21lZGlhSHRtbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LW1ldGFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdC1tZXRhLWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aW1lc3RhbXBcIj4ke2Rpc3BsYXlUaW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtkZWxldGVCdG5IdG1sfVxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LWFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb21tZW50LWJ1dHRvblwiIHRpdGxlPVwi6K+E6K66L+eCuei1nlwiPjxpIGNsYXNzPVwiZmFzIGZhLWNvbW1lbnQtZG90c1wiPjwvaT48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICR7aW50ZXJhY3Rpb25zSHRtbH1cbiAgICAgICAgICAgICAgICAgPC9kaXY+YCk7XG5cbiAgICAgICAgJG1vbWVudHNGZWVkTGlzdC5hcHBlbmQoJGxpKTtcbiAgICAgIH0pXG4gICAgICAudmFsdWUoKTtcblxuICAgIC8vIOehruS/neWKoOi9veacgOaWsOeahOWwgemdouWbvueJh1xuICAgIGNvbnN0IHNhdmVkQ292ZXJQaG90byA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRTYXZlZENvdmVyUGhvdG8oKTtcbiAgICBpZiAoc2F2ZWRDb3ZlclBob3RvKSB7XG4gICAgICAkKCcjbW9tZW50cy1jb3Zlci1waG90bycpLmF0dHIoJ3NyYycsIHNhdmVkQ292ZXJQaG90byk7XG4gICAgfVxuICB9XG5cbiAgLy8g5qC85byP5YyW5pyL5Y+L5ZyI5pe26Ze05pi+56S6XG4gIHByaXZhdGUgZm9ybWF0TW9tZW50VGltZShkYXRlU3RyaW5nOiBzdHJpbmcsIHRpbWVTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOS9v+eUqOa4uOaIj+WGheaXtumXtOiAjOmdnueOsOWunuaXtumXtFxuICAgICAgY29uc3Qgbm93ID0gd2luZG93LmN1cnJlbnRHYW1lRGF0ZSA/IG5ldyBEYXRlKHdpbmRvdy5jdXJyZW50R2FtZURhdGUpIDogbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHtkYXRlU3RyaW5nfSAke3RpbWVTdHJpbmd9YCk7XG5cbiAgICAgIGNvbnN0IGRpZmZNcyA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKTtcbiAgICAgIGNvbnN0IGRpZmZNaW5zID0gTWF0aC5mbG9vcihkaWZmTXMgLyA2MDAwMCk7XG4gICAgICBjb25zdCBkaWZmSG91cnMgPSBNYXRoLmZsb29yKGRpZmZNaW5zIC8gNjApO1xuICAgICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmZsb29yKGRpZmZIb3VycyAvIDI0KTtcblxuICAgICAgaWYgKGRpZmZNaW5zIDwgMSkge1xuICAgICAgICByZXR1cm4gJ+WImuWImic7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZNaW5zIDwgNjApIHtcbiAgICAgICAgcmV0dXJuIGAke2RpZmZNaW5zfeWIhumSn+WJjWA7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZIb3VycyA8IDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtkaWZmSG91cnN95bCP5pe25YmNYDtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZkRheXMgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuICfmmKjlpKknO1xuICAgICAgfSBlbHNlIGlmIChkaWZmRGF5cyA9PT0gMikge1xuICAgICAgICByZXR1cm4gJ+WJjeWkqSc7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZEYXlzIDwgNykge1xuICAgICAgICByZXR1cm4gYCR7ZGlmZkRheXN95aSp5YmNYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOi2hei/h+S4gOWRqOaYvuekuuWFt+S9k+aXpeacn1xuICAgICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICByZXR1cm4gYCR7bW9udGh95pyIJHtkYXl95pelYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5pe26Ze05qC85byP5YyW6ZSZ6K+vOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBgJHtkYXRlU3RyaW5nfSAke3RpbWVTdHJpbmd9YDtcbiAgICB9XG4gIH1cblxuICAvLyDojrflj5bmmL7npLrlkI3np7BcbiAgcHJpdmF0ZSBnZXREaXNwbGF5TmFtZSh0eXBlOiAndXNlcicgfCAnY2hhcicpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0RGlzcGxheU5hbWUodHlwZSk7XG4gIH1cblxuICAvLyDmo4Dmn6XnlKjmiLfmmK/lkKblnKjmnIvlj4vlnIjnlYzpnaJcbiAgcHJpdmF0ZSBpc0luTW9tZW50c1ZpZXcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICQoJyNtb21lbnRzLXZpZXcnKS5oYXNDbGFzcygnYWN0aXZlJyk7XG4gIH1cblxuICAvLyDojrflj5bmnIvlj4vlnIjpgJrnn6XnirbmgIFcbiAgaGFzTW9tZW50Tm90aWZpY2F0aW9ucygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmdldE1vbWVudE5vdGlmaWNhdGlvblN0YXRlKCk7XG4gIH1cblxuICAvLyDorr7nva7mnIvlj4vlnIjpgJrnn6XnirbmgIFcbiAgc2V0TW9tZW50Tm90aWZpY2F0aW9uKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5oYXNNb21lbnROb3RpZmljYXRpb24gPSB2YWx1ZTtcbiAgICB0aGlzLmNvbmZpZ01hbmFnZXIuc2V0TW9tZW50Tm90aWZpY2F0aW9uU3RhdGUodmFsdWUpO1xuICAgIC8vIOabtOaWsFVJ5Lit55qE6YCa55+l5oyH56S65ZmoXG4gICAgdGhpcy51cGRhdGVNb21lbnROb3RpZmljYXRpb25JbmRpY2F0b3IoKTtcbiAgfVxuXG4gIC8vIOabtOaWsOaci+WPi+WciOmAmuefpeaMh+ekuuWZqFxuICBwcml2YXRlIHVwZGF0ZU1vbWVudE5vdGlmaWNhdGlvbkluZGljYXRvcigpOiB2b2lkIHtcbiAgICBjb25zdCAkb3B0aW9uc0J0biA9ICQoJyN3ZWNoYXQtb3B0aW9ucy1idG4nKTtcbiAgICBpZiAodGhpcy5oYXNNb21lbnROb3RpZmljYXRpb24pIHtcbiAgICAgIGlmICghJG9wdGlvbnNCdG4uZmluZCgnLm5vdGlmaWNhdGlvbi1kb3QnKS5sZW5ndGgpIHtcbiAgICAgICAgJG9wdGlvbnNCdG4uYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm5vdGlmaWNhdGlvbi1kb3RcIj48L3NwYW4+Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRvcHRpb25zQnRuLmZpbmQoJy5ub3RpZmljYXRpb24tZG90JykucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5pyA5ZCO5p+l55yL5pyL5Y+L5ZyI5pe255qE5pe26Ze05oizXG4gIHByaXZhdGUgZ2V0TGFzdE1vbWVudFZpZXdUaW1lc3RhbXAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmdldExhc3RNb21lbnRWaWV3VGltZXN0YW1wKCk7XG4gIH1cblxuICAvLyDorr7nva7mnIDlkI7mn6XnnIvmnIvlj4vlnIjml7bnmoTml7bpl7TmiLNcbiAgc2V0TGFzdE1vbWVudFZpZXdUaW1lc3RhbXAoKTogdm9pZCB7XG4gICAgLy8g5L+d5a2Y5b2T5YmN5pel5b+X6ZW/5bqm5L2c5Li65pyA5ZCO5p+l55yL5pe26Ze054K5XG4gICAgY29uc3QgY3VycmVudExvZ0xlbmd0aCA9IHRoaXMuYmxteE1hbmFnZXIubG9nRW50cmllcy5sZW5ndGg7XG4gICAgdGhpcy5jb25maWdNYW5hZ2VyLnNldExhc3RNb21lbnRWaWV3VGltZXN0YW1wKGN1cnJlbnRMb2dMZW5ndGgpO1xuICB9XG5cbiAgLy8g6L+b5YWl5pyL5Y+L5ZyI6KeG5Zu+5pe255qE5aSE55CGXG4gIG9uRW50ZXJNb21lbnRzVmlldygpOiB2b2lkIHtcbiAgICAvLyBjb25zb2xlLmxvZygnW0JMTVhdIOi/m+WFpeaci+WPi+WciOinhuWbvu+8jOa4hemZpOmAmuefpeW5tuabtOaWsOacgOWQjuafpeeci+aXtumXtCcpO1xuXG4gICAgLy8g5L2/55SoalF1ZXJ55pu05paw5bCB6Z2i5Zu+54mHXG4gICAgY29uc3Qgc2F2ZWRDb3ZlclBob3RvID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldFNhdmVkQ292ZXJQaG90bygpO1xuICAgIGlmIChzYXZlZENvdmVyUGhvdG8pIHtcbiAgICAgICQoJyNtb21lbnRzLWNvdmVyLXBob3RvJykuYXR0cignc3JjJywgc2F2ZWRDb3ZlclBob3RvKTtcbiAgICB9XG5cbiAgICAvLyDkvb/nlKhqUXVlcnnmm7TmlrDkuKrmgKfnrb7lkI1cbiAgICBjb25zdCBzYXZlZFNpZ25hdHVyZSA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRTYXZlZFNpZ25hdHVyZSgpO1xuICAgICQoJyN1c2VyLXNpZ25hdHVyZS1kaXNwbGF5JykudGV4dChzYXZlZFNpZ25hdHVyZSB8fCAn54K55Ye75aS05YOP6K6+572u5Liq5oCn562+5ZCNJyk7XG5cbiAgICAvLyDmuIXpmaTmnIvlj4vlnIjpgJrnn6VcbiAgICB0aGlzLnNldE1vbWVudE5vdGlmaWNhdGlvbihmYWxzZSk7XG5cbiAgICAvLyDmm7TmlrDmnIDlkI7mn6XnnIvmnIvlj4vlnIjnmoTml7bpl7TmiLNcbiAgICB0aGlzLnNldExhc3RNb21lbnRWaWV3VGltZXN0YW1wKCk7XG5cbiAgICAvLyDorrDlvZXlvZPliY3ml6Xlv5fplb/luqbnlKjkuo7osIPor5VcbiAgICAvLyBjb25zb2xlLmxvZygnW0JMTVhdIOabtOaWsOaci+WPi+WciOacgOWQjuafpeeci+e0ouW8leS4ujonLCB0aGlzLmJsbXhNYW5hZ2VyLmxvZ0VudHJpZXMubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIOWIm+W7uueUqOaIt+aci+WPi+WciOWKqOaAgVxuICBjcmVhdGVVc2VyTW9tZW50KHRleHQ6IHN0cmluZywgaW1hZ2U6IHN0cmluZyA9ICcnLCBpbWFnZVR5cGU6IHN0cmluZyA9ICdub25lJyk6IE1vbWVudEVudHJ5IHtcbiAgICAvLyDojrflj5blvZPliY3ml6XmnJ/ml7bpl7RcbiAgICBjb25zdCBub3cgPSB3aW5kb3cuY3VycmVudEdhbWVEYXRlIHx8IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGF0ZVN0ciA9IGAke25vdy5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyl9LSR7U3RyaW5nKFxuICAgICAgbm93LmdldERhdGUoKSxcbiAgICApLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICBjb25zdCB0aW1lU3RyID0gYCR7U3RyaW5nKG5vdy5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpfToke1N0cmluZyhub3cuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICByZXR1cm4ge1xuICAgICAga2V5OiAnVVNFUl9NT01FTlQnLFxuICAgICAgZGF0YToge1xuICAgICAgICB0ZXh0LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgaW1hZ2VfdHlwZTogaW1hZ2VUeXBlIGFzICd1cmwnIHwgJ2Rlc2MnIHwgJ25vbmUnLFxuICAgICAgICBkYXRlOiBkYXRlU3RyLFxuICAgICAgICB0aW1lOiB0aW1lU3RyLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8g5Y+R6YCB5pyL5Y+L5ZyI5Yqo5oCB6YCa55+l77yI55So5LqO55So5oi35ZCN44CB562+5ZCN562J5Y+Y5pu077yJXG4gIG5vdGlmeU1vbWVudENoYW5nZSh0eXBlOiAnbmFtZScgfCAnc2lnbmF0dXJlJywgX29sZFZhbHVlOiBzdHJpbmcsIG5ld1ZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgIHRleHQgPSBg5oiR5pS55ZCN5a2X5ZWm77yM5paw5ZCN5a2X5pivXCIke25ld1ZhbHVlfVwiYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgICAgICB0ZXh0ID0gYOaIkeeahOS4quaAp+etvuWQjeW3suabtOaUueS4uu+8mlwiJHtuZXdWYWx1ZX1cImA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG1vbWVudEVudHJ5ID0gdGhpcy5jcmVhdGVVc2VyTW9tZW50KHRleHQpO1xuXG4gICAgLy8g5re75Yqg5Yiw6IGK5aSp6K6w5b2VXG4gICAgdGhpcy5ibG14TWFuYWdlci5hZGRFbnRyeShtb21lbnRFbnRyeSk7XG4gICAgdGhpcy5yZW5kZXJNb21lbnRzRmVlZCgpO1xuICB9XG5cbiAgLy8g5aSE55CG5raI5oGv5pKk5Zue55qE5pyL5Y+L5ZyI6YCa55+lXG4gIG5vdGlmeVJlY2FsbFZpYU1vbWVudHMoc2VuZGVyOiAnVVNFUicgfCAnQ0hBUicsIHRhcmdldFRleHQ6IHN0cmluZyk6IGFueSB7XG4gICAgLy8g6I635Y+W5b2T5YmN5pel5pyf5pe26Ze0XG4gICAgY29uc3Qgbm93ID0gd2luZG93LmN1cnJlbnRHYW1lRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHRpbWVTdHIgPSBgJHtTdHJpbmcobm93LmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblxuICAgIC8vIOWIm+W7uuaSpOWbnumAmuefpeadoeebrlxuICAgIGNvbnN0IHJlY2FsbEVudHJ5ID0ge1xuICAgICAga2V5OiAnUkVDQUxMJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VuZGVyOiBzZW5kZXIsXG4gICAgICAgIHRhcmdldF90ZXh0OiB0YXJnZXRUZXh0LFxuICAgICAgICB0aW1lc3RhbXA6IGAke3RpbWVTdHJ9YCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIOa3u+WKoOWIsOiBiuWkqeiusOW9lVxuICAgIHRoaXMuYmxteE1hbmFnZXIuYWRkRW50cnkocmVjYWxsRW50cnkgYXMgYW55KTtcblxuICAgIHJldHVybiByZWNhbGxFbnRyeTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/moments-manager.ts\n\n}");
  },
  "./src/同层手机/script.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BLMX_Protocol: () => (/* binding */ BLMX_Protocol),\n/* harmony export */   getTavernHelper: () => (/* binding */ getTavernHelper)\n/* harmony export */ });\n// 为TavernHelper创建一个访问器函数\nfunction getTavernHelper() {\n    return window.parent.TavernHelper;\n}\nclass BLMX_Protocol {\n    logEntries = [];\n    messageId = null;\n    charId;\n    LOG_START_TAG = '===BLMX_LOG_BEGIN===';\n    LOG_END_TAG = '===BLMX_LOG_END===';\n    constructor(charId) {\n        this.charId = charId;\n    }\n    // 获取角色ID\n    getCharId() {\n        return this.charId;\n    }\n    async initialize() {\n        // console.log('[BLMX] Initializing and scanning for chat history...');\n        const lastMessageId = await getTavernHelper().getLastMessageId();\n        if (lastMessageId === null) {\n            // console.warn('[BLMX] No messages found. Starting fresh at message ID 0.');\n            this.messageId = 0;\n            this.logEntries = [];\n            await this.persistLogToStorage();\n            return true;\n        }\n        let latestUiMessage = null;\n        const previousUiMessages = [];\n        for (let i = lastMessageId; i >= 0; i--) {\n            try {\n                const msg = (await getTavernHelper().getChatMessages(i))[0];\n                if (msg && msg.message && msg.message.includes(this.LOG_START_TAG)) {\n                    if (!latestUiMessage) {\n                        latestUiMessage = { id: i, content: msg.message };\n                    }\n                    else {\n                        previousUiMessages.push({ id: i, content: msg.message });\n                    }\n                }\n            }\n            catch (error) {\n                // Ignore errors, likely message not found\n            }\n        }\n        if (!latestUiMessage) {\n            // console.log('[BLMX] No UI log found. Creating a new one in the latest message.');\n            this.messageId = lastMessageId;\n            this.logEntries = [];\n            await this.persistLogToStorage();\n            return true;\n        }\n        // console.log(`[BLMX] Found latest UI log in message ${latestUiMessage.id}. Consolidating...`);\n        this.messageId = latestUiMessage.id;\n        const consolidatedLogParts = [];\n        const latestLogStartIndex = latestUiMessage.content.indexOf(this.LOG_START_TAG);\n        const latestLogEndIndex = latestUiMessage.content.indexOf(this.LOG_END_TAG);\n        if (latestLogStartIndex !== -1 && latestLogEndIndex !== -1) {\n            const logPart = latestUiMessage.content\n                .slice(latestLogStartIndex + this.LOG_START_TAG.length, latestLogEndIndex)\n                .trim();\n            if (logPart)\n                consolidatedLogParts.push(logPart);\n        }\n        for (const prevMsg of previousUiMessages) {\n            const prevLogStartIndex = prevMsg.content.indexOf(this.LOG_START_TAG);\n            const prevLogEndIndex = prevMsg.content.indexOf(this.LOG_END_TAG);\n            if (prevLogStartIndex !== -1 && prevLogEndIndex !== -1) {\n                const logPart = prevMsg.content.slice(prevLogStartIndex + this.LOG_START_TAG.length, prevLogEndIndex).trim();\n                if (logPart)\n                    consolidatedLogParts.unshift(logPart);\n                const cleanedContent = prevMsg.content.substring(0, prevLogStartIndex) +\n                    prevMsg.content.substring(prevLogEndIndex + this.LOG_END_TAG.length);\n                await getTavernHelper().setChatMessage(cleanedContent.trim(), prevMsg.id, { refresh: 'none' });\n                // console.log(`[BLMX] Cleaned and moved UI log from message ${prevMsg.id}.`);\n            }\n        }\n        const finalLogString = consolidatedLogParts.join('\\n');\n        this._parseLogFromString(finalLogString);\n        await this.persistLogToStorage();\n        // console.log(`[BLMX] Consolidated log saved to message ${this.messageId}.`);\n        return true;\n    }\n    async persistLogToStorage() {\n        if (this.messageId === null) {\n            console.warn('[BLMX] Cannot save log, message_id not initialized.'); // 保留重要警告\n            return;\n        }\n        try {\n            const logString = this._renderLogToString();\n            const existingMessage = (await getTavernHelper().getChatMessages(this.messageId))[0];\n            const existingContent = existingMessage ? existingMessage.message : '';\n            const logStartIndex = existingContent.indexOf(this.LOG_START_TAG);\n            const logEndIndex = existingContent.indexOf(this.LOG_END_TAG);\n            const newLogBlock = `${this.LOG_START_TAG}\\n${logString}\\n${this.LOG_END_TAG}`;\n            let fullText;\n            if (logStartIndex !== -1 && logEndIndex !== -1) {\n                fullText =\n                    existingContent.substring(0, logStartIndex) +\n                        newLogBlock +\n                        existingContent.substring(logEndIndex + this.LOG_END_TAG.length);\n            }\n            else {\n                fullText = existingContent + '\\n' + newLogBlock;\n            }\n            await getTavernHelper().setChatMessage(fullText.trim(), this.messageId, { refresh: 'none' });\n        }\n        catch (error) {\n            console.error('Failed to save narrative log to text box:', error);\n        }\n    }\n    _parseLogFromString(logString) {\n        this.logEntries = [];\n        const lines = logString.split('\\n').filter(line => line.trim() !== '');\n        lines.forEach(line => {\n            const separatorIndex = line.indexOf(':');\n            if (separatorIndex === -1)\n                return;\n            const key = line.substring(0, separatorIndex).trim();\n            const value = line.substring(separatorIndex + 1).trim();\n            try {\n                switch (key) {\n                    case 'USER_MOMENT':\n                    case 'CHAR_MOMENT':\n                    case 'USER_COMMENT':\n                    case 'CHAR_COMMENT':\n                    case 'USER_LIKE':\n                    case 'CHAR_LIKE':\n                        try {\n                            const data = JSON.parse(value);\n                            this.logEntries.push({ key, data });\n                        }\n                        catch (error) {\n                            console.warn('[BLMX] 解析朋友圈数据失败:', value, error);\n                        }\n                        break;\n                    case 'TIME':\n                    case 'EVENT_LOG':\n                        if (value) {\n                            try {\n                                const data = JSON.parse(value);\n                                // console.log(`[BLMX] 解析${key}数据:`, data);\n                                // 验证必要字段\n                                if (!data.date || !data.time) {\n                                    console.warn(`[BLMX] ${key}缺少必要字段:`, data);\n                                    // 尝试补充缺失字段\n                                    if (!data.date || !data.time) {\n                                        const now = new Date();\n                                        if (!data.date) {\n                                            data.date = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n                                            // console.log(`[BLMX] 为${key}补充日期:`, data.date);\n                                        }\n                                        if (!data.time) {\n                                            data.time = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\n                                            // console.log(`[BLMX] 为${key}补充时间:`, data.time);\n                                        }\n                                    }\n                                }\n                                const entryType = key === 'TIME' ? 'time' : 'event';\n                                const newEntry = { type: entryType, content: data };\n                                this.logEntries.push(newEntry);\n                                // console.log(`[BLMX] 添加${key}条目:`, newEntry);\n                                const timeDate = new Date(`${data.date} ${data.time}`);\n                                if (!isNaN(timeDate.getTime())) {\n                                    window.currentGameDate = timeDate;\n                                    const timeElement = document.getElementById('current-time');\n                                    if (timeElement) {\n                                        const timeString = `${window.currentGameDate\n                                            .getHours()\n                                            .toString()\n                                            .padStart(2, '0')}:${window.currentGameDate.getMinutes().toString().padStart(2, '0')}`;\n                                        timeElement.textContent = timeString;\n                                    }\n                                }\n                            }\n                            catch (error) {\n                                console.error(`[BLMX] 解析${key}失败:`, value, error);\n                            }\n                        }\n                        else {\n                            // console.warn(`[BLMX] ${key}值为空`);\n                        }\n                        break;\n                    case 'RECALL': {\n                        // console.log('[BLMX] 从存储中加载RECALL数据:', value);\n                        try {\n                            const recallData = JSON.parse(value);\n                            const senderToFind = recallData.sender === 'USER' ? 'me' : 'them';\n                            // 获取target_text，支持多种可能的属性名\n                            const targetText = recallData.target_text || recallData['target text'] || recallData.text || '';\n                            if (!targetText) {\n                                console.warn('[BLMX] RECALL数据缺少目标文本:', recallData);\n                                break;\n                            }\n                            // 使用更灵活的查找方法\n                            const entryToRecall = this.logEntries\n                                .slice()\n                                .reverse()\n                                .find(e => {\n                                // 必须是有sender和content的消息\n                                if (!('sender' in e) || e.sender !== senderToFind || !('content' in e)) {\n                                    return false;\n                                }\n                                // 精确匹配\n                                if (e.content === targetText) {\n                                    return true;\n                                }\n                                // 模糊匹配（去除标点符号和空格后比较）\n                                const normalizeText = (text) => typeof text === 'string' ? text.replace(/[^\\w\\u4e00-\\u9fa5]/g, '').toLowerCase() : '';\n                                if (typeof e.content === 'string') {\n                                    // 模糊匹配文本\n                                    if (normalizeText(e.content) === normalizeText(targetText)) {\n                                        return true;\n                                    }\n                                    // 包含匹配\n                                    if (e.content.includes(targetText) || targetText.includes(e.content)) {\n                                        return true;\n                                    }\n                                }\n                                // 对于复杂内容对象的匹配\n                                if (typeof e.content === 'object' && e.content !== null) {\n                                    try {\n                                        // 比较序列化后的JSON\n                                        if (JSON.stringify(e.content) === targetText) {\n                                            return true;\n                                        }\n                                        // 如果是语音消息，比较text字段\n                                        if ('text' in e.content) {\n                                            const voiceText = e.content.text;\n                                            if (voiceText === targetText || normalizeText(voiceText) === normalizeText(targetText)) {\n                                                return true;\n                                            }\n                                        }\n                                    }\n                                    catch (err) {\n                                        console.warn('[BLMX] 比较复杂内容失败:', err);\n                                    }\n                                }\n                                return false;\n                            });\n                            if (entryToRecall) {\n                                // console.log('[BLMX] 找到并标记要撤回的消息:', entryToRecall);\n                                entryToRecall.recalled = true;\n                                entryToRecall.recalled_content = entryToRecall.content;\n                                entryToRecall.recalled_timestamp = recallData.timestamp || new Date().toISOString();\n                            }\n                            else {\n                                console.warn('[BLMX] 未找到要撤回的消息:', {\n                                    sender: senderToFind,\n                                    target_text: targetText,\n                                    recall_data: recallData,\n                                });\n                            }\n                        }\n                        catch (error) {\n                            console.error('[BLMX] 处理RECALL数据失败:', error);\n                        }\n                        break;\n                    }\n                    case 'USER':\n                    case 'CHAR': {\n                        const sender = key === 'USER' ? 'me' : 'them';\n                        const id = `msg-${Date.now()}${Math.random()}-${sender}`;\n                        const voiceMatch = value.match(/^\\[语音:\\s*({.*})\\]/);\n                        if (voiceMatch) {\n                            try {\n                                const voiceData = JSON.parse(voiceMatch[1]);\n                                this.logEntries.push({ id, type: 'voice', sender, content: voiceData });\n                                return;\n                            }\n                            catch (e) {\n                                console.error('Failed to parse voice data:', voiceMatch[1], e);\n                                // 添加默认语音数据\n                                this.logEntries.push({ id, type: 'voice', sender, content: { text: '', duration: 0 } });\n                                return;\n                            }\n                        }\n                        const stickerMatch = value.match(/^\\[表情:\\s*(.*)\\]/);\n                        if (stickerMatch) {\n                            this.logEntries.push({ id, type: 'sticker', sender, content: stickerMatch[1] });\n                            return;\n                        }\n                        const imageMatch = value.match(/^\\[图片:\\s*(.*)\\]/);\n                        if (imageMatch) {\n                            try {\n                                const imgData = JSON.parse(imageMatch[1]);\n                                this.logEntries.push({ id, type: 'image', sender, content: imgData });\n                            }\n                            catch (e) {\n                                this.logEntries.push({\n                                    id,\n                                    type: 'image',\n                                    sender,\n                                    content: { type: 'desc', value: imageMatch[1] },\n                                });\n                            }\n                            return;\n                        }\n                        const locationMatch = value.match(/^\\[位置:\\s*(.*)\\]/);\n                        if (locationMatch) {\n                            this.logEntries.push({ id, type: 'location', sender, content: locationMatch[1] });\n                            return;\n                        }\n                        const transferMatch = value.match(/^\\[转账:\\s*(.*)\\]/);\n                        if (transferMatch) {\n                            this.logEntries.push({\n                                id,\n                                type: 'transfer',\n                                sender,\n                                content: transferMatch[1],\n                                data: (() => {\n                                    try {\n                                        return JSON.parse(transferMatch[1]);\n                                    }\n                                    catch (e) {\n                                        console.error('Failed to parse transfer data:', transferMatch[1], e);\n                                        return { amount: 0, message: '' };\n                                    }\n                                })(),\n                            });\n                            return;\n                        }\n                        const fileMatch = value.match(/^\\[文件:\\s*(.*)\\]/);\n                        if (fileMatch) {\n                            this.logEntries.push({ id, type: 'file', sender, content: fileMatch[1] });\n                            return;\n                        }\n                        const giftMatch = value.match(/^\\[礼物:\\s*(.*)\\]/);\n                        if (giftMatch) {\n                            this.logEntries.push({\n                                id,\n                                type: 'gift',\n                                sender,\n                                content: giftMatch[1],\n                                data: (() => {\n                                    try {\n                                        return JSON.parse(giftMatch[1]);\n                                    }\n                                    catch (e) {\n                                        console.error('Failed to parse gift data:', giftMatch[1], e);\n                                        return { name: '', value: 0 };\n                                    }\n                                })(),\n                            });\n                            return;\n                        }\n                        this.logEntries.push({ id, type: 'message', sender, content: value });\n                        break;\n                    }\n                }\n            }\n            catch (e) {\n                console.error('Failed to parse log line:', line, e);\n            }\n        });\n    }\n    _renderLogToString() {\n        const recallCommands = [];\n        const allEntriesString = this.logEntries\n            .map(e => {\n            if (e.recalled) {\n                const recallData = {\n                    sender: 'sender' in e && e.sender === 'me' ? 'USER' : 'CHAR',\n                    target_text: typeof e.recalled_content === 'object' && e.recalled_content !== null\n                        ? e.recalled_content.text\n                        : e.recalled_content,\n                    timestamp: e.recalled_timestamp,\n                };\n                if (recallData.target_text) {\n                    recallCommands.push(`RECALL: ${JSON.stringify(recallData)}`);\n                }\n            }\n            if ('key' in e) {\n                return `${e.key}: ${JSON.stringify(e.data)}`;\n            }\n            if ('type' in e) {\n                if (e.type === 'time' || e.type === 'event') {\n                    const key = e.type === 'time' ? 'TIME' : 'EVENT_LOG';\n                    // console.log(`[BLMX] 序列化${key}条目:`, e);\n                    return `${key}: ${JSON.stringify(e.content)}`;\n                }\n                const prefix = e.sender === 'me' ? 'USER' : 'CHAR';\n                let content = e.content;\n                switch (e.type) {\n                    case 'sticker':\n                        content = `[表情: ${e.content}]`;\n                        break;\n                    case 'voice':\n                        content = `[语音: ${JSON.stringify(e.content)}]`;\n                        break;\n                    case 'image':\n                        content = `[图片: ${JSON.stringify(e.content)}]`;\n                        break;\n                    case 'location':\n                        content = `[位置: ${e.content}]`;\n                        break;\n                    case 'file':\n                        content = `[文件: ${e.content}]`;\n                        break;\n                    case 'gift':\n                        content = `[礼物: ${e.content}]`;\n                        break;\n                    case 'transfer':\n                        content = `[转账: ${e.content}]`;\n                        break;\n                }\n                return `${prefix}: ${content}`;\n            }\n            return ''; // Should not happen for valid entries\n        })\n            .join('\\n');\n        return [allEntriesString, ...recallCommands].filter(Boolean).join('\\n');\n    }\n    // 简化的addEntry方法 - 对表情包消息不进行重复检查\n    addEntry(entry) {\n        if (entry) {\n            // 对于表情包消息，直接添加，不进行重复检查\n            if ('type' in entry && entry.type === 'sticker') {\n                this.logEntries.push(entry);\n                return;\n            }\n            // 对于其他类型的条目，进行重复检查\n            const isDuplicate = this.logEntries.some(existingEntry => {\n                // 检查朋友圈相关条目\n                if ('key' in entry && 'key' in existingEntry) {\n                    if (entry.key === existingEntry.key) {\n                        // 对于朋友圈动态，比较文本和时间\n                        if (entry.key.includes('_MOMENT')) {\n                            const entryData = entry.data;\n                            const existingData = existingEntry.data;\n                            return (existingData.text === entryData.text &&\n                                existingData.date === entryData.date &&\n                                existingData.time === entryData.time);\n                        }\n                        // 对于评论，比较文本和目标帖子ID\n                        else if (entry.key.includes('_COMMENT')) {\n                            const entryData = entry.data;\n                            const existingData = existingEntry.data;\n                            return existingData.text === entryData.text && existingData.target_post_id === entryData.target_post_id;\n                        }\n                        // 对于点赞，比较目标帖子ID\n                        else if (entry.key.includes('_LIKE')) {\n                            const entryData = entry.data;\n                            const existingData = existingEntry.data;\n                            return existingData.target_post_id === entryData.target_post_id;\n                        }\n                    }\n                }\n                // 检查消息类型条目\n                if ('type' in entry && 'type' in existingEntry) {\n                    // 如果两个条目类型相同\n                    if (entry.type === existingEntry.type) {\n                        // 对于有ID的条目，比较ID\n                        if ('id' in entry && 'id' in existingEntry && entry.id === existingEntry.id) {\n                            return true;\n                        }\n                        // 对于消息类型条目，比较发送者和内容\n                        if ((entry.type === 'message' || entry.type === 'location' || entry.type === 'file') &&\n                            'sender' in entry &&\n                            'sender' in existingEntry &&\n                            'content' in entry &&\n                            'content' in existingEntry) {\n                            return (entry.sender === existingEntry.sender && window._.isEqual(entry.content, existingEntry.content));\n                        }\n                        // 对于时间和事件日志，比较内容\n                        if ((entry.type === 'time' || entry.type === 'event') && 'content' in entry && 'content' in existingEntry) {\n                            return window._.isEqual(entry.content, existingEntry.content);\n                        }\n                        // 对于其他复杂类型（如image, voice, transfer, gift），比较内容\n                        if ('content' in entry &&\n                            'content' in existingEntry &&\n                            (entry.type === 'image' || entry.type === 'voice' || entry.type === 'transfer' || entry.type === 'gift')) {\n                            return window._.isEqual(entry.content, existingEntry.content);\n                        }\n                    }\n                }\n                return false;\n            });\n            if (isDuplicate) {\n                // console.log(`[BLMX] 跳过添加重复条目:`, entry);\n                return; // 如果是重复条目，直接返回，不添加\n            }\n            this.logEntries.push(entry);\n            // 添加时间更新逻辑 - 参考原版简化\n            if ('type' in entry && (entry.type === 'time' || entry.type === 'event')) {\n                const data = entry.content;\n                const timeDate = new Date(`${data.date} ${data.time}`);\n                if (!isNaN(timeDate.getTime())) {\n                    window.currentGameDate = timeDate;\n                    const timeElement = document.getElementById('current-time');\n                    if (timeElement) {\n                        const timeString = `${window.currentGameDate\n                            .getHours()\n                            .toString()\n                            .padStart(2, '0')}:${window.currentGameDate.getMinutes().toString().padStart(2, '0')}`;\n                        timeElement.textContent = timeString;\n                    }\n                }\n            }\n        }\n    }\n    getContextForAI() {\n        return this._renderLogToString();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFOzZCQUNWLFFBQVEsRUFBRTs2QkFDVixRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO3dCQUN6RixXQUFXLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztvQkFDdkMsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsZUFBZTtRQUNiLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDbkMsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovc2NyaXB0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgVGF2ZXJuSGVscGVyQnJpZGdlIHtcbiAgZ2V0Q2hhckRhdGEoKTogUHJvbWlzZTx7IG5hbWU6IHN0cmluZyB9PjtcbiAgZ2V0Q2hhckF2YXRhclBhdGgoKTogUHJvbWlzZTxzdHJpbmc+O1xuICBnZXRMYXN0TWVzc2FnZUlkKCk6IFByb21pc2U8bnVtYmVyIHwgbnVsbD47XG4gIGdldENoYXRNZXNzYWdlcyhpZDogbnVtYmVyKTogUHJvbWlzZTxBcnJheTx7IG1lc3NhZ2U6IHN0cmluZyB9Pj47XG4gIHNldENoYXRNZXNzYWdlKGNvbnRlbnQ6IHN0cmluZywgaWQ6IG51bWJlciwgb3B0aW9uczogeyByZWZyZXNoOiAnbm9uZScgfSk6IFByb21pc2U8dm9pZD47XG4gIGdlbmVyYXRlKG9wdGlvbnM6IHsgdXNlcl9pbnB1dDogc3RyaW5nOyBzaG91bGRfc3RyZWFtOiBib29sZWFuIH0pOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHN0cmluZywgdm9pZCwgdW5rbm93bj4+O1xufVxuXG4vLyDkvb/nlKjnsbvlnovmlq3oqIDmnaXlpITnkIblhajlsYDlr7nosaFcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgY3VycmVudEdhbWVEYXRlOiBEYXRlO1xuICB9XG59XG5cbi8vIOS4ulRhdmVybkhlbHBlcuWIm+W7uuS4gOS4quiuv+mXruWZqOWHveaVsFxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhdmVybkhlbHBlcigpOiBUYXZlcm5IZWxwZXJCcmlkZ2Uge1xuICByZXR1cm4gKHdpbmRvdy5wYXJlbnQgYXMgYW55KS5UYXZlcm5IZWxwZXI7XG59XG5cbmV4cG9ydCB0eXBlIFNlbmRlciA9ICdtZScgfCAndGhlbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUxvZ0VudHJ5IHtcbiAgcmVjYWxsZWQ/OiBib29sZWFuO1xuICByZWNhbGxlZF9jb250ZW50PzogYW55O1xuICByZWNhbGxlZF90aW1lc3RhbXA/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUNoYXRNZXNzYWdlIGV4dGVuZHMgQmFzZUxvZ0VudHJ5IHtcbiAgaWQ6IHN0cmluZztcbiAgc2VuZGVyOiBTZW5kZXI7XG59XG5cbi8vIOaWh+acrOa2iOaBr1xuZXhwb3J0IGludGVyZmFjZSBUZXh0TWVzc2FnZSBleHRlbmRzIEJhc2VDaGF0TWVzc2FnZSB7XG4gIHR5cGU6ICdtZXNzYWdlJztcbiAgY29udGVudDogc3RyaW5nO1xuICBpc1N5c3RlbU1lc3NhZ2U/OiBib29sZWFuOyAvLyDmt7vliqDns7vnu5/mtojmga/moIflv5dcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWb2ljZU1lc3NhZ2UgZXh0ZW5kcyBCYXNlQ2hhdE1lc3NhZ2Uge1xuICB0eXBlOiAndm9pY2UnO1xuICBjb250ZW50OiB7IHRleHQ6IHN0cmluZzsgZHVyYXRpb246IG51bWJlciB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0aWNrZXJNZXNzYWdlIGV4dGVuZHMgQmFzZUNoYXRNZXNzYWdlIHtcbiAgdHlwZTogJ3N0aWNrZXInO1xuICBjb250ZW50OiBzdHJpbmc7IC8vIHN0aWNrZXIgbmFtZS9sYWJlbFxuICBzaXplPzogJ3NtYWxsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJzsgLy8gQWRkIHNpemUgb3B0aW9uIGZvciBzdGlja2Vyc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlTWVzc2FnZSBleHRlbmRzIEJhc2VDaGF0TWVzc2FnZSB7XG4gIHR5cGU6ICdpbWFnZSc7XG4gIGNvbnRlbnQ6IHsgdHlwZTogJ3VybCcgfCAnZGVzYyc7IHZhbHVlOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbk1lc3NhZ2UgZXh0ZW5kcyBCYXNlQ2hhdE1lc3NhZ2Uge1xuICB0eXBlOiAnbG9jYXRpb24nO1xuICBjb250ZW50OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNmZXJNZXNzYWdlIGV4dGVuZHMgQmFzZUNoYXRNZXNzYWdlIHtcbiAgdHlwZTogJ3RyYW5zZmVyJztcbiAgY29udGVudDogc3RyaW5nOyAvLyBKU09OIHN0cmluZ1xuICBkYXRhOiB7XG4gICAgYW1vdW50OiBzdHJpbmc7XG4gICAgbm90ZT86IHN0cmluZztcbiAgICBzdGF0dXM6ICdzZW50JyB8ICdhY2NlcHRlZCcgfCAncmVqZWN0ZWQnO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVNZXNzYWdlIGV4dGVuZHMgQmFzZUNoYXRNZXNzYWdlIHtcbiAgdHlwZTogJ2ZpbGUnO1xuICBjb250ZW50OiBzdHJpbmc7IC8vIGZpbGVuYW1lXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2lmdE1lc3NhZ2UgZXh0ZW5kcyBCYXNlQ2hhdE1lc3NhZ2Uge1xuICB0eXBlOiAnZ2lmdCc7XG4gIGNvbnRlbnQ6IHN0cmluZzsgLy8gSlNPTiBzdHJpbmdcbiAgZGF0YToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwcmljZT86IHN0cmluZztcbiAgICBzdGF0dXM6ICdzZW50JyB8ICdhY2NlcHRlZCcgfCAncmVqZWN0ZWQnO1xuICB9O1xufVxuXG5leHBvcnQgdHlwZSBDaGF0RW50cnkgPVxuICB8IFRleHRNZXNzYWdlXG4gIHwgVm9pY2VNZXNzYWdlXG4gIHwgU3RpY2tlck1lc3NhZ2VcbiAgfCBJbWFnZU1lc3NhZ2VcbiAgfCBMb2NhdGlvbk1lc3NhZ2VcbiAgfCBUcmFuc2Zlck1lc3NhZ2VcbiAgfCBGaWxlTWVzc2FnZVxuICB8IEdpZnRNZXNzYWdlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVMb2dFbnRyeSBleHRlbmRzIEJhc2VMb2dFbnRyeSB7XG4gIHR5cGU6ICd0aW1lJztcbiAgY29udGVudDogeyBkYXRlOiBzdHJpbmc7IHRpbWU6IHN0cmluZyB9O1xuICBpZD86IHN0cmluZzsgLy8g5re75Yqg5Y+v6YCJ55qEaWTlrZfmrrVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudExvZ0VudHJ5IGV4dGVuZHMgQmFzZUxvZ0VudHJ5IHtcbiAgdHlwZTogJ2V2ZW50JztcbiAgY29udGVudDogeyBkYXRlOiBzdHJpbmc7IHRpbWU6IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmcgfTtcbiAgaWQ/OiBzdHJpbmc7IC8vIOa3u+WKoOWPr+mAieeahGlk5a2X5q61XG59XG5cbmV4cG9ydCB0eXBlIFN5c3RlbUVudHJ5ID0gVGltZUxvZ0VudHJ5IHwgRXZlbnRMb2dFbnRyeTtcblxuZXhwb3J0IGludGVyZmFjZSBNb21lbnRFbnRyeSBleHRlbmRzIEJhc2VMb2dFbnRyeSB7XG4gIGtleTogJ1VTRVJfTU9NRU5UJyB8ICdDSEFSX01PTUVOVCc7XG4gIGRhdGE6IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgaW1hZ2U6IHN0cmluZztcbiAgICBpbWFnZV90eXBlOiAndXJsJyB8ICdkZXNjJyB8ICdub25lJztcbiAgICBpbWFnZV9kZXNjPzogc3RyaW5nO1xuICAgIGRhdGU6IHN0cmluZztcbiAgICB0aW1lOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWVudEVudHJ5IGV4dGVuZHMgQmFzZUxvZ0VudHJ5IHtcbiAga2V5OiAnVVNFUl9DT01NRU5UJyB8ICdDSEFSX0NPTU1FTlQnO1xuICBkYXRhOiB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHRhcmdldF9wb3N0X2lkOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlrZUVudHJ5IGV4dGVuZHMgQmFzZUxvZ0VudHJ5IHtcbiAga2V5OiAnVVNFUl9MSUtFJyB8ICdDSEFSX0xJS0UnO1xuICBkYXRhOiB7XG4gICAgdGFyZ2V0X3Bvc3RfaWQ6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IHR5cGUgTW9tZW50UmVsYXRlZEVudHJ5ID0gTW9tZW50RW50cnkgfCBDb21tZW50RW50cnkgfCBMaWtlRW50cnk7XG5cbmV4cG9ydCB0eXBlIExvZ0VudHJ5ID0gQ2hhdEVudHJ5IHwgU3lzdGVtRW50cnkgfCBNb21lbnRSZWxhdGVkRW50cnk7XG5cbmV4cG9ydCBjbGFzcyBCTE1YX1Byb3RvY29sIHtcbiAgcHVibGljIGxvZ0VudHJpZXM6IExvZ0VudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBtZXNzYWdlSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGNoYXJJZDogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IExPR19TVEFSVF9UQUcgPSAnPT09QkxNWF9MT0dfQkVHSU49PT0nO1xuICBwcml2YXRlIHJlYWRvbmx5IExPR19FTkRfVEFHID0gJz09PUJMTVhfTE9HX0VORD09PSc7XG5cbiAgY29uc3RydWN0b3IoY2hhcklkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNoYXJJZCA9IGNoYXJJZDtcbiAgfVxuXG4gIC8vIOiOt+WPluinkuiJsklEXG4gIGdldENoYXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNoYXJJZDtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gY29uc29sZS5sb2coJ1tCTE1YXSBJbml0aWFsaXppbmcgYW5kIHNjYW5uaW5nIGZvciBjaGF0IGhpc3RvcnkuLi4nKTtcbiAgICBjb25zdCBsYXN0TWVzc2FnZUlkID0gYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuZ2V0TGFzdE1lc3NhZ2VJZCgpO1xuXG4gICAgaWYgKGxhc3RNZXNzYWdlSWQgPT09IG51bGwpIHtcbiAgICAgIC8vIGNvbnNvbGUud2FybignW0JMTVhdIE5vIG1lc3NhZ2VzIGZvdW5kLiBTdGFydGluZyBmcmVzaCBhdCBtZXNzYWdlIElEIDAuJyk7XG4gICAgICB0aGlzLm1lc3NhZ2VJZCA9IDA7XG4gICAgICB0aGlzLmxvZ0VudHJpZXMgPSBbXTtcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdExvZ1RvU3RvcmFnZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbGV0IGxhdGVzdFVpTWVzc2FnZTogeyBpZDogbnVtYmVyOyBjb250ZW50OiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IHByZXZpb3VzVWlNZXNzYWdlczogeyBpZDogbnVtYmVyOyBjb250ZW50OiBzdHJpbmcgfVtdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gbGFzdE1lc3NhZ2VJZDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IChhd2FpdCBnZXRUYXZlcm5IZWxwZXIoKS5nZXRDaGF0TWVzc2FnZXMoaSkpWzBdO1xuICAgICAgICBpZiAobXNnICYmIG1zZy5tZXNzYWdlICYmIG1zZy5tZXNzYWdlLmluY2x1ZGVzKHRoaXMuTE9HX1NUQVJUX1RBRykpIHtcbiAgICAgICAgICBpZiAoIWxhdGVzdFVpTWVzc2FnZSkge1xuICAgICAgICAgICAgbGF0ZXN0VWlNZXNzYWdlID0geyBpZDogaSwgY29udGVudDogbXNnLm1lc3NhZ2UgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJldmlvdXNVaU1lc3NhZ2VzLnB1c2goeyBpZDogaSwgY29udGVudDogbXNnLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLCBsaWtlbHkgbWVzc2FnZSBub3QgZm91bmRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWxhdGVzdFVpTWVzc2FnZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ1tCTE1YXSBObyBVSSBsb2cgZm91bmQuIENyZWF0aW5nIGEgbmV3IG9uZSBpbiB0aGUgbGF0ZXN0IG1lc3NhZ2UuJyk7XG4gICAgICB0aGlzLm1lc3NhZ2VJZCA9IGxhc3RNZXNzYWdlSWQ7XG4gICAgICB0aGlzLmxvZ0VudHJpZXMgPSBbXTtcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdExvZ1RvU3RvcmFnZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSBGb3VuZCBsYXRlc3QgVUkgbG9nIGluIG1lc3NhZ2UgJHtsYXRlc3RVaU1lc3NhZ2UuaWR9LiBDb25zb2xpZGF0aW5nLi4uYCk7XG4gICAgdGhpcy5tZXNzYWdlSWQgPSBsYXRlc3RVaU1lc3NhZ2UuaWQ7XG4gICAgY29uc3QgY29uc29saWRhdGVkTG9nUGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb25zdCBsYXRlc3RMb2dTdGFydEluZGV4ID0gbGF0ZXN0VWlNZXNzYWdlLmNvbnRlbnQuaW5kZXhPZih0aGlzLkxPR19TVEFSVF9UQUcpO1xuICAgIGNvbnN0IGxhdGVzdExvZ0VuZEluZGV4ID0gbGF0ZXN0VWlNZXNzYWdlLmNvbnRlbnQuaW5kZXhPZih0aGlzLkxPR19FTkRfVEFHKTtcbiAgICBpZiAobGF0ZXN0TG9nU3RhcnRJbmRleCAhPT0gLTEgJiYgbGF0ZXN0TG9nRW5kSW5kZXggIT09IC0xKSB7XG4gICAgICBjb25zdCBsb2dQYXJ0ID0gbGF0ZXN0VWlNZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgLnNsaWNlKGxhdGVzdExvZ1N0YXJ0SW5kZXggKyB0aGlzLkxPR19TVEFSVF9UQUcubGVuZ3RoLCBsYXRlc3RMb2dFbmRJbmRleClcbiAgICAgICAgLnRyaW0oKTtcbiAgICAgIGlmIChsb2dQYXJ0KSBjb25zb2xpZGF0ZWRMb2dQYXJ0cy5wdXNoKGxvZ1BhcnQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcHJldk1zZyBvZiBwcmV2aW91c1VpTWVzc2FnZXMpIHtcbiAgICAgIGNvbnN0IHByZXZMb2dTdGFydEluZGV4ID0gcHJldk1zZy5jb250ZW50LmluZGV4T2YodGhpcy5MT0dfU1RBUlRfVEFHKTtcbiAgICAgIGNvbnN0IHByZXZMb2dFbmRJbmRleCA9IHByZXZNc2cuY29udGVudC5pbmRleE9mKHRoaXMuTE9HX0VORF9UQUcpO1xuICAgICAgaWYgKHByZXZMb2dTdGFydEluZGV4ICE9PSAtMSAmJiBwcmV2TG9nRW5kSW5kZXggIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGxvZ1BhcnQgPSBwcmV2TXNnLmNvbnRlbnQuc2xpY2UocHJldkxvZ1N0YXJ0SW5kZXggKyB0aGlzLkxPR19TVEFSVF9UQUcubGVuZ3RoLCBwcmV2TG9nRW5kSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgaWYgKGxvZ1BhcnQpIGNvbnNvbGlkYXRlZExvZ1BhcnRzLnVuc2hpZnQobG9nUGFydCk7XG5cbiAgICAgICAgY29uc3QgY2xlYW5lZENvbnRlbnQgPVxuICAgICAgICAgIHByZXZNc2cuY29udGVudC5zdWJzdHJpbmcoMCwgcHJldkxvZ1N0YXJ0SW5kZXgpICtcbiAgICAgICAgICBwcmV2TXNnLmNvbnRlbnQuc3Vic3RyaW5nKHByZXZMb2dFbmRJbmRleCArIHRoaXMuTE9HX0VORF9UQUcubGVuZ3RoKTtcbiAgICAgICAgYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuc2V0Q2hhdE1lc3NhZ2UoY2xlYW5lZENvbnRlbnQudHJpbSgpLCBwcmV2TXNnLmlkLCB7IHJlZnJlc2g6ICdub25lJyB9KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSBDbGVhbmVkIGFuZCBtb3ZlZCBVSSBsb2cgZnJvbSBtZXNzYWdlICR7cHJldk1zZy5pZH0uYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZmluYWxMb2dTdHJpbmcgPSBjb25zb2xpZGF0ZWRMb2dQYXJ0cy5qb2luKCdcXG4nKTtcbiAgICB0aGlzLl9wYXJzZUxvZ0Zyb21TdHJpbmcoZmluYWxMb2dTdHJpbmcpO1xuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0TG9nVG9TdG9yYWdlKCk7XG4gICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSBDb25zb2xpZGF0ZWQgbG9nIHNhdmVkIHRvIG1lc3NhZ2UgJHt0aGlzLm1lc3NhZ2VJZH0uYCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIHBlcnNpc3RMb2dUb1N0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMubWVzc2FnZUlkID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tCTE1YXSBDYW5ub3Qgc2F2ZSBsb2csIG1lc3NhZ2VfaWQgbm90IGluaXRpYWxpemVkLicpOyAvLyDkv53nlZnph43opoHorablkYpcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxvZ1N0cmluZyA9IHRoaXMuX3JlbmRlckxvZ1RvU3RyaW5nKCk7XG4gICAgICBjb25zdCBleGlzdGluZ01lc3NhZ2UgPSAoYXdhaXQgZ2V0VGF2ZXJuSGVscGVyKCkuZ2V0Q2hhdE1lc3NhZ2VzKHRoaXMubWVzc2FnZUlkKSlbMF07XG4gICAgICBjb25zdCBleGlzdGluZ0NvbnRlbnQgPSBleGlzdGluZ01lc3NhZ2UgPyBleGlzdGluZ01lc3NhZ2UubWVzc2FnZSA6ICcnO1xuXG4gICAgICBjb25zdCBsb2dTdGFydEluZGV4ID0gZXhpc3RpbmdDb250ZW50LmluZGV4T2YodGhpcy5MT0dfU1RBUlRfVEFHKTtcbiAgICAgIGNvbnN0IGxvZ0VuZEluZGV4ID0gZXhpc3RpbmdDb250ZW50LmluZGV4T2YodGhpcy5MT0dfRU5EX1RBRyk7XG5cbiAgICAgIGNvbnN0IG5ld0xvZ0Jsb2NrID0gYCR7dGhpcy5MT0dfU1RBUlRfVEFHfVxcbiR7bG9nU3RyaW5nfVxcbiR7dGhpcy5MT0dfRU5EX1RBR31gO1xuICAgICAgbGV0IGZ1bGxUZXh0OiBzdHJpbmc7XG5cbiAgICAgIGlmIChsb2dTdGFydEluZGV4ICE9PSAtMSAmJiBsb2dFbmRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZnVsbFRleHQgPVxuICAgICAgICAgIGV4aXN0aW5nQ29udGVudC5zdWJzdHJpbmcoMCwgbG9nU3RhcnRJbmRleCkgK1xuICAgICAgICAgIG5ld0xvZ0Jsb2NrICtcbiAgICAgICAgICBleGlzdGluZ0NvbnRlbnQuc3Vic3RyaW5nKGxvZ0VuZEluZGV4ICsgdGhpcy5MT0dfRU5EX1RBRy5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsbFRleHQgPSBleGlzdGluZ0NvbnRlbnQgKyAnXFxuJyArIG5ld0xvZ0Jsb2NrO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBnZXRUYXZlcm5IZWxwZXIoKS5zZXRDaGF0TWVzc2FnZShmdWxsVGV4dC50cmltKCksIHRoaXMubWVzc2FnZUlkLCB7IHJlZnJlc2g6ICdub25lJyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgbmFycmF0aXZlIGxvZyB0byB0ZXh0IGJveDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcGFyc2VMb2dGcm9tU3RyaW5nKGxvZ1N0cmluZzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5sb2dFbnRyaWVzID0gW107XG4gICAgY29uc3QgbGluZXMgPSBsb2dTdHJpbmcuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJyk7XG5cbiAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA9PT0gLTEpIHJldHVybjtcblxuICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyAxKS50cmltKCk7XG4gICAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgJ1VTRVJfTU9NRU5UJzpcbiAgICAgICAgICBjYXNlICdDSEFSX01PTUVOVCc6XG4gICAgICAgICAgY2FzZSAnVVNFUl9DT01NRU5UJzpcbiAgICAgICAgICBjYXNlICdDSEFSX0NPTU1FTlQnOlxuICAgICAgICAgIGNhc2UgJ1VTRVJfTElLRSc6XG4gICAgICAgICAgY2FzZSAnQ0hBUl9MSUtFJzpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgdGhpcy5sb2dFbnRyaWVzLnB1c2goeyBrZXksIGRhdGEgfSBhcyBNb21lbnRSZWxhdGVkRW50cnkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQkxNWF0g6Kej5p6Q5pyL5Y+L5ZyI5pWw5o2u5aSx6LSlOicsIHZhbHVlLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdUSU1FJzpcbiAgICAgICAgICBjYXNlICdFVkVOVF9MT0cnOlxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBbQkxNWF0g6Kej5p6QJHtrZXl95pWw5o2uOmAsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgLy8g6aqM6K+B5b+F6KaB5a2X5q61XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmRhdGUgfHwgIWRhdGEudGltZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbQkxNWF0gJHtrZXl957y65bCR5b+F6KaB5a2X5q61OmAsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgLy8g5bCd6K+V6KGl5YWF57y65aSx5a2X5q61XG4gICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZGF0ZSB8fCAhZGF0YS50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRlID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0tJHtTdHJpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBub3cuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBbQkxNWF0g5Li6JHtrZXl96KGl5YWF5pel5pyfOmAsIGRhdGEuZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRpbWUgPSBgJHtTdHJpbmcobm93LmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgICAgICAgICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICApfWA7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSDkuLoke2tleX3ooaXlhYXml7bpl7Q6YCwgZGF0YS50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5VHlwZSA9IGtleSA9PT0gJ1RJTUUnID8gJ3RpbWUnIDogJ2V2ZW50JztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFbnRyeSA9IHsgdHlwZTogZW50cnlUeXBlLCBjb250ZW50OiBkYXRhIH0gYXMgU3lzdGVtRW50cnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBbQkxNWF0g5re75YqgJHtrZXl95p2h55uuOmAsIG5ld0VudHJ5KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVEYXRlID0gbmV3IERhdGUoYCR7ZGF0YS5kYXRlfSAke2RhdGEudGltZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHRpbWVEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jdXJyZW50R2FtZURhdGUgPSB0aW1lRGF0ZTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtdGltZScpO1xuICAgICAgICAgICAgICAgICAgaWYgKHRpbWVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHt3aW5kb3cuY3VycmVudEdhbWVEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgLmdldEhvdXJzKClcbiAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgIC5wYWRTdGFydCgyLCAnMCcpfToke3dpbmRvdy5jdXJyZW50R2FtZURhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICAgICAgICAgICAgICB0aW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRpbWVTdHJpbmc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtCTE1YXSDop6PmnpAke2tleX3lpLHotKU6YCwgdmFsdWUsIGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGBbQkxNWF0gJHtrZXl95YC85Li656m6YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdSRUNBTEwnOiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW0JMTVhdIOS7juWtmOWCqOS4reWKoOi9vVJFQ0FMTOaVsOaNrjonLCB2YWx1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZWNhbGxEYXRhID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGNvbnN0IHNlbmRlclRvRmluZDogU2VuZGVyID0gcmVjYWxsRGF0YS5zZW5kZXIgPT09ICdVU0VSJyA/ICdtZScgOiAndGhlbSc7XG5cbiAgICAgICAgICAgICAgLy8g6I635Y+WdGFyZ2V0X3RleHTvvIzmlK/mjIHlpJrnp43lj6/og73nmoTlsZ7mgKflkI1cbiAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGV4dCA9IHJlY2FsbERhdGEudGFyZ2V0X3RleHQgfHwgcmVjYWxsRGF0YVsndGFyZ2V0IHRleHQnXSB8fCByZWNhbGxEYXRhLnRleHQgfHwgJyc7XG5cbiAgICAgICAgICAgICAgaWYgKCF0YXJnZXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQkxNWF0gUkVDQUxM5pWw5o2u57y65bCR55uu5qCH5paH5pysOicsIHJlY2FsbERhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8g5L2/55So5pu054G15rS755qE5p+l5om+5pa55rOVXG4gICAgICAgICAgICAgIGNvbnN0IGVudHJ5VG9SZWNhbGwgPSB0aGlzLmxvZ0VudHJpZXNcbiAgICAgICAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAuZmluZChlID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIOW/hemhu+aYr+aciXNlbmRlcuWSjGNvbnRlbnTnmoTmtojmga9cbiAgICAgICAgICAgICAgICAgIGlmICghKCdzZW5kZXInIGluIGUpIHx8IGUuc2VuZGVyICE9PSBzZW5kZXJUb0ZpbmQgfHwgISgnY29udGVudCcgaW4gZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyDnsr7noa7ljLnphY1cbiAgICAgICAgICAgICAgICAgIGlmIChlLmNvbnRlbnQgPT09IHRhcmdldFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIOaooeeziuWMuemFje+8iOWOu+mZpOagh+eCueespuWPt+WSjOepuuagvOWQjuavlOi+g++8iVxuICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplVGV4dCA9ICh0ZXh0OiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0ZXh0ID09PSAnc3RyaW5nJyA/IHRleHQucmVwbGFjZSgvW15cXHdcXHU0ZTAwLVxcdTlmYTVdL2csICcnKS50b0xvd2VyQ2FzZSgpIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZS5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyDmqKHns4rljLnphY3mlofmnKxcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZVRleHQoZS5jb250ZW50KSA9PT0gbm9ybWFsaXplVGV4dCh0YXJnZXRUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIOWMheWQq+WMuemFjVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jb250ZW50LmluY2x1ZGVzKHRhcmdldFRleHQpIHx8IHRhcmdldFRleHQuaW5jbHVkZXMoZS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIOWvueS6juWkjeadguWGheWuueWvueixoeeahOWMuemFjVxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlLmNvbnRlbnQgPT09ICdvYmplY3QnICYmIGUuY29udGVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIOavlOi+g+W6j+WIl+WMluWQjueahEpTT05cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZS5jb250ZW50KSA9PT0gdGFyZ2V0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv6K+t6Z+z5raI5oGv77yM5q+U6L6DdGV4dOWtl+autVxuICAgICAgICAgICAgICAgICAgICAgIGlmICgndGV4dCcgaW4gZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2b2ljZVRleHQgPSAoZS5jb250ZW50IGFzIGFueSkudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2ljZVRleHQgPT09IHRhcmdldFRleHQgfHwgbm9ybWFsaXplVGV4dCh2b2ljZVRleHQpID09PSBub3JtYWxpemVUZXh0KHRhcmdldFRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQkxNWF0g5q+U6L6D5aSN5p2C5YaF5a655aSx6LSlOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pIGFzIENoYXRFbnRyeTtcblxuICAgICAgICAgICAgICBpZiAoZW50cnlUb1JlY2FsbCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdbQkxNWF0g5om+5Yiw5bm25qCH6K6w6KaB5pKk5Zue55qE5raI5oGvOicsIGVudHJ5VG9SZWNhbGwpO1xuICAgICAgICAgICAgICAgIGVudHJ5VG9SZWNhbGwucmVjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVudHJ5VG9SZWNhbGwucmVjYWxsZWRfY29udGVudCA9IGVudHJ5VG9SZWNhbGwuY29udGVudDtcbiAgICAgICAgICAgICAgICBlbnRyeVRvUmVjYWxsLnJlY2FsbGVkX3RpbWVzdGFtcCA9IHJlY2FsbERhdGEudGltZXN0YW1wIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tCTE1YXSDmnKrmib7liLDopoHmkqTlm57nmoTmtojmga86Jywge1xuICAgICAgICAgICAgICAgICAgc2VuZGVyOiBzZW5kZXJUb0ZpbmQsXG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdGV4dDogdGFyZ2V0VGV4dCxcbiAgICAgICAgICAgICAgICAgIHJlY2FsbF9kYXRhOiByZWNhbGxEYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQkxNWF0g5aSE55CGUkVDQUxM5pWw5o2u5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdVU0VSJzpcbiAgICAgICAgICBjYXNlICdDSEFSJzoge1xuICAgICAgICAgICAgY29uc3Qgc2VuZGVyOiBTZW5kZXIgPSBrZXkgPT09ICdVU0VSJyA/ICdtZScgOiAndGhlbSc7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGBtc2ctJHtEYXRlLm5vdygpfSR7TWF0aC5yYW5kb20oKX0tJHtzZW5kZXJ9YDtcblxuICAgICAgICAgICAgY29uc3Qgdm9pY2VNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb6K+t6Z+zOlxccyooey4qfSlcXF0vKTtcbiAgICAgICAgICAgIGlmICh2b2ljZU1hdGNoKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm9pY2VEYXRhID0gSlNPTi5wYXJzZSh2b2ljZU1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaCh7IGlkLCB0eXBlOiAndm9pY2UnLCBzZW5kZXIsIGNvbnRlbnQ6IHZvaWNlRGF0YSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2Ugdm9pY2UgZGF0YTonLCB2b2ljZU1hdGNoWzFdLCBlKTtcbiAgICAgICAgICAgICAgICAvLyDmt7vliqDpu5jorqTor63pn7PmlbDmja5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaCh7IGlkLCB0eXBlOiAndm9pY2UnLCBzZW5kZXIsIGNvbnRlbnQ6IHsgdGV4dDogJycsIGR1cmF0aW9uOiAwIH0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0aWNrZXJNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb6KGo5oOFOlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICBpZiAoc3RpY2tlck1hdGNoKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9nRW50cmllcy5wdXNoKHsgaWQsIHR5cGU6ICdzdGlja2VyJywgc2VuZGVyLCBjb250ZW50OiBzdGlja2VyTWF0Y2hbMV0gfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW1hZ2VNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb5Zu+54mHOlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICBpZiAoaW1hZ2VNYXRjaCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltZ0RhdGEgPSBKU09OLnBhcnNlKGltYWdlTWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nRW50cmllcy5wdXNoKHsgaWQsIHR5cGU6ICdpbWFnZScsIHNlbmRlciwgY29udGVudDogaW1nRGF0YSB9KTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nRW50cmllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgIHNlbmRlcixcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHsgdHlwZTogJ2Rlc2MnLCB2YWx1ZTogaW1hZ2VNYXRjaFsxXSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbG9jYXRpb25NYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb5L2N572uOlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICBpZiAobG9jYXRpb25NYXRjaCkge1xuICAgICAgICAgICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaCh7IGlkLCB0eXBlOiAnbG9jYXRpb24nLCBzZW5kZXIsIGNvbnRlbnQ6IGxvY2F0aW9uTWF0Y2hbMV0gfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxb6L2s6LSmOlxccyooLiopXFxdLyk7XG4gICAgICAgICAgICBpZiAodHJhbnNmZXJNYXRjaCkge1xuICAgICAgICAgICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICAgICAgICAgICAgICBzZW5kZXIsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHJhbnNmZXJNYXRjaFsxXSxcbiAgICAgICAgICAgICAgICBkYXRhOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodHJhbnNmZXJNYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSB0cmFuc2ZlciBkYXRhOicsIHRyYW5zZmVyTWF0Y2hbMV0sIGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBhbW91bnQ6IDAsIG1lc3NhZ2U6ICcnIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gdmFsdWUubWF0Y2goL15cXFvmlofku7Y6XFxzKiguKilcXF0vKTtcbiAgICAgICAgICAgIGlmIChmaWxlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dFbnRyaWVzLnB1c2goeyBpZCwgdHlwZTogJ2ZpbGUnLCBzZW5kZXIsIGNvbnRlbnQ6IGZpbGVNYXRjaFsxXSB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBnaWZ0TWF0Y2ggPSB2YWx1ZS5tYXRjaCgvXlxcW+ekvOeJqTpcXHMqKC4qKVxcXS8pO1xuICAgICAgICAgICAgaWYgKGdpZnRNYXRjaCkge1xuICAgICAgICAgICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2dpZnQnLFxuICAgICAgICAgICAgICAgIHNlbmRlcixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBnaWZ0TWF0Y2hbMV0sXG4gICAgICAgICAgICAgICAgZGF0YTogKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGdpZnRNYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBnaWZ0IGRhdGE6JywgZ2lmdE1hdGNoWzFdLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogJycsIHZhbHVlOiAwIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dFbnRyaWVzLnB1c2goeyBpZCwgdHlwZTogJ21lc3NhZ2UnLCBzZW5kZXIsIGNvbnRlbnQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBsb2cgbGluZTonLCBsaW5lLCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckxvZ1RvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgY29uc3QgcmVjYWxsQ29tbWFuZHM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgYWxsRW50cmllc1N0cmluZyA9IHRoaXMubG9nRW50cmllc1xuICAgICAgLm1hcChlID0+IHtcbiAgICAgICAgaWYgKGUucmVjYWxsZWQpIHtcbiAgICAgICAgICBjb25zdCByZWNhbGxEYXRhID0ge1xuICAgICAgICAgICAgc2VuZGVyOiAnc2VuZGVyJyBpbiBlICYmIGUuc2VuZGVyID09PSAnbWUnID8gJ1VTRVInIDogJ0NIQVInLFxuICAgICAgICAgICAgdGFyZ2V0X3RleHQ6XG4gICAgICAgICAgICAgIHR5cGVvZiBlLnJlY2FsbGVkX2NvbnRlbnQgPT09ICdvYmplY3QnICYmIGUucmVjYWxsZWRfY29udGVudCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gZS5yZWNhbGxlZF9jb250ZW50LnRleHRcbiAgICAgICAgICAgICAgICA6IGUucmVjYWxsZWRfY29udGVudCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZS5yZWNhbGxlZF90aW1lc3RhbXAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAocmVjYWxsRGF0YS50YXJnZXRfdGV4dCkge1xuICAgICAgICAgICAgcmVjYWxsQ29tbWFuZHMucHVzaChgUkVDQUxMOiAke0pTT04uc3RyaW5naWZ5KHJlY2FsbERhdGEpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgna2V5JyBpbiBlKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2Uua2V5fTogJHtKU09OLnN0cmluZ2lmeShlLmRhdGEpfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3R5cGUnIGluIGUpIHtcbiAgICAgICAgICBpZiAoZS50eXBlID09PSAndGltZScgfHwgZS50eXBlID09PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBlLnR5cGUgPT09ICd0aW1lJyA/ICdUSU1FJyA6ICdFVkVOVF9MT0cnO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSDluo/liJfljJYke2tleX3mnaHnm646YCwgZSk7XG4gICAgICAgICAgICByZXR1cm4gYCR7a2V5fTogJHtKU09OLnN0cmluZ2lmeShlLmNvbnRlbnQpfWA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcHJlZml4ID0gZS5zZW5kZXIgPT09ICdtZScgPyAnVVNFUicgOiAnQ0hBUic7XG4gICAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyB8IG9iamVjdCA9IGUuY29udGVudDtcbiAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RpY2tlcic6XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBgW+ihqOaDhTogJHtlLmNvbnRlbnR9XWA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndm9pY2UnOlxuICAgICAgICAgICAgICBjb250ZW50ID0gYFvor63pn7M6ICR7SlNPTi5zdHJpbmdpZnkoZS5jb250ZW50KX1dYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBgW+WbvueJhzogJHtKU09OLnN0cmluZ2lmeShlLmNvbnRlbnQpfV1gO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgICAgICAgY29udGVudCA9IGBb5L2N572uOiAke2UuY29udGVudH1dYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICAgICAgY29udGVudCA9IGBb5paH5Lu2OiAke2UuY29udGVudH1dYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnaWZ0JzpcbiAgICAgICAgICAgICAgY29udGVudCA9IGBb56S854mpOiAke2UuY29udGVudH1dYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFuc2Zlcic6XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBgW+i9rOi0pjogJHtlLmNvbnRlbnR9XWA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYCR7cHJlZml4fTogJHtjb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnOyAvLyBTaG91bGQgbm90IGhhcHBlbiBmb3IgdmFsaWQgZW50cmllc1xuICAgICAgfSlcbiAgICAgIC5qb2luKCdcXG4nKTtcblxuICAgIHJldHVybiBbYWxsRW50cmllc1N0cmluZywgLi4ucmVjYWxsQ29tbWFuZHNdLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIC8vIOeugOWMlueahGFkZEVudHJ55pa55rOVIC0g5a+56KGo5oOF5YyF5raI5oGv5LiN6L+b6KGM6YeN5aSN5qOA5p+lXG4gIGFkZEVudHJ5KGVudHJ5OiBMb2dFbnRyeSB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIC8vIOWvueS6juihqOaDheWMhea2iOaBr++8jOebtOaOpea3u+WKoO+8jOS4jei/m+ihjOmHjeWkjeajgOafpVxuICAgICAgaWYgKCd0eXBlJyBpbiBlbnRyeSAmJiBlbnRyeS50eXBlID09PSAnc3RpY2tlcicpIHtcbiAgICAgICAgdGhpcy5sb2dFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOWvueS6juWFtuS7luexu+Wei+eahOadoeebru+8jOi/m+ihjOmHjeWkjeajgOafpVxuICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSB0aGlzLmxvZ0VudHJpZXMuc29tZShleGlzdGluZ0VudHJ5ID0+IHtcbiAgICAgICAgLy8g5qOA5p+l5pyL5Y+L5ZyI55u45YWz5p2h55uuXG4gICAgICAgIGlmICgna2V5JyBpbiBlbnRyeSAmJiAna2V5JyBpbiBleGlzdGluZ0VudHJ5KSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmtleSA9PT0gZXhpc3RpbmdFbnRyeS5rZXkpIHtcbiAgICAgICAgICAgIC8vIOWvueS6juaci+WPi+WciOWKqOaAge+8jOavlOi+g+aWh+acrOWSjOaXtumXtFxuICAgICAgICAgICAgaWYgKGVudHJ5LmtleS5pbmNsdWRlcygnX01PTUVOVCcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0YSA9IChlbnRyeSBhcyBNb21lbnRFbnRyeSkuZGF0YTtcbiAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gKGV4aXN0aW5nRW50cnkgYXMgTW9tZW50RW50cnkpLmRhdGE7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdEYXRhLnRleHQgPT09IGVudHJ5RGF0YS50ZXh0ICYmXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdEYXRhLmRhdGUgPT09IGVudHJ5RGF0YS5kYXRlICYmXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdEYXRhLnRpbWUgPT09IGVudHJ5RGF0YS50aW1lXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDlr7nkuo7or4TorrrvvIzmr5TovoPmlofmnKzlkoznm67moIfluJblrZBJRFxuICAgICAgICAgICAgZWxzZSBpZiAoZW50cnkua2V5LmluY2x1ZGVzKCdfQ09NTUVOVCcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0YSA9IChlbnRyeSBhcyBDb21tZW50RW50cnkpLmRhdGE7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IChleGlzdGluZ0VudHJ5IGFzIENvbW1lbnRFbnRyeSkuZGF0YTtcbiAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRGF0YS50ZXh0ID09PSBlbnRyeURhdGEudGV4dCAmJiBleGlzdGluZ0RhdGEudGFyZ2V0X3Bvc3RfaWQgPT09IGVudHJ5RGF0YS50YXJnZXRfcG9zdF9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOWvueS6jueCuei1nu+8jOavlOi+g+ebruagh+W4luWtkElEXG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeS5rZXkuaW5jbHVkZXMoJ19MSUtFJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgZW50cnlEYXRhID0gKGVudHJ5IGFzIExpa2VFbnRyeSkuZGF0YTtcbiAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gKGV4aXN0aW5nRW50cnkgYXMgTGlrZUVudHJ5KS5kYXRhO1xuICAgICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdEYXRhLnRhcmdldF9wb3N0X2lkID09PSBlbnRyeURhdGEudGFyZ2V0X3Bvc3RfaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5qOA5p+l5raI5oGv57G75Z6L5p2h55uuXG4gICAgICAgIGlmICgndHlwZScgaW4gZW50cnkgJiYgJ3R5cGUnIGluIGV4aXN0aW5nRW50cnkpIHtcbiAgICAgICAgICAvLyDlpoLmnpzkuKTkuKrmnaHnm67nsbvlnovnm7jlkIxcbiAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gZXhpc3RpbmdFbnRyeS50eXBlKSB7XG4gICAgICAgICAgICAvLyDlr7nkuo7mnIlJROeahOadoeebru+8jOavlOi+g0lEXG4gICAgICAgICAgICBpZiAoJ2lkJyBpbiBlbnRyeSAmJiAnaWQnIGluIGV4aXN0aW5nRW50cnkgJiYgZW50cnkuaWQgPT09IGV4aXN0aW5nRW50cnkuaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOWvueS6jua2iOaBr+exu+Wei+adoeebru+8jOavlOi+g+WPkemAgeiAheWSjOWGheWuuVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoZW50cnkudHlwZSA9PT0gJ21lc3NhZ2UnIHx8IGVudHJ5LnR5cGUgPT09ICdsb2NhdGlvbicgfHwgZW50cnkudHlwZSA9PT0gJ2ZpbGUnKSAmJlxuICAgICAgICAgICAgICAnc2VuZGVyJyBpbiBlbnRyeSAmJlxuICAgICAgICAgICAgICAnc2VuZGVyJyBpbiBleGlzdGluZ0VudHJ5ICYmXG4gICAgICAgICAgICAgICdjb250ZW50JyBpbiBlbnRyeSAmJlxuICAgICAgICAgICAgICAnY29udGVudCcgaW4gZXhpc3RpbmdFbnRyeVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgZW50cnkuc2VuZGVyID09PSBleGlzdGluZ0VudHJ5LnNlbmRlciAmJiAod2luZG93IGFzIGFueSkuXy5pc0VxdWFsKGVudHJ5LmNvbnRlbnQsIGV4aXN0aW5nRW50cnkuY29udGVudClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g5a+55LqO5pe26Ze05ZKM5LqL5Lu25pel5b+X77yM5q+U6L6D5YaF5a65XG4gICAgICAgICAgICBpZiAoKGVudHJ5LnR5cGUgPT09ICd0aW1lJyB8fCBlbnRyeS50eXBlID09PSAnZXZlbnQnKSAmJiAnY29udGVudCcgaW4gZW50cnkgJiYgJ2NvbnRlbnQnIGluIGV4aXN0aW5nRW50cnkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5fLmlzRXF1YWwoZW50cnkuY29udGVudCwgZXhpc3RpbmdFbnRyeS5jb250ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g5a+55LqO5YW25LuW5aSN5p2C57G75Z6L77yI5aaCaW1hZ2UsIHZvaWNlLCB0cmFuc2ZlciwgZ2lmdO+8ie+8jOavlOi+g+WGheWuuVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAnY29udGVudCcgaW4gZW50cnkgJiZcbiAgICAgICAgICAgICAgJ2NvbnRlbnQnIGluIGV4aXN0aW5nRW50cnkgJiZcbiAgICAgICAgICAgICAgKGVudHJ5LnR5cGUgPT09ICdpbWFnZScgfHwgZW50cnkudHlwZSA9PT0gJ3ZvaWNlJyB8fCBlbnRyeS50eXBlID09PSAndHJhbnNmZXInIHx8IGVudHJ5LnR5cGUgPT09ICdnaWZ0JylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl8uaXNFcXVhbChlbnRyeS5jb250ZW50LCBleGlzdGluZ0VudHJ5LmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFtCTE1YXSDot7Pov4fmt7vliqDph43lpI3mnaHnm646YCwgZW50cnkpO1xuICAgICAgICByZXR1cm47IC8vIOWmguaenOaYr+mHjeWkjeadoeebru+8jOebtOaOpei/lOWbnu+8jOS4jea3u+WKoFxuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ0VudHJpZXMucHVzaChlbnRyeSk7XG5cbiAgICAgIC8vIOa3u+WKoOaXtumXtOabtOaWsOmAu+i+kSAtIOWPguiAg+WOn+eJiOeugOWMllxuICAgICAgaWYgKCd0eXBlJyBpbiBlbnRyeSAmJiAoZW50cnkudHlwZSA9PT0gJ3RpbWUnIHx8IGVudHJ5LnR5cGUgPT09ICdldmVudCcpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBlbnRyeS5jb250ZW50O1xuICAgICAgICBjb25zdCB0aW1lRGF0ZSA9IG5ldyBEYXRlKGAke2RhdGEuZGF0ZX0gJHtkYXRhLnRpbWV9YCk7XG4gICAgICAgIGlmICghaXNOYU4odGltZURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgIHdpbmRvdy5jdXJyZW50R2FtZURhdGUgPSB0aW1lRGF0ZTtcbiAgICAgICAgICBjb25zdCB0aW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXRpbWUnKTtcbiAgICAgICAgICBpZiAodGltZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHt3aW5kb3cuY3VycmVudEdhbWVEYXRlXG4gICAgICAgICAgICAgIC5nZXRIb3VycygpXG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5wYWRTdGFydCgyLCAnMCcpfToke3dpbmRvdy5jdXJyZW50R2FtZURhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICAgICAgdGltZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aW1lU3RyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENvbnRleHRGb3JBSSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJMb2dUb1N0cmluZygpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/script.ts\n\n}");
  },
  "./src/同层手机/style-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleManager: () => (/* binding */ StyleManager),\n/* harmony export */   styleManager: () => (/* binding */ styleManager)\n/* harmony export */ });\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/main.scss */ \"./src/同层手机/styles/main.scss\");\n/**\n * 样式管理器\n * 负责导入和管理所有SCSS样式文件\n */\n// 导入主样式文件\n\n/**\n * 样式管理器类\n * 提供样式相关的工具方法和管理功能\n */\nclass StyleManager {\n    static instance;\n    loadedStyles = new Set();\n    constructor() {\n        this.initializeStyles();\n    }\n    /**\n     * 获取样式管理器单例实例\n     */\n    static getInstance() {\n        if (!StyleManager.instance) {\n            StyleManager.instance = new StyleManager();\n        }\n        return StyleManager.instance;\n    }\n    /**\n     * 初始化样式\n     */\n    initializeStyles() {\n        console.log('[StyleManager] 正在加载样式文件...');\n        // 标记主样式已加载\n        this.loadedStyles.add('main');\n        // 添加样式加载完成的标记到body\n        document.body.classList.add('styles-loaded');\n        console.log('[StyleManager] 样式文件加载完成');\n    }\n    /**\n     * 检查样式是否已加载\n     */\n    isStyleLoaded(styleName) {\n        return this.loadedStyles.has(styleName);\n    }\n    /**\n     * 动态切换主题\n     */\n    toggleTheme(theme) {\n        const body = document.body;\n        if (theme === 'dark') {\n            body.classList.add('dark-mode');\n        }\n        else {\n            body.classList.remove('dark-mode');\n        }\n        console.log(`[StyleManager] 主题已切换到: ${theme}`);\n    }\n    /**\n     * 获取当前主题\n     */\n    getCurrentTheme() {\n        return document.body.classList.contains('dark-mode') ? 'dark' : 'light';\n    }\n    /**\n     * 动态设置CSS变量\n     */\n    setCSSVariable(name, value) {\n        document.documentElement.style.setProperty(name, value);\n    }\n    /**\n     * 获取CSS变量值\n     */\n    getCSSVariable(name) {\n        return getComputedStyle(document.documentElement).getPropertyValue(name).trim();\n    }\n    /**\n     * 批量设置CSS变量\n     */\n    setCSSVariables(variables) {\n        Object.entries(variables).forEach(([name, value]) => {\n            this.setCSSVariable(name, value);\n        });\n    }\n    /**\n     * 重置所有自定义CSS变量\n     */\n    resetCSSVariables() {\n        // 移除所有自定义设置的CSS变量\n        const style = document.documentElement.style;\n        const propertiesToRemove = [];\n        for (let i = 0; i < style.length; i++) {\n            const property = style[i];\n            if (property.startsWith('--')) {\n                propertiesToRemove.push(property);\n            }\n        }\n        propertiesToRemove.forEach(property => {\n            style.removeProperty(property);\n        });\n    }\n    /**\n     * 添加自定义样式类\n     */\n    addStyleClass(element, className) {\n        element.classList.add(className);\n    }\n    /**\n     * 移除样式类\n     */\n    removeStyleClass(element, className) {\n        element.classList.remove(className);\n    }\n    /**\n     * 切换样式类\n     */\n    toggleStyleClass(element, className) {\n        return element.classList.toggle(className);\n    }\n    /**\n     * 检查元素是否包含指定样式类\n     */\n    hasStyleClass(element, className) {\n        return element.classList.contains(className);\n    }\n    /**\n     * 获取样式管理器状态信息\n     */\n    getStatus() {\n        return {\n            loadedStyles: Array.from(this.loadedStyles),\n            currentTheme: this.getCurrentTheme(),\n            stylesLoaded: document.body.classList.contains('styles-loaded'),\n        };\n    }\n}\n// 导出单例实例\nconst styleManager = StyleManager.getInstance();\n// 在模块加载时自动初始化\nconsole.log('[StyleManager] 样式管理器已初始化');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsRUFBRTtZQUNwQyxZQUFZLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQztTQUNoRSxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBRUQsU0FBUztBQUNGLE1BQU0sWUFBWSxHQUFHLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUV2RCxjQUFjO0FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovc3R5bGUtbWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOagt+W8j+euoeeQhuWZqFxuICog6LSf6LSj5a+85YWl5ZKM566h55CG5omA5pyJU0NTU+agt+W8j+aWh+S7tlxuICovXG5cbi8vIOWvvOWFpeS4u+agt+W8j+aWh+S7tlxuaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG4vKipcbiAqIOagt+W8j+euoeeQhuWZqOexu1xuICog5o+Q5L6b5qC35byP55u45YWz55qE5bel5YW35pa55rOV5ZKM566h55CG5Yqf6IO9XG4gKi9cbmV4cG9ydCBjbGFzcyBTdHlsZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU3R5bGVNYW5hZ2VyO1xuICBwcml2YXRlIGxvYWRlZFN0eWxlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVTdHlsZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmoLflvI/nrqHnkIblmajljZXkvovlrp7kvotcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogU3R5bGVNYW5hZ2VyIHtcbiAgICBpZiAoIVN0eWxlTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgU3R5bGVNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFN0eWxlTWFuYWdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gU3R5bGVNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluagt+W8j1xuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplU3R5bGVzKCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdbU3R5bGVNYW5hZ2VyXSDmraPlnKjliqDovb3moLflvI/mlofku7YuLi4nKTtcblxuICAgIC8vIOagh+iusOS4u+agt+W8j+W3suWKoOi9vVxuICAgIHRoaXMubG9hZGVkU3R5bGVzLmFkZCgnbWFpbicpO1xuXG4gICAgLy8g5re75Yqg5qC35byP5Yqg6L295a6M5oiQ55qE5qCH6K6w5YiwYm9keVxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc3R5bGVzLWxvYWRlZCcpO1xuXG4gICAgY29uc29sZS5sb2coJ1tTdHlsZU1hbmFnZXJdIOagt+W8j+aWh+S7tuWKoOi9veWujOaIkCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpeagt+W8j+aYr+WQpuW3suWKoOi9vVxuICAgKi9cbiAgcHVibGljIGlzU3R5bGVMb2FkZWQoc3R5bGVOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkZWRTdHlsZXMuaGFzKHN0eWxlTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICog5Yqo5oCB5YiH5o2i5Li76aKYXG4gICAqL1xuICBwdWJsaWMgdG9nZ2xlVGhlbWUodGhlbWU6ICdsaWdodCcgfCAnZGFyaycpOiB2b2lkIHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcblxuICAgIGlmICh0aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmstbW9kZScpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBbU3R5bGVNYW5hZ2VyXSDkuLvpopjlt7LliIfmjaLliLA6ICR7dGhlbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5b2T5YmN5Li76aKYXG4gICAqL1xuICBwdWJsaWMgZ2V0Q3VycmVudFRoZW1lKCk6ICdsaWdodCcgfCAnZGFyaycge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnZGFyaycgOiAnbGlnaHQnO1xuICB9XG5cbiAgLyoqXG4gICAqIOWKqOaAgeiuvue9rkNTU+WPmOmHj1xuICAgKi9cbiAgcHVibGljIHNldENTU1ZhcmlhYmxlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WQ1NT5Y+Y6YeP5YC8XG4gICAqL1xuICBwdWJsaWMgZ2V0Q1NTVmFyaWFibGUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUobmFtZSkudHJpbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOaJuemHj+iuvue9rkNTU+WPmOmHj1xuICAgKi9cbiAgcHVibGljIHNldENTU1ZhcmlhYmxlcyh2YXJpYWJsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiB2b2lkIHtcbiAgICBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgIHRoaXMuc2V0Q1NTVmFyaWFibGUobmFtZSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOmHjee9ruaJgOacieiHquWumuS5iUNTU+WPmOmHj1xuICAgKi9cbiAgcHVibGljIHJlc2V0Q1NTVmFyaWFibGVzKCk6IHZvaWQge1xuICAgIC8vIOenu+mZpOaJgOacieiHquWumuS5ieiuvue9rueahENTU+WPmOmHj1xuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuICAgIGNvbnN0IHByb3BlcnRpZXNUb1JlbW92ZTogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gc3R5bGVbaV07XG4gICAgICBpZiAocHJvcGVydHkuc3RhcnRzV2l0aCgnLS0nKSkge1xuICAgICAgICBwcm9wZXJ0aWVzVG9SZW1vdmUucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllc1RvUmVtb3ZlLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgICAgc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOa3u+WKoOiHquWumuS5ieagt+W8j+exu1xuICAgKi9cbiAgcHVibGljIGFkZFN0eWxlQ2xhc3MoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICog56e76Zmk5qC35byP57G7XG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlU3R5bGVDbGFzcyhlbGVtZW50OiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliIfmjaLmoLflvI/nsbtcbiAgICovXG4gIHB1YmxpYyB0b2dnbGVTdHlsZUNsYXNzKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmo4Dmn6XlhYPntKDmmK/lkKbljIXlkKvmjIflrprmoLflvI/nsbtcbiAgICovXG4gIHB1YmxpYyBoYXNTdHlsZUNsYXNzKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluagt+W8j+euoeeQhuWZqOeKtuaAgeS/oeaBr1xuICAgKi9cbiAgcHVibGljIGdldFN0YXR1cygpOiB7XG4gICAgbG9hZGVkU3R5bGVzOiBzdHJpbmdbXTtcbiAgICBjdXJyZW50VGhlbWU6IHN0cmluZztcbiAgICBzdHlsZXNMb2FkZWQ6IGJvb2xlYW47XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBsb2FkZWRTdHlsZXM6IEFycmF5LmZyb20odGhpcy5sb2FkZWRTdHlsZXMpLFxuICAgICAgY3VycmVudFRoZW1lOiB0aGlzLmdldEN1cnJlbnRUaGVtZSgpLFxuICAgICAgc3R5bGVzTG9hZGVkOiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnc3R5bGVzLWxvYWRlZCcpLFxuICAgIH07XG4gIH1cbn1cblxuLy8g5a+85Ye65Y2V5L6L5a6e5L6LXG5leHBvcnQgY29uc3Qgc3R5bGVNYW5hZ2VyID0gU3R5bGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbi8vIOWcqOaooeWdl+WKoOi9veaXtuiHquWKqOWIneWni+WMllxuY29uc29sZS5sb2coJ1tTdHlsZU1hbmFnZXJdIOagt+W8j+euoeeQhuWZqOW3suWIneWni+WMlicpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/style-manager.ts\n\n}");
  },
  "./src/同层手机/styles/main.scss"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5ZCM5bGC5omL5py6L3N0eWxlcy9tYWluLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5ZCM5bGC5omL5py6L3N0eWxlcy9tYWluLnNjc3M/NzA4MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/styles/main.scss\n\n}");
  },
  "./src/同层手机/theme-editor.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeEditor: () => (/* binding */ ThemeEditor)\n/* harmony export */ });\nclass ThemeEditor {\n    themeManager;\n    onThemeChanged;\n    $modal;\n    checkboxHandlers = new Map();\n    constructor(themeManager, onThemeChanged) {\n        this.themeManager = themeManager;\n        this.onThemeChanged = onThemeChanged;\n        this.$modal = $('#theme-editor-modal');\n    }\n    // 设置主题选择器 - 使用jQuery重构\n    setupThemeSelector() {\n        const $container = $('.theme-options');\n        if (!$container.length)\n            return;\n        // 清空现有内容\n        $container.empty();\n        // 获取所有默认主题\n        const themes = this.themeManager.getThemes();\n        // 使用lodash遍历主题\n        _.forEach(themes, theme => {\n            const $themeButton = $('<div>').addClass('theme-option').css({\n                width: 'calc(50% - 0.5rem)',\n                'aspect-ratio': '1/1',\n                'border-radius': '8px',\n                'background-color': theme.colors.primary,\n                display: 'flex',\n                'flex-direction': 'column',\n                'align-items': 'center',\n                'justify-content': 'center',\n                cursor: 'pointer',\n                position: 'relative',\n                overflow: 'hidden',\n                'box-shadow': '0 2px 8px rgba(0,0,0,0.1)',\n            });\n            // 添加主题预览\n            const $previewEl = $('<div>').css({\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                width: '100%',\n                height: '100%',\n                background: `linear-gradient(135deg, ${theme.colors.gradientStart}, ${theme.colors.gradientEnd})`,\n            });\n            // 添加气泡预览\n            const $bubblePreview = $('<div>').css({\n                position: 'relative',\n                width: '70%',\n                height: '60%',\n                display: 'flex',\n                'flex-direction': 'column',\n                'justify-content': 'space-between',\n                'z-index': 1,\n            });\n            const $themBubble = $('<div>').css({\n                'align-self': 'flex-start',\n                width: '60%',\n                height: '40%',\n                'background-color': theme.colors.bubbleThemBg,\n                'border-radius': '8px',\n            });\n            const $meBubble = $('<div>').css({\n                'align-self': 'flex-end',\n                width: '60%',\n                height: '40%',\n                'background-color': theme.colors.bubbleMeBg,\n                'border-radius': '8px',\n            });\n            $bubblePreview.append($themBubble, $meBubble);\n            // 添加主题名称\n            const $nameEl = $('<div>').text(theme.displayName).css({\n                position: 'relative',\n                color: 'white',\n                'font-size': '0.8rem',\n                'font-weight': '500',\n                'margin-top': '5px',\n                'text-shadow': '0 1px 2px rgba(0,0,0,0.3)',\n                'z-index': 1,\n            });\n            $themeButton.append($previewEl, $bubblePreview, $nameEl);\n            // 添加点击事件\n            $themeButton.on('click', () => {\n                this.themeManager.switchTheme(theme.name);\n                // 通知主题已更改\n                if (this.onThemeChanged) {\n                    this.onThemeChanged();\n                }\n            });\n            $container.append($themeButton);\n        });\n        // 添加自定义主题选择按钮（正方形，用于切换主题）\n        this.addCustomThemeSelector($container);\n    }\n    // 添加自定义主题编辑按钮（长方形，用于打开编辑器）\n    addCustomThemeEditButton() {\n        // 查找设置面板中的按钮容器\n        const $settingsPanel = $('.settings-panel');\n        if (!$settingsPanel.length)\n            return;\n        // 创建长方形的编辑按钮\n        const $editButton = $('<div>').addClass('custom-theme-edit-button').css({\n            width: '100%',\n            padding: '12px 16px',\n            margin: '8px 0',\n            'border-radius': '8px',\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            color: 'white',\n            'font-size': '0.9rem',\n            'font-weight': '500',\n            'text-align': 'center',\n            cursor: 'pointer',\n            'box-shadow': '0 2px 8px rgba(0,0,0,0.1)',\n            transition: 'all 0.2s ease',\n            display: 'flex',\n            'align-items': 'center',\n            'justify-content': 'center',\n            gap: '8px',\n        });\n        const $icon = $('<span>').html('🎨');\n        const $text = $('<span>').text('自定义主题设置');\n        $editButton.append($icon, $text);\n        // 添加悬停效果\n        $editButton\n            .on('mouseenter', function () {\n            $(this).css('transform', 'translateY(-1px)');\n        })\n            .on('mouseleave', function () {\n            $(this).css('transform', 'translateY(0)');\n        });\n        // 添加点击事件\n        $editButton.on('click', () => {\n            this.openThemeEditor();\n        });\n        // 将按钮添加到设置面板的适当位置\n        // 查找主题选择器容器，在其后添加编辑按钮\n        const $themeOptions = $settingsPanel.find('.theme-options');\n        if ($themeOptions.length) {\n            $themeOptions.after($editButton);\n        }\n        else {\n            $settingsPanel.append($editButton);\n        }\n    }\n    // 添加自定义主题选择按钮（正方形，用于切换到自定义主题）\n    addCustomThemeSelector($container) {\n        // 获取自定义主题数据\n        const customThemeData = this.getCustomThemeData();\n        const $customButton = $('<div>').addClass('theme-option custom-theme-option').css({\n            width: 'calc(50% - 0.5rem)',\n            'aspect-ratio': '1/1',\n            'border-radius': '8px',\n            background: customThemeData.background,\n            display: 'flex',\n            'flex-direction': 'column',\n            'align-items': 'center',\n            'justify-content': 'center',\n            cursor: 'pointer',\n            position: 'relative',\n            overflow: 'hidden',\n            'box-shadow': '0 2px 8px rgba(0,0,0,0.1)',\n        });\n        // 添加渐变背景预览（类似其他主题按钮）\n        const $previewEl = $('<div>').css({\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: customThemeData.gradient,\n        });\n        const $iconEl = $('<div>').html('✨').css({\n            'font-size': '2rem',\n            'margin-bottom': '5px',\n            position: 'relative',\n            'z-index': 1,\n        });\n        const $nameEl = $('<div>').text(customThemeData.displayName).css({\n            color: 'white',\n            'font-size': '0.8rem',\n            'font-weight': '500',\n            'text-shadow': '0 1px 2px rgba(0,0,0,0.3)',\n            position: 'relative',\n            'z-index': 1,\n        });\n        $customButton.append($previewEl, $iconEl, $nameEl);\n        $customButton.on('click', () => {\n            // 切换到自定义主题\n            this.themeManager.switchTheme('custom');\n            // 通知主题已更改\n            if (this.onThemeChanged) {\n                this.onThemeChanged();\n            }\n        });\n        $container.append($customButton);\n    }\n    // 获取自定义主题数据（名称和颜色）\n    getCustomThemeData() {\n        try {\n            const customThemeJson = localStorage.getItem('blmx_custom_theme');\n            if (customThemeJson) {\n                const customTheme = JSON.parse(customThemeJson);\n                const primaryColor = customTheme.colors?.primary || '#667eea';\n                const gradientStart = customTheme.colors?.gradientStart || primaryColor;\n                const gradientEnd = customTheme.colors?.gradientEnd || primaryColor;\n                return {\n                    displayName: customTheme.displayName || '自定义主题',\n                    background: primaryColor,\n                    gradient: `linear-gradient(135deg, ${gradientStart}, ${gradientEnd})`,\n                };\n            }\n        }\n        catch (error) {\n            console.warn('Failed to load custom theme data:', error);\n        }\n        // 默认值\n        return {\n            displayName: '自定义主题',\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        };\n    }\n    // 更新自定义主题按钮的显示（公共方法）\n    updateCustomThemeButton() {\n        const $customButton = $('.custom-theme-option');\n        if (!$customButton.length)\n            return;\n        const customThemeData = this.getCustomThemeData();\n        // 更新背景渐变预览层\n        const $previewEl = $customButton.children().eq(0); // 第一个子元素是预览层\n        if ($previewEl.length) {\n            $previewEl.css('background', customThemeData.gradient);\n        }\n        // 更新主题名称（最后一个子元素）\n        const $nameEl = $customButton.children().last();\n        if ($nameEl.length && $nameEl.text() !== customThemeData.displayName) {\n            $nameEl.text(customThemeData.displayName);\n        }\n        // 更新按钮整体背景色\n        $customButton.css('background', customThemeData.background);\n    }\n    // 打开主题编辑器 - 使用jQuery重构\n    openThemeEditor() {\n        if (!this.$modal.length)\n            return;\n        // 获取当前主题的实际应用数据（包括动态计算的值）\n        const currentTheme = this.themeManager.getCurrentThemeWithAppliedValues();\n        this.fillThemeEditor(currentTheme);\n        // 设置checkbox事件监听器\n        this.setupCheckboxes();\n        // 显示模态框\n        this.$modal.show();\n    }\n    // 关闭主题编辑器 - 使用jQuery重构\n    closeThemeEditor() {\n        this.$modal.hide();\n        // 清理checkbox事件监听器\n        this.cleanupCheckboxes();\n    }\n    // 填充主题编辑器 - 使用jQuery重构\n    fillThemeEditor(theme) {\n        // 使用jQuery选择器，更简洁\n        const $nameInput = $('#theme-name-input');\n        const $darkModeToggle = $('#dark-mode-toggle');\n        const $singleColorIconsToggle = $('#single-color-icons-toggle');\n        // 填充主题名称 - 修复：保持用户自定义的名称\n        let themeName;\n        if (theme.name === 'custom') {\n            // 如果是自定义主题，使用用户保存的displayName\n            themeName = theme.displayName || '我的自定义主题';\n        }\n        else {\n            // 如果是基于其他主题的自定义，使用\"自定义 + 原主题名\"格式\n            themeName = `自定义 ${theme.displayName}`;\n        }\n        $nameInput.val(themeName);\n        // 定义颜色字段映射 - 使用lodash简化数据处理\n        const colorMappings = {\n            '#phone-frame-color': theme.colors.phoneFrame,\n            '#primary-color': theme.colors.primary,\n            '#light-color': theme.colors.light,\n            '#ultra-light-color': theme.colors.ultraLight,\n            '#deep-color': theme.colors.deep,\n            '#text-primary-color': theme.colors.textPrimary,\n            '#text-secondary-color': theme.colors.textSecondary,\n            '#bubble-me-color': theme.colors.bubbleMeBg,\n            '#bubble-me-text-color': theme.colors.bubbleMeText,\n            '#bubble-them-color': theme.colors.bubbleThemBg,\n            '#bubble-them-text-color': theme.colors.bubbleThemText,\n            '#status-bar-color': theme.colors.statusBarColor,\n            '#dynamic-island-color': theme.colors.dynamicIslandColor,\n            '#border-color': theme.colors.borderColor,\n            '#shadow-color': theme.colors.shadowColor,\n        };\n        // 使用lodash的forEach批量设置颜色值\n        _.forEach(colorMappings, (colorValue, selector) => {\n            $(selector).val(this.convertToHex(colorValue));\n        });\n        // 设置checkbox状态\n        $darkModeToggle.prop('checked', theme.colors.isDarkMode);\n        $singleColorIconsToggle.prop('checked', theme.colors.useSingleColorIcons || false);\n        // 注意：checkbox的事件监听器和初始状态在openThemeEditor()中的setupCheckboxes()里设置\n    }\n    // 设置checkbox事件监听器 - 使用jQuery重构\n    setupCheckboxes() {\n        // 清理之前的事件监听器\n        this.cleanupCheckboxes();\n        // 设置夜间模式checkbox\n        this.setupSingleCheckboxWithJQuery('dark-mode-toggle', 'dark-mode-checkbox-button');\n        // 设置单一颜色图标checkbox\n        this.setupSingleCheckboxWithJQuery('single-color-icons-toggle', 'single-color-icons-checkbox-button');\n    }\n    // 清理checkbox事件监听器\n    cleanupCheckboxes() {\n        // 移除所有存储的事件处理器\n        this.checkboxHandlers.forEach((handler, id) => {\n            $(`#${id}`).off('click', handler);\n        });\n        this.checkboxHandlers.clear();\n    }\n    // 使用jQuery设置单个checkbox\n    setupSingleCheckboxWithJQuery(checkboxId, buttonId) {\n        const $checkbox = $(`#${checkboxId}`);\n        const $button = $(`#${buttonId}`);\n        if (!$checkbox.length || !$button.length)\n            return;\n        // 更新checkbox按钮状态的函数\n        const updateCheckboxState = (checked) => {\n            $button.toggleClass('checked', checked);\n        };\n        // 点击事件处理函数\n        const handleClick = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const checkbox = $checkbox[0];\n            checkbox.checked = !checkbox.checked;\n            updateCheckboxState(checkbox.checked);\n        };\n        // 存储事件处理器以便后续清理\n        this.checkboxHandlers.set(buttonId, handleClick);\n        // 添加点击事件监听器\n        $button.on('click', handleClick);\n        // 设置初始状态\n        const checkbox = $checkbox[0];\n        updateCheckboxState(checkbox.checked);\n    }\n    // 重置主题编辑器\n    resetThemeEditor() {\n        // 使用蓝色主题重置编辑器\n        const blueTheme = this.themeManager.getThemes().blue;\n        this.fillThemeEditor(blueTheme);\n        // 重新设置事件监听器，确保按钮能正常工作\n        this.setupCheckboxes();\n    }\n    // 导出主题为JSON - 修复：包含实际壁纸设置和正确文件名\n    exportThemeAsJSON() {\n        try {\n            const currentTheme = this.getCurrentThemeFromEditor();\n            const wallpaperManager = this.themeManager.getWallpaperManager();\n            // 获取当前实际使用的壁纸设置\n            const currentWallpapers = {\n                chat: wallpaperManager.getCurrentWallpaper('chat'),\n                home: wallpaperManager.getCurrentWallpaper('home'),\n                settings: wallpaperManager.getCurrentWallpaper('settings'),\n            };\n            // 构建导出数据，包含壁纸信息\n            const themeData = {\n                name: currentTheme.name,\n                displayName: currentTheme.displayName,\n                version: '1.0',\n                exportDate: new Date().toISOString(),\n                colors: currentTheme.colors,\n                wallpapers: currentWallpapers, // 包含实际使用的壁纸\n            };\n            const jsonString = JSON.stringify(themeData, null, 2);\n            const blob = new Blob([jsonString], { type: 'application/json' });\n            const url = URL.createObjectURL(blob);\n            // 生成文件名：custom-主题名字.json\n            const themeName = currentTheme.displayName || '自定义主题';\n            const safeThemeName = themeName.replace(/[<>:\"/\\\\|?*]/g, '_'); // 替换文件名中的非法字符\n            const fileName = `custom-${safeThemeName}.json`;\n            // 使用jQuery创建下载链接\n            const $a = $('<a>', {\n                href: url,\n                download: fileName,\n                css: { display: 'none' },\n            });\n            $('body').append($a);\n            $a[0].click();\n            $a.remove();\n            URL.revokeObjectURL(url);\n            console.log(`[ThemeEditor] 主题已导出为JSON: ${fileName}`);\n        }\n        catch (error) {\n            console.error('[ThemeEditor] 导出JSON失败:', error);\n            alert('导出失败，请重试');\n        }\n    }\n    // 导入主题文件\n    importTheme() {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.accept = '.json';\n        input.style.display = 'none';\n        input.addEventListener('change', event => {\n            const file = event.target.files?.[0];\n            if (!file)\n                return;\n            const reader = new FileReader();\n            reader.onload = e => {\n                try {\n                    const content = e.target?.result;\n                    let themeData;\n                    if (file.name.endsWith('.json')) {\n                        themeData = JSON.parse(content);\n                    }\n                    else {\n                        throw new Error('只支持JSON格式的主题文件');\n                    }\n                    // 验证主题数据\n                    if (!this.validateThemeData(themeData)) {\n                        throw new Error('主题文件格式不正确');\n                    }\n                    // 应用导入的主题\n                    this.applyImportedTheme(themeData);\n                    console.log('[ThemeEditor] 主题导入成功');\n                    alert('主题导入成功！');\n                }\n                catch (error) {\n                    console.error('[ThemeEditor] 导入失败:', error);\n                    alert(`导入失败: ${error instanceof Error ? error.message : '未知错误'}`);\n                }\n            };\n            reader.readAsText(file);\n        });\n        // 使用jQuery操作DOM\n        $('body').append(input);\n        input.click();\n        $(input).remove();\n    }\n    // 从编辑器获取当前主题 - 使用jQuery重构\n    getCurrentThemeFromEditor() {\n        // 使用jQuery获取值，更简洁\n        const getValue = (selector, defaultValue = '') => $(selector).val() || defaultValue;\n        const getChecked = (selector) => $(selector).prop('checked');\n        return this.createCustomTheme({\n            name: getValue('#theme-name-input', '自定义主题'),\n            phoneFrame: getValue('#phone-frame-color', '#b4d0fa'),\n            primary: getValue('#primary-color', '#72adf3'),\n            light: getValue('#light-color', '#a8cbeb'),\n            ultraLight: getValue('#ultra-light-color', '#e8f4fd'),\n            deep: getValue('#deep-color', '#2c5282'),\n            textPrimary: getValue('#text-primary-color', 'rgb(139, 162, 186)'),\n            textSecondary: getValue('#text-secondary-color', '#64748b'),\n            bubbleMeBg: getValue('#bubble-me-color', '#a8cbeb'),\n            bubbleMeText: getValue('#bubble-me-text-color', '#ffffff'),\n            bubbleThemBg: getValue('#bubble-them-color', '#ffffff'),\n            bubbleThemText: getValue('#bubble-them-text-color', '#72adf3'),\n            appBgColor: '#ffffff',\n            settingsBgColor: '#f2f2f7',\n            settingsCardBgColor: '#ffffff',\n            statusBar: getValue('#status-bar-color', '#428af2'),\n            dynamicIsland: getValue('#dynamic-island-color', '#a0c4f4'),\n            border: getValue('#border-color', '#E0E0E0'),\n            shadow: getValue('#shadow-color', '#4a90e2'),\n            isDarkMode: getChecked('#dark-mode-toggle'),\n            useSingleColorIcons: getChecked('#single-color-icons-toggle'),\n        });\n    }\n    // 保存自定义主题 - 使用jQuery重构\n    saveCustomTheme() {\n        // 直接使用getCurrentThemeFromEditor方法，避免重复代码\n        const customTheme = this.getCurrentThemeFromEditor();\n        // 保存并应用主题\n        this.themeManager.saveCustomTheme(customTheme);\n        this.themeManager.switchTheme('custom');\n        // 更新自定义主题按钮的显示\n        this.updateCustomThemeButton();\n        // 关闭编辑器\n        this.closeThemeEditor();\n        // 通知主题已更改\n        if (this.onThemeChanged) {\n            this.onThemeChanged();\n        }\n    }\n    // 创建自定义主题\n    createCustomTheme(params) {\n        const { name, phoneFrame, primary, light, ultraLight, deep, textPrimary, textSecondary, bubbleMeBg, bubbleMeText, bubbleThemBg, bubbleThemText, appBgColor, settingsBgColor, settingsCardBgColor, statusBar, dynamicIsland, border, shadow, isDarkMode, useSingleColorIcons, } = params;\n        // 提取阴影颜色的RGB分量\n        const r = parseInt(shadow.slice(1, 3), 16);\n        const g = parseInt(shadow.slice(3, 5), 16);\n        const b = parseInt(shadow.slice(5, 7), 16);\n        const shadowColorRgba = isDarkMode ? 'rgba(0, 0, 0, 0.5)' : `rgba(${r}, ${g}, ${b}, 0.3)`;\n        const bubbleShadow = `0 2px 8px rgba(${r}, ${g}, ${b}, 0.15)`;\n        // 渐变色\n        const gradientStart = this.lightenDarkenColor(primary, 20);\n        const gradientEnd = this.lightenDarkenColor(primary, -10);\n        // 添加缺少的属性\n        const soft = this.lightenDarkenColor(light, -10);\n        const textColor = '#ffffff';\n        const headerBg = isDarkMode\n            ? 'linear-gradient(315deg, #333333 0%, #444444 100%)'\n            : `linear-gradient(315deg, ${this.lightenDarkenColor(ultraLight, -5)} 0%, ${ultraLight} 100%)`;\n        // 创建自定义主题\n        const customTheme = {\n            name: 'custom',\n            displayName: name,\n            colors: {\n                phoneFrame: phoneFrame,\n                phoneFrameGradient: [\n                    this.lightenDarkenColor(phoneFrame, -40),\n                    phoneFrame,\n                    this.lightenDarkenColor(phoneFrame, 20),\n                    this.lightenDarkenColor(phoneFrame, -40),\n                ],\n                primary: primary,\n                light: light,\n                ultraLight: ultraLight,\n                soft: soft,\n                deep: deep,\n                textPrimary: textPrimary,\n                textSecondary: textSecondary,\n                textColor: textColor,\n                bubbleMeBg,\n                bubbleMeText,\n                bubbleThemBg,\n                bubbleThemText,\n                headerBg,\n                appBgColor,\n                settingsBgColor,\n                settingsCardBgColor,\n                gradientStart,\n                gradientEnd,\n                statusBarColor: statusBar,\n                dynamicIslandColor: dynamicIsland,\n                borderColor: border,\n                shadowColor: shadow,\n                shadowColorRgba,\n                bubbleShadow,\n                isDarkMode,\n                defaultWallpapers: {\n                    chat: isDarkMode\n                        ? 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_1.jpg'\n                        : 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_3.jpg',\n                    home: isDarkMode\n                        ? 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_1.jpg'\n                        : 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_2.jpg',\n                    settings: isDarkMode ? '#1a1a1a' : '#f2f7fd',\n                },\n                useSingleColorIcons,\n            },\n        };\n        return customTheme;\n    }\n    // 颜色处理工具：调亮或调暗颜色\n    lightenDarkenColor(col, amt) {\n        let usePound = false;\n        if (col[0] === '#') {\n            col = col.slice(1);\n            usePound = true;\n        }\n        const num = parseInt(col, 16);\n        let r = (num >> 16) + amt;\n        if (r > 255)\n            r = 255;\n        else if (r < 0)\n            r = 0;\n        let b = ((num >> 8) & 0x00ff) + amt;\n        if (b > 255)\n            b = 255;\n        else if (b < 0)\n            b = 0;\n        let g = (num & 0x0000ff) + amt;\n        if (g > 255)\n            g = 255;\n        else if (g < 0)\n            g = 0;\n        return (usePound ? '#' : '') + (g | (b << 8) | (r << 16)).toString(16);\n    }\n    // 将颜色值转换为十六进制格式（用于颜色输入框）\n    convertToHex(color) {\n        // 如果已经是十六进制格式，直接返回\n        if (color.startsWith('#')) {\n            return color;\n        }\n        // 处理rgb()格式\n        const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n        if (rgbMatch) {\n            const r = parseInt(rgbMatch[1]);\n            const g = parseInt(rgbMatch[2]);\n            const b = parseInt(rgbMatch[3]);\n            return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n        }\n        // 处理rgba()格式（忽略alpha通道）\n        const rgbaMatch = color.match(/rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*[\\d.]+\\)/);\n        if (rgbaMatch) {\n            const r = parseInt(rgbaMatch[1]);\n            const g = parseInt(rgbaMatch[2]);\n            const b = parseInt(rgbaMatch[3]);\n            return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n        }\n        // 如果无法识别格式，返回默认颜色\n        console.warn(`[ThemeEditor] 无法转换颜色格式: ${color}`);\n        return '#000000';\n    }\n    // 验证主题数据格式\n    validateThemeData(data) {\n        if (!data || typeof data !== 'object')\n            return false;\n        // 检查必需的字段\n        const requiredFields = ['name', 'colors'];\n        for (const field of requiredFields) {\n            if (!(field in data))\n                return false;\n        }\n        // 检查colors对象\n        const colors = data.colors;\n        if (!colors || typeof colors !== 'object')\n            return false;\n        // 检查必需的颜色字段\n        const requiredColors = ['primary', 'phoneFrame', 'textPrimary', 'textSecondary'];\n        for (const color of requiredColors) {\n            if (!(color in colors))\n                return false;\n        }\n        return true;\n    }\n    // 应用导入的主题 - 使用jQuery重构\n    applyImportedTheme(themeData) {\n        // 填充主题名称\n        $('#theme-name-input').val(themeData.displayName || themeData.name || '导入的主题');\n        // 填充颜色字段 - 使用lodash简化映射\n        const colorMappings = {\n            '#phone-frame-color': themeData.colors.phoneFrame,\n            '#primary-color': themeData.colors.primary,\n            '#light-color': themeData.colors.light,\n            '#ultra-light-color': themeData.colors.ultraLight,\n            '#deep-color': themeData.colors.deep,\n            '#text-primary-color': themeData.colors.textPrimary,\n            '#text-secondary-color': themeData.colors.textSecondary,\n            '#bubble-me-color': themeData.colors.bubbleMeBg,\n            '#bubble-me-text-color': themeData.colors.bubbleMeText,\n            '#bubble-them-color': themeData.colors.bubbleThemBg,\n            '#bubble-them-text-color': themeData.colors.bubbleThemText,\n            '#status-bar-color': themeData.colors.statusBarColor,\n            '#dynamic-island-color': themeData.colors.dynamicIslandColor,\n            '#border-color': themeData.colors.borderColor,\n            '#shadow-color': themeData.colors.shadowColor,\n        };\n        // 使用lodash批量设置颜色值，并转换为十六进制格式\n        _.forEach(colorMappings, (colorValue, selector) => {\n            if (colorValue) {\n                $(selector).val(this.convertToHex(colorValue));\n            }\n        });\n        // 填充checkbox选项\n        if ('isDarkMode' in themeData.colors) {\n            $('#dark-mode-toggle').prop('checked', themeData.colors.isDarkMode);\n        }\n        if ('useSingleColorIcons' in themeData.colors) {\n            $('#single-color-icons-toggle').prop('checked', themeData.colors.useSingleColorIcons);\n        }\n        // 处理壁纸信息（如果存在）\n        if (themeData.wallpapers) {\n            this.applyImportedWallpapers(themeData.wallpapers);\n        }\n        // 重新设置checkbox状态\n        this.setupCheckboxes();\n    }\n    // 应用导入的壁纸设置\n    applyImportedWallpapers(wallpapers) {\n        try {\n            const wallpaperManager = this.themeManager.getWallpaperManager();\n            // 应用各个视图的壁纸\n            const viewTypes = ['chat', 'home', 'settings'];\n            viewTypes.forEach(viewType => {\n                const wallpaper = wallpapers[viewType];\n                if (wallpaper) {\n                    // 设置壁纸到当前主题\n                    wallpaperManager.setWallpaper(viewType, wallpaper);\n                }\n            });\n            console.log('[ThemeEditor] 壁纸设置已导入');\n        }\n        catch (error) {\n            console.warn('[ThemeEditor] 导入壁纸设置失败:', error);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztZQUNmLE9BQU8sQ0FBQyxJQUFJLENBQUMseUJBQXlCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDakQsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5ZCM5bGC5omL5py6L3RoZW1lLWVkaXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDkuLvpopjnvJbovpHlmajmqKHlnZcgLSDph43mnoTniYjmnKxcbi8vIOS9v+eUqGpRdWVyeeWSjGxvZGFzaOehruS/neWFvOWuueaAp+WSjOeos+WumuaAp1xuaW1wb3J0IHsgVGhlbWUsIFRoZW1lTWFuYWdlciB9IGZyb20gJy4vdGhlbWUtbWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBUaGVtZUVkaXRvciB7XG4gIHByaXZhdGUgdGhlbWVNYW5hZ2VyOiBUaGVtZU1hbmFnZXI7XG4gIHByaXZhdGUgb25UaGVtZUNoYW5nZWQ/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlICRtb2RhbDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbiAgcHJpdmF0ZSBjaGVja2JveEhhbmRsZXJzOiBNYXA8c3RyaW5nLCAoZTogSlF1ZXJ5LkNsaWNrRXZlbnQpID0+IHZvaWQ+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKHRoZW1lTWFuYWdlcjogVGhlbWVNYW5hZ2VyLCBvblRoZW1lQ2hhbmdlZD86ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLnRoZW1lTWFuYWdlciA9IHRoZW1lTWFuYWdlcjtcbiAgICB0aGlzLm9uVGhlbWVDaGFuZ2VkID0gb25UaGVtZUNoYW5nZWQ7XG4gICAgdGhpcy4kbW9kYWwgPSAkKCcjdGhlbWUtZWRpdG9yLW1vZGFsJyk7XG4gIH1cblxuICAvLyDorr7nva7kuLvpopjpgInmi6nlmaggLSDkvb/nlKhqUXVlcnnph43mnoRcbiAgc2V0dXBUaGVtZVNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKCcudGhlbWUtb3B0aW9ucycpO1xuICAgIGlmICghJGNvbnRhaW5lci5sZW5ndGgpIHJldHVybjtcblxuICAgIC8vIOa4heepuueOsOacieWGheWuuVxuICAgICRjb250YWluZXIuZW1wdHkoKTtcblxuICAgIC8vIOiOt+WPluaJgOaciem7mOiupOS4u+mimFxuICAgIGNvbnN0IHRoZW1lcyA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldFRoZW1lcygpO1xuXG4gICAgLy8g5L2/55SobG9kYXNo6YGN5Y6G5Li76aKYXG4gICAgXy5mb3JFYWNoKHRoZW1lcywgdGhlbWUgPT4ge1xuICAgICAgY29uc3QgJHRoZW1lQnV0dG9uID0gJCgnPGRpdj4nKS5hZGRDbGFzcygndGhlbWUtb3B0aW9uJykuY3NzKHtcbiAgICAgICAgd2lkdGg6ICdjYWxjKDUwJSAtIDAuNXJlbSknLFxuICAgICAgICAnYXNwZWN0LXJhdGlvJzogJzEvMScsXG4gICAgICAgICdib3JkZXItcmFkaXVzJzogJzhweCcsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogdGhlbWUuY29sb3JzLnByaW1hcnksXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgJ2ZsZXgtZGlyZWN0aW9uJzogJ2NvbHVtbicsXG4gICAgICAgICdhbGlnbi1pdGVtcyc6ICdjZW50ZXInLFxuICAgICAgICAnanVzdGlmeS1jb250ZW50JzogJ2NlbnRlcicsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAnYm94LXNoYWRvdyc6ICcwIDJweCA4cHggcmdiYSgwLDAsMCwwLjEpJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyDmt7vliqDkuLvpopjpooTop4hcbiAgICAgIGNvbnN0ICRwcmV2aWV3RWwgPSAkKCc8ZGl2PicpLmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHt0aGVtZS5jb2xvcnMuZ3JhZGllbnRTdGFydH0sICR7dGhlbWUuY29sb3JzLmdyYWRpZW50RW5kfSlgLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIOa3u+WKoOawlOazoemihOiniFxuICAgICAgY29uc3QgJGJ1YmJsZVByZXZpZXcgPSAkKCc8ZGl2PicpLmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB3aWR0aDogJzcwJScsXG4gICAgICAgIGhlaWdodDogJzYwJScsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgJ2ZsZXgtZGlyZWN0aW9uJzogJ2NvbHVtbicsXG4gICAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICd6LWluZGV4JzogMSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCAkdGhlbUJ1YmJsZSA9ICQoJzxkaXY+JykuY3NzKHtcbiAgICAgICAgJ2FsaWduLXNlbGYnOiAnZmxleC1zdGFydCcsXG4gICAgICAgIHdpZHRoOiAnNjAlJyxcbiAgICAgICAgaGVpZ2h0OiAnNDAlJyxcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiB0aGVtZS5jb2xvcnMuYnViYmxlVGhlbUJnLFxuICAgICAgICAnYm9yZGVyLXJhZGl1cyc6ICc4cHgnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0ICRtZUJ1YmJsZSA9ICQoJzxkaXY+JykuY3NzKHtcbiAgICAgICAgJ2FsaWduLXNlbGYnOiAnZmxleC1lbmQnLFxuICAgICAgICB3aWR0aDogJzYwJScsXG4gICAgICAgIGhlaWdodDogJzQwJScsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogdGhlbWUuY29sb3JzLmJ1YmJsZU1lQmcsXG4gICAgICAgICdib3JkZXItcmFkaXVzJzogJzhweCcsXG4gICAgICB9KTtcblxuICAgICAgJGJ1YmJsZVByZXZpZXcuYXBwZW5kKCR0aGVtQnViYmxlLCAkbWVCdWJibGUpO1xuXG4gICAgICAvLyDmt7vliqDkuLvpopjlkI3np7BcbiAgICAgIGNvbnN0ICRuYW1lRWwgPSAkKCc8ZGl2PicpLnRleHQodGhlbWUuZGlzcGxheU5hbWUpLmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcwLjhyZW0nLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnNTAwJyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnNXB4JyxcbiAgICAgICAgJ3RleHQtc2hhZG93JzogJzAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMyknLFxuICAgICAgICAnei1pbmRleCc6IDEsXG4gICAgICB9KTtcblxuICAgICAgJHRoZW1lQnV0dG9uLmFwcGVuZCgkcHJldmlld0VsLCAkYnViYmxlUHJldmlldywgJG5hbWVFbCk7XG5cbiAgICAgIC8vIOa3u+WKoOeCueWHu+S6i+S7tlxuICAgICAgJHRoZW1lQnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIuc3dpdGNoVGhlbWUodGhlbWUubmFtZSk7XG4gICAgICAgIC8vIOmAmuefpeS4u+mimOW3suabtOaUuVxuICAgICAgICBpZiAodGhpcy5vblRoZW1lQ2hhbmdlZCkge1xuICAgICAgICAgIHRoaXMub25UaGVtZUNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRjb250YWluZXIuYXBwZW5kKCR0aGVtZUJ1dHRvbik7XG4gICAgfSk7XG5cbiAgICAvLyDmt7vliqDoh6rlrprkuYnkuLvpopjpgInmi6nmjInpkq7vvIjmraPmlrnlvaLvvIznlKjkuo7liIfmjaLkuLvpopjvvIlcbiAgICB0aGlzLmFkZEN1c3RvbVRoZW1lU2VsZWN0b3IoJGNvbnRhaW5lcik7XG4gIH1cblxuICAvLyDmt7vliqDoh6rlrprkuYnkuLvpopjnvJbovpHmjInpkq7vvIjplb/mlrnlvaLvvIznlKjkuo7miZPlvIDnvJbovpHlmajvvIlcbiAgYWRkQ3VzdG9tVGhlbWVFZGl0QnV0dG9uKCk6IHZvaWQge1xuICAgIC8vIOafpeaJvuiuvue9rumdouadv+S4reeahOaMiemSruWuueWZqFxuICAgIGNvbnN0ICRzZXR0aW5nc1BhbmVsID0gJCgnLnNldHRpbmdzLXBhbmVsJyk7XG4gICAgaWYgKCEkc2V0dGluZ3NQYW5lbC5sZW5ndGgpIHJldHVybjtcblxuICAgIC8vIOWIm+W7uumVv+aWueW9oueahOe8lui+keaMiemSrlxuICAgIGNvbnN0ICRlZGl0QnV0dG9uID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnY3VzdG9tLXRoZW1lLWVkaXQtYnV0dG9uJykuY3NzKHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcbiAgICAgIG1hcmdpbjogJzhweCAwJyxcbiAgICAgICdib3JkZXItcmFkaXVzJzogJzhweCcsXG4gICAgICBiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKScsXG4gICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICdmb250LXNpemUnOiAnMC45cmVtJyxcbiAgICAgICdmb250LXdlaWdodCc6ICc1MDAnLFxuICAgICAgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgJ2JveC1zaGFkb3cnOiAnMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKScsXG4gICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMgZWFzZScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAnYWxpZ24taXRlbXMnOiAnY2VudGVyJyxcbiAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAnY2VudGVyJyxcbiAgICAgIGdhcDogJzhweCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCAkaWNvbiA9ICQoJzxzcGFuPicpLmh0bWwoJ/CfjqgnKTtcbiAgICBjb25zdCAkdGV4dCA9ICQoJzxzcGFuPicpLnRleHQoJ+iHquWumuS5ieS4u+mimOiuvue9ricpO1xuXG4gICAgJGVkaXRCdXR0b24uYXBwZW5kKCRpY29uLCAkdGV4dCk7XG5cbiAgICAvLyDmt7vliqDmgqzlgZzmlYjmnpxcbiAgICAkZWRpdEJ1dHRvblxuICAgICAgLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVkoLTFweCknKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgwKScpO1xuICAgICAgfSk7XG5cbiAgICAvLyDmt7vliqDngrnlh7vkuovku7ZcbiAgICAkZWRpdEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW5UaGVtZUVkaXRvcigpO1xuICAgIH0pO1xuXG4gICAgLy8g5bCG5oyJ6ZKu5re75Yqg5Yiw6K6+572u6Z2i5p2/55qE6YCC5b2T5L2N572uXG4gICAgLy8g5p+l5om+5Li76aKY6YCJ5oup5Zmo5a655Zmo77yM5Zyo5YW25ZCO5re75Yqg57yW6L6R5oyJ6ZKuXG4gICAgY29uc3QgJHRoZW1lT3B0aW9ucyA9ICRzZXR0aW5nc1BhbmVsLmZpbmQoJy50aGVtZS1vcHRpb25zJyk7XG4gICAgaWYgKCR0aGVtZU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAkdGhlbWVPcHRpb25zLmFmdGVyKCRlZGl0QnV0dG9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNldHRpbmdzUGFuZWwuYXBwZW5kKCRlZGl0QnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICAvLyDmt7vliqDoh6rlrprkuYnkuLvpopjpgInmi6nmjInpkq7vvIjmraPmlrnlvaLvvIznlKjkuo7liIfmjaLliLDoh6rlrprkuYnkuLvpopjvvIlcbiAgcHJpdmF0ZSBhZGRDdXN0b21UaGVtZVNlbGVjdG9yKCRjb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pOiB2b2lkIHtcbiAgICAvLyDojrflj5boh6rlrprkuYnkuLvpopjmlbDmja5cbiAgICBjb25zdCBjdXN0b21UaGVtZURhdGEgPSB0aGlzLmdldEN1c3RvbVRoZW1lRGF0YSgpO1xuXG4gICAgY29uc3QgJGN1c3RvbUJ1dHRvbiA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3RoZW1lLW9wdGlvbiBjdXN0b20tdGhlbWUtb3B0aW9uJykuY3NzKHtcbiAgICAgIHdpZHRoOiAnY2FsYyg1MCUgLSAwLjVyZW0pJyxcbiAgICAgICdhc3BlY3QtcmF0aW8nOiAnMS8xJyxcbiAgICAgICdib3JkZXItcmFkaXVzJzogJzhweCcsXG4gICAgICBiYWNrZ3JvdW5kOiBjdXN0b21UaGVtZURhdGEuYmFja2dyb3VuZCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICdmbGV4LWRpcmVjdGlvbic6ICdjb2x1bW4nLFxuICAgICAgJ2FsaWduLWl0ZW1zJzogJ2NlbnRlcicsXG4gICAgICAnanVzdGlmeS1jb250ZW50JzogJ2NlbnRlcicsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgJ2JveC1zaGFkb3cnOiAnMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKScsXG4gICAgfSk7XG5cbiAgICAvLyDmt7vliqDmuJDlj5jog4zmma/pooTop4jvvIjnsbvkvLzlhbbku5bkuLvpopjmjInpkq7vvIlcbiAgICBjb25zdCAkcHJldmlld0VsID0gJCgnPGRpdj4nKS5jc3Moe1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgYmFja2dyb3VuZDogY3VzdG9tVGhlbWVEYXRhLmdyYWRpZW50LFxuICAgIH0pO1xuXG4gICAgY29uc3QgJGljb25FbCA9ICQoJzxkaXY+JykuaHRtbCgn4pyoJykuY3NzKHtcbiAgICAgICdmb250LXNpemUnOiAnMnJlbScsXG4gICAgICAnbWFyZ2luLWJvdHRvbSc6ICc1cHgnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAnei1pbmRleCc6IDEsXG4gICAgfSk7XG5cbiAgICBjb25zdCAkbmFtZUVsID0gJCgnPGRpdj4nKS50ZXh0KGN1c3RvbVRoZW1lRGF0YS5kaXNwbGF5TmFtZSkuY3NzKHtcbiAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcwLjhyZW0nLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJzUwMCcsXG4gICAgICAndGV4dC1zaGFkb3cnOiAnMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4zKScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICd6LWluZGV4JzogMSxcbiAgICB9KTtcblxuICAgICRjdXN0b21CdXR0b24uYXBwZW5kKCRwcmV2aWV3RWwsICRpY29uRWwsICRuYW1lRWwpO1xuXG4gICAgJGN1c3RvbUJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyDliIfmjaLliLDoh6rlrprkuYnkuLvpophcbiAgICAgIHRoaXMudGhlbWVNYW5hZ2VyLnN3aXRjaFRoZW1lKCdjdXN0b20nKTtcbiAgICAgIC8vIOmAmuefpeS4u+mimOW3suabtOaUuVxuICAgICAgaWYgKHRoaXMub25UaGVtZUNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5vblRoZW1lQ2hhbmdlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJGNvbnRhaW5lci5hcHBlbmQoJGN1c3RvbUJ1dHRvbik7XG4gIH1cblxuICAvLyDojrflj5boh6rlrprkuYnkuLvpopjmlbDmja7vvIjlkI3np7DlkozpopzoibLvvIlcbiAgcHJpdmF0ZSBnZXRDdXN0b21UaGVtZURhdGEoKTogeyBkaXNwbGF5TmFtZTogc3RyaW5nOyBiYWNrZ3JvdW5kOiBzdHJpbmc7IGdyYWRpZW50OiBzdHJpbmcgfSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1c3RvbVRoZW1lSnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdibG14X2N1c3RvbV90aGVtZScpO1xuICAgICAgaWYgKGN1c3RvbVRoZW1lSnNvbikge1xuICAgICAgICBjb25zdCBjdXN0b21UaGVtZSA9IEpTT04ucGFyc2UoY3VzdG9tVGhlbWVKc29uKTtcbiAgICAgICAgY29uc3QgcHJpbWFyeUNvbG9yID0gY3VzdG9tVGhlbWUuY29sb3JzPy5wcmltYXJ5IHx8ICcjNjY3ZWVhJztcbiAgICAgICAgY29uc3QgZ3JhZGllbnRTdGFydCA9IGN1c3RvbVRoZW1lLmNvbG9ycz8uZ3JhZGllbnRTdGFydCB8fCBwcmltYXJ5Q29sb3I7XG4gICAgICAgIGNvbnN0IGdyYWRpZW50RW5kID0gY3VzdG9tVGhlbWUuY29sb3JzPy5ncmFkaWVudEVuZCB8fCBwcmltYXJ5Q29sb3I7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaXNwbGF5TmFtZTogY3VzdG9tVGhlbWUuZGlzcGxheU5hbWUgfHwgJ+iHquWumuS5ieS4u+mimCcsXG4gICAgICAgICAgYmFja2dyb3VuZDogcHJpbWFyeUNvbG9yLFxuICAgICAgICAgIGdyYWRpZW50OiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFN0YXJ0fSwgJHtncmFkaWVudEVuZH0pYCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBjdXN0b20gdGhlbWUgZGF0YTonLCBlcnJvcik7XG4gICAgfVxuXG4gICAgLy8g6buY6K6k5YC8XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3BsYXlOYW1lOiAn6Ieq5a6a5LmJ5Li76aKYJyxcbiAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpJyxcbiAgICAgIGdyYWRpZW50OiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKScsXG4gICAgfTtcbiAgfVxuXG4gIC8vIOabtOaWsOiHquWumuS5ieS4u+mimOaMiemSrueahOaYvuekuu+8iOWFrOWFseaWueazle+8iVxuICB1cGRhdGVDdXN0b21UaGVtZUJ1dHRvbigpOiB2b2lkIHtcbiAgICBjb25zdCAkY3VzdG9tQnV0dG9uID0gJCgnLmN1c3RvbS10aGVtZS1vcHRpb24nKTtcbiAgICBpZiAoISRjdXN0b21CdXR0b24ubGVuZ3RoKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXN0b21UaGVtZURhdGEgPSB0aGlzLmdldEN1c3RvbVRoZW1lRGF0YSgpO1xuXG4gICAgLy8g5pu05paw6IOM5pmv5riQ5Y+Y6aKE6KeI5bGCXG4gICAgY29uc3QgJHByZXZpZXdFbCA9ICRjdXN0b21CdXR0b24uY2hpbGRyZW4oKS5lcSgwKTsgLy8g56ys5LiA5Liq5a2Q5YWD57Sg5piv6aKE6KeI5bGCXG4gICAgaWYgKCRwcmV2aWV3RWwubGVuZ3RoKSB7XG4gICAgICAkcHJldmlld0VsLmNzcygnYmFja2dyb3VuZCcsIGN1c3RvbVRoZW1lRGF0YS5ncmFkaWVudCk7XG4gICAgfVxuXG4gICAgLy8g5pu05paw5Li76aKY5ZCN56ew77yI5pyA5ZCO5LiA5Liq5a2Q5YWD57Sg77yJXG4gICAgY29uc3QgJG5hbWVFbCA9ICRjdXN0b21CdXR0b24uY2hpbGRyZW4oKS5sYXN0KCk7XG4gICAgaWYgKCRuYW1lRWwubGVuZ3RoICYmICRuYW1lRWwudGV4dCgpICE9PSBjdXN0b21UaGVtZURhdGEuZGlzcGxheU5hbWUpIHtcbiAgICAgICRuYW1lRWwudGV4dChjdXN0b21UaGVtZURhdGEuZGlzcGxheU5hbWUpO1xuICAgIH1cblxuICAgIC8vIOabtOaWsOaMiemSruaVtOS9k+iDjOaZr+iJslxuICAgICRjdXN0b21CdXR0b24uY3NzKCdiYWNrZ3JvdW5kJywgY3VzdG9tVGhlbWVEYXRhLmJhY2tncm91bmQpO1xuICB9XG5cbiAgLy8g5omT5byA5Li76aKY57yW6L6R5ZmoIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIG9wZW5UaGVtZUVkaXRvcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuJG1vZGFsLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgLy8g6I635Y+W5b2T5YmN5Li76aKY55qE5a6e6ZmF5bqU55So5pWw5o2u77yI5YyF5ous5Yqo5oCB6K6h566X55qE5YC877yJXG4gICAgY29uc3QgY3VycmVudFRoZW1lID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q3VycmVudFRoZW1lV2l0aEFwcGxpZWRWYWx1ZXMoKTtcbiAgICB0aGlzLmZpbGxUaGVtZUVkaXRvcihjdXJyZW50VGhlbWUpO1xuXG4gICAgLy8g6K6+572uY2hlY2tib3jkuovku7bnm5HlkKzlmahcbiAgICB0aGlzLnNldHVwQ2hlY2tib3hlcygpO1xuXG4gICAgLy8g5pi+56S65qih5oCB5qGGXG4gICAgdGhpcy4kbW9kYWwuc2hvdygpO1xuICB9XG5cbiAgLy8g5YWz6Zet5Li76aKY57yW6L6R5ZmoIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIGNsb3NlVGhlbWVFZGl0b3IoKTogdm9pZCB7XG4gICAgdGhpcy4kbW9kYWwuaGlkZSgpO1xuICAgIC8vIOa4heeQhmNoZWNrYm945LqL5Lu255uR5ZCs5ZmoXG4gICAgdGhpcy5jbGVhbnVwQ2hlY2tib3hlcygpO1xuICB9XG5cbiAgLy8g5aGr5YWF5Li76aKY57yW6L6R5ZmoIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIHByaXZhdGUgZmlsbFRoZW1lRWRpdG9yKHRoZW1lOiBUaGVtZSk6IHZvaWQge1xuICAgIC8vIOS9v+eUqGpRdWVyeemAieaLqeWZqO+8jOabtOeugOa0gVxuICAgIGNvbnN0ICRuYW1lSW5wdXQgPSAkKCcjdGhlbWUtbmFtZS1pbnB1dCcpO1xuICAgIGNvbnN0ICRkYXJrTW9kZVRvZ2dsZSA9ICQoJyNkYXJrLW1vZGUtdG9nZ2xlJyk7XG4gICAgY29uc3QgJHNpbmdsZUNvbG9ySWNvbnNUb2dnbGUgPSAkKCcjc2luZ2xlLWNvbG9yLWljb25zLXRvZ2dsZScpO1xuXG4gICAgLy8g5aGr5YWF5Li76aKY5ZCN56ewIC0g5L+u5aSN77ya5L+d5oyB55So5oi36Ieq5a6a5LmJ55qE5ZCN56ewXG4gICAgbGV0IHRoZW1lTmFtZTogc3RyaW5nO1xuICAgIGlmICh0aGVtZS5uYW1lID09PSAnY3VzdG9tJykge1xuICAgICAgLy8g5aaC5p6c5piv6Ieq5a6a5LmJ5Li76aKY77yM5L2/55So55So5oi35L+d5a2Y55qEZGlzcGxheU5hbWVcbiAgICAgIHRoZW1lTmFtZSA9IHRoZW1lLmRpc3BsYXlOYW1lIHx8ICfmiJHnmoToh6rlrprkuYnkuLvpopgnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlpoLmnpzmmK/ln7rkuo7lhbbku5bkuLvpopjnmoToh6rlrprkuYnvvIzkvb/nlKhcIuiHquWumuS5iSArIOWOn+S4u+mimOWQjVwi5qC85byPXG4gICAgICB0aGVtZU5hbWUgPSBg6Ieq5a6a5LmJICR7dGhlbWUuZGlzcGxheU5hbWV9YDtcbiAgICB9XG4gICAgJG5hbWVJbnB1dC52YWwodGhlbWVOYW1lKTtcblxuICAgIC8vIOWumuS5ieminOiJsuWtl+auteaYoOWwhCAtIOS9v+eUqGxvZGFzaOeugOWMluaVsOaNruWkhOeQhlxuICAgIGNvbnN0IGNvbG9yTWFwcGluZ3MgPSB7XG4gICAgICAnI3Bob25lLWZyYW1lLWNvbG9yJzogdGhlbWUuY29sb3JzLnBob25lRnJhbWUsXG4gICAgICAnI3ByaW1hcnktY29sb3InOiB0aGVtZS5jb2xvcnMucHJpbWFyeSxcbiAgICAgICcjbGlnaHQtY29sb3InOiB0aGVtZS5jb2xvcnMubGlnaHQsXG4gICAgICAnI3VsdHJhLWxpZ2h0LWNvbG9yJzogdGhlbWUuY29sb3JzLnVsdHJhTGlnaHQsXG4gICAgICAnI2RlZXAtY29sb3InOiB0aGVtZS5jb2xvcnMuZGVlcCxcbiAgICAgICcjdGV4dC1wcmltYXJ5LWNvbG9yJzogdGhlbWUuY29sb3JzLnRleHRQcmltYXJ5LFxuICAgICAgJyN0ZXh0LXNlY29uZGFyeS1jb2xvcic6IHRoZW1lLmNvbG9ycy50ZXh0U2Vjb25kYXJ5LFxuICAgICAgJyNidWJibGUtbWUtY29sb3InOiB0aGVtZS5jb2xvcnMuYnViYmxlTWVCZyxcbiAgICAgICcjYnViYmxlLW1lLXRleHQtY29sb3InOiB0aGVtZS5jb2xvcnMuYnViYmxlTWVUZXh0LFxuICAgICAgJyNidWJibGUtdGhlbS1jb2xvcic6IHRoZW1lLmNvbG9ycy5idWJibGVUaGVtQmcsXG4gICAgICAnI2J1YmJsZS10aGVtLXRleHQtY29sb3InOiB0aGVtZS5jb2xvcnMuYnViYmxlVGhlbVRleHQsXG4gICAgICAnI3N0YXR1cy1iYXItY29sb3InOiB0aGVtZS5jb2xvcnMuc3RhdHVzQmFyQ29sb3IsXG4gICAgICAnI2R5bmFtaWMtaXNsYW5kLWNvbG9yJzogdGhlbWUuY29sb3JzLmR5bmFtaWNJc2xhbmRDb2xvcixcbiAgICAgICcjYm9yZGVyLWNvbG9yJzogdGhlbWUuY29sb3JzLmJvcmRlckNvbG9yLFxuICAgICAgJyNzaGFkb3ctY29sb3InOiB0aGVtZS5jb2xvcnMuc2hhZG93Q29sb3IsXG4gICAgfTtcblxuICAgIC8vIOS9v+eUqGxvZGFzaOeahGZvckVhY2jmibnph4/orr7nva7popzoibLlgLxcbiAgICBfLmZvckVhY2goY29sb3JNYXBwaW5ncywgKGNvbG9yVmFsdWUsIHNlbGVjdG9yKSA9PiB7XG4gICAgICAkKHNlbGVjdG9yKS52YWwodGhpcy5jb252ZXJ0VG9IZXgoY29sb3JWYWx1ZSkpO1xuICAgIH0pO1xuXG4gICAgLy8g6K6+572uY2hlY2tib3jnirbmgIFcbiAgICAkZGFya01vZGVUb2dnbGUucHJvcCgnY2hlY2tlZCcsIHRoZW1lLmNvbG9ycy5pc0RhcmtNb2RlKTtcbiAgICAkc2luZ2xlQ29sb3JJY29uc1RvZ2dsZS5wcm9wKCdjaGVja2VkJywgdGhlbWUuY29sb3JzLnVzZVNpbmdsZUNvbG9ySWNvbnMgfHwgZmFsc2UpO1xuXG4gICAgLy8g5rOo5oSP77yaY2hlY2tib3jnmoTkuovku7bnm5HlkKzlmajlkozliJ3lp4vnirbmgIHlnKhvcGVuVGhlbWVFZGl0b3IoKeS4reeahHNldHVwQ2hlY2tib3hlcygp6YeM6K6+572uXG4gIH1cblxuICAvLyDorr7nva5jaGVja2JveOS6i+S7tuebkeWQrOWZqCAtIOS9v+eUqGpRdWVyeemHjeaehFxuICBwcml2YXRlIHNldHVwQ2hlY2tib3hlcygpOiB2b2lkIHtcbiAgICAvLyDmuIXnkIbkuYvliY3nmoTkuovku7bnm5HlkKzlmahcbiAgICB0aGlzLmNsZWFudXBDaGVja2JveGVzKCk7XG5cbiAgICAvLyDorr7nva7lpJzpl7TmqKHlvI9jaGVja2JveFxuICAgIHRoaXMuc2V0dXBTaW5nbGVDaGVja2JveFdpdGhKUXVlcnkoJ2RhcmstbW9kZS10b2dnbGUnLCAnZGFyay1tb2RlLWNoZWNrYm94LWJ1dHRvbicpO1xuXG4gICAgLy8g6K6+572u5Y2V5LiA6aKc6Imy5Zu+5qCHY2hlY2tib3hcbiAgICB0aGlzLnNldHVwU2luZ2xlQ2hlY2tib3hXaXRoSlF1ZXJ5KCdzaW5nbGUtY29sb3ItaWNvbnMtdG9nZ2xlJywgJ3NpbmdsZS1jb2xvci1pY29ucy1jaGVja2JveC1idXR0b24nKTtcbiAgfVxuXG4gIC8vIOa4heeQhmNoZWNrYm945LqL5Lu255uR5ZCs5ZmoXG4gIHByaXZhdGUgY2xlYW51cENoZWNrYm94ZXMoKTogdm9pZCB7XG4gICAgLy8g56e76Zmk5omA5pyJ5a2Y5YKo55qE5LqL5Lu25aSE55CG5ZmoXG4gICAgdGhpcy5jaGVja2JveEhhbmRsZXJzLmZvckVhY2goKGhhbmRsZXIsIGlkKSA9PiB7XG4gICAgICAkKGAjJHtpZH1gKS5vZmYoJ2NsaWNrJywgaGFuZGxlcik7XG4gICAgfSk7XG4gICAgdGhpcy5jaGVja2JveEhhbmRsZXJzLmNsZWFyKCk7XG4gIH1cblxuICAvLyDkvb/nlKhqUXVlcnnorr7nva7ljZXkuKpjaGVja2JveFxuICBwcml2YXRlIHNldHVwU2luZ2xlQ2hlY2tib3hXaXRoSlF1ZXJ5KGNoZWNrYm94SWQ6IHN0cmluZywgYnV0dG9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0ICRjaGVja2JveCA9ICQoYCMke2NoZWNrYm94SWR9YCk7XG4gICAgY29uc3QgJGJ1dHRvbiA9ICQoYCMke2J1dHRvbklkfWApO1xuXG4gICAgaWYgKCEkY2hlY2tib3gubGVuZ3RoIHx8ICEkYnV0dG9uLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgLy8g5pu05pawY2hlY2tib3jmjInpkq7nirbmgIHnmoTlh73mlbBcbiAgICBjb25zdCB1cGRhdGVDaGVja2JveFN0YXRlID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICRidXR0b24udG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnLCBjaGVja2VkKTtcbiAgICB9O1xuXG4gICAgLy8g54K55Ye75LqL5Lu25aSE55CG5Ye95pWwXG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZTogSlF1ZXJ5LkNsaWNrRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gJGNoZWNrYm94WzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gIWNoZWNrYm94LmNoZWNrZWQ7XG4gICAgICB1cGRhdGVDaGVja2JveFN0YXRlKGNoZWNrYm94LmNoZWNrZWQpO1xuICAgIH07XG5cbiAgICAvLyDlrZjlgqjkuovku7blpITnkIblmajku6Xkvr/lkI7nu63muIXnkIZcbiAgICB0aGlzLmNoZWNrYm94SGFuZGxlcnMuc2V0KGJ1dHRvbklkLCBoYW5kbGVDbGljayk7XG5cbiAgICAvLyDmt7vliqDngrnlh7vkuovku7bnm5HlkKzlmahcbiAgICAkYnV0dG9uLm9uKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcblxuICAgIC8vIOiuvue9ruWIneWni+eKtuaAgVxuICAgIGNvbnN0IGNoZWNrYm94ID0gJGNoZWNrYm94WzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdXBkYXRlQ2hlY2tib3hTdGF0ZShjaGVja2JveC5jaGVja2VkKTtcbiAgfVxuXG4gIC8vIOmHjee9ruS4u+mimOe8lui+keWZqFxuICByZXNldFRoZW1lRWRpdG9yKCk6IHZvaWQge1xuICAgIC8vIOS9v+eUqOiTneiJsuS4u+mimOmHjee9rue8lui+keWZqFxuICAgIGNvbnN0IGJsdWVUaGVtZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldFRoZW1lcygpLmJsdWU7XG4gICAgdGhpcy5maWxsVGhlbWVFZGl0b3IoYmx1ZVRoZW1lKTtcblxuICAgIC8vIOmHjeaWsOiuvue9ruS6i+S7tuebkeWQrOWZqO+8jOehruS/neaMiemSruiDveato+W4uOW3peS9nFxuICAgIHRoaXMuc2V0dXBDaGVja2JveGVzKCk7XG4gIH1cblxuICAvLyDlr7zlh7rkuLvpopjkuLpKU09OIC0g5L+u5aSN77ya5YyF5ZCr5a6e6ZmF5aOB57q46K6+572u5ZKM5q2j56Gu5paH5Lu25ZCNXG4gIGV4cG9ydFRoZW1lQXNKU09OKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjdXJyZW50VGhlbWUgPSB0aGlzLmdldEN1cnJlbnRUaGVtZUZyb21FZGl0b3IoKTtcbiAgICAgIGNvbnN0IHdhbGxwYXBlck1hbmFnZXIgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRXYWxscGFwZXJNYW5hZ2VyKCk7XG5cbiAgICAgIC8vIOiOt+WPluW9k+WJjeWunumZheS9v+eUqOeahOWjgee6uOiuvue9rlxuICAgICAgY29uc3QgY3VycmVudFdhbGxwYXBlcnMgPSB7XG4gICAgICAgIGNoYXQ6IHdhbGxwYXBlck1hbmFnZXIuZ2V0Q3VycmVudFdhbGxwYXBlcignY2hhdCcpLFxuICAgICAgICBob21lOiB3YWxscGFwZXJNYW5hZ2VyLmdldEN1cnJlbnRXYWxscGFwZXIoJ2hvbWUnKSxcbiAgICAgICAgc2V0dGluZ3M6IHdhbGxwYXBlck1hbmFnZXIuZ2V0Q3VycmVudFdhbGxwYXBlcignc2V0dGluZ3MnKSxcbiAgICAgIH07XG5cbiAgICAgIC8vIOaehOW7uuWvvOWHuuaVsOaNru+8jOWMheWQq+Wjgee6uOS/oeaBr1xuICAgICAgY29uc3QgdGhlbWVEYXRhID0ge1xuICAgICAgICBuYW1lOiBjdXJyZW50VGhlbWUubmFtZSxcbiAgICAgICAgZGlzcGxheU5hbWU6IGN1cnJlbnRUaGVtZS5kaXNwbGF5TmFtZSxcbiAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgIGV4cG9ydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY29sb3JzOiBjdXJyZW50VGhlbWUuY29sb3JzLFxuICAgICAgICB3YWxscGFwZXJzOiBjdXJyZW50V2FsbHBhcGVycywgLy8g5YyF5ZCr5a6e6ZmF5L2/55So55qE5aOB57q4XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkodGhlbWVEYXRhLCBudWxsLCAyKTtcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvblN0cmluZ10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgICAgLy8g55Sf5oiQ5paH5Lu25ZCN77yaY3VzdG9tLeS4u+mimOWQjeWtly5qc29uXG4gICAgICBjb25zdCB0aGVtZU5hbWUgPSBjdXJyZW50VGhlbWUuZGlzcGxheU5hbWUgfHwgJ+iHquWumuS5ieS4u+mimCc7XG4gICAgICBjb25zdCBzYWZlVGhlbWVOYW1lID0gdGhlbWVOYW1lLnJlcGxhY2UoL1s8PjpcIi9cXFxcfD8qXS9nLCAnXycpOyAvLyDmm7/mjaLmlofku7blkI3kuK3nmoTpnZ7ms5XlrZfnrKZcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGN1c3RvbS0ke3NhZmVUaGVtZU5hbWV9Lmpzb25gO1xuXG4gICAgICAvLyDkvb/nlKhqUXVlcnnliJvlu7rkuIvovb3pk77mjqVcbiAgICAgIGNvbnN0ICRhID0gJCgnPGE+Jywge1xuICAgICAgICBocmVmOiB1cmwsXG4gICAgICAgIGRvd25sb2FkOiBmaWxlTmFtZSxcbiAgICAgICAgY3NzOiB7IGRpc3BsYXk6ICdub25lJyB9LFxuICAgICAgfSk7XG4gICAgICAkKCdib2R5JykuYXBwZW5kKCRhKTtcbiAgICAgICRhWzBdLmNsaWNrKCk7XG4gICAgICAkYS5yZW1vdmUoKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblxuICAgICAgY29uc29sZS5sb2coYFtUaGVtZUVkaXRvcl0g5Li76aKY5bey5a+85Ye65Li6SlNPTjogJHtmaWxlTmFtZX1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1RoZW1lRWRpdG9yXSDlr7zlh7pKU09O5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCflr7zlh7rlpLHotKXvvIzor7fph43or5UnKTtcbiAgICB9XG4gIH1cblxuICAvLyDlr7zlhaXkuLvpopjmlofku7ZcbiAgaW1wb3J0VGhlbWUoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgaW5wdXQuYWNjZXB0ID0gJy5qc29uJztcbiAgICBpbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZmlsZXM/LlswXTtcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZztcbiAgICAgICAgICBsZXQgdGhlbWVEYXRhO1xuXG4gICAgICAgICAgaWYgKGZpbGUubmFtZS5lbmRzV2l0aCgnLmpzb24nKSkge1xuICAgICAgICAgICAgdGhlbWVEYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflj6rmlK/mjIFKU09O5qC85byP55qE5Li76aKY5paH5Lu2Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g6aqM6K+B5Li76aKY5pWw5o2uXG4gICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlVGhlbWVEYXRhKHRoZW1lRGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5Li76aKY5paH5Lu25qC85byP5LiN5q2j56GuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g5bqU55So5a+85YWl55qE5Li76aKYXG4gICAgICAgICAgdGhpcy5hcHBseUltcG9ydGVkVGhlbWUodGhlbWVEYXRhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1RoZW1lRWRpdG9yXSDkuLvpopjlr7zlhaXmiJDlip8nKTtcbiAgICAgICAgICBhbGVydCgn5Li76aKY5a+85YWl5oiQ5Yqf77yBJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1RoZW1lRWRpdG9yXSDlr7zlhaXlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICAgIGFsZXJ0KGDlr7zlhaXlpLHotKU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5pyq55+l6ZSZ6K+vJ31gKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgfSk7XG5cbiAgICAvLyDkvb/nlKhqUXVlcnnmk43kvZxET01cbiAgICAkKCdib2R5JykuYXBwZW5kKGlucHV0KTtcbiAgICBpbnB1dC5jbGljaygpO1xuICAgICQoaW5wdXQpLnJlbW92ZSgpO1xuICB9XG5cbiAgLy8g5LuO57yW6L6R5Zmo6I635Y+W5b2T5YmN5Li76aKYIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIHByaXZhdGUgZ2V0Q3VycmVudFRoZW1lRnJvbUVkaXRvcigpOiBUaGVtZSB7XG4gICAgLy8g5L2/55SoalF1ZXJ56I635Y+W5YC877yM5pu0566A5rSBXG4gICAgY29uc3QgZ2V0VmFsdWUgPSAoc2VsZWN0b3I6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcgPSAnJykgPT4gKCQoc2VsZWN0b3IpLnZhbCgpIGFzIHN0cmluZykgfHwgZGVmYXVsdFZhbHVlO1xuICAgIGNvbnN0IGdldENoZWNrZWQgPSAoc2VsZWN0b3I6IHN0cmluZykgPT4gJChzZWxlY3RvcikucHJvcCgnY2hlY2tlZCcpIGFzIGJvb2xlYW47XG5cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVDdXN0b21UaGVtZSh7XG4gICAgICBuYW1lOiBnZXRWYWx1ZSgnI3RoZW1lLW5hbWUtaW5wdXQnLCAn6Ieq5a6a5LmJ5Li76aKYJyksXG4gICAgICBwaG9uZUZyYW1lOiBnZXRWYWx1ZSgnI3Bob25lLWZyYW1lLWNvbG9yJywgJyNiNGQwZmEnKSxcbiAgICAgIHByaW1hcnk6IGdldFZhbHVlKCcjcHJpbWFyeS1jb2xvcicsICcjNzJhZGYzJyksXG4gICAgICBsaWdodDogZ2V0VmFsdWUoJyNsaWdodC1jb2xvcicsICcjYThjYmViJyksXG4gICAgICB1bHRyYUxpZ2h0OiBnZXRWYWx1ZSgnI3VsdHJhLWxpZ2h0LWNvbG9yJywgJyNlOGY0ZmQnKSxcbiAgICAgIGRlZXA6IGdldFZhbHVlKCcjZGVlcC1jb2xvcicsICcjMmM1MjgyJyksXG4gICAgICB0ZXh0UHJpbWFyeTogZ2V0VmFsdWUoJyN0ZXh0LXByaW1hcnktY29sb3InLCAncmdiKDEzOSwgMTYyLCAxODYpJyksXG4gICAgICB0ZXh0U2Vjb25kYXJ5OiBnZXRWYWx1ZSgnI3RleHQtc2Vjb25kYXJ5LWNvbG9yJywgJyM2NDc0OGInKSxcbiAgICAgIGJ1YmJsZU1lQmc6IGdldFZhbHVlKCcjYnViYmxlLW1lLWNvbG9yJywgJyNhOGNiZWInKSxcbiAgICAgIGJ1YmJsZU1lVGV4dDogZ2V0VmFsdWUoJyNidWJibGUtbWUtdGV4dC1jb2xvcicsICcjZmZmZmZmJyksXG4gICAgICBidWJibGVUaGVtQmc6IGdldFZhbHVlKCcjYnViYmxlLXRoZW0tY29sb3InLCAnI2ZmZmZmZicpLFxuICAgICAgYnViYmxlVGhlbVRleHQ6IGdldFZhbHVlKCcjYnViYmxlLXRoZW0tdGV4dC1jb2xvcicsICcjNzJhZGYzJyksXG4gICAgICBhcHBCZ0NvbG9yOiAnI2ZmZmZmZicsXG4gICAgICBzZXR0aW5nc0JnQ29sb3I6ICcjZjJmMmY3JyxcbiAgICAgIHNldHRpbmdzQ2FyZEJnQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgIHN0YXR1c0JhcjogZ2V0VmFsdWUoJyNzdGF0dXMtYmFyLWNvbG9yJywgJyM0MjhhZjInKSxcbiAgICAgIGR5bmFtaWNJc2xhbmQ6IGdldFZhbHVlKCcjZHluYW1pYy1pc2xhbmQtY29sb3InLCAnI2EwYzRmNCcpLFxuICAgICAgYm9yZGVyOiBnZXRWYWx1ZSgnI2JvcmRlci1jb2xvcicsICcjRTBFMEUwJyksXG4gICAgICBzaGFkb3c6IGdldFZhbHVlKCcjc2hhZG93LWNvbG9yJywgJyM0YTkwZTInKSxcbiAgICAgIGlzRGFya01vZGU6IGdldENoZWNrZWQoJyNkYXJrLW1vZGUtdG9nZ2xlJyksXG4gICAgICB1c2VTaW5nbGVDb2xvckljb25zOiBnZXRDaGVja2VkKCcjc2luZ2xlLWNvbG9yLWljb25zLXRvZ2dsZScpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8g5L+d5a2Y6Ieq5a6a5LmJ5Li76aKYIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIHNhdmVDdXN0b21UaGVtZSgpOiB2b2lkIHtcbiAgICAvLyDnm7TmjqXkvb/nlKhnZXRDdXJyZW50VGhlbWVGcm9tRWRpdG9y5pa55rOV77yM6YG/5YWN6YeN5aSN5Luj56CBXG4gICAgY29uc3QgY3VzdG9tVGhlbWUgPSB0aGlzLmdldEN1cnJlbnRUaGVtZUZyb21FZGl0b3IoKTtcblxuICAgIC8vIOS/neWtmOW5tuW6lOeUqOS4u+mimFxuICAgIHRoaXMudGhlbWVNYW5hZ2VyLnNhdmVDdXN0b21UaGVtZShjdXN0b21UaGVtZSk7XG4gICAgdGhpcy50aGVtZU1hbmFnZXIuc3dpdGNoVGhlbWUoJ2N1c3RvbScpO1xuXG4gICAgLy8g5pu05paw6Ieq5a6a5LmJ5Li76aKY5oyJ6ZKu55qE5pi+56S6XG4gICAgdGhpcy51cGRhdGVDdXN0b21UaGVtZUJ1dHRvbigpO1xuXG4gICAgLy8g5YWz6Zet57yW6L6R5ZmoXG4gICAgdGhpcy5jbG9zZVRoZW1lRWRpdG9yKCk7XG5cbiAgICAvLyDpgJrnn6XkuLvpopjlt7Lmm7TmlLlcbiAgICBpZiAodGhpcy5vblRoZW1lQ2hhbmdlZCkge1xuICAgICAgdGhpcy5vblRoZW1lQ2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOWIm+W7uuiHquWumuS5ieS4u+mimFxuICBwcml2YXRlIGNyZWF0ZUN1c3RvbVRoZW1lKHBhcmFtczoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwaG9uZUZyYW1lOiBzdHJpbmc7XG4gICAgcHJpbWFyeTogc3RyaW5nO1xuICAgIGxpZ2h0OiBzdHJpbmc7XG4gICAgdWx0cmFMaWdodDogc3RyaW5nO1xuICAgIGRlZXA6IHN0cmluZztcbiAgICB0ZXh0UHJpbWFyeTogc3RyaW5nO1xuICAgIHRleHRTZWNvbmRhcnk6IHN0cmluZztcbiAgICBidWJibGVNZUJnOiBzdHJpbmc7XG4gICAgYnViYmxlTWVUZXh0OiBzdHJpbmc7XG4gICAgYnViYmxlVGhlbUJnOiBzdHJpbmc7XG4gICAgYnViYmxlVGhlbVRleHQ6IHN0cmluZztcbiAgICBhcHBCZ0NvbG9yOiBzdHJpbmc7XG4gICAgc2V0dGluZ3NCZ0NvbG9yOiBzdHJpbmc7XG4gICAgc2V0dGluZ3NDYXJkQmdDb2xvcjogc3RyaW5nO1xuICAgIHN0YXR1c0Jhcjogc3RyaW5nO1xuICAgIGR5bmFtaWNJc2xhbmQ6IHN0cmluZztcbiAgICBib3JkZXI6IHN0cmluZztcbiAgICBzaGFkb3c6IHN0cmluZztcbiAgICBpc0RhcmtNb2RlOiBib29sZWFuO1xuICAgIHVzZVNpbmdsZUNvbG9ySWNvbnM6IGJvb2xlYW47XG4gIH0pOiBUaGVtZSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIHBob25lRnJhbWUsXG4gICAgICBwcmltYXJ5LFxuICAgICAgbGlnaHQsXG4gICAgICB1bHRyYUxpZ2h0LFxuICAgICAgZGVlcCxcbiAgICAgIHRleHRQcmltYXJ5LFxuICAgICAgdGV4dFNlY29uZGFyeSxcbiAgICAgIGJ1YmJsZU1lQmcsXG4gICAgICBidWJibGVNZVRleHQsXG4gICAgICBidWJibGVUaGVtQmcsXG4gICAgICBidWJibGVUaGVtVGV4dCxcbiAgICAgIGFwcEJnQ29sb3IsXG4gICAgICBzZXR0aW5nc0JnQ29sb3IsXG4gICAgICBzZXR0aW5nc0NhcmRCZ0NvbG9yLFxuICAgICAgc3RhdHVzQmFyLFxuICAgICAgZHluYW1pY0lzbGFuZCxcbiAgICAgIGJvcmRlcixcbiAgICAgIHNoYWRvdyxcbiAgICAgIGlzRGFya01vZGUsXG4gICAgICB1c2VTaW5nbGVDb2xvckljb25zLFxuICAgIH0gPSBwYXJhbXM7XG5cbiAgICAvLyDmj5Dlj5bpmLTlvbHpopzoibLnmoRSR0LliIbph49cbiAgICBjb25zdCByID0gcGFyc2VJbnQoc2hhZG93LnNsaWNlKDEsIDMpLCAxNik7XG4gICAgY29uc3QgZyA9IHBhcnNlSW50KHNoYWRvdy5zbGljZSgzLCA1KSwgMTYpO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChzaGFkb3cuc2xpY2UoNSwgNyksIDE2KTtcbiAgICBjb25zdCBzaGFkb3dDb2xvclJnYmEgPSBpc0RhcmtNb2RlID8gJ3JnYmEoMCwgMCwgMCwgMC41KScgOiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAwLjMpYDtcbiAgICBjb25zdCBidWJibGVTaGFkb3cgPSBgMCAycHggOHB4IHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgMC4xNSlgO1xuXG4gICAgLy8g5riQ5Y+Y6ImyXG4gICAgY29uc3QgZ3JhZGllbnRTdGFydCA9IHRoaXMubGlnaHRlbkRhcmtlbkNvbG9yKHByaW1hcnksIDIwKTtcbiAgICBjb25zdCBncmFkaWVudEVuZCA9IHRoaXMubGlnaHRlbkRhcmtlbkNvbG9yKHByaW1hcnksIC0xMCk7XG5cbiAgICAvLyDmt7vliqDnvLrlsJHnmoTlsZ7mgKdcbiAgICBjb25zdCBzb2Z0ID0gdGhpcy5saWdodGVuRGFya2VuQ29sb3IobGlnaHQsIC0xMCk7XG4gICAgY29uc3QgdGV4dENvbG9yID0gJyNmZmZmZmYnO1xuICAgIGNvbnN0IGhlYWRlckJnID0gaXNEYXJrTW9kZVxuICAgICAgPyAnbGluZWFyLWdyYWRpZW50KDMxNWRlZywgIzMzMzMzMyAwJSwgIzQ0NDQ0NCAxMDAlKSdcbiAgICAgIDogYGxpbmVhci1ncmFkaWVudCgzMTVkZWcsICR7dGhpcy5saWdodGVuRGFya2VuQ29sb3IodWx0cmFMaWdodCwgLTUpfSAwJSwgJHt1bHRyYUxpZ2h0fSAxMDAlKWA7XG5cbiAgICAvLyDliJvlu7roh6rlrprkuYnkuLvpophcbiAgICBjb25zdCBjdXN0b21UaGVtZTogVGhlbWUgPSB7XG4gICAgICBuYW1lOiAnY3VzdG9tJyxcbiAgICAgIGRpc3BsYXlOYW1lOiBuYW1lLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHBob25lRnJhbWU6IHBob25lRnJhbWUsXG4gICAgICAgIHBob25lRnJhbWVHcmFkaWVudDogW1xuICAgICAgICAgIHRoaXMubGlnaHRlbkRhcmtlbkNvbG9yKHBob25lRnJhbWUsIC00MCksXG4gICAgICAgICAgcGhvbmVGcmFtZSxcbiAgICAgICAgICB0aGlzLmxpZ2h0ZW5EYXJrZW5Db2xvcihwaG9uZUZyYW1lLCAyMCksXG4gICAgICAgICAgdGhpcy5saWdodGVuRGFya2VuQ29sb3IocGhvbmVGcmFtZSwgLTQwKSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJpbWFyeTogcHJpbWFyeSxcbiAgICAgICAgbGlnaHQ6IGxpZ2h0LFxuICAgICAgICB1bHRyYUxpZ2h0OiB1bHRyYUxpZ2h0LFxuICAgICAgICBzb2Z0OiBzb2Z0LFxuICAgICAgICBkZWVwOiBkZWVwLFxuICAgICAgICB0ZXh0UHJpbWFyeTogdGV4dFByaW1hcnksXG4gICAgICAgIHRleHRTZWNvbmRhcnk6IHRleHRTZWNvbmRhcnksXG4gICAgICAgIHRleHRDb2xvcjogdGV4dENvbG9yLFxuICAgICAgICBidWJibGVNZUJnLFxuICAgICAgICBidWJibGVNZVRleHQsXG4gICAgICAgIGJ1YmJsZVRoZW1CZyxcbiAgICAgICAgYnViYmxlVGhlbVRleHQsXG4gICAgICAgIGhlYWRlckJnLFxuICAgICAgICBhcHBCZ0NvbG9yLFxuICAgICAgICBzZXR0aW5nc0JnQ29sb3IsXG4gICAgICAgIHNldHRpbmdzQ2FyZEJnQ29sb3IsXG4gICAgICAgIGdyYWRpZW50U3RhcnQsXG4gICAgICAgIGdyYWRpZW50RW5kLFxuICAgICAgICBzdGF0dXNCYXJDb2xvcjogc3RhdHVzQmFyLFxuICAgICAgICBkeW5hbWljSXNsYW5kQ29sb3I6IGR5bmFtaWNJc2xhbmQsXG4gICAgICAgIGJvcmRlckNvbG9yOiBib3JkZXIsXG4gICAgICAgIHNoYWRvd0NvbG9yOiBzaGFkb3csXG4gICAgICAgIHNoYWRvd0NvbG9yUmdiYSxcbiAgICAgICAgYnViYmxlU2hhZG93LFxuICAgICAgICBpc0RhcmtNb2RlLFxuICAgICAgICBkZWZhdWx0V2FsbHBhcGVyczoge1xuICAgICAgICAgIGNoYXQ6IGlzRGFya01vZGVcbiAgICAgICAgICAgID8gJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv5rex6Imy5pif5pifXzEuanBnJ1xuICAgICAgICAgICAgOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/ok53oibJfMy5qcGcnLFxuICAgICAgICAgIGhvbWU6IGlzRGFya01vZGVcbiAgICAgICAgICAgID8gJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv5rex6Imy5pif5pifXzEuanBnJ1xuICAgICAgICAgICAgOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/ok53oibJfMi5qcGcnLFxuICAgICAgICAgIHNldHRpbmdzOiBpc0RhcmtNb2RlID8gJyMxYTFhMWEnIDogJyNmMmY3ZmQnLFxuICAgICAgICB9LFxuICAgICAgICB1c2VTaW5nbGVDb2xvckljb25zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGN1c3RvbVRoZW1lO1xuICB9XG5cbiAgLy8g6aKc6Imy5aSE55CG5bel5YW377ya6LCD5Lqu5oiW6LCD5pqX6aKc6ImyXG4gIHByaXZhdGUgbGlnaHRlbkRhcmtlbkNvbG9yKGNvbDogc3RyaW5nLCBhbXQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgbGV0IHVzZVBvdW5kID0gZmFsc2U7XG5cbiAgICBpZiAoY29sWzBdID09PSAnIycpIHtcbiAgICAgIGNvbCA9IGNvbC5zbGljZSgxKTtcbiAgICAgIHVzZVBvdW5kID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBudW0gPSBwYXJzZUludChjb2wsIDE2KTtcblxuICAgIGxldCByID0gKG51bSA+PiAxNikgKyBhbXQ7XG4gICAgaWYgKHIgPiAyNTUpIHIgPSAyNTU7XG4gICAgZWxzZSBpZiAociA8IDApIHIgPSAwO1xuXG4gICAgbGV0IGIgPSAoKG51bSA+PiA4KSAmIDB4MDBmZikgKyBhbXQ7XG4gICAgaWYgKGIgPiAyNTUpIGIgPSAyNTU7XG4gICAgZWxzZSBpZiAoYiA8IDApIGIgPSAwO1xuXG4gICAgbGV0IGcgPSAobnVtICYgMHgwMDAwZmYpICsgYW10O1xuICAgIGlmIChnID4gMjU1KSBnID0gMjU1O1xuICAgIGVsc2UgaWYgKGcgPCAwKSBnID0gMDtcblxuICAgIHJldHVybiAodXNlUG91bmQgPyAnIycgOiAnJykgKyAoZyB8IChiIDw8IDgpIHwgKHIgPDwgMTYpKS50b1N0cmluZygxNik7XG4gIH1cblxuICAvLyDlsIbpopzoibLlgLzovazmjaLkuLrljYHlha3ov5vliLbmoLzlvI/vvIjnlKjkuo7popzoibLovpPlhaXmoYbvvIlcbiAgcHJpdmF0ZSBjb252ZXJ0VG9IZXgoY29sb3I6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8g5aaC5p6c5bey57uP5piv5Y2B5YWt6L+b5Yi25qC85byP77yM55u05o6l6L+U5ZueXG4gICAgaWYgKGNvbG9yLnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cblxuICAgIC8vIOWkhOeQhnJnYigp5qC85byPXG4gICAgY29uc3QgcmdiTWF0Y2ggPSBjb2xvci5tYXRjaCgvcmdiXFwoKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrKVxcKS8pO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgY29uc3QgciA9IHBhcnNlSW50KHJnYk1hdGNoWzFdKTtcbiAgICAgIGNvbnN0IGcgPSBwYXJzZUludChyZ2JNYXRjaFsyXSk7XG4gICAgICBjb25zdCBiID0gcGFyc2VJbnQocmdiTWF0Y2hbM10pO1xuICAgICAgcmV0dXJuICcjJyArICgoMSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGIpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICB9XG5cbiAgICAvLyDlpITnkIZyZ2JhKCnmoLzlvI/vvIjlv73nlaVhbHBoYemAmumBk++8iVxuICAgIGNvbnN0IHJnYmFNYXRjaCA9IGNvbG9yLm1hdGNoKC9yZ2JhXFwoKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrKSxcXHMqW1xcZC5dK1xcKS8pO1xuICAgIGlmIChyZ2JhTWF0Y2gpIHtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChyZ2JhTWF0Y2hbMV0pO1xuICAgICAgY29uc3QgZyA9IHBhcnNlSW50KHJnYmFNYXRjaFsyXSk7XG4gICAgICBjb25zdCBiID0gcGFyc2VJbnQocmdiYU1hdGNoWzNdKTtcbiAgICAgIHJldHVybiAnIycgKyAoKDEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiKS50b1N0cmluZygxNikuc2xpY2UoMSk7XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5peg5rOV6K+G5Yir5qC85byP77yM6L+U5Zue6buY6K6k6aKc6ImyXG4gICAgY29uc29sZS53YXJuKGBbVGhlbWVFZGl0b3JdIOaXoOazlei9rOaNouminOiJsuagvOW8jzogJHtjb2xvcn1gKTtcbiAgICByZXR1cm4gJyMwMDAwMDAnO1xuICB9XG5cbiAgLy8g6aqM6K+B5Li76aKY5pWw5o2u5qC85byPXG4gIHByaXZhdGUgdmFsaWRhdGVUaGVtZURhdGEoZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8g5qOA5p+l5b+F6ZyA55qE5a2X5q61XG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ25hbWUnLCAnY29sb3JzJ107XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZEZpZWxkcykge1xuICAgICAgaWYgKCEoZmllbGQgaW4gZGF0YSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyDmo4Dmn6Vjb2xvcnPlr7nosaFcbiAgICBjb25zdCBjb2xvcnMgPSBkYXRhLmNvbG9ycztcbiAgICBpZiAoIWNvbG9ycyB8fCB0eXBlb2YgY29sb3JzICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8g5qOA5p+l5b+F6ZyA55qE6aKc6Imy5a2X5q61XG4gICAgY29uc3QgcmVxdWlyZWRDb2xvcnMgPSBbJ3ByaW1hcnknLCAncGhvbmVGcmFtZScsICd0ZXh0UHJpbWFyeScsICd0ZXh0U2Vjb25kYXJ5J107XG4gICAgZm9yIChjb25zdCBjb2xvciBvZiByZXF1aXJlZENvbG9ycykge1xuICAgICAgaWYgKCEoY29sb3IgaW4gY29sb3JzKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8g5bqU55So5a+85YWl55qE5Li76aKYIC0g5L2/55SoalF1ZXJ56YeN5p6EXG4gIHByaXZhdGUgYXBwbHlJbXBvcnRlZFRoZW1lKHRoZW1lRGF0YTogYW55KTogdm9pZCB7XG4gICAgLy8g5aGr5YWF5Li76aKY5ZCN56ewXG4gICAgJCgnI3RoZW1lLW5hbWUtaW5wdXQnKS52YWwodGhlbWVEYXRhLmRpc3BsYXlOYW1lIHx8IHRoZW1lRGF0YS5uYW1lIHx8ICflr7zlhaXnmoTkuLvpopgnKTtcblxuICAgIC8vIOWhq+WFheminOiJsuWtl+autSAtIOS9v+eUqGxvZGFzaOeugOWMluaYoOWwhFxuICAgIGNvbnN0IGNvbG9yTWFwcGluZ3MgPSB7XG4gICAgICAnI3Bob25lLWZyYW1lLWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5waG9uZUZyYW1lLFxuICAgICAgJyNwcmltYXJ5LWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5wcmltYXJ5LFxuICAgICAgJyNsaWdodC1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMubGlnaHQsXG4gICAgICAnI3VsdHJhLWxpZ2h0LWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy51bHRyYUxpZ2h0LFxuICAgICAgJyNkZWVwLWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5kZWVwLFxuICAgICAgJyN0ZXh0LXByaW1hcnktY29sb3InOiB0aGVtZURhdGEuY29sb3JzLnRleHRQcmltYXJ5LFxuICAgICAgJyN0ZXh0LXNlY29uZGFyeS1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMudGV4dFNlY29uZGFyeSxcbiAgICAgICcjYnViYmxlLW1lLWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5idWJibGVNZUJnLFxuICAgICAgJyNidWJibGUtbWUtdGV4dC1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMuYnViYmxlTWVUZXh0LFxuICAgICAgJyNidWJibGUtdGhlbS1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMuYnViYmxlVGhlbUJnLFxuICAgICAgJyNidWJibGUtdGhlbS10ZXh0LWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5idWJibGVUaGVtVGV4dCxcbiAgICAgICcjc3RhdHVzLWJhci1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMuc3RhdHVzQmFyQ29sb3IsXG4gICAgICAnI2R5bmFtaWMtaXNsYW5kLWNvbG9yJzogdGhlbWVEYXRhLmNvbG9ycy5keW5hbWljSXNsYW5kQ29sb3IsXG4gICAgICAnI2JvcmRlci1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMuYm9yZGVyQ29sb3IsXG4gICAgICAnI3NoYWRvdy1jb2xvcic6IHRoZW1lRGF0YS5jb2xvcnMuc2hhZG93Q29sb3IsXG4gICAgfTtcblxuICAgIC8vIOS9v+eUqGxvZGFzaOaJuemHj+iuvue9ruminOiJsuWAvO+8jOW5tui9rOaNouS4uuWNgeWFrei/m+WItuagvOW8j1xuICAgIF8uZm9yRWFjaChjb2xvck1hcHBpbmdzLCAoY29sb3JWYWx1ZSwgc2VsZWN0b3IpID0+IHtcbiAgICAgIGlmIChjb2xvclZhbHVlKSB7XG4gICAgICAgICQoc2VsZWN0b3IpLnZhbCh0aGlzLmNvbnZlcnRUb0hleChjb2xvclZhbHVlKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDloavlhYVjaGVja2JveOmAiemhuVxuICAgIGlmICgnaXNEYXJrTW9kZScgaW4gdGhlbWVEYXRhLmNvbG9ycykge1xuICAgICAgJCgnI2RhcmstbW9kZS10b2dnbGUnKS5wcm9wKCdjaGVja2VkJywgdGhlbWVEYXRhLmNvbG9ycy5pc0RhcmtNb2RlKTtcbiAgICB9XG5cbiAgICBpZiAoJ3VzZVNpbmdsZUNvbG9ySWNvbnMnIGluIHRoZW1lRGF0YS5jb2xvcnMpIHtcbiAgICAgICQoJyNzaW5nbGUtY29sb3ItaWNvbnMtdG9nZ2xlJykucHJvcCgnY2hlY2tlZCcsIHRoZW1lRGF0YS5jb2xvcnMudXNlU2luZ2xlQ29sb3JJY29ucyk7XG4gICAgfVxuXG4gICAgLy8g5aSE55CG5aOB57q45L+h5oGv77yI5aaC5p6c5a2Y5Zyo77yJXG4gICAgaWYgKHRoZW1lRGF0YS53YWxscGFwZXJzKSB7XG4gICAgICB0aGlzLmFwcGx5SW1wb3J0ZWRXYWxscGFwZXJzKHRoZW1lRGF0YS53YWxscGFwZXJzKTtcbiAgICB9XG5cbiAgICAvLyDph43mlrDorr7nva5jaGVja2JveOeKtuaAgVxuICAgIHRoaXMuc2V0dXBDaGVja2JveGVzKCk7XG4gIH1cblxuICAvLyDlupTnlKjlr7zlhaXnmoTlo4Hnurjorr7nva5cbiAgcHJpdmF0ZSBhcHBseUltcG9ydGVkV2FsbHBhcGVycyh3YWxscGFwZXJzOiBhbnkpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2FsbHBhcGVyTWFuYWdlciA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldFdhbGxwYXBlck1hbmFnZXIoKTtcblxuICAgICAgLy8g5bqU55So5ZCE5Liq6KeG5Zu+55qE5aOB57q4XG4gICAgICBjb25zdCB2aWV3VHlwZXM6ICgnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnKVtdID0gWydjaGF0JywgJ2hvbWUnLCAnc2V0dGluZ3MnXTtcblxuICAgICAgdmlld1R5cGVzLmZvckVhY2godmlld1R5cGUgPT4ge1xuICAgICAgICBjb25zdCB3YWxscGFwZXIgPSB3YWxscGFwZXJzW3ZpZXdUeXBlXTtcbiAgICAgICAgaWYgKHdhbGxwYXBlcikge1xuICAgICAgICAgIC8vIOiuvue9ruWjgee6uOWIsOW9k+WJjeS4u+mimFxuICAgICAgICAgIHdhbGxwYXBlck1hbmFnZXIuc2V0V2FsbHBhcGVyKHZpZXdUeXBlLCB3YWxscGFwZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ1tUaGVtZUVkaXRvcl0g5aOB57q46K6+572u5bey5a+85YWlJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1RoZW1lRWRpdG9yXSDlr7zlhaXlo4Hnurjorr7nva7lpLHotKU6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/theme-editor.ts\n\n}");
  },
  "./src/同层手机/theme-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APP_VERSION: () => (/* binding */ APP_VERSION),\n/* harmony export */   THEMES: () => (/* binding */ THEMES),\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager),\n/* harmony export */   WallpaperManager: () => (/* binding */ WallpaperManager)\n/* harmony export */ });\n// 当前应用版本\nconst APP_VERSION = '1.1.0';\n// 默认主题配置\nconst THEMES = {\n    blue: {\n        name: 'blue',\n        displayName: '蓝色主题',\n        colors: {\n            // 手机边框\n            phoneFrame: '#b4d0fa',\n            phoneFrameGradient: ['#4a95ed', '#98c2f5', '#accef2', '#4a95ed'],\n            // 主要颜色\n            primary: '#72adf3',\n            light: '#a8cbeb',\n            ultraLight: '#e8f4fd',\n            soft: '#b8d4f0',\n            deep: '#2c5282',\n            // 渐变色\n            gradientStart: '#98c2f5',\n            gradientEnd: '#accef2',\n            // 文字颜色\n            textColor: '#ffffff',\n            textPrimary: 'rgb(139, 162, 186)',\n            textSecondary: '#64748b',\n            // 边框和阴影\n            borderColor: '#cbd5e1',\n            bubbleShadow: '0 2px 8px rgba(74, 144, 226, 0.15)',\n            // 气泡背景\n            bubbleThemBg: '#ffffff',\n            bubbleMeBg: '#a8cbeb',\n            // 气泡文字颜色\n            bubbleThemText: '#72adf3',\n            bubbleMeText: '#ffffff',\n            // 头部背景\n            headerBg: 'linear-gradient(315deg, #eef4ff 0%, #f8faff 100%)',\n            // 新增：状态栏颜色\n            statusBarColor: '#428af2',\n            // 新增：灵动岛颜色\n            dynamicIslandColor: '#a0c4f4',\n            // 新增：应用背景色\n            appBgColor: '#ffffff',\n            // 新增：设置页面背景色\n            settingsBgColor: '#f2f2f7',\n            // 新增：设置卡片背景色\n            settingsCardBgColor: '#ffffff',\n            // 新增：阴影颜色\n            shadowColor: '#4a90e2',\n            shadowColorRgba: 'rgba(74, 144, 226, 0.3)',\n            // 新增：是否是暗色主题\n            isDarkMode: false,\n            // 新增：默认壁纸\n            defaultWallpapers: {\n                chat: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_3.jpg', // 更新为指定的蓝色主题壁纸\n                home: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_2.jpg', // 更新为指定的蓝色主题壁纸\n                settings: '#f2f7fd',\n            },\n            // 新增：是否使用单一颜色图标\n            useSingleColorIcons: true,\n        },\n    },\n    pink: {\n        name: 'pink',\n        displayName: '粉色主题',\n        colors: {\n            // 手机边框\n            phoneFrame: '#fad0e8',\n            phoneFrameGradient: ['#ed4a9e', '#f598c8', '#f2acce', '#ed4a9e'],\n            // 主要颜色\n            primary: '#f372ad',\n            light: '#eba8cb',\n            ultraLight: '#fde8f4',\n            soft: '#f0b8d4',\n            deep: '#822c5c',\n            // 渐变色\n            gradientStart: '#f598c8',\n            gradientEnd: '#f2acce',\n            // 文字颜色\n            textColor: '#ffffff',\n            textPrimary: 'rgb(186, 139, 162)',\n            textSecondary: '#8b647a',\n            // 边框和阴影\n            borderColor: '#e1cbd5',\n            bubbleShadow: '0 2px 8px rgba(226, 74, 144, 0.15)',\n            // 气泡背景\n            bubbleThemBg: '#ffffff',\n            bubbleMeBg: '#eba8cb',\n            // 气泡文字颜色\n            bubbleThemText: '#f372ad',\n            bubbleMeText: '#ffffff',\n            // 头部背景\n            headerBg: 'linear-gradient(315deg, #ffeeef 0%, #fff8fa 100%)',\n            // 新增：状态栏颜色\n            statusBarColor: '#ed72ad',\n            // 新增：灵动岛颜色\n            dynamicIslandColor: '#f4a0c4',\n            // 新增：应用背景色\n            appBgColor: '#ffffff',\n            // 新增：设置页面背景色\n            settingsBgColor: '#fff2f7',\n            // 新增：设置卡片背景色\n            settingsCardBgColor: '#ffffff',\n            // 新增：阴影颜色\n            shadowColor: '#e24a90',\n            shadowColorRgba: 'rgba(226, 74, 144, 0.3)',\n            // 新增：是否是暗色主题\n            isDarkMode: false,\n            // 新增：默认壁纸\n            defaultWallpapers: {\n                chat: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色星星_1.jpg', // 更新为指定的粉色主题壁纸\n                home: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色格子_3.jpg', // 更新为指定的粉色主题壁纸\n                settings: '#fdf2f7',\n            },\n            // 新增：是否使用单一颜色图标\n            useSingleColorIcons: true,\n        },\n    },\n    white: {\n        name: 'white',\n        displayName: '微信主题',\n        colors: {\n            // 手机边框\n            phoneFrame: '#000000',\n            phoneFrameGradient: ['#000000', '#222222', '#333333', '#000000'],\n            // 主要颜色 - 微信绿只用于特定元素\n            primary: '#999999', // 大多数按钮和图标用灰色\n            light: '#cccccc',\n            ultraLight: '#f8f8f8',\n            soft: '#e0e0e0',\n            deep: '#666666',\n            // 渐变色\n            gradientStart: '#cccccc',\n            gradientEnd: '#dddddd',\n            // 文字颜色\n            textColor: '#ffffff',\n            textPrimary: '#333333',\n            textSecondary: '#909090',\n            // 边框和阴影\n            borderColor: '#e0e0e0',\n            bubbleShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\n            // 气泡背景\n            bubbleThemBg: '#ffffff',\n            bubbleMeBg: '#A0E75A', // 更浅的微信气泡绿色\n            // 气泡文字颜色\n            bubbleThemText: '#333333',\n            bubbleMeText: '#333333',\n            // 头部背景\n            headerBg: 'linear-gradient(315deg, #f5f5f5 0%, #ffffff 100%)',\n            // 新增：状态栏颜色\n            statusBarColor: '#000000',\n            // 新增：灵动岛颜色\n            dynamicIslandColor: '#000000',\n            // 新增：应用背景色\n            appBgColor: '#ffffff',\n            // 新增：设置页面背景色\n            settingsBgColor: '#f5f5f5',\n            // 新增：设置卡片背景色\n            settingsCardBgColor: '#ffffff',\n            // 新增：阴影颜色\n            shadowColor: '#999999',\n            shadowColorRgba: 'rgba(0, 0, 0, 0.1)',\n            // 新增：是否是暗色主题\n            isDarkMode: false,\n            // 新增：默认壁纸\n            defaultWallpapers: {\n                chat: '#EDEDED', // 微信聊天背景灰色\n                home: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色_1.jpg', // 默认图片壁纸\n                settings: '#f5f5f5',\n            },\n            // 新增：是否使用单一颜色图标\n            useSingleColorIcons: false,\n        },\n    },\n    dark: {\n        name: 'dark',\n        displayName: '夜间模式',\n        colors: {\n            // 手机边框\n            phoneFrame: '#2c2c2c',\n            phoneFrameGradient: ['#1a1a1a', '#2c2c2c', '#3c3c3c', '#1a1a1a'],\n            // 主要颜色\n            primary: '#505050',\n            light: '#3c3c3c',\n            ultraLight: '#1a1a1a',\n            soft: '#2c2c2c',\n            deep: '#c0c0c0',\n            // 渐变色\n            gradientStart: '#3c3c3c',\n            gradientEnd: '#2c2c2c',\n            // 文字颜色\n            textColor: '#e0e0e0',\n            textPrimary: '#c0c0c0',\n            textSecondary: '#a0a0a0',\n            // 边框和阴影\n            borderColor: '#3c3c3c',\n            bubbleShadow: '0 2px 8px rgba(0, 0, 0, 0.3)',\n            // 气泡背景\n            bubbleThemBg: '#2a2a2a',\n            bubbleMeBg: '#505050',\n            // 气泡文字颜色\n            bubbleThemText: '#e0e0e0',\n            bubbleMeText: '#c0c0c0',\n            // 头部背景\n            headerBg: 'linear-gradient(315deg, #2c2c2c 0%, #1a1a1a 100%)',\n            // 新增：状态栏颜色\n            statusBarColor: '#888888',\n            // 新增：灵动岛颜色\n            dynamicIslandColor: '#3c3c3c',\n            // 新增：应用背景色\n            appBgColor: '#1a1a1a',\n            // 新增：设置页面背景色\n            settingsBgColor: '#1a1a1a',\n            // 新增：设置卡片背景色\n            settingsCardBgColor: '#2c2c2c',\n            // 新增：阴影颜色\n            shadowColor: '#000000',\n            shadowColorRgba: 'rgba(0, 0, 0, 0.5)',\n            // 新增：是否是暗色主题\n            isDarkMode: true,\n            // 新增：默认壁纸\n            defaultWallpapers: {\n                chat: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_1.jpg', // 夜间模式壁纸\n                home: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_1.jpg', // 夜间模式壁纸\n                settings: '#1a1a1a',\n            },\n            // 新增：是否使用单一颜色图标\n            useSingleColorIcons: false,\n        },\n    },\n};\n// 主题管理器类\nclass ThemeManager {\n    static THEME_STORAGE_KEY = 'blmx_theme';\n    static CUSTOM_THEME_STORAGE_KEY = 'blmx_custom_theme';\n    static VERSION_STORAGE_KEY = 'blmx_app_version';\n    currentTheme;\n    wallpaperManager;\n    constructor() {\n        // 检查版本并在需要时清理缓存\n        this.checkVersion();\n        // 从本地存储加载主题或使用默认微信主题\n        const savedThemeName = localStorage.getItem(ThemeManager.THEME_STORAGE_KEY) || 'white';\n        if (savedThemeName === 'custom') {\n            try {\n                const customThemeJson = localStorage.getItem(ThemeManager.CUSTOM_THEME_STORAGE_KEY);\n                if (customThemeJson) {\n                    this.currentTheme = JSON.parse(customThemeJson);\n                }\n                else {\n                    this.currentTheme = THEMES.white;\n                }\n            }\n            catch (e) {\n                console.error('Failed to load custom theme:', e);\n                this.currentTheme = THEMES.white;\n            }\n        }\n        else {\n            this.currentTheme = THEMES[savedThemeName] || THEMES.white;\n        }\n        // 初始化壁纸管理器\n        this.wallpaperManager = new WallpaperManager();\n        // 应用当前主题\n        this.applyTheme(this.currentTheme);\n    }\n    // 检查版本并清理过时数据\n    checkVersion() {\n        const savedVersion = localStorage.getItem(ThemeManager.VERSION_STORAGE_KEY);\n        // 如果没有版本记录或版本不匹配，执行清理\n        if (!savedVersion || savedVersion !== APP_VERSION) {\n            console.log(`版本更新: ${savedVersion || '初次安装'} -> ${APP_VERSION}, 清理过时数据...`);\n            this.cleanOutdatedData();\n            // 保存新版本号\n            localStorage.setItem(ThemeManager.VERSION_STORAGE_KEY, APP_VERSION);\n        }\n    }\n    // 清理过时数据\n    cleanOutdatedData() {\n        // 保留用户的个人设置数据，但清理可能导致问题的主题和壁纸数据\n        const keysToPreserve = [];\n        // 查找所有需要保留的个人设置键\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (key &&\n                (key.startsWith('blmx_user_name_') ||\n                    key.startsWith('blmx_user_avatar_') ||\n                    key.startsWith('blmx_char_avatar_') ||\n                    key.startsWith('blmx_remark_') ||\n                    key.startsWith('blmx_signature_') ||\n                    key.startsWith('blmx_cover_photo_') ||\n                    key.startsWith('blmx_input_placeholder_'))) {\n                keysToPreserve.push(key);\n            }\n        }\n        // 临时保存需要保留的数据\n        const preservedData = {};\n        keysToPreserve.forEach(key => {\n            const value = localStorage.getItem(key);\n            if (value)\n                preservedData[key] = value;\n        });\n        // 清除所有 blmx_ 开头的数据\n        for (let i = localStorage.length - 1; i >= 0; i--) {\n            const key = localStorage.key(i);\n            if (key && key.startsWith('blmx_')) {\n                localStorage.removeItem(key);\n            }\n        }\n        // 恢复需要保留的数据\n        Object.entries(preservedData).forEach(([key, value]) => {\n            localStorage.setItem(key, value);\n        });\n    }\n    // 获取当前主题\n    getCurrentTheme() {\n        return this.currentTheme;\n    }\n    // 获取当前主题的实际应用数据（从DOM的CSS变量中读取）\n    getCurrentThemeWithAppliedValues() {\n        const theme = { ...this.currentTheme };\n        const colors = { ...theme.colors };\n        // 从DOM中读取实际应用的CSS变量值\n        const root = document.documentElement;\n        const computedStyle = getComputedStyle(root);\n        // 读取实际应用的颜色值\n        const actualValues = {\n            phoneFrame: computedStyle.getPropertyValue('--phoneFrame').trim(),\n            primary: computedStyle.getPropertyValue('--primary-blue').trim(),\n            light: computedStyle.getPropertyValue('--light-blue').trim(),\n            ultraLight: computedStyle.getPropertyValue('--ultra-light-blue').trim(),\n            soft: computedStyle.getPropertyValue('--soft-blue').trim(),\n            deep: computedStyle.getPropertyValue('--deep-blue').trim(),\n            textColor: computedStyle.getPropertyValue('--text-color').trim(),\n            textPrimary: computedStyle.getPropertyValue('--text-primary').trim(),\n            textSecondary: computedStyle.getPropertyValue('--text-secondary').trim(),\n            borderColor: computedStyle.getPropertyValue('--border-color').trim(),\n            bubbleShadow: computedStyle.getPropertyValue('--bubble-shadow').trim(),\n            bubbleThemBg: computedStyle.getPropertyValue('--wechat-bubble-them-bg').trim(),\n            bubbleMeBg: computedStyle.getPropertyValue('--wechat-bubble-me-bg').trim(),\n            bubbleThemText: computedStyle.getPropertyValue('--wechat-bubble-them-text').trim(),\n            bubbleMeText: computedStyle.getPropertyValue('--wechat-bubble-me-text').trim(),\n            headerBg: computedStyle.getPropertyValue('--header-bg').trim(),\n            statusBarColor: computedStyle.getPropertyValue('--status-bar-color').trim(),\n            dynamicIslandColor: computedStyle.getPropertyValue('--dynamic-island-color').trim(),\n            appBgColor: computedStyle.getPropertyValue('--app-bg-color').trim(),\n            settingsBgColor: computedStyle.getPropertyValue('--settings-bg-color').trim(),\n            settingsCardBgColor: computedStyle.getPropertyValue('--settings-card-bg-color').trim(),\n            shadowColor: computedStyle.getPropertyValue('--shadow-color').trim(),\n            shadowColorRgba: computedStyle.getPropertyValue('--shadow-color-rgba').trim(),\n            gradientStart: computedStyle.getPropertyValue('--blue-gradient-start').trim() ||\n                computedStyle.getPropertyValue('--primary-gradient-light').trim(),\n            gradientEnd: computedStyle.getPropertyValue('--blue-gradient-end').trim() ||\n                computedStyle.getPropertyValue('--primary-gradient-dark').trim(),\n        };\n        // 使用实际应用的值，如果CSS变量存在的话\n        Object.keys(actualValues).forEach(key => {\n            const value = actualValues[key];\n            if (value && value !== '') {\n                colors[key] = value;\n            }\n        });\n        // 保持原有的布尔值和其他非颜色属性\n        colors.isDarkMode = theme.colors.isDarkMode;\n        colors.useSingleColorIcons = theme.colors.useSingleColorIcons;\n        colors.phoneFrameGradient = theme.colors.phoneFrameGradient;\n        colors.defaultWallpapers = theme.colors.defaultWallpapers;\n        return {\n            ...theme,\n            colors,\n        };\n    }\n    // 获取所有默认主题\n    getThemes() {\n        return THEMES;\n    }\n    // 获取壁纸管理器\n    getWallpaperManager() {\n        return this.wallpaperManager;\n    }\n    // 切换到指定主题\n    switchTheme(themeName) {\n        if (themeName === 'custom') {\n            try {\n                const customThemeJson = localStorage.getItem(ThemeManager.CUSTOM_THEME_STORAGE_KEY);\n                if (customThemeJson) {\n                    this.currentTheme = JSON.parse(customThemeJson);\n                    localStorage.setItem(ThemeManager.THEME_STORAGE_KEY, 'custom');\n                    // 更新壁纸管理器中的当前主题名称\n                    this.wallpaperManager.setCurrentThemeName('custom');\n                    this.applyTheme(this.currentTheme);\n                    // 应用主题默认壁纸\n                    this.wallpaperManager.applyThemeDefaultWallpapers(this.currentTheme);\n                }\n            }\n            catch (e) {\n                console.error('Failed to load custom theme:', e);\n            }\n        }\n        else if (THEMES[themeName]) {\n            this.currentTheme = THEMES[themeName];\n            localStorage.setItem(ThemeManager.THEME_STORAGE_KEY, themeName);\n            // 更新壁纸管理器中的当前主题名称\n            this.wallpaperManager.setCurrentThemeName(themeName);\n            this.applyTheme(this.currentTheme);\n            // 应用主题默认壁纸\n            this.wallpaperManager.applyThemeDefaultWallpapers(this.currentTheme);\n        }\n    }\n    // 保存自定义主题\n    saveCustomTheme(theme) {\n        this.currentTheme = theme;\n        localStorage.setItem(ThemeManager.CUSTOM_THEME_STORAGE_KEY, JSON.stringify(theme));\n        localStorage.setItem(ThemeManager.THEME_STORAGE_KEY, 'custom');\n        // 更新壁纸管理器中的当前主题名称\n        this.wallpaperManager.setCurrentThemeName('custom');\n        this.applyTheme(theme);\n        // 应用主题默认壁纸\n        this.wallpaperManager.applyThemeDefaultWallpapers(theme);\n    }\n    // 应用主题到DOM\n    applyTheme(theme) {\n        const colors = theme.colors;\n        const root = document.documentElement;\n        // 设置CSS变量\n        root.style.setProperty('--phoneFrame', colors.phoneFrame);\n        root.style.setProperty('--primary-blue', colors.primary);\n        root.style.setProperty('--light-blue', colors.light);\n        root.style.setProperty('--ultra-light-blue', colors.ultraLight);\n        root.style.setProperty('--blue-gradient-start', colors.gradientStart);\n        root.style.setProperty('--blue-gradient-end', colors.gradientEnd);\n        root.style.setProperty('--soft-blue', colors.soft);\n        root.style.setProperty('--deep-blue', colors.deep);\n        // 设置文字颜色变量 - 这是关键的修复！\n        root.style.setProperty('--text-color', colors.textColor);\n        root.style.setProperty('--text-primary', colors.textPrimary);\n        root.style.setProperty('--text-secondary', colors.textSecondary);\n        // 设置边框颜色\n        root.style.setProperty('--border-color', colors.borderColor);\n        // 根据useSingleColorIcons属性设置图标颜色\n        if (colors.useSingleColorIcons) {\n            // 使用主题色作为图标颜色\n            document.body.classList.add('single-color-icon');\n            // 计算渐变色：比主色更亮和更暗的变体\n            const lighterColor = this.lightenDarkenColor(colors.primary, 20);\n            const darkerColor = this.lightenDarkenColor(colors.primary, -20);\n            // 设置渐变色变量\n            root.style.setProperty('--primary-gradient-light', lighterColor);\n            root.style.setProperty('--primary-gradient-dark', darkerColor);\n        }\n        else {\n            // 使用默认的绿色和灰色图标\n            document.body.classList.remove('single-color-icon');\n            root.style.setProperty('--wechat-green-icon', theme.name === 'white' ? '#07C160' : '#07C160');\n            root.style.setProperty('--settings-icon-color', theme.name === 'white' ? '#8a8a8a' : '#8a8a8a');\n        }\n        root.style.setProperty('--wechat-green-bubble', colors.light);\n        root.style.setProperty('--wechat-bg', colors.ultraLight);\n        root.style.setProperty('--link-color', colors.primary);\n        root.style.setProperty('--text-color', colors.textColor);\n        root.style.setProperty('--text-primary', colors.textPrimary);\n        root.style.setProperty('--text-secondary', colors.textSecondary);\n        root.style.setProperty('--border-color', colors.borderColor);\n        root.style.setProperty('--header-bg', colors.headerBg);\n        root.style.setProperty('--bubble-shadow', colors.bubbleShadow);\n        root.style.setProperty('--wechat-bubble-them-bg', colors.bubbleThemBg);\n        root.style.setProperty('--wechat-bubble-me-bg', colors.bubbleMeBg);\n        // 设置气泡文字颜色\n        root.style.setProperty('--wechat-bubble-them-text', colors.bubbleThemText || colors.primary);\n        root.style.setProperty('--wechat-bubble-me-text', colors.bubbleMeText || '#ffffff');\n        // 设置状态栏颜色\n        root.style.setProperty('--status-bar-color', colors.statusBarColor);\n        // 设置灵动岛颜色\n        root.style.setProperty('--dynamic-island-color', colors.dynamicIslandColor);\n        // 设置应用背景色\n        root.style.setProperty('--app-bg-color', colors.appBgColor);\n        // 设置设置页面背景色\n        root.style.setProperty('--settings-bg-color', colors.settingsBgColor);\n        // 设置设置卡片背景色\n        root.style.setProperty('--settings-card-bg-color', colors.settingsCardBgColor);\n        // 设置输入框背景色（非夜间模式统一为白色）\n        root.style.setProperty('--input-bg', colors.isDarkMode ? '#2a2a2a' : '#ffffff');\n        // 设置阴影颜色\n        root.style.setProperty('--shadow-color', colors.shadowColor);\n        root.style.setProperty('--shadow-color-rgba', colors.shadowColorRgba);\n        // 提取阴影颜色的RGB分量，用于其他计算\n        const shadowRGB = this.extractRgbComponents(colors.shadowColor);\n        root.style.setProperty('--shadow-r', shadowRGB.r.toString());\n        root.style.setProperty('--shadow-g', shadowRGB.g.toString());\n        root.style.setProperty('--shadow-b', shadowRGB.b.toString());\n        // 设置暗色模式类\n        if (colors.isDarkMode) {\n            document.body.classList.add('dark-mode');\n        }\n        else {\n            document.body.classList.remove('dark-mode');\n        }\n        // 手机边框样式\n        const phoneFrame = document.querySelector('.phone-frame');\n        if (phoneFrame) {\n            phoneFrame.style.background = colors.phoneFrame;\n            // 更新手机边框渐变 - 原子性更新避免闪烁\n            const gradientColors = colors.phoneFrameGradient.join(', ');\n            // 检查是否已存在样式元素\n            let phoneFrameStyle = document.getElementById('phone-frame-style');\n            if (!phoneFrameStyle) {\n                phoneFrameStyle = document.createElement('style');\n                phoneFrameStyle.id = 'phone-frame-style';\n                document.head.appendChild(phoneFrameStyle);\n            }\n            // 直接更新样式内容，避免移除和重新添加造成的闪烁\n            phoneFrameStyle.textContent = `\n        .phone-frame::before {\n          background: linear-gradient(45deg, ${gradientColors});\n          background-size: 400% 400%;\n        }\n      `;\n        }\n        // 更新动态岛颜色\n        const dynamicIsland = document.querySelector('.dynamic-island');\n        if (dynamicIsland) {\n            dynamicIsland.style.background = colors.dynamicIslandColor;\n        }\n        // 更新状态栏颜色\n        const statusLeft = document.querySelector('.status-left');\n        const statusRight = document.querySelector('.status-right');\n        if (statusLeft && statusRight) {\n            statusLeft.style.color = colors.statusBarColor;\n            statusRight.style.color = colors.statusBarColor;\n        }\n        // 更新设置页面背景色\n        const settingsView = document.getElementById('settings-view');\n        if (settingsView) {\n            settingsView.style.backgroundColor = colors.settingsBgColor;\n        }\n        // 更新设置卡片背景色\n        const settingsCards = document.querySelectorAll('.settings-card');\n        settingsCards.forEach((card) => {\n            card.style.backgroundColor = colors.settingsCardBgColor;\n        });\n        // 更新手机阴影\n        if (phoneFrame) {\n            phoneFrame.style.boxShadow = `\n        0 15px 20px ${this.hexToRgba(colors.shadowColor, 0.25)},\n        0 8px 20px ${this.hexToRgba(colors.shadowColor, 0.15)},\n        0 3px 8px rgba(0, 0, 0, 0.1),\n        inset 0 1px 0 rgba(255, 255, 255, 0.5),\n        inset 0 -1px 0 rgba(255, 255, 255, 0.2),\n        0 5px ${this.hexToRgba(colors.shadowColor, 0.08)}\n      `;\n        }\n        // 更新气泡阴影和颜色\n        const style = document.createElement('style');\n        style.id = 'theme-dynamic-styles';\n        // 检查是否是自定义主题（使用纯色背景）还是默认主题（保留渐变）\n        // 注释掉未使用的变量\n        // const isCustomBubbleColors = theme.name === 'custom';\n        style.textContent = `\n      /* 微信主题下的气泡样式 - 直接应用绿色 */\n      .message-row.me .message-bubble {\n        background-color: ${colors.bubbleMeBg} !important;\n        background: ${colors.bubbleMeBg} !important;\n        color: ${colors.bubbleMeText || '#ffffff'} !important;\n        box-shadow: 0 4px 12px ${this.hexToRgba(colors.shadowColor, 0.3)};\n      }\n      \n      /* 对方气泡样式 */\n      .message-row.them .message-bubble {\n        background-color: ${colors.bubbleThemBg} !important;\n        background: ${colors.bubbleThemBg} !important;\n        color: ${colors.bubbleThemText || colors.primary} !important;\n      }\n      \n      /* 确保语音气泡也使用正确的颜色 */\n      .message-row.me .message-bubble.voice-bubble {\n        background: ${colors.bubbleMeBg} !important;\n        background-color: ${colors.bubbleMeBg} !important;\n        background-image: none !important;\n        color: ${colors.bubbleMeText || '#ffffff'} !important;\n      }\n      \n      .message-row.them .message-bubble.voice-bubble {\n        background: ${colors.bubbleThemBg} !important;\n        color: ${colors.bubbleThemText || colors.primary} !important;\n      }\n      \n      /* 朋友圈文字描述图片样式 */\n      .post-media .image-desc-content {\n        background-color: ${this.hexToRgba(colors.primary, 0.1)} !important;\n        border: 1px solid ${this.hexToRgba(colors.primary, 0.1)} !important;\n      }\n      \n      /* 发送按钮样式 */\n      .wechat-footer .send-btn {\n        box-shadow: 0 4px 12px ${this.hexToRgba(colors.shadowColor, 0.3)};\n      }\n      \n      .wechat-footer .send-btn:hover {\n        box-shadow: 0 6px 16px ${this.hexToRgba(colors.shadowColor, 0.4)};\n      }\n      \n      /* 夜间模式特殊处理 */\n      ${colors.isDarkMode\n            ? `\n        .settings-card p, \n        .settings-card a,\n        .settings-card li a,\n        .post-content,\n        .post-meta,\n        .theme-editor-modal .modal-content {\n          color: #e0e0e0 !important;\n        }\n        \n        .settings-card,\n        .theme-editor-modal .modal-content {\n          background-color: #2a2a2a !important;\n        }\n        \n        /* 修改夜间模式下正在输入指示器样式 */\n        .typing-indicator .message-bubble {\n          background-color: ${colors.bubbleThemBg} !important;\n          background: ${colors.bubbleThemBg} !important;\n          color: #ffffff !important;\n          border: none !important;\n        }\n        \n        .typing-dot {\n          background-color: rgba(255, 255, 255, 0.6) !important;\n        }\n        \n        .settings-card li {\n          border-bottom-color: #3c3c3c !important;\n        }\n        \n        .settings-card li a {\n          color: #a0a0a0 !important;\n        }\n        \n        #show-last-ai-response-btn,\n        #show-last-sent-prompt-btn {\n          background-color: #2c2c2c !important;\n          color: #a0a0a0 !important;\n        }\n\n        /* 朋友圈暗色模式 */\n        #moments-view {\n          background: linear-gradient(180deg, #1a1a1a 0%, #252525 100%) !important;\n        }\n        \n        .moments-body {\n          background-color: #1a1a1a !important;\n        }\n        \n        .moment-post {\n          border-bottom-color: #2c2c2c !important;\n        }\n        \n        .post-interactions {\n          background: #2a2a2a !important;\n          border-color: #3c3c3c !important;\n        }\n        \n        .post-interactions::before {\n          border-bottom-color: #2a2a2a !important;\n        }\n        \n        .likes-section {\n          background: rgba(42, 42, 42, 0.8) !important;\n        }\n        \n        .comments-section {\n          border-top-color: #3c3c3c !important;\n        }\n        \n        .post-meta .comment-button {\n          background: #2c2c2c !important;\n        }\n\n        /* 朋友圈文字描述图片样式 - 夜间模式 */\n        .post-media .image-desc-content {\n          background-color: rgba(42, 42, 42, 0.8) !important;\n          border: 1px solid rgba(60, 60, 60, 0.4) !important;\n          color: #e0e0e0 !important;\n        }\n\n        /* 更多夜间模式样式 */\n        .post-author-name, \n        .liker-name, \n        .comment-author {\n          color: #a0c0e0 !important;\n        }\n        \n        .moments-header,\n        .wechat-header {\n          background: linear-gradient(315deg, #252525 0%, #1a1a1a 100%) !important;\n          border-bottom-color: #3c3c3c !important;\n        }\n        \n        .wechat-footer {\n          background: linear-gradient(315deg, #252525 0%, #1a1a1a 100%) !important;\n          border-top-color: #3c3c3c !important;\n        }\n        \n        .wechat-footer .text-input {\n          background-color: #2a2a2a !important;\n          border-color: #3c3c3c !important;\n          color: #e0e0e0 !important;\n        }\n        \n        .wechat-footer .text-input::placeholder {\n          color: #808080 !important;\n        }\n        \n        .timestamp-text,\n        .event-time-text {\n          background: linear-gradient(315deg, #505050 0%, #3c3c3c 100%) !important;\n        }\n        \n        .recall-notice-text {\n          background: linear-gradient(315deg, #505050 0%, #3c3c3c 100%) !important;\n        }\n        \n        .message-row.them .voice-bubble .voice-icon {\n          color: #a0c0e0 !important;\n        }\n        \n        .voice-text-content {\n          background-color: #2a2a2a !important;\n          border-color: #3c3c3c !important;\n          color: #e0e0e0 !important;\n        }\n        \n        .location-card,\n        .file-card {\n          background-color: #2a2a2a !important;\n        }\n        \n        .location-content .location-title {\n          color: #e0e0e0 !important;\n        }\n        \n        .file-details .file-name {\n          color: #e0e0e0 !important;\n        }\n        \n        .file-footer {\n          background-color: #252525 !important;\n          border-top-color: #3c3c3c !important;\n        }\n        \n        .panel-container {\n          background-color: #1a1a1a !important;\n        }\n        \n        .feature-icon {\n          background-color: #2a2a2a !important;\n          border-color: #3c3c3c !important;\n        }\n        \n        .feature-label {\n          color: #a0a0a0 !important;\n        }\n        \n        /* Theme-colored icons in dark mode */\n        .feature-icon .theme-icon {\n          color: var(--primary-blue) !important;\n        }\n        \n        /* 壁纸选择器暗色模式 */\n        .wallpaper-container {\n          background-color: #2a2a2a !important;\n          color: #e0e0e0 !important;\n        }\n        \n        .wallpaper-container h2,\n        .wallpaper-container h3,\n        .wallpaper-container p {\n          color: #e0e0e0 !important;\n        }\n        \n        .wallpaper-container input[type=\"text\"],\n        .wallpaper-container input[type=\"file\"] {\n          background-color: #1a1a1a !important;\n          border-color: #3c3c3c !important;\n          color: #e0e0e0 !important;\n        }\n        \n        .wallpaper-item .name {\n          background-color: rgba(42, 42, 42, 0.9) !important;\n          color: #e0e0e0 !important;\n        }\n      `\n            : ''}\n    `;\n        const oldDynamicStyles = document.getElementById('theme-dynamic-styles');\n        if (oldDynamicStyles) {\n            oldDynamicStyles.remove();\n        }\n        document.head.appendChild(style);\n    }\n    // 辅助方法：HEX转RGBA\n    hexToRgba(hex, alpha) {\n        const r = parseInt(hex.slice(1, 3), 16);\n        const g = parseInt(hex.slice(3, 5), 16);\n        const b = parseInt(hex.slice(5, 7), 16);\n        return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    }\n    // 辅助方法：提取RGB分量\n    extractRgbComponents(hex) {\n        const r = parseInt(hex.slice(1, 3), 16);\n        const g = parseInt(hex.slice(3, 5), 16);\n        const b = parseInt(hex.slice(5, 7), 16);\n        return { r, g, b };\n    }\n    // 辅助方法：调整颜色亮度\n    lightenDarkenColor(color, amount) {\n        let hex = color.replace('#', '');\n        if (hex.length === 3) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        const num = parseInt(hex, 16);\n        let r = (num >> 16) + amount;\n        let g = ((num >> 8) & 0x00ff) + amount;\n        let b = (num & 0x0000ff) + amount;\n        r = Math.max(0, Math.min(255, r));\n        g = Math.max(0, Math.min(255, g));\n        b = Math.max(0, Math.min(255, b));\n        const rHex = r.toString(16).padStart(2, '0');\n        const gHex = g.toString(16).padStart(2, '0');\n        const bHex = b.toString(16).padStart(2, '0');\n        return `#${rHex}${gHex}${bHex}`;\n    }\n}\n// 壁纸管理器类\nclass WallpaperManager {\n    static WALLPAPER_STORAGE_KEY_PREFIX = 'blmx_wallpaper_';\n    static CUSTOM_WALLPAPERS_KEY = 'blmx_custom_wallpapers';\n    static THEME_WALLPAPER_KEY_PREFIX = 'blmx_theme_wallpaper_';\n    currentThemeName = 'white'; // 默认主题名称\n    // 内置壁纸\n    builtInWallpapers = [\n        { id: 'blue_solid', type: 'color', value: '#e8f4fd', name: '蓝色纯色' },\n        { id: 'pink_solid', type: 'color', value: '#fde8f4', name: '粉色纯色' },\n        { id: 'white_solid', type: 'color', value: '#f8f8f8', name: '白色纯色' },\n        { id: 'dark_solid', type: 'color', value: '#1a1a1a', name: '黑色纯色' },\n        {\n            id: 'default_image',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色_1.jpg',\n            name: '白色壁纸',\n        },\n        {\n            id: 'dark_image',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_1.jpg',\n            name: '深色星星壁纸',\n        },\n        {\n            id: 'blue_theme',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色星星_1.jpg',\n            name: '蓝色星星壁纸',\n        },\n        {\n            id: 'pink_theme',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色星星_1.jpg',\n            name: '粉色星星壁纸',\n        },\n        {\n            id: 'kitty_theme',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色小猫_1.jpg',\n            name: '粉色小猫壁纸',\n        },\n        {\n            id: 'deep_stars_2',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_2.jpg',\n            name: '深色星星壁纸2',\n        },\n        {\n            id: 'deep_stars_3',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/深色星星_3.jpg',\n            name: '深色星星壁纸3',\n        },\n        {\n            id: 'white_stars',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色星星_1.jpg',\n            name: '白色星星壁纸',\n        },\n        {\n            id: 'pink_stars_2',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色星星_2.jpg',\n            name: '粉色星星壁纸2',\n        },\n        {\n            id: 'pink_grid_2',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色格子_2.jpg',\n            name: '粉色格子壁纸2',\n        },\n        {\n            id: 'pink_grid_4',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/粉色格子_4.jpg',\n            name: '粉色格子壁纸4',\n        },\n        {\n            id: 'blue_1',\n            type: 'image',\n            value: 'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/蓝色_1.jpg',\n            name: '蓝色壁纸1',\n        },\n    ];\n    // 自定义壁纸\n    customWallpapers = [];\n    constructor() {\n        this.loadCustomWallpapers();\n        // 从localStorage加载当前主题名称\n        const savedThemeName = localStorage.getItem('blmx_theme');\n        if (savedThemeName) {\n            this.currentThemeName = savedThemeName;\n        }\n        // 迁移旧的壁纸设置到新的主题关联格式\n        this.migrateOldWallpaperSettings();\n    }\n    // 设置当前主题名称\n    setCurrentThemeName(themeName) {\n        this.currentThemeName = themeName;\n    }\n    // 获取所有壁纸（内置+自定义）\n    getAllWallpapers() {\n        return [...this.builtInWallpapers, ...this.customWallpapers];\n    }\n    // 获取内置壁纸\n    getBuiltInWallpapers() {\n        return this.builtInWallpapers;\n    }\n    // 获取自定义壁纸\n    getCustomWallpapers() {\n        return this.customWallpapers;\n    }\n    // 添加自定义壁纸\n    addCustomWallpaper(wallpaper) {\n        const id = `custom_${Date.now()}`;\n        const newWallpaper = { ...wallpaper, id };\n        this.customWallpapers.push(newWallpaper);\n        this.saveCustomWallpapers();\n        return newWallpaper;\n    }\n    // 删除自定义壁纸\n    deleteCustomWallpaper(id) {\n        const initialLength = this.customWallpapers.length;\n        this.customWallpapers = this.customWallpapers.filter(w => w.id !== id);\n        if (this.customWallpapers.length !== initialLength) {\n            this.saveCustomWallpapers();\n            return true;\n        }\n        return false;\n    }\n    // 设置壁纸（与主题关联）\n    setWallpaper(viewType, wallpaper) {\n        // 使用主题名称作为存储键的一部分\n        const storageKey = `${WallpaperManager.THEME_WALLPAPER_KEY_PREFIX}${this.currentThemeName}_${viewType}`;\n        if (wallpaper) {\n            localStorage.setItem(storageKey, JSON.stringify(wallpaper));\n        }\n        else {\n            localStorage.removeItem(storageKey);\n        }\n    }\n    // 获取当前壁纸（与主题关联）\n    getCurrentWallpaper(viewType) {\n        // 首先尝试获取与当前主题关联的壁纸\n        const themeStorageKey = `${WallpaperManager.THEME_WALLPAPER_KEY_PREFIX}${this.currentThemeName}_${viewType}`;\n        const savedThemeWallpaper = localStorage.getItem(themeStorageKey);\n        if (savedThemeWallpaper) {\n            try {\n                return JSON.parse(savedThemeWallpaper);\n            }\n            catch (e) {\n                console.error('Failed to parse theme wallpaper:', e);\n            }\n        }\n        // 如果没有与主题关联的壁纸，则尝试获取旧格式的壁纸设置（兼容性）\n        const oldStorageKey = `${WallpaperManager.WALLPAPER_STORAGE_KEY_PREFIX}${viewType}`;\n        const savedOldWallpaper = localStorage.getItem(oldStorageKey);\n        if (savedOldWallpaper) {\n            try {\n                return JSON.parse(savedOldWallpaper);\n            }\n            catch (e) {\n                console.error('Failed to parse old wallpaper:', e);\n            }\n        }\n        return null;\n    }\n    // 迁移旧的壁纸设置到新的主题关联格式\n    migrateOldWallpaperSettings() {\n        const viewTypes = ['chat', 'home', 'settings'];\n        viewTypes.forEach(viewType => {\n            const oldStorageKey = `${WallpaperManager.WALLPAPER_STORAGE_KEY_PREFIX}${viewType}`;\n            const savedOldWallpaper = localStorage.getItem(oldStorageKey);\n            if (savedOldWallpaper) {\n                try {\n                    // 解析但不存储未使用的变量\n                    JSON.parse(savedOldWallpaper);\n                    // 将旧设置迁移到当前主题下\n                    const themeStorageKey = `${WallpaperManager.THEME_WALLPAPER_KEY_PREFIX}${this.currentThemeName}_${viewType}`;\n                    // 只有在当前主题下没有设置时才迁移\n                    if (!localStorage.getItem(themeStorageKey)) {\n                        localStorage.setItem(themeStorageKey, savedOldWallpaper);\n                    }\n                    // 迁移后删除旧设置\n                    localStorage.removeItem(oldStorageKey);\n                }\n                catch (e) {\n                    console.error('Failed to migrate old wallpaper setting:', e);\n                }\n            }\n        });\n    }\n    // 应用主题默认壁纸\n    applyThemeDefaultWallpapers(theme) {\n        // 更新当前主题名称\n        this.setCurrentThemeName(theme.name);\n        const viewTypes = ['chat', 'home', 'settings'];\n        viewTypes.forEach(viewType => {\n            // 检查是否已经有与当前主题关联的壁纸设置\n            const themeStorageKey = `${WallpaperManager.THEME_WALLPAPER_KEY_PREFIX}${theme.name}_${viewType}`;\n            const existingWallpaper = localStorage.getItem(themeStorageKey);\n            if (existingWallpaper) {\n                // 已有壁纸设置，保留现有设置\n                return;\n            }\n            const defaultValue = theme.colors.defaultWallpapers[viewType];\n            // 检查是否是颜色值\n            const isColor = defaultValue.startsWith('#');\n            const wallpaper = {\n                id: `theme_default_${viewType}`,\n                type: isColor ? 'color' : 'image',\n                value: defaultValue,\n                name: `${theme.displayName}默认${viewType === 'chat' ? '聊天' : viewType === 'home' ? '主屏幕' : '设置'}壁纸`,\n            };\n            // 保存为与主题关联的壁纸\n            localStorage.setItem(themeStorageKey, JSON.stringify(wallpaper));\n        });\n    }\n    // 应用壁纸到DOM\n    applyWallpaperToElement(element, wallpaper, defaultThemeWallpaper) {\n        if (!element)\n            return;\n        // 重置样式\n        element.style.backgroundImage = 'none';\n        element.style.backgroundColor = '';\n        element.style.backgroundSize = '';\n        element.style.backgroundPosition = '';\n        element.style.backgroundRepeat = '';\n        if (wallpaper) {\n            if (wallpaper.type === 'color') {\n                // 纯色壁纸 - 确保清除背景图并设置背景色\n                element.style.backgroundImage = 'none';\n                element.style.backgroundColor = wallpaper.value;\n            }\n            else {\n                // 图片壁纸\n                element.style.backgroundImage = `url(\"${wallpaper.value}\")`;\n                element.style.backgroundSize = 'cover';\n                element.style.backgroundPosition = 'center';\n                element.style.backgroundRepeat = 'no-repeat';\n            }\n        }\n        else if (defaultThemeWallpaper) {\n            // 使用主题默认壁纸\n            if (defaultThemeWallpaper.startsWith('#')) {\n                // 如果是颜色值，设置背景色\n                element.style.backgroundImage = 'none';\n                element.style.backgroundColor = defaultThemeWallpaper;\n            }\n            else {\n                // 如果是图片URL，设置背景图\n                element.style.backgroundImage = `url(\"${defaultThemeWallpaper}\")`;\n                element.style.backgroundSize = 'cover';\n                element.style.backgroundPosition = 'center';\n                element.style.backgroundRepeat = 'no-repeat';\n            }\n        }\n    }\n    // 从URL创建壁纸\n    async createWallpaperFromUrl(url, name) {\n        try {\n            // 验证URL\n            new URL(url);\n            return this.addCustomWallpaper({\n                type: 'url',\n                value: url,\n                name: name || `URL壁纸 ${new Date().toLocaleString()}`,\n            });\n        }\n        catch (e) {\n            console.error('Invalid URL:', e);\n            return null;\n        }\n    }\n    // 从File对象创建壁纸\n    async createWallpaperFromFile(file) {\n        return new Promise(resolve => {\n            if (!file.type.startsWith('image/')) {\n                resolve(null);\n                return;\n            }\n            const reader = new FileReader();\n            reader.onload = e => {\n                if (e.target?.result) {\n                    const wallpaper = this.addCustomWallpaper({\n                        type: 'image',\n                        value: e.target.result,\n                        name: file.name || `上传的壁纸 ${new Date().toLocaleString()}`,\n                    });\n                    resolve(wallpaper);\n                }\n                else {\n                    resolve(null);\n                }\n            };\n            reader.onerror = () => resolve(null);\n            reader.readAsDataURL(file);\n        });\n    }\n    // 创建纯色壁纸\n    createSolidColorWallpaper(color, name) {\n        // 验证颜色格式，支持3位和6位十六进制颜色\n        if (!color.match(/^#([0-9A-Fa-f]{3}){1,2}$/)) {\n            console.error('Invalid color format:', color);\n            return null;\n        }\n        // 确保颜色格式统一为6位十六进制\n        let normalizedColor = color;\n        if (color.length === 4) {\n            // #RGB 格式\n            const r = color[1];\n            const g = color[2];\n            const b = color[3];\n            normalizedColor = `#${r}${r}${g}${g}${b}${b}`;\n        }\n        return this.addCustomWallpaper({\n            type: 'color',\n            value: normalizedColor,\n            name: name || `纯色壁纸 ${normalizedColor}`,\n        });\n    }\n    // 加载自定义壁纸\n    loadCustomWallpapers() {\n        const savedWallpapers = localStorage.getItem(WallpaperManager.CUSTOM_WALLPAPERS_KEY);\n        if (savedWallpapers) {\n            try {\n                this.customWallpapers = JSON.parse(savedWallpapers);\n            }\n            catch (e) {\n                console.error('Failed to load custom wallpapers:', e);\n                this.customWallpapers = [];\n            }\n        }\n    }\n    // 保存自定义壁纸\n    saveCustomWallpapers() {\n        localStorage.setItem(WallpaperManager.CUSTOM_WALLPAPERS_KEY, JSON.stringify(this.customWallpapers));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1RCxDQUFDO1FBQ0QsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBRWxDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWxDLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM3QyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0MsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRTdDLE9BQU8sSUFBSSxJQUFJLEdBQUcsSUFBSSxHQUFHLElB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LGVBQWUsRUFBRSxDQUFDO1lBQ3BCLElBQUksQ0FBQztnQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUN0RCxDQUFDO1lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztnQkFDWCxPQUFPLENBQUMsS0FBSyxDQUFDLG1DQUFtQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN0RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1lBQzdCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELFVBQVU7SUFDRixvQkFBb0I7UUFDMUIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFDdEcsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5ZCM5bGC5omL5py6L3RoZW1lLW1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5Li76aKY57G75Z6L5a6a5LmJXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICBjb2xvcnM6IHtcbiAgICAvLyDmiYvmnLrovrnmoYZcbiAgICBwaG9uZUZyYW1lOiBzdHJpbmc7XG4gICAgcGhvbmVGcmFtZUdyYWRpZW50OiBzdHJpbmdbXTtcblxuICAgIC8vIOS4u+imgeminOiJslxuICAgIHByaW1hcnk6IHN0cmluZztcbiAgICBsaWdodDogc3RyaW5nO1xuICAgIHVsdHJhTGlnaHQ6IHN0cmluZztcbiAgICBzb2Z0OiBzdHJpbmc7XG4gICAgZGVlcDogc3RyaW5nO1xuXG4gICAgLy8g5riQ5Y+Y6ImyXG4gICAgZ3JhZGllbnRTdGFydDogc3RyaW5nO1xuICAgIGdyYWRpZW50RW5kOiBzdHJpbmc7XG5cbiAgICAvLyDmloflrZfpopzoibJcbiAgICB0ZXh0Q29sb3I6IHN0cmluZztcbiAgICB0ZXh0UHJpbWFyeTogc3RyaW5nO1xuICAgIHRleHRTZWNvbmRhcnk6IHN0cmluZztcblxuICAgIC8vIOi+ueahhuWSjOmYtOW9sVxuICAgIGJvcmRlckNvbG9yOiBzdHJpbmc7XG4gICAgYnViYmxlU2hhZG93OiBzdHJpbmc7XG5cbiAgICAvLyDmsJTms6Hog4zmma9cbiAgICBidWJibGVUaGVtQmc6IHN0cmluZztcbiAgICBidWJibGVNZUJnOiBzdHJpbmc7XG5cbiAgICAvLyDmsJTms6HmloflrZfpopzoibJcbiAgICBidWJibGVUaGVtVGV4dDogc3RyaW5nO1xuICAgIGJ1YmJsZU1lVGV4dDogc3RyaW5nO1xuXG4gICAgLy8g5aS06YOo6IOM5pmvXG4gICAgaGVhZGVyQmc6IHN0cmluZztcblxuICAgIC8vIOaWsOWinu+8mueKtuaAgeagj+minOiJslxuICAgIHN0YXR1c0JhckNvbG9yOiBzdHJpbmc7XG5cbiAgICAvLyDmlrDlop7vvJrngbXliqjlspvpopzoibJcbiAgICBkeW5hbWljSXNsYW5kQ29sb3I6IHN0cmluZztcblxuICAgIC8vIOaWsOWinu+8muW6lOeUqOiDjOaZr+iJslxuICAgIGFwcEJnQ29sb3I6IHN0cmluZztcblxuICAgIC8vIOaWsOWinu+8muiuvue9rumhtemdouiDjOaZr+iJslxuICAgIHNldHRpbmdzQmdDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8g5paw5aKe77ya6K6+572u5Y2h54mH6IOM5pmv6ImyXG4gICAgc2V0dGluZ3NDYXJkQmdDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8g5paw5aKe77ya6Zi05b2x6aKc6ImyXG4gICAgc2hhZG93Q29sb3I6IHN0cmluZztcbiAgICBzaGFkb3dDb2xvclJnYmE6IHN0cmluZztcblxuICAgIC8vIOaWsOWinu+8muaYr+WQpuaYr+aal+iJsuS4u+mimFxuICAgIGlzRGFya01vZGU6IGJvb2xlYW47XG5cbiAgICAvLyDmlrDlop7vvJrpu5jorqTlo4HnurhcbiAgICBkZWZhdWx0V2FsbHBhcGVyczoge1xuICAgICAgY2hhdDogc3RyaW5nOyAvLyDlj6/ku6XmmK/popzoibLlgLzmiJblm77niYdVUkxcbiAgICAgIGhvbWU6IHN0cmluZztcbiAgICAgIHNldHRpbmdzOiBzdHJpbmc7XG4gICAgfTtcblxuICAgIC8vIOaWsOWinu+8muaYr+WQpuS9v+eUqOWNleS4gOminOiJsuWbvuagh1xuICAgIHVzZVNpbmdsZUNvbG9ySWNvbnM/OiBib29sZWFuO1xuICB9O1xufVxuXG4vLyDlvZPliY3lupTnlKjniYjmnKxcbmV4cG9ydCBjb25zdCBBUFBfVkVSU0lPTiA9ICcxLjEuMCc7XG5cbi8vIOm7mOiupOS4u+mimOmFjee9rlxuZXhwb3J0IGNvbnN0IFRIRU1FUzogUmVjb3JkPHN0cmluZywgVGhlbWU+ID0ge1xuICBibHVlOiB7XG4gICAgbmFtZTogJ2JsdWUnLFxuICAgIGRpc3BsYXlOYW1lOiAn6JOd6Imy5Li76aKYJyxcbiAgICBjb2xvcnM6IHtcbiAgICAgIC8vIOaJi+acuui+ueahhlxuICAgICAgcGhvbmVGcmFtZTogJyNiNGQwZmEnLFxuICAgICAgcGhvbmVGcmFtZUdyYWRpZW50OiBbJyM0YTk1ZWQnLCAnIzk4YzJmNScsICcjYWNjZWYyJywgJyM0YTk1ZWQnXSxcblxuICAgICAgLy8g5Li76KaB6aKc6ImyXG4gICAgICBwcmltYXJ5OiAnIzcyYWRmMycsXG4gICAgICBsaWdodDogJyNhOGNiZWInLFxuICAgICAgdWx0cmFMaWdodDogJyNlOGY0ZmQnLFxuICAgICAgc29mdDogJyNiOGQ0ZjAnLFxuICAgICAgZGVlcDogJyMyYzUyODInLFxuXG4gICAgICAvLyDmuJDlj5joibJcbiAgICAgIGdyYWRpZW50U3RhcnQ6ICcjOThjMmY1JyxcbiAgICAgIGdyYWRpZW50RW5kOiAnI2FjY2VmMicsXG5cbiAgICAgIC8vIOaWh+Wtl+minOiJslxuICAgICAgdGV4dENvbG9yOiAnI2ZmZmZmZicsXG4gICAgICB0ZXh0UHJpbWFyeTogJ3JnYigxMzksIDE2MiwgMTg2KScsXG4gICAgICB0ZXh0U2Vjb25kYXJ5OiAnIzY0NzQ4YicsXG5cbiAgICAgIC8vIOi+ueahhuWSjOmYtOW9sVxuICAgICAgYm9yZGVyQ29sb3I6ICcjY2JkNWUxJyxcbiAgICAgIGJ1YmJsZVNoYWRvdzogJzAgMnB4IDhweCByZ2JhKDc0LCAxNDQsIDIyNiwgMC4xNSknLFxuXG4gICAgICAvLyDmsJTms6Hog4zmma9cbiAgICAgIGJ1YmJsZVRoZW1CZzogJyNmZmZmZmYnLFxuICAgICAgYnViYmxlTWVCZzogJyNhOGNiZWInLFxuXG4gICAgICAvLyDmsJTms6HmloflrZfpopzoibJcbiAgICAgIGJ1YmJsZVRoZW1UZXh0OiAnIzcyYWRmMycsXG4gICAgICBidWJibGVNZVRleHQ6ICcjZmZmZmZmJyxcblxuICAgICAgLy8g5aS06YOo6IOM5pmvXG4gICAgICBoZWFkZXJCZzogJ2xpbmVhci1ncmFkaWVudCgzMTVkZWcsICNlZWY0ZmYgMCUsICNmOGZhZmYgMTAwJSknLFxuXG4gICAgICAvLyDmlrDlop7vvJrnirbmgIHmoI/popzoibJcbiAgICAgIHN0YXR1c0JhckNvbG9yOiAnIzQyOGFmMicsXG5cbiAgICAgIC8vIOaWsOWinu+8mueBteWKqOWym+minOiJslxuICAgICAgZHluYW1pY0lzbGFuZENvbG9yOiAnI2EwYzRmNCcsXG5cbiAgICAgIC8vIOaWsOWinu+8muW6lOeUqOiDjOaZr+iJslxuICAgICAgYXBwQmdDb2xvcjogJyNmZmZmZmYnLFxuXG4gICAgICAvLyDmlrDlop7vvJrorr7nva7pobXpnaLog4zmma/oibJcbiAgICAgIHNldHRpbmdzQmdDb2xvcjogJyNmMmYyZjcnLFxuXG4gICAgICAvLyDmlrDlop7vvJrorr7nva7ljaHniYfog4zmma/oibJcbiAgICAgIHNldHRpbmdzQ2FyZEJnQ29sb3I6ICcjZmZmZmZmJyxcblxuICAgICAgLy8g5paw5aKe77ya6Zi05b2x6aKc6ImyXG4gICAgICBzaGFkb3dDb2xvcjogJyM0YTkwZTInLFxuICAgICAgc2hhZG93Q29sb3JSZ2JhOiAncmdiYSg3NCwgMTQ0LCAyMjYsIDAuMyknLFxuXG4gICAgICAvLyDmlrDlop7vvJrmmK/lkKbmmK/mmpfoibLkuLvpophcbiAgICAgIGlzRGFya01vZGU6IGZhbHNlLFxuXG4gICAgICAvLyDmlrDlop7vvJrpu5jorqTlo4HnurhcbiAgICAgIGRlZmF1bHRXYWxscGFwZXJzOiB7XG4gICAgICAgIGNoYXQ6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+iTneiJsl8zLmpwZycsIC8vIOabtOaWsOS4uuaMh+WumueahOiTneiJsuS4u+mimOWjgee6uFxuICAgICAgICBob21lOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/ok53oibJfMi5qcGcnLCAvLyDmm7TmlrDkuLrmjIflrprnmoTok53oibLkuLvpopjlo4HnurhcbiAgICAgICAgc2V0dGluZ3M6ICcjZjJmN2ZkJyxcbiAgICAgIH0sXG5cbiAgICAgIC8vIOaWsOWinu+8muaYr+WQpuS9v+eUqOWNleS4gOminOiJsuWbvuagh1xuICAgICAgdXNlU2luZ2xlQ29sb3JJY29uczogdHJ1ZSxcbiAgICB9LFxuICB9LFxuXG4gIHBpbms6IHtcbiAgICBuYW1lOiAncGluaycsXG4gICAgZGlzcGxheU5hbWU6ICfnsonoibLkuLvpopgnLFxuICAgIGNvbG9yczoge1xuICAgICAgLy8g5omL5py66L655qGGXG4gICAgICBwaG9uZUZyYW1lOiAnI2ZhZDBlOCcsXG4gICAgICBwaG9uZUZyYW1lR3JhZGllbnQ6IFsnI2VkNGE5ZScsICcjZjU5OGM4JywgJyNmMmFjY2UnLCAnI2VkNGE5ZSddLFxuXG4gICAgICAvLyDkuLvopoHpopzoibJcbiAgICAgIHByaW1hcnk6ICcjZjM3MmFkJyxcbiAgICAgIGxpZ2h0OiAnI2ViYThjYicsXG4gICAgICB1bHRyYUxpZ2h0OiAnI2ZkZThmNCcsXG4gICAgICBzb2Z0OiAnI2YwYjhkNCcsXG4gICAgICBkZWVwOiAnIzgyMmM1YycsXG5cbiAgICAgIC8vIOa4kOWPmOiJslxuICAgICAgZ3JhZGllbnRTdGFydDogJyNmNTk4YzgnLFxuICAgICAgZ3JhZGllbnRFbmQ6ICcjZjJhY2NlJyxcblxuICAgICAgLy8g5paH5a2X6aKc6ImyXG4gICAgICB0ZXh0Q29sb3I6ICcjZmZmZmZmJyxcbiAgICAgIHRleHRQcmltYXJ5OiAncmdiKDE4NiwgMTM5LCAxNjIpJyxcbiAgICAgIHRleHRTZWNvbmRhcnk6ICcjOGI2NDdhJyxcblxuICAgICAgLy8g6L655qGG5ZKM6Zi05b2xXG4gICAgICBib3JkZXJDb2xvcjogJyNlMWNiZDUnLFxuICAgICAgYnViYmxlU2hhZG93OiAnMCAycHggOHB4IHJnYmEoMjI2LCA3NCwgMTQ0LCAwLjE1KScsXG5cbiAgICAgIC8vIOawlOazoeiDjOaZr1xuICAgICAgYnViYmxlVGhlbUJnOiAnI2ZmZmZmZicsXG4gICAgICBidWJibGVNZUJnOiAnI2ViYThjYicsXG5cbiAgICAgIC8vIOawlOazoeaWh+Wtl+minOiJslxuICAgICAgYnViYmxlVGhlbVRleHQ6ICcjZjM3MmFkJyxcbiAgICAgIGJ1YmJsZU1lVGV4dDogJyNmZmZmZmYnLFxuXG4gICAgICAvLyDlpLTpg6jog4zmma9cbiAgICAgIGhlYWRlckJnOiAnbGluZWFyLWdyYWRpZW50KDMxNWRlZywgI2ZmZWVlZiAwJSwgI2ZmZjhmYSAxMDAlKScsXG5cbiAgICAgIC8vIOaWsOWinu+8mueKtuaAgeagj+minOiJslxuICAgICAgc3RhdHVzQmFyQ29sb3I6ICcjZWQ3MmFkJyxcblxuICAgICAgLy8g5paw5aKe77ya54G15Yqo5bKb6aKc6ImyXG4gICAgICBkeW5hbWljSXNsYW5kQ29sb3I6ICcjZjRhMGM0JyxcblxuICAgICAgLy8g5paw5aKe77ya5bqU55So6IOM5pmv6ImyXG4gICAgICBhcHBCZ0NvbG9yOiAnI2ZmZmZmZicsXG5cbiAgICAgIC8vIOaWsOWinu+8muiuvue9rumhtemdouiDjOaZr+iJslxuICAgICAgc2V0dGluZ3NCZ0NvbG9yOiAnI2ZmZjJmNycsXG5cbiAgICAgIC8vIOaWsOWinu+8muiuvue9ruWNoeeJh+iDjOaZr+iJslxuICAgICAgc2V0dGluZ3NDYXJkQmdDb2xvcjogJyNmZmZmZmYnLFxuXG4gICAgICAvLyDmlrDlop7vvJrpmLTlvbHpopzoibJcbiAgICAgIHNoYWRvd0NvbG9yOiAnI2UyNGE5MCcsXG4gICAgICBzaGFkb3dDb2xvclJnYmE6ICdyZ2JhKDIyNiwgNzQsIDE0NCwgMC4zKScsXG5cbiAgICAgIC8vIOaWsOWinu+8muaYr+WQpuaYr+aal+iJsuS4u+mimFxuICAgICAgaXNEYXJrTW9kZTogZmFsc2UsXG5cbiAgICAgIC8vIOaWsOWinu+8mum7mOiupOWjgee6uFxuICAgICAgZGVmYXVsdFdhbGxwYXBlcnM6IHtcbiAgICAgICAgY2hhdDogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv57KJ6Imy5pif5pifXzEuanBnJywgLy8g5pu05paw5Li65oyH5a6a55qE57KJ6Imy5Li76aKY5aOB57q4XG4gICAgICAgIGhvbWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+eyieiJsuagvOWtkF8zLmpwZycsIC8vIOabtOaWsOS4uuaMh+WumueahOeyieiJsuS4u+mimOWjgee6uFxuICAgICAgICBzZXR0aW5nczogJyNmZGYyZjcnLFxuICAgICAgfSxcblxuICAgICAgLy8g5paw5aKe77ya5piv5ZCm5L2/55So5Y2V5LiA6aKc6Imy5Zu+5qCHXG4gICAgICB1c2VTaW5nbGVDb2xvckljb25zOiB0cnVlLFxuICAgIH0sXG4gIH0sXG5cbiAgd2hpdGU6IHtcbiAgICBuYW1lOiAnd2hpdGUnLFxuICAgIGRpc3BsYXlOYW1lOiAn5b6u5L+h5Li76aKYJyxcbiAgICBjb2xvcnM6IHtcbiAgICAgIC8vIOaJi+acuui+ueahhlxuICAgICAgcGhvbmVGcmFtZTogJyMwMDAwMDAnLFxuICAgICAgcGhvbmVGcmFtZUdyYWRpZW50OiBbJyMwMDAwMDAnLCAnIzIyMjIyMicsICcjMzMzMzMzJywgJyMwMDAwMDAnXSxcblxuICAgICAgLy8g5Li76KaB6aKc6ImyIC0g5b6u5L+h57u/5Y+q55So5LqO54m55a6a5YWD57SgXG4gICAgICBwcmltYXJ5OiAnIzk5OTk5OScsIC8vIOWkp+WkmuaVsOaMiemSruWSjOWbvuagh+eUqOeBsOiJslxuICAgICAgbGlnaHQ6ICcjY2NjY2NjJyxcbiAgICAgIHVsdHJhTGlnaHQ6ICcjZjhmOGY4JyxcbiAgICAgIHNvZnQ6ICcjZTBlMGUwJyxcbiAgICAgIGRlZXA6ICcjNjY2NjY2JyxcblxuICAgICAgLy8g5riQ5Y+Y6ImyXG4gICAgICBncmFkaWVudFN0YXJ0OiAnI2NjY2NjYycsXG4gICAgICBncmFkaWVudEVuZDogJyNkZGRkZGQnLFxuXG4gICAgICAvLyDmloflrZfpopzoibJcbiAgICAgIHRleHRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgdGV4dFByaW1hcnk6ICcjMzMzMzMzJyxcbiAgICAgIHRleHRTZWNvbmRhcnk6ICcjOTA5MDkwJyxcblxuICAgICAgLy8g6L655qGG5ZKM6Zi05b2xXG4gICAgICBib3JkZXJDb2xvcjogJyNlMGUwZTAnLFxuICAgICAgYnViYmxlU2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4wOCknLFxuXG4gICAgICAvLyDmsJTms6Hog4zmma9cbiAgICAgIGJ1YmJsZVRoZW1CZzogJyNmZmZmZmYnLFxuICAgICAgYnViYmxlTWVCZzogJyNBMEU3NUEnLCAvLyDmm7TmtYXnmoTlvq7kv6HmsJTms6Hnu7/oibJcblxuICAgICAgLy8g5rCU5rOh5paH5a2X6aKc6ImyXG4gICAgICBidWJibGVUaGVtVGV4dDogJyMzMzMzMzMnLFxuICAgICAgYnViYmxlTWVUZXh0OiAnIzMzMzMzMycsXG5cbiAgICAgIC8vIOWktOmDqOiDjOaZr1xuICAgICAgaGVhZGVyQmc6ICdsaW5lYXItZ3JhZGllbnQoMzE1ZGVnLCAjZjVmNWY1IDAlLCAjZmZmZmZmIDEwMCUpJyxcblxuICAgICAgLy8g5paw5aKe77ya54q25oCB5qCP6aKc6ImyXG4gICAgICBzdGF0dXNCYXJDb2xvcjogJyMwMDAwMDAnLFxuXG4gICAgICAvLyDmlrDlop7vvJrngbXliqjlspvpopzoibJcbiAgICAgIGR5bmFtaWNJc2xhbmRDb2xvcjogJyMwMDAwMDAnLFxuXG4gICAgICAvLyDmlrDlop7vvJrlupTnlKjog4zmma/oibJcbiAgICAgIGFwcEJnQ29sb3I6ICcjZmZmZmZmJyxcblxuICAgICAgLy8g5paw5aKe77ya6K6+572u6aG16Z2i6IOM5pmv6ImyXG4gICAgICBzZXR0aW5nc0JnQ29sb3I6ICcjZjVmNWY1JyxcblxuICAgICAgLy8g5paw5aKe77ya6K6+572u5Y2h54mH6IOM5pmv6ImyXG4gICAgICBzZXR0aW5nc0NhcmRCZ0NvbG9yOiAnI2ZmZmZmZicsXG5cbiAgICAgIC8vIOaWsOWinu+8mumYtOW9seminOiJslxuICAgICAgc2hhZG93Q29sb3I6ICcjOTk5OTk5JyxcbiAgICAgIHNoYWRvd0NvbG9yUmdiYTogJ3JnYmEoMCwgMCwgMCwgMC4xKScsXG5cbiAgICAgIC8vIOaWsOWinu+8muaYr+WQpuaYr+aal+iJsuS4u+mimFxuICAgICAgaXNEYXJrTW9kZTogZmFsc2UsXG5cbiAgICAgIC8vIOaWsOWinu+8mum7mOiupOWjgee6uFxuICAgICAgZGVmYXVsdFdhbGxwYXBlcnM6IHtcbiAgICAgICAgY2hhdDogJyNFREVERUQnLCAvLyDlvq7kv6HogYrlpKnog4zmma/ngbDoibJcbiAgICAgICAgaG9tZTogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv55m96ImyXzEuanBnJywgLy8g6buY6K6k5Zu+54mH5aOB57q4XG4gICAgICAgIHNldHRpbmdzOiAnI2Y1ZjVmNScsXG4gICAgICB9LFxuXG4gICAgICAvLyDmlrDlop7vvJrmmK/lkKbkvb/nlKjljZXkuIDpopzoibLlm77moIdcbiAgICAgIHVzZVNpbmdsZUNvbG9ySWNvbnM6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG5cbiAgZGFyazoge1xuICAgIG5hbWU6ICdkYXJrJyxcbiAgICBkaXNwbGF5TmFtZTogJ+WknOmXtOaooeW8jycsXG4gICAgY29sb3JzOiB7XG4gICAgICAvLyDmiYvmnLrovrnmoYZcbiAgICAgIHBob25lRnJhbWU6ICcjMmMyYzJjJyxcbiAgICAgIHBob25lRnJhbWVHcmFkaWVudDogWycjMWExYTFhJywgJyMyYzJjMmMnLCAnIzNjM2MzYycsICcjMWExYTFhJ10sXG5cbiAgICAgIC8vIOS4u+imgeminOiJslxuICAgICAgcHJpbWFyeTogJyM1MDUwNTAnLFxuICAgICAgbGlnaHQ6ICcjM2MzYzNjJyxcbiAgICAgIHVsdHJhTGlnaHQ6ICcjMWExYTFhJyxcbiAgICAgIHNvZnQ6ICcjMmMyYzJjJyxcbiAgICAgIGRlZXA6ICcjYzBjMGMwJyxcblxuICAgICAgLy8g5riQ5Y+Y6ImyXG4gICAgICBncmFkaWVudFN0YXJ0OiAnIzNjM2MzYycsXG4gICAgICBncmFkaWVudEVuZDogJyMyYzJjMmMnLFxuXG4gICAgICAvLyDmloflrZfpopzoibJcbiAgICAgIHRleHRDb2xvcjogJyNlMGUwZTAnLFxuICAgICAgdGV4dFByaW1hcnk6ICcjYzBjMGMwJyxcbiAgICAgIHRleHRTZWNvbmRhcnk6ICcjYTBhMGEwJyxcblxuICAgICAgLy8g6L655qGG5ZKM6Zi05b2xXG4gICAgICBib3JkZXJDb2xvcjogJyMzYzNjM2MnLFxuICAgICAgYnViYmxlU2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXG5cbiAgICAgIC8vIOawlOazoeiDjOaZr1xuICAgICAgYnViYmxlVGhlbUJnOiAnIzJhMmEyYScsXG4gICAgICBidWJibGVNZUJnOiAnIzUwNTA1MCcsXG5cbiAgICAgIC8vIOawlOazoeaWh+Wtl+minOiJslxuICAgICAgYnViYmxlVGhlbVRleHQ6ICcjZTBlMGUwJyxcbiAgICAgIGJ1YmJsZU1lVGV4dDogJyNjMGMwYzAnLFxuXG4gICAgICAvLyDlpLTpg6jog4zmma9cbiAgICAgIGhlYWRlckJnOiAnbGluZWFyLWdyYWRpZW50KDMxNWRlZywgIzJjMmMyYyAwJSwgIzFhMWExYSAxMDAlKScsXG5cbiAgICAgIC8vIOaWsOWinu+8mueKtuaAgeagj+minOiJslxuICAgICAgc3RhdHVzQmFyQ29sb3I6ICcjODg4ODg4JyxcblxuICAgICAgLy8g5paw5aKe77ya54G15Yqo5bKb6aKc6ImyXG4gICAgICBkeW5hbWljSXNsYW5kQ29sb3I6ICcjM2MzYzNjJyxcblxuICAgICAgLy8g5paw5aKe77ya5bqU55So6IOM5pmv6ImyXG4gICAgICBhcHBCZ0NvbG9yOiAnIzFhMWExYScsXG5cbiAgICAgIC8vIOaWsOWinu+8muiuvue9rumhtemdouiDjOaZr+iJslxuICAgICAgc2V0dGluZ3NCZ0NvbG9yOiAnIzFhMWExYScsXG5cbiAgICAgIC8vIOaWsOWinu+8muiuvue9ruWNoeeJh+iDjOaZr+iJslxuICAgICAgc2V0dGluZ3NDYXJkQmdDb2xvcjogJyMyYzJjMmMnLFxuXG4gICAgICAvLyDmlrDlop7vvJrpmLTlvbHpopzoibJcbiAgICAgIHNoYWRvd0NvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBzaGFkb3dDb2xvclJnYmE6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuXG4gICAgICAvLyDmlrDlop7vvJrmmK/lkKbmmK/mmpfoibLkuLvpophcbiAgICAgIGlzRGFya01vZGU6IHRydWUsXG5cbiAgICAgIC8vIOaWsOWinu+8mum7mOiupOWjgee6uFxuICAgICAgZGVmYXVsdFdhbGxwYXBlcnM6IHtcbiAgICAgICAgY2hhdDogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv5rex6Imy5pif5pifXzEuanBnJywgLy8g5aSc6Ze05qih5byP5aOB57q4XG4gICAgICAgIGhvbWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+a3seiJsuaYn+aYn18xLmpwZycsIC8vIOWknOmXtOaooeW8j+Wjgee6uFxuICAgICAgICBzZXR0aW5nczogJyMxYTFhMWEnLFxuICAgICAgfSxcblxuICAgICAgLy8g5paw5aKe77ya5piv5ZCm5L2/55So5Y2V5LiA6aKc6Imy5Zu+5qCHXG4gICAgICB1c2VTaW5nbGVDb2xvckljb25zOiBmYWxzZSxcbiAgICB9LFxuICB9LFxufTtcblxuLy8g5Li76aKY566h55CG5Zmo57G7XG5leHBvcnQgY2xhc3MgVGhlbWVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgVEhFTUVfU1RPUkFHRV9LRVkgPSAnYmxteF90aGVtZSc7XG4gIHByaXZhdGUgc3RhdGljIENVU1RPTV9USEVNRV9TVE9SQUdFX0tFWSA9ICdibG14X2N1c3RvbV90aGVtZSc7XG4gIHByaXZhdGUgc3RhdGljIFZFUlNJT05fU1RPUkFHRV9LRVkgPSAnYmxteF9hcHBfdmVyc2lvbic7XG4gIHByaXZhdGUgY3VycmVudFRoZW1lOiBUaGVtZTtcbiAgcHJpdmF0ZSB3YWxscGFwZXJNYW5hZ2VyOiBXYWxscGFwZXJNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIOajgOafpeeJiOacrOW5tuWcqOmcgOimgeaXtua4heeQhue8k+WtmFxuICAgIHRoaXMuY2hlY2tWZXJzaW9uKCk7XG5cbiAgICAvLyDku47mnKzlnLDlrZjlgqjliqDovb3kuLvpopjmiJbkvb/nlKjpu5jorqTlvq7kv6HkuLvpophcbiAgICBjb25zdCBzYXZlZFRoZW1lTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRoZW1lTWFuYWdlci5USEVNRV9TVE9SQUdFX0tFWSkgfHwgJ3doaXRlJztcblxuICAgIGlmIChzYXZlZFRoZW1lTmFtZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRoZW1lSnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRoZW1lTWFuYWdlci5DVVNUT01fVEhFTUVfU1RPUkFHRV9LRVkpO1xuICAgICAgICBpZiAoY3VzdG9tVGhlbWVKc29uKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBKU09OLnBhcnNlKGN1c3RvbVRoZW1lSnNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBUSEVNRVMud2hpdGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY3VzdG9tIHRoZW1lOicsIGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRUaGVtZSA9IFRIRU1FUy53aGl0ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBUSEVNRVNbc2F2ZWRUaGVtZU5hbWVdIHx8IFRIRU1FUy53aGl0ZTtcbiAgICB9XG5cbiAgICAvLyDliJ3lp4vljJblo4HnurjnrqHnkIblmahcbiAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIgPSBuZXcgV2FsbHBhcGVyTWFuYWdlcigpO1xuXG4gICAgLy8g5bqU55So5b2T5YmN5Li76aKYXG4gICAgdGhpcy5hcHBseVRoZW1lKHRoaXMuY3VycmVudFRoZW1lKTtcbiAgfVxuXG4gIC8vIOajgOafpeeJiOacrOW5tua4heeQhui/h+aXtuaVsOaNrlxuICBwcml2YXRlIGNoZWNrVmVyc2lvbigpOiB2b2lkIHtcbiAgICBjb25zdCBzYXZlZFZlcnNpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUaGVtZU1hbmFnZXIuVkVSU0lPTl9TVE9SQUdFX0tFWSk7XG5cbiAgICAvLyDlpoLmnpzmsqHmnInniYjmnKzorrDlvZXmiJbniYjmnKzkuI3ljLnphY3vvIzmiafooYzmuIXnkIZcbiAgICBpZiAoIXNhdmVkVmVyc2lvbiB8fCBzYXZlZFZlcnNpb24gIT09IEFQUF9WRVJTSU9OKSB7XG4gICAgICBjb25zb2xlLmxvZyhg54mI5pys5pu05pawOiAke3NhdmVkVmVyc2lvbiB8fCAn5Yid5qyh5a6J6KOFJ30gLT4gJHtBUFBfVkVSU0lPTn0sIOa4heeQhui/h+aXtuaVsOaNri4uLmApO1xuICAgICAgdGhpcy5jbGVhbk91dGRhdGVkRGF0YSgpO1xuXG4gICAgICAvLyDkv53lrZjmlrDniYjmnKzlj7dcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRoZW1lTWFuYWdlci5WRVJTSU9OX1NUT1JBR0VfS0VZLCBBUFBfVkVSU0lPTik7XG4gICAgfVxuICB9XG5cbiAgLy8g5riF55CG6L+H5pe25pWw5o2uXG4gIHByaXZhdGUgY2xlYW5PdXRkYXRlZERhdGEoKTogdm9pZCB7XG4gICAgLy8g5L+d55WZ55So5oi355qE5Liq5Lq66K6+572u5pWw5o2u77yM5L2G5riF55CG5Y+v6IO95a+86Ie06Zeu6aKY55qE5Li76aKY5ZKM5aOB57q45pWw5o2uXG4gICAgY29uc3Qga2V5c1RvUHJlc2VydmU6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyDmn6Xmib7miYDmnInpnIDopoHkv53nlZnnmoTkuKrkurrorr7nva7plK5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgIGlmIChcbiAgICAgICAga2V5ICYmXG4gICAgICAgIChrZXkuc3RhcnRzV2l0aCgnYmxteF91c2VyX25hbWVfJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnYmxteF91c2VyX2F2YXRhcl8nKSB8fFxuICAgICAgICAgIGtleS5zdGFydHNXaXRoKCdibG14X2NoYXJfYXZhdGFyXycpIHx8XG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ2JsbXhfcmVtYXJrXycpIHx8XG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ2JsbXhfc2lnbmF0dXJlXycpIHx8XG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ2JsbXhfY292ZXJfcGhvdG9fJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnYmxteF9pbnB1dF9wbGFjZWhvbGRlcl8nKSlcbiAgICAgICkge1xuICAgICAgICBrZXlzVG9QcmVzZXJ2ZS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5Li05pe25L+d5a2Y6ZyA6KaB5L+d55WZ55qE5pWw5o2uXG4gICAgY29uc3QgcHJlc2VydmVkRGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGtleXNUb1ByZXNlcnZlLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmICh2YWx1ZSkgcHJlc2VydmVkRGF0YVtrZXldID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICAvLyDmuIXpmaTmiYDmnIkgYmxteF8g5byA5aS055qE5pWw5o2uXG4gICAgZm9yIChsZXQgaSA9IGxvY2FsU3RvcmFnZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgIGlmIChrZXkgJiYga2V5LnN0YXJ0c1dpdGgoJ2JsbXhfJykpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmgaLlpI3pnIDopoHkv53nlZnnmoTmlbDmja5cbiAgICBPYmplY3QuZW50cmllcyhwcmVzZXJ2ZWREYXRhKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g6I635Y+W5b2T5YmN5Li76aKYXG4gIGdldEN1cnJlbnRUaGVtZSgpOiBUaGVtZSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFRoZW1lO1xuICB9XG5cbiAgLy8g6I635Y+W5b2T5YmN5Li76aKY55qE5a6e6ZmF5bqU55So5pWw5o2u77yI5LuORE9N55qEQ1NT5Y+Y6YeP5Lit6K+75Y+W77yJXG4gIGdldEN1cnJlbnRUaGVtZVdpdGhBcHBsaWVkVmFsdWVzKCk6IFRoZW1lIHtcbiAgICBjb25zdCB0aGVtZSA9IHsgLi4udGhpcy5jdXJyZW50VGhlbWUgfTtcbiAgICBjb25zdCBjb2xvcnMgPSB7IC4uLnRoZW1lLmNvbG9ycyB9O1xuXG4gICAgLy8g5LuORE9N5Lit6K+75Y+W5a6e6ZmF5bqU55So55qEQ1NT5Y+Y6YeP5YC8XG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShyb290KTtcblxuICAgIC8vIOivu+WPluWunumZheW6lOeUqOeahOminOiJsuWAvFxuICAgIGNvbnN0IGFjdHVhbFZhbHVlcyA9IHtcbiAgICAgIHBob25lRnJhbWU6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1waG9uZUZyYW1lJykudHJpbSgpLFxuICAgICAgcHJpbWFyeTogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXByaW1hcnktYmx1ZScpLnRyaW0oKSxcbiAgICAgIGxpZ2h0OiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tbGlnaHQtYmx1ZScpLnRyaW0oKSxcbiAgICAgIHVsdHJhTGlnaHQ6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS11bHRyYS1saWdodC1ibHVlJykudHJpbSgpLFxuICAgICAgc29mdDogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNvZnQtYmx1ZScpLnRyaW0oKSxcbiAgICAgIGRlZXA6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1kZWVwLWJsdWUnKS50cmltKCksXG4gICAgICB0ZXh0Q29sb3I6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS10ZXh0LWNvbG9yJykudHJpbSgpLFxuICAgICAgdGV4dFByaW1hcnk6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS10ZXh0LXByaW1hcnknKS50cmltKCksXG4gICAgICB0ZXh0U2Vjb25kYXJ5OiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tdGV4dC1zZWNvbmRhcnknKS50cmltKCksXG4gICAgICBib3JkZXJDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJvcmRlci1jb2xvcicpLnRyaW0oKSxcbiAgICAgIGJ1YmJsZVNoYWRvdzogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJ1YmJsZS1zaGFkb3cnKS50cmltKCksXG4gICAgICBidWJibGVUaGVtQmc6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS13ZWNoYXQtYnViYmxlLXRoZW0tYmcnKS50cmltKCksXG4gICAgICBidWJibGVNZUJnOiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0td2VjaGF0LWJ1YmJsZS1tZS1iZycpLnRyaW0oKSxcbiAgICAgIGJ1YmJsZVRoZW1UZXh0OiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0td2VjaGF0LWJ1YmJsZS10aGVtLXRleHQnKS50cmltKCksXG4gICAgICBidWJibGVNZVRleHQ6IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS13ZWNoYXQtYnViYmxlLW1lLXRleHQnKS50cmltKCksXG4gICAgICBoZWFkZXJCZzogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWhlYWRlci1iZycpLnRyaW0oKSxcbiAgICAgIHN0YXR1c0JhckNvbG9yOiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tc3RhdHVzLWJhci1jb2xvcicpLnRyaW0oKSxcbiAgICAgIGR5bmFtaWNJc2xhbmRDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWR5bmFtaWMtaXNsYW5kLWNvbG9yJykudHJpbSgpLFxuICAgICAgYXBwQmdDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWFwcC1iZy1jb2xvcicpLnRyaW0oKSxcbiAgICAgIHNldHRpbmdzQmdDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNldHRpbmdzLWJnLWNvbG9yJykudHJpbSgpLFxuICAgICAgc2V0dGluZ3NDYXJkQmdDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNldHRpbmdzLWNhcmQtYmctY29sb3InKS50cmltKCksXG4gICAgICBzaGFkb3dDb2xvcjogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNoYWRvdy1jb2xvcicpLnRyaW0oKSxcbiAgICAgIHNoYWRvd0NvbG9yUmdiYTogY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNoYWRvdy1jb2xvci1yZ2JhJykudHJpbSgpLFxuICAgICAgZ3JhZGllbnRTdGFydDpcbiAgICAgICAgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJsdWUtZ3JhZGllbnQtc3RhcnQnKS50cmltKCkgfHxcbiAgICAgICAgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXByaW1hcnktZ3JhZGllbnQtbGlnaHQnKS50cmltKCksXG4gICAgICBncmFkaWVudEVuZDpcbiAgICAgICAgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJsdWUtZ3JhZGllbnQtZW5kJykudHJpbSgpIHx8XG4gICAgICAgIGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1wcmltYXJ5LWdyYWRpZW50LWRhcmsnKS50cmltKCksXG4gICAgfTtcblxuICAgIC8vIOS9v+eUqOWunumZheW6lOeUqOeahOWAvO+8jOWmguaenENTU+WPmOmHj+WtmOWcqOeahOivnVxuICAgIE9iamVjdC5rZXlzKGFjdHVhbFZhbHVlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBhY3R1YWxWYWx1ZXNba2V5IGFzIGtleW9mIHR5cGVvZiBhY3R1YWxWYWx1ZXNdO1xuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgICAoY29sb3JzIGFzIGFueSlba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5L+d5oyB5Y6f5pyJ55qE5biD5bCU5YC85ZKM5YW25LuW6Z2e6aKc6Imy5bGe5oCnXG4gICAgY29sb3JzLmlzRGFya01vZGUgPSB0aGVtZS5jb2xvcnMuaXNEYXJrTW9kZTtcbiAgICBjb2xvcnMudXNlU2luZ2xlQ29sb3JJY29ucyA9IHRoZW1lLmNvbG9ycy51c2VTaW5nbGVDb2xvckljb25zO1xuICAgIGNvbG9ycy5waG9uZUZyYW1lR3JhZGllbnQgPSB0aGVtZS5jb2xvcnMucGhvbmVGcmFtZUdyYWRpZW50O1xuICAgIGNvbG9ycy5kZWZhdWx0V2FsbHBhcGVycyA9IHRoZW1lLmNvbG9ycy5kZWZhdWx0V2FsbHBhcGVycztcblxuICAgIHJldHVybiB7XG4gICAgICAuLi50aGVtZSxcbiAgICAgIGNvbG9ycyxcbiAgICB9O1xuICB9XG5cbiAgLy8g6I635Y+W5omA5pyJ6buY6K6k5Li76aKYXG4gIGdldFRoZW1lcygpOiBSZWNvcmQ8c3RyaW5nLCBUaGVtZT4ge1xuICAgIHJldHVybiBUSEVNRVM7XG4gIH1cblxuICAvLyDojrflj5blo4HnurjnrqHnkIblmahcbiAgZ2V0V2FsbHBhcGVyTWFuYWdlcigpOiBXYWxscGFwZXJNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy53YWxscGFwZXJNYW5hZ2VyO1xuICB9XG5cbiAgLy8g5YiH5o2i5Yiw5oyH5a6a5Li76aKYXG4gIHN3aXRjaFRoZW1lKHRoZW1lTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoZW1lTmFtZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRoZW1lSnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRoZW1lTWFuYWdlci5DVVNUT01fVEhFTUVfU1RPUkFHRV9LRVkpO1xuICAgICAgICBpZiAoY3VzdG9tVGhlbWVKc29uKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBKU09OLnBhcnNlKGN1c3RvbVRoZW1lSnNvbik7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVGhlbWVNYW5hZ2VyLlRIRU1FX1NUT1JBR0VfS0VZLCAnY3VzdG9tJyk7XG5cbiAgICAgICAgICAvLyDmm7TmlrDlo4HnurjnrqHnkIblmajkuK3nmoTlvZPliY3kuLvpopjlkI3np7BcbiAgICAgICAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuc2V0Q3VycmVudFRoZW1lTmFtZSgnY3VzdG9tJyk7XG5cbiAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUodGhpcy5jdXJyZW50VGhlbWUpO1xuXG4gICAgICAgICAgLy8g5bqU55So5Li76aKY6buY6K6k5aOB57q4XG4gICAgICAgICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLmFwcGx5VGhlbWVEZWZhdWx0V2FsbHBhcGVycyh0aGlzLmN1cnJlbnRUaGVtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY3VzdG9tIHRoZW1lOicsIGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoVEhFTUVTW3RoZW1lTmFtZV0pIHtcbiAgICAgIHRoaXMuY3VycmVudFRoZW1lID0gVEhFTUVTW3RoZW1lTmFtZV07XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUaGVtZU1hbmFnZXIuVEhFTUVfU1RPUkFHRV9LRVksIHRoZW1lTmFtZSk7XG5cbiAgICAgIC8vIOabtOaWsOWjgee6uOeuoeeQhuWZqOS4reeahOW9k+WJjeS4u+mimOWQjeensFxuICAgICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLnNldEN1cnJlbnRUaGVtZU5hbWUodGhlbWVOYW1lKTtcblxuICAgICAgdGhpcy5hcHBseVRoZW1lKHRoaXMuY3VycmVudFRoZW1lKTtcblxuICAgICAgLy8g5bqU55So5Li76aKY6buY6K6k5aOB57q4XG4gICAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuYXBwbHlUaGVtZURlZmF1bHRXYWxscGFwZXJzKHRoaXMuY3VycmVudFRoZW1lKTtcbiAgICB9XG4gIH1cblxuICAvLyDkv53lrZjoh6rlrprkuYnkuLvpophcbiAgc2F2ZUN1c3RvbVRoZW1lKHRoZW1lOiBUaGVtZSk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudFRoZW1lID0gdGhlbWU7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVGhlbWVNYW5hZ2VyLkNVU1RPTV9USEVNRV9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkodGhlbWUpKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUaGVtZU1hbmFnZXIuVEhFTUVfU1RPUkFHRV9LRVksICdjdXN0b20nKTtcblxuICAgIC8vIOabtOaWsOWjgee6uOeuoeeQhuWZqOS4reeahOW9k+WJjeS4u+mimOWQjeensFxuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5zZXRDdXJyZW50VGhlbWVOYW1lKCdjdXN0b20nKTtcblxuICAgIHRoaXMuYXBwbHlUaGVtZSh0aGVtZSk7XG5cbiAgICAvLyDlupTnlKjkuLvpopjpu5jorqTlo4HnurhcbiAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuYXBwbHlUaGVtZURlZmF1bHRXYWxscGFwZXJzKHRoZW1lKTtcbiAgfVxuXG4gIC8vIOW6lOeUqOS4u+mimOWIsERPTVxuICBwcml2YXRlIGFwcGx5VGhlbWUodGhlbWU6IFRoZW1lKTogdm9pZCB7XG4gICAgY29uc3QgY29sb3JzID0gdGhlbWUuY29sb3JzO1xuICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICAvLyDorr7nva5DU1Plj5jph49cbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXBob25lRnJhbWUnLCBjb2xvcnMucGhvbmVGcmFtZSk7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wcmltYXJ5LWJsdWUnLCBjb2xvcnMucHJpbWFyeSk7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1saWdodC1ibHVlJywgY29sb3JzLmxpZ2h0KTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXVsdHJhLWxpZ2h0LWJsdWUnLCBjb2xvcnMudWx0cmFMaWdodCk7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ibHVlLWdyYWRpZW50LXN0YXJ0JywgY29sb3JzLmdyYWRpZW50U3RhcnQpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tYmx1ZS1ncmFkaWVudC1lbmQnLCBjb2xvcnMuZ3JhZGllbnRFbmQpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tc29mdC1ibHVlJywgY29sb3JzLnNvZnQpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tZGVlcC1ibHVlJywgY29sb3JzLmRlZXApO1xuXG4gICAgLy8g6K6+572u5paH5a2X6aKc6Imy5Y+Y6YePIC0g6L+Z5piv5YWz6ZSu55qE5L+u5aSN77yBXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0LWNvbG9yJywgY29sb3JzLnRleHRDb2xvcik7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0LXByaW1hcnknLCBjb2xvcnMudGV4dFByaW1hcnkpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tdGV4dC1zZWNvbmRhcnknLCBjb2xvcnMudGV4dFNlY29uZGFyeSk7XG5cbiAgICAvLyDorr7nva7ovrnmoYbpopzoibJcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLWJvcmRlci1jb2xvcicsIGNvbG9ycy5ib3JkZXJDb2xvcik7XG5cbiAgICAvLyDmoLnmja51c2VTaW5nbGVDb2xvckljb25z5bGe5oCn6K6+572u5Zu+5qCH6aKc6ImyXG4gICAgaWYgKGNvbG9ycy51c2VTaW5nbGVDb2xvckljb25zKSB7XG4gICAgICAvLyDkvb/nlKjkuLvpopjoibLkvZzkuLrlm77moIfpopzoibJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc2luZ2xlLWNvbG9yLWljb24nKTtcblxuICAgICAgLy8g6K6h566X5riQ5Y+Y6Imy77ya5q+U5Li76Imy5pu05Lqu5ZKM5pu05pqX55qE5Y+Y5L2TXG4gICAgICBjb25zdCBsaWdodGVyQ29sb3IgPSB0aGlzLmxpZ2h0ZW5EYXJrZW5Db2xvcihjb2xvcnMucHJpbWFyeSwgMjApO1xuICAgICAgY29uc3QgZGFya2VyQ29sb3IgPSB0aGlzLmxpZ2h0ZW5EYXJrZW5Db2xvcihjb2xvcnMucHJpbWFyeSwgLTIwKTtcblxuICAgICAgLy8g6K6+572u5riQ5Y+Y6Imy5Y+Y6YePXG4gICAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXByaW1hcnktZ3JhZGllbnQtbGlnaHQnLCBsaWdodGVyQ29sb3IpO1xuICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wcmltYXJ5LWdyYWRpZW50LWRhcmsnLCBkYXJrZXJDb2xvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOS9v+eUqOm7mOiupOeahOe7v+iJsuWSjOeBsOiJsuWbvuagh1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzaW5nbGUtY29sb3ItaWNvbicpO1xuICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13ZWNoYXQtZ3JlZW4taWNvbicsIHRoZW1lLm5hbWUgPT09ICd3aGl0ZScgPyAnIzA3QzE2MCcgOiAnIzA3QzE2MCcpO1xuICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zZXR0aW5ncy1pY29uLWNvbG9yJywgdGhlbWUubmFtZSA9PT0gJ3doaXRlJyA/ICcjOGE4YThhJyA6ICcjOGE4YThhJyk7XG4gICAgfVxuXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13ZWNoYXQtZ3JlZW4tYnViYmxlJywgY29sb3JzLmxpZ2h0KTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXdlY2hhdC1iZycsIGNvbG9ycy51bHRyYUxpZ2h0KTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLWxpbmstY29sb3InLCBjb2xvcnMucHJpbWFyeSk7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0LWNvbG9yJywgY29sb3JzLnRleHRDb2xvcik7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0LXByaW1hcnknLCBjb2xvcnMudGV4dFByaW1hcnkpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tdGV4dC1zZWNvbmRhcnknLCBjb2xvcnMudGV4dFNlY29uZGFyeSk7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ib3JkZXItY29sb3InLCBjb2xvcnMuYm9yZGVyQ29sb3IpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0taGVhZGVyLWJnJywgY29sb3JzLmhlYWRlckJnKTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLWJ1YmJsZS1zaGFkb3cnLCBjb2xvcnMuYnViYmxlU2hhZG93KTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXdlY2hhdC1idWJibGUtdGhlbS1iZycsIGNvbG9ycy5idWJibGVUaGVtQmcpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0td2VjaGF0LWJ1YmJsZS1tZS1iZycsIGNvbG9ycy5idWJibGVNZUJnKTtcblxuICAgIC8vIOiuvue9ruawlOazoeaWh+Wtl+minOiJslxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0td2VjaGF0LWJ1YmJsZS10aGVtLXRleHQnLCBjb2xvcnMuYnViYmxlVGhlbVRleHQgfHwgY29sb3JzLnByaW1hcnkpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0td2VjaGF0LWJ1YmJsZS1tZS10ZXh0JywgY29sb3JzLmJ1YmJsZU1lVGV4dCB8fCAnI2ZmZmZmZicpO1xuXG4gICAgLy8g6K6+572u54q25oCB5qCP6aKc6ImyXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zdGF0dXMtYmFyLWNvbG9yJywgY29sb3JzLnN0YXR1c0JhckNvbG9yKTtcblxuICAgIC8vIOiuvue9rueBteWKqOWym+minOiJslxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tZHluYW1pYy1pc2xhbmQtY29sb3InLCBjb2xvcnMuZHluYW1pY0lzbGFuZENvbG9yKTtcblxuICAgIC8vIOiuvue9ruW6lOeUqOiDjOaZr+iJslxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tYXBwLWJnLWNvbG9yJywgY29sb3JzLmFwcEJnQ29sb3IpO1xuXG4gICAgLy8g6K6+572u6K6+572u6aG16Z2i6IOM5pmv6ImyXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zZXR0aW5ncy1iZy1jb2xvcicsIGNvbG9ycy5zZXR0aW5nc0JnQ29sb3IpO1xuXG4gICAgLy8g6K6+572u6K6+572u5Y2h54mH6IOM5pmv6ImyXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zZXR0aW5ncy1jYXJkLWJnLWNvbG9yJywgY29sb3JzLnNldHRpbmdzQ2FyZEJnQ29sb3IpO1xuXG4gICAgLy8g6K6+572u6L6T5YWl5qGG6IOM5pmv6Imy77yI6Z2e5aSc6Ze05qih5byP57uf5LiA5Li655m96Imy77yJXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1pbnB1dC1iZycsIGNvbG9ycy5pc0RhcmtNb2RlID8gJyMyYTJhMmEnIDogJyNmZmZmZmYnKTtcblxuICAgIC8vIOiuvue9rumYtOW9seminOiJslxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tc2hhZG93LWNvbG9yJywgY29sb3JzLnNoYWRvd0NvbG9yKTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXNoYWRvdy1jb2xvci1yZ2JhJywgY29sb3JzLnNoYWRvd0NvbG9yUmdiYSk7XG5cbiAgICAvLyDmj5Dlj5bpmLTlvbHpopzoibLnmoRSR0LliIbph4/vvIznlKjkuo7lhbbku5borqHnrpdcbiAgICBjb25zdCBzaGFkb3dSR0IgPSB0aGlzLmV4dHJhY3RSZ2JDb21wb25lbnRzKGNvbG9ycy5zaGFkb3dDb2xvcik7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zaGFkb3ctcicsIHNoYWRvd1JHQi5yLnRvU3RyaW5nKCkpO1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tc2hhZG93LWcnLCBzaGFkb3dSR0IuZy50b1N0cmluZygpKTtcbiAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXNoYWRvdy1iJywgc2hhZG93UkdCLmIudG9TdHJpbmcoKSk7XG5cbiAgICAvLyDorr7nva7mmpfoibLmqKHlvI/nsbtcbiAgICBpZiAoY29sb3JzLmlzRGFya01vZGUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGFyay1tb2RlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGFyay1tb2RlJyk7XG4gICAgfVxuXG4gICAgLy8g5omL5py66L655qGG5qC35byPXG4gICAgY29uc3QgcGhvbmVGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG9uZS1mcmFtZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChwaG9uZUZyYW1lKSB7XG4gICAgICBwaG9uZUZyYW1lLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcnMucGhvbmVGcmFtZTtcblxuICAgICAgLy8g5pu05paw5omL5py66L655qGG5riQ5Y+YIC0g5Y6f5a2Q5oCn5pu05paw6YG/5YWN6Zeq54OBXG4gICAgICBjb25zdCBncmFkaWVudENvbG9ycyA9IGNvbG9ycy5waG9uZUZyYW1lR3JhZGllbnQuam9pbignLCAnKTtcblxuICAgICAgLy8g5qOA5p+l5piv5ZCm5bey5a2Y5Zyo5qC35byP5YWD57SgXG4gICAgICBsZXQgcGhvbmVGcmFtZVN0eWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lLWZyYW1lLXN0eWxlJykgYXMgSFRNTFN0eWxlRWxlbWVudDtcbiAgICAgIGlmICghcGhvbmVGcmFtZVN0eWxlKSB7XG4gICAgICAgIHBob25lRnJhbWVTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHBob25lRnJhbWVTdHlsZS5pZCA9ICdwaG9uZS1mcmFtZS1zdHlsZSc7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocGhvbmVGcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgLy8g55u05o6l5pu05paw5qC35byP5YaF5a6577yM6YG/5YWN56e76Zmk5ZKM6YeN5paw5re75Yqg6YCg5oiQ55qE6Zeq54OBXG4gICAgICBwaG9uZUZyYW1lU3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgIC5waG9uZS1mcmFtZTo6YmVmb3JlIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICR7Z3JhZGllbnRDb2xvcnN9KTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDQwMCUgNDAwJTtcbiAgICAgICAgfVxuICAgICAgYDtcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDliqjmgIHlspvpopzoibJcbiAgICBjb25zdCBkeW5hbWljSXNsYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR5bmFtaWMtaXNsYW5kJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKGR5bmFtaWNJc2xhbmQpIHtcbiAgICAgIGR5bmFtaWNJc2xhbmQuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9ycy5keW5hbWljSXNsYW5kQ29sb3I7XG4gICAgfVxuXG4gICAgLy8g5pu05paw54q25oCB5qCP6aKc6ImyXG4gICAgY29uc3Qgc3RhdHVzTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMtbGVmdCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IHN0YXR1c1JpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXR1cy1yaWdodCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChzdGF0dXNMZWZ0ICYmIHN0YXR1c1JpZ2h0KSB7XG4gICAgICBzdGF0dXNMZWZ0LnN0eWxlLmNvbG9yID0gY29sb3JzLnN0YXR1c0JhckNvbG9yO1xuICAgICAgc3RhdHVzUmlnaHQuc3R5bGUuY29sb3IgPSBjb2xvcnMuc3RhdHVzQmFyQ29sb3I7XG4gICAgfVxuXG4gICAgLy8g5pu05paw6K6+572u6aG16Z2i6IOM5pmv6ImyXG4gICAgY29uc3Qgc2V0dGluZ3NWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdzLXZpZXcnKTtcbiAgICBpZiAoc2V0dGluZ3NWaWV3KSB7XG4gICAgICBzZXR0aW5nc1ZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JzLnNldHRpbmdzQmdDb2xvcjtcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDorr7nva7ljaHniYfog4zmma/oibJcbiAgICBjb25zdCBzZXR0aW5nc0NhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNldHRpbmdzLWNhcmQnKTtcbiAgICBzZXR0aW5nc0NhcmRzLmZvckVhY2goKGNhcmQ6IEVsZW1lbnQpID0+IHtcbiAgICAgIChjYXJkIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcnMuc2V0dGluZ3NDYXJkQmdDb2xvcjtcbiAgICB9KTtcblxuICAgIC8vIOabtOaWsOaJi+acuumYtOW9sVxuICAgIGlmIChwaG9uZUZyYW1lKSB7XG4gICAgICBwaG9uZUZyYW1lLnN0eWxlLmJveFNoYWRvdyA9IGBcbiAgICAgICAgMCAxNXB4IDIwcHggJHt0aGlzLmhleFRvUmdiYShjb2xvcnMuc2hhZG93Q29sb3IsIDAuMjUpfSxcbiAgICAgICAgMCA4cHggMjBweCAke3RoaXMuaGV4VG9SZ2JhKGNvbG9ycy5zaGFkb3dDb2xvciwgMC4xNSl9LFxuICAgICAgICAwIDNweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpLFxuICAgICAgICBpbnNldCAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSxcbiAgICAgICAgaW5zZXQgMCAtMXB4IDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLFxuICAgICAgICAwIDVweCAke3RoaXMuaGV4VG9SZ2JhKGNvbG9ycy5zaGFkb3dDb2xvciwgMC4wOCl9XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIOabtOaWsOawlOazoemYtOW9seWSjOminOiJslxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS5pZCA9ICd0aGVtZS1keW5hbWljLXN0eWxlcyc7XG5cbiAgICAvLyDmo4Dmn6XmmK/lkKbmmK/oh6rlrprkuYnkuLvpopjvvIjkvb/nlKjnuq/oibLog4zmma/vvInov5jmmK/pu5jorqTkuLvpopjvvIjkv53nlZnmuJDlj5jvvIlcbiAgICAvLyDms6jph4rmjonmnKrkvb/nlKjnmoTlj5jph49cbiAgICAvLyBjb25zdCBpc0N1c3RvbUJ1YmJsZUNvbG9ycyA9IHRoZW1lLm5hbWUgPT09ICdjdXN0b20nO1xuXG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAvKiDlvq7kv6HkuLvpopjkuIvnmoTmsJTms6HmoLflvI8gLSDnm7TmjqXlupTnlKjnu7/oibIgKi9cbiAgICAgIC5tZXNzYWdlLXJvdy5tZSAubWVzc2FnZS1idWJibGUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9ycy5idWJibGVNZUJnfSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9ycy5idWJibGVNZUJnfSAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogJHtjb2xvcnMuYnViYmxlTWVUZXh0IHx8ICcjZmZmZmZmJ30gIWltcG9ydGFudDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCAke3RoaXMuaGV4VG9SZ2JhKGNvbG9ycy5zaGFkb3dDb2xvciwgMC4zKX07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8qIOWvueaWueawlOazoeagt+W8jyAqL1xuICAgICAgLm1lc3NhZ2Utcm93LnRoZW0gLm1lc3NhZ2UtYnViYmxlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcnMuYnViYmxlVGhlbUJnfSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9ycy5idWJibGVUaGVtQmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAke2NvbG9ycy5idWJibGVUaGVtVGV4dCB8fCBjb2xvcnMucHJpbWFyeX0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLyog56Gu5L+d6K+t6Z+z5rCU5rOh5Lmf5L2/55So5q2j56Gu55qE6aKc6ImyICovXG4gICAgICAubWVzc2FnZS1yb3cubWUgLm1lc3NhZ2UtYnViYmxlLnZvaWNlLWJ1YmJsZSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3JzLmJ1YmJsZU1lQmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLmJ1YmJsZU1lQmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6ICR7Y29sb3JzLmJ1YmJsZU1lVGV4dCB8fCAnI2ZmZmZmZid9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5tZXNzYWdlLXJvdy50aGVtIC5tZXNzYWdlLWJ1YmJsZS52b2ljZS1idWJibGUge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9ycy5idWJibGVUaGVtQmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAke2NvbG9ycy5idWJibGVUaGVtVGV4dCB8fCBjb2xvcnMucHJpbWFyeX0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLyog5pyL5Y+L5ZyI5paH5a2X5o+P6L+w5Zu+54mH5qC35byPICovXG4gICAgICAucG9zdC1tZWRpYSAuaW1hZ2UtZGVzYy1jb250ZW50IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmhleFRvUmdiYShjb2xvcnMucHJpbWFyeSwgMC4xKX0gIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGlzLmhleFRvUmdiYShjb2xvcnMucHJpbWFyeSwgMC4xKX0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLyog5Y+R6YCB5oyJ6ZKu5qC35byPICovXG4gICAgICAud2VjaGF0LWZvb3RlciAuc2VuZC1idG4ge1xuICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4ICR7dGhpcy5oZXhUb1JnYmEoY29sb3JzLnNoYWRvd0NvbG9yLCAwLjMpfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLndlY2hhdC1mb290ZXIgLnNlbmQtYnRuOmhvdmVyIHtcbiAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCAke3RoaXMuaGV4VG9SZ2JhKGNvbG9ycy5zaGFkb3dDb2xvciwgMC40KX07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8qIOWknOmXtOaooeW8j+eJueauiuWkhOeQhiAqL1xuICAgICAgJHtcbiAgICAgICAgY29sb3JzLmlzRGFya01vZGVcbiAgICAgICAgICA/IGBcbiAgICAgICAgLnNldHRpbmdzLWNhcmQgcCwgXG4gICAgICAgIC5zZXR0aW5ncy1jYXJkIGEsXG4gICAgICAgIC5zZXR0aW5ncy1jYXJkIGxpIGEsXG4gICAgICAgIC5wb3N0LWNvbnRlbnQsXG4gICAgICAgIC5wb3N0LW1ldGEsXG4gICAgICAgIC50aGVtZS1lZGl0b3ItbW9kYWwgLm1vZGFsLWNvbnRlbnQge1xuICAgICAgICAgIGNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5zZXR0aW5ncy1jYXJkLFxuICAgICAgICAudGhlbWUtZWRpdG9yLW1vZGFsIC5tb2RhbC1jb250ZW50IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTJhICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8qIOS/ruaUueWknOmXtOaooeW8j+S4i+ato+WcqOi+k+WFpeaMh+ekuuWZqOagt+W8jyAqL1xuICAgICAgICAudHlwaW5nLWluZGljYXRvciAubWVzc2FnZS1idWJibGUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLmJ1YmJsZVRoZW1CZ30gIWltcG9ydGFudDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9ycy5idWJibGVUaGVtQmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnR5cGluZy1kb3Qge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuc2V0dGluZ3MtY2FyZCBsaSB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzNjM2MzYyAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuc2V0dGluZ3MtY2FyZCBsaSBhIHtcbiAgICAgICAgICBjb2xvcjogI2EwYTBhMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAjc2hvdy1sYXN0LWFpLXJlc3BvbnNlLWJ0bixcbiAgICAgICAgI3Nob3ctbGFzdC1zZW50LXByb21wdC1idG4ge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzJjMmMgIWltcG9ydGFudDtcbiAgICAgICAgICBjb2xvcjogI2EwYTBhMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLyog5pyL5Y+L5ZyI5pqX6Imy5qih5byPICovXG4gICAgICAgICNtb21lbnRzLXZpZXcge1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICMxYTFhMWEgMCUsICMyNTI1MjUgMTAwJSkgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLm1vbWVudHMtYm9keSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMWExYSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAubW9tZW50LXBvc3Qge1xuICAgICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMyYzJjMmMgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnBvc3QtaW50ZXJhY3Rpb25zIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjMmEyYTJhICFpbXBvcnRhbnQ7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAjM2MzYzNjICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5wb3N0LWludGVyYWN0aW9uczo6YmVmb3JlIHtcbiAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjMmEyYTJhICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5saWtlcy1zZWN0aW9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDQyLCA0MiwgNDIsIDAuOCkgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmNvbW1lbnRzLXNlY3Rpb24ge1xuICAgICAgICAgIGJvcmRlci10b3AtY29sb3I6ICMzYzNjM2MgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnBvc3QtbWV0YSAuY29tbWVudC1idXR0b24ge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICMyYzJjMmMgIWltcG9ydGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIOaci+WPi+WciOaWh+Wtl+aPj+i/sOWbvueJh+agt+W8jyAtIOWknOmXtOaooeW8jyAqL1xuICAgICAgICAucG9zdC1tZWRpYSAuaW1hZ2UtZGVzYy1jb250ZW50IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA0MiwgNDIsIDAuOCkgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDYwLCA2MCwgNjAsIDAuNCkgIWltcG9ydGFudDtcbiAgICAgICAgICBjb2xvcjogI2UwZTBlMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLyog5pu05aSa5aSc6Ze05qih5byP5qC35byPICovXG4gICAgICAgIC5wb3N0LWF1dGhvci1uYW1lLCBcbiAgICAgICAgLmxpa2VyLW5hbWUsIFxuICAgICAgICAuY29tbWVudC1hdXRob3Ige1xuICAgICAgICAgIGNvbG9yOiAjYTBjMGUwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5tb21lbnRzLWhlYWRlcixcbiAgICAgICAgLndlY2hhdC1oZWFkZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgzMTVkZWcsICMyNTI1MjUgMCUsICMxYTFhMWEgMTAwJSkgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjM2MzYzNjICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC53ZWNoYXQtZm9vdGVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzE1ZGVnLCAjMjUyNTI1IDAlLCAjMWExYTFhIDEwMCUpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogIzNjM2MzYyAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAud2VjaGF0LWZvb3RlciAudGV4dC1pbnB1dCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMmEyYSAhaW1wb3J0YW50O1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogIzNjM2MzYyAhaW1wb3J0YW50O1xuICAgICAgICAgIGNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC53ZWNoYXQtZm9vdGVyIC50ZXh0LWlucHV0OjpwbGFjZWhvbGRlciB7XG4gICAgICAgICAgY29sb3I6ICM4MDgwODAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnRpbWVzdGFtcC10ZXh0LFxuICAgICAgICAuZXZlbnQtdGltZS10ZXh0IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzE1ZGVnLCAjNTA1MDUwIDAlLCAjM2MzYzNjIDEwMCUpICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5yZWNhbGwtbm90aWNlLXRleHQge1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgzMTVkZWcsICM1MDUwNTAgMCUsICMzYzNjM2MgMTAwJSkgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLm1lc3NhZ2Utcm93LnRoZW0gLnZvaWNlLWJ1YmJsZSAudm9pY2UtaWNvbiB7XG4gICAgICAgICAgY29sb3I6ICNhMGMwZTAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnZvaWNlLXRleHQtY29udGVudCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMmEyYSAhaW1wb3J0YW50O1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogIzNjM2MzYyAhaW1wb3J0YW50O1xuICAgICAgICAgIGNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5sb2NhdGlvbi1jYXJkLFxuICAgICAgICAuZmlsZS1jYXJkIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTJhICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5sb2NhdGlvbi1jb250ZW50IC5sb2NhdGlvbi10aXRsZSB7XG4gICAgICAgICAgY29sb3I6ICNlMGUwZTAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmZpbGUtZGV0YWlscyAuZmlsZS1uYW1lIHtcbiAgICAgICAgICBjb2xvcjogI2UwZTBlMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZmlsZS1mb290ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNTI1MjUgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiAjM2MzYzNjICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5wYW5lbC1jb250YWluZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWEgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmZlYXR1cmUtaWNvbiB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMmEyYSAhaW1wb3J0YW50O1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogIzNjM2MzYyAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZmVhdHVyZS1sYWJlbCB7XG4gICAgICAgICAgY29sb3I6ICNhMGEwYTAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLyogVGhlbWUtY29sb3JlZCBpY29ucyBpbiBkYXJrIG1vZGUgKi9cbiAgICAgICAgLmZlYXR1cmUtaWNvbiAudGhlbWUtaWNvbiB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktYmx1ZSkgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLyog5aOB57q46YCJ5oup5Zmo5pqX6Imy5qih5byPICovXG4gICAgICAgIC53YWxscGFwZXItY29udGFpbmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTJhICFpbXBvcnRhbnQ7XG4gICAgICAgICAgY29sb3I6ICNlMGUwZTAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLndhbGxwYXBlci1jb250YWluZXIgaDIsXG4gICAgICAgIC53YWxscGFwZXItY29udGFpbmVyIGgzLFxuICAgICAgICAud2FsbHBhcGVyLWNvbnRhaW5lciBwIHtcbiAgICAgICAgICBjb2xvcjogI2UwZTBlMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAud2FsbHBhcGVyLWNvbnRhaW5lciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcbiAgICAgICAgLndhbGxwYXBlci1jb250YWluZXIgaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWEgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXItY29sb3I6ICMzYzNjM2MgIWltcG9ydGFudDtcbiAgICAgICAgICBjb2xvcjogI2UwZTBlMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAud2FsbHBhcGVyLWl0ZW0gLm5hbWUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDIsIDQyLCA0MiwgMC45KSAhaW1wb3J0YW50O1xuICAgICAgICAgIGNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIGBcbiAgICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IG9sZER5bmFtaWNTdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtZHluYW1pYy1zdHlsZXMnKTtcbiAgICBpZiAob2xkRHluYW1pY1N0eWxlcykge1xuICAgICAgb2xkRHluYW1pY1N0eWxlcy5yZW1vdmUoKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvLyDovoXliqnmlrnms5XvvJpIRVjovaxSR0JBXG4gIHByaXZhdGUgaGV4VG9SZ2JhKGhleDogc3RyaW5nLCBhbHBoYTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCByID0gcGFyc2VJbnQoaGV4LnNsaWNlKDEsIDMpLCAxNik7XG4gICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zbGljZSgzLCA1KSwgMTYpO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChoZXguc2xpY2UoNSwgNyksIDE2KTtcblxuICAgIHJldHVybiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2FscGhhfSlgO1xuICB9XG5cbiAgLy8g6L6F5Yqp5pa55rOV77ya5o+Q5Y+WUkdC5YiG6YePXG4gIHByaXZhdGUgZXh0cmFjdFJnYkNvbXBvbmVudHMoaGV4OiBzdHJpbmcpOiB7IHI6IG51bWJlcjsgZzogbnVtYmVyOyBiOiBudW1iZXIgfSB7XG4gICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zbGljZSgxLCAzKSwgMTYpO1xuICAgIGNvbnN0IGcgPSBwYXJzZUludChoZXguc2xpY2UoMywgNSksIDE2KTtcbiAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnNsaWNlKDUsIDcpLCAxNik7XG5cbiAgICByZXR1cm4geyByLCBnLCBiIH07XG4gIH1cblxuICAvLyDovoXliqnmlrnms5XvvJrosIPmlbTpopzoibLkuq7luqZcbiAgcHJpdmF0ZSBsaWdodGVuRGFya2VuQ29sb3IoY29sb3I6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGxldCBoZXggPSBjb2xvci5yZXBsYWNlKCcjJywgJycpO1xuICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICBoZXggPSBoZXhbMF0gKyBoZXhbMF0gKyBoZXhbMV0gKyBoZXhbMV0gKyBoZXhbMl0gKyBoZXhbMl07XG4gICAgfVxuICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KGhleCwgMTYpO1xuICAgIGxldCByID0gKG51bSA+PiAxNikgKyBhbW91bnQ7XG4gICAgbGV0IGcgPSAoKG51bSA+PiA4KSAmIDB4MDBmZikgKyBhbW91bnQ7XG4gICAgbGV0IGIgPSAobnVtICYgMHgwMDAwZmYpICsgYW1vdW50O1xuXG4gICAgciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcikpO1xuICAgIGcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIGcpKTtcbiAgICBiID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBiKSk7XG5cbiAgICBjb25zdCBySGV4ID0gci50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBnSGV4ID0gZy50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBiSGV4ID0gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgIHJldHVybiBgIyR7ckhleH0ke2dIZXh9JHtiSGV4fWA7XG4gIH1cbn1cblxuLy8g5aOB57q457G75Z6L5a6a5LmJXG5leHBvcnQgaW50ZXJmYWNlIFdhbGxwYXBlciB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICdjb2xvcicgfCAnaW1hZ2UnIHwgJ3VybCc7XG4gIHZhbHVlOiBzdHJpbmc7IC8vIOminOiJsuS7o+eggeaIluWbvueJh1VSTFxuICBuYW1lOiBzdHJpbmc7XG4gIHRodW1ibmFpbD86IHN0cmluZzsgLy8g57yp55Wl5Zu+VVJM77yM5aaC5p6c5piv5Zu+54mH57G75Z6LXG59XG5cbi8vIOWjgee6uOeuoeeQhuWZqOexu1xuZXhwb3J0IGNsYXNzIFdhbGxwYXBlck1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBXQUxMUEFQRVJfU1RPUkFHRV9LRVlfUFJFRklYID0gJ2JsbXhfd2FsbHBhcGVyXyc7XG4gIHByaXZhdGUgc3RhdGljIENVU1RPTV9XQUxMUEFQRVJTX0tFWSA9ICdibG14X2N1c3RvbV93YWxscGFwZXJzJztcbiAgcHJpdmF0ZSBzdGF0aWMgVEhFTUVfV0FMTFBBUEVSX0tFWV9QUkVGSVggPSAnYmxteF90aGVtZV93YWxscGFwZXJfJztcbiAgcHJpdmF0ZSBjdXJyZW50VGhlbWVOYW1lOiBzdHJpbmcgPSAnd2hpdGUnOyAvLyDpu5jorqTkuLvpopjlkI3np7BcblxuICAvLyDlhoXnva7lo4HnurhcbiAgcHJpdmF0ZSBidWlsdEluV2FsbHBhcGVyczogV2FsbHBhcGVyW10gPSBbXG4gICAgeyBpZDogJ2JsdWVfc29saWQnLCB0eXBlOiAnY29sb3InLCB2YWx1ZTogJyNlOGY0ZmQnLCBuYW1lOiAn6JOd6Imy57qv6ImyJyB9LFxuICAgIHsgaWQ6ICdwaW5rX3NvbGlkJywgdHlwZTogJ2NvbG9yJywgdmFsdWU6ICcjZmRlOGY0JywgbmFtZTogJ+eyieiJsue6r+iJsicgfSxcbiAgICB7IGlkOiAnd2hpdGVfc29saWQnLCB0eXBlOiAnY29sb3InLCB2YWx1ZTogJyNmOGY4ZjgnLCBuYW1lOiAn55m96Imy57qv6ImyJyB9LFxuICAgIHsgaWQ6ICdkYXJrX3NvbGlkJywgdHlwZTogJ2NvbG9yJywgdmFsdWU6ICcjMWExYTFhJywgbmFtZTogJ+m7keiJsue6r+iJsicgfSxcbiAgICB7XG4gICAgICBpZDogJ2RlZmF1bHRfaW1hZ2UnLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nmb3oibJfMS5qcGcnLFxuICAgICAgbmFtZTogJ+eZveiJsuWjgee6uCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2RhcmtfaW1hZ2UnLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/mt7HoibLmmJ/mmJ9fMS5qcGcnLFxuICAgICAgbmFtZTogJ+a3seiJsuaYn+aYn+Wjgee6uCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2JsdWVfdGhlbWUnLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/ok53oibLmmJ/mmJ9fMS5qcGcnLFxuICAgICAgbmFtZTogJ+iTneiJsuaYn+aYn+Wjgee6uCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ3BpbmtfdGhlbWUnLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nsonoibLmmJ/mmJ9fMS5qcGcnLFxuICAgICAgbmFtZTogJ+eyieiJsuaYn+aYn+Wjgee6uCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2tpdHR5X3RoZW1lJyxcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICB2YWx1ZTogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv57KJ6Imy5bCP54yrXzEuanBnJyxcbiAgICAgIG5hbWU6ICfnsonoibLlsI/njKvlo4HnurgnLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdkZWVwX3N0YXJzXzInLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/mt7HoibLmmJ/mmJ9fMi5qcGcnLFxuICAgICAgbmFtZTogJ+a3seiJsuaYn+aYn+Wjgee6uDInLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdkZWVwX3N0YXJzXzMnLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/mt7HoibLmmJ/mmJ9fMy5qcGcnLFxuICAgICAgbmFtZTogJ+a3seiJsuaYn+aYn+Wjgee6uDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd3aGl0ZV9zdGFycycsXG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgdmFsdWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+eZveiJsuaYn+aYn18xLmpwZycsXG4gICAgICBuYW1lOiAn55m96Imy5pif5pif5aOB57q4JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAncGlua19zdGFyc18yJyxcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICB2YWx1ZTogJ2h0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lL+e0oOadkC93YWxscGFwZXIv57KJ6Imy5pif5pifXzIuanBnJyxcbiAgICAgIG5hbWU6ICfnsonoibLmmJ/mmJ/lo4HnurgyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAncGlua19ncmlkXzInLFxuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL3dhbGxwYXBlci/nsonoibLmoLzlrZBfMi5qcGcnLFxuICAgICAgbmFtZTogJ+eyieiJsuagvOWtkOWjgee6uDInLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdwaW5rX2dyaWRfNCcsXG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgdmFsdWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+eyieiJsuagvOWtkF80LmpwZycsXG4gICAgICBuYW1lOiAn57KJ6Imy5qC85a2Q5aOB57q4NCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2JsdWVfMScsXG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgdmFsdWU6ICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAvd2FsbHBhcGVyL+iTneiJsl8xLmpwZycsXG4gICAgICBuYW1lOiAn6JOd6Imy5aOB57q4MScsXG4gICAgfSxcbiAgXTtcblxuICAvLyDoh6rlrprkuYnlo4HnurhcbiAgcHJpdmF0ZSBjdXN0b21XYWxscGFwZXJzOiBXYWxscGFwZXJbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9hZEN1c3RvbVdhbGxwYXBlcnMoKTtcbiAgICAvLyDku45sb2NhbFN0b3JhZ2XliqDovb3lvZPliY3kuLvpopjlkI3np7BcbiAgICBjb25zdCBzYXZlZFRoZW1lTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdibG14X3RoZW1lJyk7XG4gICAgaWYgKHNhdmVkVGhlbWVOYW1lKSB7XG4gICAgICB0aGlzLmN1cnJlbnRUaGVtZU5hbWUgPSBzYXZlZFRoZW1lTmFtZTtcbiAgICB9XG5cbiAgICAvLyDov4Hnp7vml6fnmoTlo4Hnurjorr7nva7liLDmlrDnmoTkuLvpopjlhbPogZTmoLzlvI9cbiAgICB0aGlzLm1pZ3JhdGVPbGRXYWxscGFwZXJTZXR0aW5ncygpO1xuICB9XG5cbiAgLy8g6K6+572u5b2T5YmN5Li76aKY5ZCN56ewXG4gIHNldEN1cnJlbnRUaGVtZU5hbWUodGhlbWVOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRUaGVtZU5hbWUgPSB0aGVtZU5hbWU7XG4gIH1cblxuICAvLyDojrflj5bmiYDmnInlo4HnurjvvIjlhoXnva4r6Ieq5a6a5LmJ77yJXG4gIGdldEFsbFdhbGxwYXBlcnMoKTogV2FsbHBhcGVyW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5idWlsdEluV2FsbHBhcGVycywgLi4udGhpcy5jdXN0b21XYWxscGFwZXJzXTtcbiAgfVxuXG4gIC8vIOiOt+WPluWGhee9ruWjgee6uFxuICBnZXRCdWlsdEluV2FsbHBhcGVycygpOiBXYWxscGFwZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbHRJbldhbGxwYXBlcnM7XG4gIH1cblxuICAvLyDojrflj5boh6rlrprkuYnlo4HnurhcbiAgZ2V0Q3VzdG9tV2FsbHBhcGVycygpOiBXYWxscGFwZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tV2FsbHBhcGVycztcbiAgfVxuXG4gIC8vIOa3u+WKoOiHquWumuS5ieWjgee6uFxuICBhZGRDdXN0b21XYWxscGFwZXIod2FsbHBhcGVyOiBPbWl0PFdhbGxwYXBlciwgJ2lkJz4pOiBXYWxscGFwZXIge1xuICAgIGNvbnN0IGlkID0gYGN1c3RvbV8ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdXYWxscGFwZXI6IFdhbGxwYXBlciA9IHsgLi4ud2FsbHBhcGVyLCBpZCB9O1xuXG4gICAgdGhpcy5jdXN0b21XYWxscGFwZXJzLnB1c2gobmV3V2FsbHBhcGVyKTtcbiAgICB0aGlzLnNhdmVDdXN0b21XYWxscGFwZXJzKCk7XG5cbiAgICByZXR1cm4gbmV3V2FsbHBhcGVyO1xuICB9XG5cbiAgLy8g5Yig6Zmk6Ieq5a6a5LmJ5aOB57q4XG4gIGRlbGV0ZUN1c3RvbVdhbGxwYXBlcihpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHRoaXMuY3VzdG9tV2FsbHBhcGVycy5sZW5ndGg7XG4gICAgdGhpcy5jdXN0b21XYWxscGFwZXJzID0gdGhpcy5jdXN0b21XYWxscGFwZXJzLmZpbHRlcih3ID0+IHcuaWQgIT09IGlkKTtcblxuICAgIGlmICh0aGlzLmN1c3RvbVdhbGxwYXBlcnMubGVuZ3RoICE9PSBpbml0aWFsTGVuZ3RoKSB7XG4gICAgICB0aGlzLnNhdmVDdXN0b21XYWxscGFwZXJzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyDorr7nva7lo4HnurjvvIjkuI7kuLvpopjlhbPogZTvvIlcbiAgc2V0V2FsbHBhcGVyKHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLCB3YWxscGFwZXI6IFdhbGxwYXBlciB8IG51bGwpOiB2b2lkIHtcbiAgICAvLyDkvb/nlKjkuLvpopjlkI3np7DkvZzkuLrlrZjlgqjplK7nmoTkuIDpg6jliIZcbiAgICBjb25zdCBzdG9yYWdlS2V5ID0gYCR7V2FsbHBhcGVyTWFuYWdlci5USEVNRV9XQUxMUEFQRVJfS0VZX1BSRUZJWH0ke3RoaXMuY3VycmVudFRoZW1lTmFtZX1fJHt2aWV3VHlwZX1gO1xuXG4gICAgaWYgKHdhbGxwYXBlcikge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkod2FsbHBhcGVyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHN0b3JhZ2VLZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOiOt+WPluW9k+WJjeWjgee6uO+8iOS4juS4u+mimOWFs+iBlO+8iVxuICBnZXRDdXJyZW50V2FsbHBhcGVyKHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnKTogV2FsbHBhcGVyIHwgbnVsbCB7XG4gICAgLy8g6aaW5YWI5bCd6K+V6I635Y+W5LiO5b2T5YmN5Li76aKY5YWz6IGU55qE5aOB57q4XG4gICAgY29uc3QgdGhlbWVTdG9yYWdlS2V5ID0gYCR7V2FsbHBhcGVyTWFuYWdlci5USEVNRV9XQUxMUEFQRVJfS0VZX1BSRUZJWH0ke3RoaXMuY3VycmVudFRoZW1lTmFtZX1fJHt2aWV3VHlwZX1gO1xuICAgIGNvbnN0IHNhdmVkVGhlbWVXYWxscGFwZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGVtZVN0b3JhZ2VLZXkpO1xuXG4gICAgaWYgKHNhdmVkVGhlbWVXYWxscGFwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHNhdmVkVGhlbWVXYWxscGFwZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgdGhlbWUgd2FsbHBhcGVyOicsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenOayoeacieS4juS4u+mimOWFs+iBlOeahOWjgee6uO+8jOWImeWwneivleiOt+WPluaXp+agvOW8j+eahOWjgee6uOiuvue9ru+8iOWFvOWuueaAp++8iVxuICAgIGNvbnN0IG9sZFN0b3JhZ2VLZXkgPSBgJHtXYWxscGFwZXJNYW5hZ2VyLldBTExQQVBFUl9TVE9SQUdFX0tFWV9QUkVGSVh9JHt2aWV3VHlwZX1gO1xuICAgIGNvbnN0IHNhdmVkT2xkV2FsbHBhcGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ob2xkU3RvcmFnZUtleSk7XG5cbiAgICBpZiAoc2F2ZWRPbGRXYWxscGFwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHNhdmVkT2xkV2FsbHBhcGVyKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIG9sZCB3YWxscGFwZXI6JywgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyDov4Hnp7vml6fnmoTlo4Hnurjorr7nva7liLDmlrDnmoTkuLvpopjlhbPogZTmoLzlvI9cbiAgcHJpdmF0ZSBtaWdyYXRlT2xkV2FsbHBhcGVyU2V0dGluZ3MoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld1R5cGVzOiBBcnJheTwnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnPiA9IFsnY2hhdCcsICdob21lJywgJ3NldHRpbmdzJ107XG5cbiAgICB2aWV3VHlwZXMuZm9yRWFjaCh2aWV3VHlwZSA9PiB7XG4gICAgICBjb25zdCBvbGRTdG9yYWdlS2V5ID0gYCR7V2FsbHBhcGVyTWFuYWdlci5XQUxMUEFQRVJfU1RPUkFHRV9LRVlfUFJFRklYfSR7dmlld1R5cGV9YDtcbiAgICAgIGNvbnN0IHNhdmVkT2xkV2FsbHBhcGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ob2xkU3RvcmFnZUtleSk7XG5cbiAgICAgIGlmIChzYXZlZE9sZFdhbGxwYXBlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIOino+aekOS9huS4jeWtmOWCqOacquS9v+eUqOeahOWPmOmHj1xuICAgICAgICAgIEpTT04ucGFyc2Uoc2F2ZWRPbGRXYWxscGFwZXIpO1xuICAgICAgICAgIC8vIOWwhuaXp+iuvue9rui/geenu+WIsOW9k+WJjeS4u+mimOS4i1xuICAgICAgICAgIGNvbnN0IHRoZW1lU3RvcmFnZUtleSA9IGAke1dhbGxwYXBlck1hbmFnZXIuVEhFTUVfV0FMTFBBUEVSX0tFWV9QUkVGSVh9JHt0aGlzLmN1cnJlbnRUaGVtZU5hbWV9XyR7dmlld1R5cGV9YDtcblxuICAgICAgICAgIC8vIOWPquacieWcqOW9k+WJjeS4u+mimOS4i+ayoeacieiuvue9ruaXtuaJjei/geenu1xuICAgICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhlbWVTdG9yYWdlS2V5KSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhlbWVTdG9yYWdlS2V5LCBzYXZlZE9sZFdhbGxwYXBlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g6L+B56e75ZCO5Yig6Zmk5pen6K6+572uXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ob2xkU3RvcmFnZUtleSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbWlncmF0ZSBvbGQgd2FsbHBhcGVyIHNldHRpbmc6JywgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIOW6lOeUqOS4u+mimOm7mOiupOWjgee6uFxuICBhcHBseVRoZW1lRGVmYXVsdFdhbGxwYXBlcnModGhlbWU6IFRoZW1lKTogdm9pZCB7XG4gICAgLy8g5pu05paw5b2T5YmN5Li76aKY5ZCN56ewXG4gICAgdGhpcy5zZXRDdXJyZW50VGhlbWVOYW1lKHRoZW1lLm5hbWUpO1xuXG4gICAgY29uc3Qgdmlld1R5cGVzOiBBcnJheTwnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnPiA9IFsnY2hhdCcsICdob21lJywgJ3NldHRpbmdzJ107XG5cbiAgICB2aWV3VHlwZXMuZm9yRWFjaCh2aWV3VHlwZSA9PiB7XG4gICAgICAvLyDmo4Dmn6XmmK/lkKblt7Lnu4/mnInkuI7lvZPliY3kuLvpopjlhbPogZTnmoTlo4Hnurjorr7nva5cbiAgICAgIGNvbnN0IHRoZW1lU3RvcmFnZUtleSA9IGAke1dhbGxwYXBlck1hbmFnZXIuVEhFTUVfV0FMTFBBUEVSX0tFWV9QUkVGSVh9JHt0aGVtZS5uYW1lfV8ke3ZpZXdUeXBlfWA7XG4gICAgICBjb25zdCBleGlzdGluZ1dhbGxwYXBlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoZW1lU3RvcmFnZUtleSk7XG5cbiAgICAgIGlmIChleGlzdGluZ1dhbGxwYXBlcikge1xuICAgICAgICAvLyDlt7LmnInlo4Hnurjorr7nva7vvIzkv53nlZnnjrDmnInorr7nva5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGVtZS5jb2xvcnMuZGVmYXVsdFdhbGxwYXBlcnNbdmlld1R5cGVdO1xuXG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmmK/popzoibLlgLxcbiAgICAgIGNvbnN0IGlzQ29sb3IgPSBkZWZhdWx0VmFsdWUuc3RhcnRzV2l0aCgnIycpO1xuXG4gICAgICBjb25zdCB3YWxscGFwZXI6IFdhbGxwYXBlciA9IHtcbiAgICAgICAgaWQ6IGB0aGVtZV9kZWZhdWx0XyR7dmlld1R5cGV9YCxcbiAgICAgICAgdHlwZTogaXNDb2xvciA/ICdjb2xvcicgOiAnaW1hZ2UnLFxuICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICBuYW1lOiBgJHt0aGVtZS5kaXNwbGF5TmFtZX3pu5jorqQke3ZpZXdUeXBlID09PSAnY2hhdCcgPyAn6IGK5aSpJyA6IHZpZXdUeXBlID09PSAnaG9tZScgPyAn5Li75bGP5bmVJyA6ICforr7nva4nfeWjgee6uGAsXG4gICAgICB9O1xuXG4gICAgICAvLyDkv53lrZjkuLrkuI7kuLvpopjlhbPogZTnmoTlo4HnurhcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoZW1lU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkod2FsbHBhcGVyKSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDlupTnlKjlo4HnurjliLBET01cbiAgYXBwbHlXYWxscGFwZXJUb0VsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIHdhbGxwYXBlcjogV2FsbHBhcGVyIHwgbnVsbCwgZGVmYXVsdFRoZW1lV2FsbHBhcGVyPzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG5cbiAgICAvLyDph43nva7moLflvI9cbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICdub25lJztcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnJztcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICcnO1xuICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICcnO1xuXG4gICAgaWYgKHdhbGxwYXBlcikge1xuICAgICAgaWYgKHdhbGxwYXBlci50eXBlID09PSAnY29sb3InKSB7XG4gICAgICAgIC8vIOe6r+iJsuWjgee6uCAtIOehruS/nea4hemZpOiDjOaZr+WbvuW5tuiuvue9ruiDjOaZr+iJslxuICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICdub25lJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB3YWxscGFwZXIudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlm77niYflo4HnurhcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHt3YWxscGFwZXIudmFsdWV9XCIpYDtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb3Zlcic7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcic7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICduby1yZXBlYXQnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGVmYXVsdFRoZW1lV2FsbHBhcGVyKSB7XG4gICAgICAvLyDkvb/nlKjkuLvpopjpu5jorqTlo4HnurhcbiAgICAgIGlmIChkZWZhdWx0VGhlbWVXYWxscGFwZXIuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgIC8vIOWmguaenOaYr+minOiJsuWAvO+8jOiuvue9ruiDjOaZr+iJslxuICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICdub25lJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBkZWZhdWx0VGhlbWVXYWxscGFwZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlpoLmnpzmmK/lm77niYdVUkzvvIzorr7nva7og4zmma/lm75cbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHtkZWZhdWx0VGhlbWVXYWxscGFwZXJ9XCIpYDtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb3Zlcic7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcic7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICduby1yZXBlYXQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOS7jlVSTOWIm+W7uuWjgee6uFxuICBhc3luYyBjcmVhdGVXYWxscGFwZXJGcm9tVXJsKHVybDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFdhbGxwYXBlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgLy8g6aqM6K+BVVJMXG4gICAgICBuZXcgVVJMKHVybCk7XG5cbiAgICAgIHJldHVybiB0aGlzLmFkZEN1c3RvbVdhbGxwYXBlcih7XG4gICAgICAgIHR5cGU6ICd1cmwnLFxuICAgICAgICB2YWx1ZTogdXJsLFxuICAgICAgICBuYW1lOiBuYW1lIHx8IGBVUkzlo4HnurggJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9YCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgVVJMOicsIGUpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8g5LuORmlsZeWvueixoeWIm+W7uuWjgee6uFxuICBhc3luYyBjcmVhdGVXYWxscGFwZXJGcm9tRmlsZShmaWxlOiBGaWxlKTogUHJvbWlzZTxXYWxscGFwZXIgfCBudWxsPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQ/LnJlc3VsdCkge1xuICAgICAgICAgIGNvbnN0IHdhbGxwYXBlciA9IHRoaXMuYWRkQ3VzdG9tV2FsbHBhcGVyKHtcbiAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICB2YWx1ZTogZS50YXJnZXQucmVzdWx0IGFzIHN0cmluZyxcbiAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSB8fCBg5LiK5Lyg55qE5aOB57q4ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZSh3YWxscGFwZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZShudWxsKTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g5Yib5bu657qv6Imy5aOB57q4XG4gIGNyZWF0ZVNvbGlkQ29sb3JXYWxscGFwZXIoY29sb3I6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IFdhbGxwYXBlciB8IG51bGwge1xuICAgIC8vIOmqjOivgeminOiJsuagvOW8j++8jOaUr+aMgTPkvY3lkow25L2N5Y2B5YWt6L+b5Yi26aKc6ImyXG4gICAgaWYgKCFjb2xvci5tYXRjaCgvXiMoWzAtOUEtRmEtZl17M30pezEsMn0kLykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgY29sb3IgZm9ybWF0OicsIGNvbG9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIOehruS/neminOiJsuagvOW8j+e7n+S4gOS4ujbkvY3ljYHlha3ov5vliLZcbiAgICBsZXQgbm9ybWFsaXplZENvbG9yID0gY29sb3I7XG4gICAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gNCkge1xuICAgICAgLy8gI1JHQiDmoLzlvI9cbiAgICAgIGNvbnN0IHIgPSBjb2xvclsxXTtcbiAgICAgIGNvbnN0IGcgPSBjb2xvclsyXTtcbiAgICAgIGNvbnN0IGIgPSBjb2xvclszXTtcbiAgICAgIG5vcm1hbGl6ZWRDb2xvciA9IGAjJHtyfSR7cn0ke2d9JHtnfSR7Yn0ke2J9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hZGRDdXN0b21XYWxscGFwZXIoe1xuICAgICAgdHlwZTogJ2NvbG9yJyxcbiAgICAgIHZhbHVlOiBub3JtYWxpemVkQ29sb3IsXG4gICAgICBuYW1lOiBuYW1lIHx8IGDnuq/oibLlo4HnurggJHtub3JtYWxpemVkQ29sb3J9YCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOWKoOi9veiHquWumuS5ieWjgee6uFxuICBwcml2YXRlIGxvYWRDdXN0b21XYWxscGFwZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNhdmVkV2FsbHBhcGVycyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFdhbGxwYXBlck1hbmFnZXIuQ1VTVE9NX1dBTExQQVBFUlNfS0VZKTtcblxuICAgIGlmIChzYXZlZFdhbGxwYXBlcnMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY3VzdG9tV2FsbHBhcGVycyA9IEpTT04ucGFyc2Uoc2F2ZWRXYWxscGFwZXJzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY3VzdG9tIHdhbGxwYXBlcnM6JywgZSk7XG4gICAgICAgIHRoaXMuY3VzdG9tV2FsbHBhcGVycyA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOS/neWtmOiHquWumuS5ieWjgee6uFxuICBwcml2YXRlIHNhdmVDdXN0b21XYWxscGFwZXJzKCk6IHZvaWQge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFdhbGxwYXBlck1hbmFnZXIuQ1VTVE9NX1dBTExQQVBFUlNfS0VZLCBKU09OLnN0cmluZ2lmeSh0aGlzLmN1c3RvbVdhbGxwYXBlcnMpKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/theme-manager.ts\n\n}");
  },
  "./src/同层手机/ui-manager.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UIManager: () => (/* binding */ UIManager)\n/* harmony export */ });\n/* harmony import */ var _theme_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme-manager */ \"./src/同层手机/theme-manager.ts\");\n// 用户界面管理模块\n// 负责导航、面板切换、尺寸调整、版本显示等UI相关功能\n\nclass UIManager {\n    configManager;\n    onAddEntry;\n    onRenderEntry;\n    constructor(configManager, onAddEntry, onRenderEntry) {\n        this.configManager = configManager;\n        this.onAddEntry = onAddEntry;\n        this.onRenderEntry = onRenderEntry;\n    }\n    // 显示应用版本\n    displayAppVersion() {\n        $('#app-version-display').text(`v${_theme_manager__WEBPACK_IMPORTED_MODULE_0__.APP_VERSION}`);\n    }\n    // 检查是否显示版本更新通知\n    checkVersionUpdateNotification() {\n        const lastNotifiedVersion = this.configManager.getLastNotifiedVersion();\n        // 如果没有通知过当前版本，显示通知\n        if (lastNotifiedVersion !== _theme_manager__WEBPACK_IMPORTED_MODULE_0__.APP_VERSION) {\n            this.showVersionUpdateNotification();\n            this.configManager.setLastNotifiedVersion(_theme_manager__WEBPACK_IMPORTED_MODULE_0__.APP_VERSION);\n        }\n    }\n    // 显示版本更新通知\n    showVersionUpdateNotification() {\n        // 创建系统消息\n        const updateEntry = {\n            type: 'message',\n            sender: 'them',\n            content: `系统消息：应用已更新到 v${_theme_manager__WEBPACK_IMPORTED_MODULE_0__.APP_VERSION}，已自动清理过时数据以确保功能正常运行。您无需手动清除浏览器缓存。`,\n            id: `system-${Date.now()}`,\n            isSystemMessage: true,\n        };\n        // 添加到聊天记录\n        if (this.onAddEntry) {\n            this.onAddEntry(updateEntry);\n        }\n        // 渲染消息\n        if (this.onRenderEntry) {\n            this.onRenderEntry(updateEntry, undefined, true);\n        }\n    }\n    // 更新底部按钮状态\n    updateFooterButtonsState(hasNotifications) {\n        const $wechatInput = $('#wechat-input-field');\n        const $sendBtn = $('#send-btn');\n        const $plusBtn = $('#plus-btn');\n        const hasText = $wechatInput.val()?.toString().trim() !== '';\n        const shouldShowSendBtn = hasText || hasNotifications;\n        // 使用jQuery方法更新显示状态\n        $sendBtn.css('display', shouldShowSendBtn ? 'flex' : 'none');\n        $plusBtn.css('display', hasText ? 'none' : 'inline-block');\n    }\n    // 切换面板\n    togglePanel(panelToShow) {\n        const $panelContainer = $('#panel-container');\n        const $currentActivePanel = $('.panel-view.active');\n        const isActive = $panelContainer.hasClass('active');\n        if (isActive && $currentActivePanel.length && $currentActivePanel.attr('id')?.startsWith(panelToShow || '')) {\n            $panelContainer.removeClass('active');\n            $currentActivePanel.removeClass('active');\n        }\n        else if (panelToShow) {\n            if ($currentActivePanel.length)\n                $currentActivePanel.removeClass('active');\n            $(`#${panelToShow}-panel`).addClass('active');\n            if (!isActive)\n                $panelContainer.addClass('active');\n        }\n        else {\n            if (isActive)\n                $panelContainer.removeClass('active');\n            if ($currentActivePanel.length)\n                $currentActivePanel.removeClass('active');\n        }\n    }\n    // 导航到指定视图\n    navigateTo(viewName, onEnterMomentsView) {\n        const views = {\n            home: '#app-homescreen',\n            wechat: '#wechat-view',\n            moments: '#moments-view',\n            settings: '#settings-view',\n        };\n        // 使用jQuery隐藏所有视图并显示目标视图\n        $('.app-view').removeClass('active');\n        $(views[viewName]).addClass('active');\n        // 当导航到朋友圈视图时，执行回调\n        if (viewName === 'moments' && onEnterMomentsView) {\n            onEnterMomentsView();\n        }\n    }\n    // 设置输入框提示文字\n    setupInputPlaceholder(charDisplayName) {\n        const savedPlaceholder = this.configManager.getSavedInputPlaceholder();\n        const $inputElement = $('#wechat-input-field');\n        $inputElement.attr('placeholder', savedPlaceholder || `与 ${charDisplayName} 对话...`);\n        $inputElement.prop('disabled', false);\n    }\n    // 设置手机尺寸调整\n    setupPhoneSizeAdjustment() {\n        const defaultBtn = document.getElementById('phone-size-default');\n        const mediumBtn = document.getElementById('phone-size-medium');\n        const smallBtn = document.getElementById('phone-size-small');\n        const phoneScreen = document.querySelector('.phone-screen');\n        if (!defaultBtn || !mediumBtn || !smallBtn || !phoneScreen) {\n            console.error('[BLMX] Phone size adjustment elements not found');\n            return;\n        }\n        // 应用保存的尺寸设置\n        const savedSize = this.configManager.getPhoneSize();\n        this.applyPhoneSize(savedSize, phoneScreen, [defaultBtn, mediumBtn, smallBtn]);\n        // 设置按钮点击事件\n        defaultBtn.addEventListener('click', () => {\n            this.applyPhoneSize('default', phoneScreen, [defaultBtn, mediumBtn, smallBtn]);\n        });\n        mediumBtn.addEventListener('click', () => {\n            this.applyPhoneSize('medium', phoneScreen, [defaultBtn, mediumBtn, smallBtn]);\n        });\n        smallBtn.addEventListener('click', () => {\n            this.applyPhoneSize('small', phoneScreen, [defaultBtn, mediumBtn, smallBtn]);\n        });\n    }\n    // 设置表情包尺寸控制\n    setupStickerSizeControl() {\n        const sizeSlider = document.getElementById('sticker-size-slider');\n        const sizeInput = document.getElementById('sticker-size-input');\n        const smallSizeBtn = document.getElementById('sticker-size-small');\n        const mediumSizeBtn = document.getElementById('sticker-size-medium');\n        if (!sizeSlider || !sizeInput || !smallSizeBtn || !mediumSizeBtn) {\n            return;\n        }\n        // 获取保存的尺寸设置\n        const savedSize = this.configManager.getStickerSize();\n        // 初始化控件值\n        sizeSlider.value = savedSize.toString();\n        sizeInput.value = savedSize.toString();\n        // 设置初始按钮状态\n        if (savedSize === 80) {\n            smallSizeBtn.classList.add('sticker-size-active');\n            mediumSizeBtn.classList.remove('sticker-size-active');\n        }\n        else if (savedSize === 120) {\n            smallSizeBtn.classList.remove('sticker-size-active');\n            mediumSizeBtn.classList.add('sticker-size-active');\n        }\n        else {\n            smallSizeBtn.classList.remove('sticker-size-active');\n            mediumSizeBtn.classList.remove('sticker-size-active');\n        }\n        // 设置CSS变量\n        this.applyStickerSize(savedSize);\n        // 滑块事件\n        sizeSlider.addEventListener('input', () => {\n            const newSize = parseInt(sizeSlider.value);\n            sizeInput.value = newSize.toString();\n            this.configManager.setStickerSize(newSize);\n            this.applyStickerSize(newSize);\n            // 更新按钮状态\n            this.updateStickerSizeButtonState(newSize, smallSizeBtn, mediumSizeBtn);\n        });\n        // 数字输入框事件\n        sizeInput.addEventListener('change', () => {\n            let newSize = parseInt(sizeInput.value);\n            // 限制范围\n            if (newSize < 40)\n                newSize = 40;\n            if (newSize > 200)\n                newSize = 200;\n            const newSizeStr = newSize.toString();\n            sizeInput.value = newSizeStr;\n            sizeSlider.value = newSizeStr;\n            this.configManager.setStickerSize(newSize);\n            this.applyStickerSize(newSize);\n            // 更新按钮状态\n            this.updateStickerSizeButtonState(newSize, smallSizeBtn, mediumSizeBtn);\n        });\n        // 小尺寸按钮事件\n        smallSizeBtn.addEventListener('click', () => {\n            this.setStickerSize(80, sizeSlider, sizeInput, smallSizeBtn, mediumSizeBtn);\n        });\n        // 中尺寸按钮事件\n        mediumSizeBtn.addEventListener('click', () => {\n            this.setStickerSize(120, sizeSlider, sizeInput, smallSizeBtn, mediumSizeBtn);\n        });\n    }\n    // 应用手机尺寸设置\n    applyPhoneSize(size, phoneScreen, buttons) {\n        // 手机尺寸常量\n        const PHONE_SIZES = {\n            default: '48.75rem', // 默认尺寸: 48.75rem (780px)\n            medium: '42rem', // 中等尺寸: 42rem (672px)\n            small: '36rem', // 小尺寸: 36rem (576px)\n        };\n        // 设置屏幕高度\n        phoneScreen.style.height = PHONE_SIZES[size];\n        // 保存设置\n        this.configManager.setPhoneSize(size);\n        // 更新按钮样式\n        buttons.forEach(btn => btn.classList.remove('phone-size-active'));\n        // 根据选择的尺寸激活对应按钮\n        if (size === 'default') {\n            buttons[0].classList.add('phone-size-active');\n        }\n        else if (size === 'medium') {\n            buttons[1].classList.add('phone-size-active');\n        }\n        else if (size === 'small') {\n            buttons[2].classList.add('phone-size-active');\n        }\n    }\n    // 应用表情包尺寸\n    applyStickerSize(size) {\n        document.documentElement.style.setProperty('--sticker-size', `${size}px`);\n    }\n    // 设置表情包尺寸\n    setStickerSize(size, sizeSlider, sizeInput, smallSizeBtn, mediumSizeBtn) {\n        sizeSlider.value = size.toString();\n        sizeInput.value = size.toString();\n        this.configManager.setStickerSize(size);\n        this.applyStickerSize(size);\n        this.updateStickerSizeButtonState(size, smallSizeBtn, mediumSizeBtn);\n    }\n    // 更新表情包尺寸按钮状态\n    updateStickerSizeButtonState(size, smallSizeBtn, mediumSizeBtn) {\n        if (size === 80) {\n            smallSizeBtn.classList.add('sticker-size-active');\n            mediumSizeBtn.classList.remove('sticker-size-active');\n        }\n        else if (size === 120) {\n            smallSizeBtn.classList.remove('sticker-size-active');\n            mediumSizeBtn.classList.add('sticker-size-active');\n        }\n        else {\n            smallSizeBtn.classList.remove('sticker-size-active');\n            mediumSizeBtn.classList.remove('sticker-size-active');\n        }\n    }\n    // 滚动到聊天底部\n    scrollToBottom() {\n        setTimeout(() => {\n            const wechatBody = document.querySelector('.wechat-body');\n            if (wechatBody) {\n                wechatBody.scrollTop = wechatBody.scrollHeight;\n            }\n        }, 300);\n    }\n    // 设置字体选择功能\n    setupFontSelection() {\n        const $customFontBtn = $('#font-default');\n        const $systemFontBtn = $('#font-system');\n        if (!$customFontBtn.length || !$systemFontBtn.length) {\n            return;\n        }\n        // 从localStorage读取保存的字体设置\n        const savedFont = localStorage.getItem('blmx_font_setting') || 'custom';\n        this.applyFontSetting(savedFont);\n        // 绑定点击事件\n        $customFontBtn.on('click', () => {\n            this.applyFontSetting('custom');\n            localStorage.setItem('blmx_font_setting', 'custom');\n        });\n        $systemFontBtn.on('click', () => {\n            this.applyFontSetting('system');\n            localStorage.setItem('blmx_font_setting', 'system');\n        });\n    }\n    // 应用字体设置\n    applyFontSetting(fontType) {\n        const $body = $('body');\n        const $customBtn = $('#font-default');\n        const $systemBtn = $('#font-system');\n        // 移除所有按钮的激活状态\n        $('.font-btn').removeClass('font-active');\n        if (fontType === 'custom') {\n            // 使用自定义字体 - 改进兼容性\n            this.applyCustomFont();\n            $customBtn.addClass('font-active');\n        }\n        else {\n            // 使用系统字体 - 改进兼容性\n            this.applySystemFont();\n            $systemBtn.addClass('font-active');\n        }\n    }\n    // 应用自定义字体的兼容性方法\n    applyCustomFont() {\n        const $body = $('body');\n        // 检测特殊WebView环境\n        const isIOSWebView = /iPhone|iPad|iPod/.test(navigator.userAgent) && /WebKit/.test(navigator.userAgent);\n        const isHuaweiWebView = /HUAWEI/.test(navigator.userAgent);\n        if (isIOSWebView || isHuaweiWebView) {\n            // 对于问题WebView，使用更简单的方法\n            // 直接设置字体，不依赖Font Loading API\n            const fontStack = \"'MyCustomFont', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif\";\n            $body.css('font-family', fontStack);\n            // 强制重新渲染\n            $body.addClass('force-font-refresh');\n            setTimeout(() => {\n                $body.removeClass('force-font-refresh');\n            }, 50);\n            // 延迟再次应用，确保生效\n            setTimeout(() => {\n                $body.css('font-family', fontStack);\n            }, 100);\n            return;\n        }\n        // 对于正常浏览器，使用标准方法\n        this.checkFontLoaded('MyCustomFont').then(loaded => {\n            if (loaded) {\n                // 字体已加载，直接应用\n                $body.css('font-family', \"'MyCustomFont', 'Noto Sans SC', sans-serif\");\n            }\n            else {\n                // 字体未加载，尝试加载后再应用\n                this.loadCustomFont()\n                    .then(() => {\n                    $body.css('font-family', \"'MyCustomFont', 'Noto Sans SC', sans-serif\");\n                })\n                    .catch(() => {\n                    // 加载失败，使用备用字体\n                    $body.css('font-family', \"'Noto Sans SC', sans-serif\");\n                });\n            }\n        });\n    }\n    // 应用系统字体的兼容性方法\n    applySystemFont() {\n        const $body = $('body');\n        // 检测特殊WebView环境\n        const isIOSWebView = /iPhone|iPad|iPod/.test(navigator.userAgent) && /WebKit/.test(navigator.userAgent);\n        const isHuaweiWebView = /HUAWEI/.test(navigator.userAgent);\n        let fontStack;\n        if (isIOSWebView) {\n            // iOS WebView 优化字体栈\n            fontStack = '-apple-system, \"SF Pro Display\", \"SF Pro Text\", \"Helvetica Neue\", Helvetica, Arial, sans-serif';\n        }\n        else if (isHuaweiWebView) {\n            // 华为 WebView 优化字体栈\n            fontStack = '\"HarmonyOS Sans\", \"Noto Sans SC\", \"Microsoft YaHei\", Arial, sans-serif';\n        }\n        else {\n            // 通用系统字体栈\n            fontStack =\n                '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"';\n        }\n        $body.css('font-family', fontStack);\n        // 对于问题WebView，强制重新渲染\n        if (isIOSWebView || isHuaweiWebView) {\n            $body.addClass('force-font-refresh');\n            setTimeout(() => {\n                $body.removeClass('force-font-refresh');\n            }, 50);\n        }\n    }\n    // 检查字体是否已加载\n    checkFontLoaded(fontFamily) {\n        return new Promise(resolve => {\n            if (!document.fonts) {\n                // 不支持Font Loading API，假设已加载\n                resolve(true);\n                return;\n            }\n            document.fonts.ready\n                .then(() => {\n                const fontFace = Array.from(document.fonts).find(font => font.family === fontFamily || font.family === `'${fontFamily}'`);\n                resolve(!!fontFace && fontFace.status === 'loaded');\n            })\n                .catch(() => {\n                resolve(false);\n            });\n        });\n    }\n    // 加载自定义字体\n    loadCustomFont() {\n        return new Promise((resolve, reject) => {\n            if (!document.fonts) {\n                // 不支持Font Loading API，使用传统方法\n                const testElement = $('<div>')\n                    .css({\n                    position: 'absolute',\n                    left: '-9999px',\n                    top: '-9999px',\n                    fontSize: '72px',\n                    fontFamily: \"'MyCustomFont', monospace\",\n                    visibility: 'hidden',\n                })\n                    .text('test')\n                    .appendTo('body');\n                // 等待一段时间后检查\n                setTimeout(() => {\n                    testElement.remove();\n                    resolve();\n                }, 1000);\n                return;\n            }\n            const fontFace = new FontFace('MyCustomFont', 'url(https://files.catbox.moe/er4wsg.ttf)');\n            fontFace\n                .load()\n                .then(loadedFace => {\n                document.fonts.add(loadedFace);\n                resolve();\n            })\n                .catch(error => {\n                reject(error);\n            });\n        });\n    }\n    // 设置全屏模式手机大小调整\n    setupFullscreenSizeAdjustment() {\n        // 等待DOM完全加载\n        setTimeout(() => {\n            const $defaultBtn = $('#fullscreen-size-default');\n            const $largeBtn = $('#fullscreen-size-large');\n            const $xlargeBtn = $('#fullscreen-size-xlarge');\n            const $slider = $('#fullscreen-size-slider');\n            const $input = $('#fullscreen-size-input');\n            if (!$defaultBtn.length || !$largeBtn.length || !$xlargeBtn.length || !$slider.length || !$input.length) {\n                return;\n            }\n            this.initializeFullscreenSizeControls($defaultBtn, $largeBtn, $xlargeBtn, $slider, $input);\n        }, 100);\n    }\n    // 初始化全屏大小控件\n    initializeFullscreenSizeControls($defaultBtn, $largeBtn, $xlargeBtn, $slider, $input) {\n        // 从localStorage读取保存的全屏大小设置\n        const savedSize = this.configManager.getFullscreenSize();\n        // 初始化控件值\n        $slider.val(savedSize);\n        $input.val(savedSize);\n        this.applyFullscreenSize(savedSize);\n        this.updateFullscreenSizeButtonState(savedSize);\n        // 预设按钮点击事件\n        $defaultBtn.off('click').on('click', e => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.setFullscreenSize(100);\n        });\n        $largeBtn.off('click').on('click', e => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.setFullscreenSize(130);\n        });\n        $xlargeBtn.off('click').on('click', e => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.setFullscreenSize(160);\n        });\n        // 滑块事件\n        $slider.off('input').on('input', e => {\n            const newSize = parseInt($(e.target).val());\n            $input.val(newSize);\n            this.setFullscreenSize(newSize);\n        });\n        // 数字输入框事件\n        $input.off('change').on('change', e => {\n            let newSize = parseInt($(e.target).val());\n            // 限制范围\n            if (newSize < 50)\n                newSize = 50;\n            if (newSize > 200)\n                newSize = 200;\n            $input.val(newSize);\n            $slider.val(newSize);\n            this.setFullscreenSize(newSize);\n        });\n        // 监听全屏状态变化\n        this.setupFullscreenListener();\n    }\n    // 设置全屏状态监听器\n    setupFullscreenListener() {\n        const handleFullscreenChange = () => {\n            const isFullscreen = !!(document.fullscreenElement ||\n                document.webkitFullscreenElement ||\n                document.mozFullScreenElement ||\n                document.msFullscreenElement);\n            if (!isFullscreen) {\n                // 退出全屏时重置缩放\n                this.resetBrowserZoom();\n            }\n            else {\n                // 进入全屏时应用当前设置\n                const currentSize = this.configManager.getFullscreenSize();\n                this.applyBrowserLikeZoom(currentSize / 100);\n            }\n        };\n        // 绑定全屏状态变化事件\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        document.addEventListener('webkitfullscreenchange', handleFullscreenChange);\n        document.addEventListener('mozfullscreenchange', handleFullscreenChange);\n        document.addEventListener('MSFullscreenChange', handleFullscreenChange);\n    }\n    // 重置浏览器缩放\n    resetBrowserZoom() {\n        const body = document.body;\n        // 重置所有缩放相关样式\n        body.style.transform = '';\n        body.style.transformOrigin = '';\n        body.style.position = '';\n        body.style.width = '';\n        body.style.height = '';\n        body.style.margin = '';\n    }\n    // 设置全屏大小并更新UI\n    setFullscreenSize(size) {\n        // 保存设置\n        this.configManager.setFullscreenSize(size);\n        // 更新滑块和输入框\n        $('#fullscreen-size-slider').val(size);\n        $('#fullscreen-size-input').val(size);\n        // 应用设置\n        this.applyFullscreenSize(size);\n        // 更新按钮状态\n        this.updateFullscreenSizeButtonState(size);\n    }\n    // 应用全屏模式手机大小设置\n    applyFullscreenSize(size) {\n        const scale = size / 100;\n        // 检查当前是否在全屏模式\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            // 在全屏模式下应用浏览器级别的缩放\n            this.applyBrowserLikeZoom(scale);\n        }\n        // 删除非全屏模式下的临时预览功能\n    }\n    // 应用类似浏览器的缩放效果\n    applyBrowserLikeZoom(scale) {\n        const body = document.body;\n        if (scale !== 1) {\n            body.style.transform = `scale(${scale})`;\n            body.style.transformOrigin = 'center center';\n            body.style.position = 'relative';\n            body.style.width = `${100 / scale}%`;\n            body.style.height = `${100 / scale}%`;\n            body.style.margin = '0 auto';\n        }\n        else {\n            body.style.transform = '';\n            body.style.transformOrigin = '';\n            body.style.position = '';\n            body.style.width = '';\n            body.style.height = '';\n            body.style.margin = '';\n        }\n    }\n    // 更新按钮状态\n    updateFullscreenSizeButtonState(size) {\n        // 移除所有按钮的激活状态\n        $('.fullscreen-size-btn').removeClass('fullscreen-size-active');\n        // 根据大小激活对应按钮\n        if (size === 100) {\n            $('#fullscreen-size-default').addClass('fullscreen-size-active');\n        }\n        else if (size === 130) {\n            $('#fullscreen-size-large').addClass('fullscreen-size-active');\n        }\n        else if (size === 160) {\n            $('#fullscreen-size-xlarge').addClass('fullscreen-size-active');\n        }\n        // 自定义大小不激活任何预设按钮\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDeEIsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDbEUsQ0FBQztRQUNELGlCQUFpQjtJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WQjOWxguaJi+acui91aS1tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOeUqOaIt+eVjOmdoueuoeeQhuaooeWdl1xuLy8g6LSf6LSj5a+86Iiq44CB6Z2i5p2/5YiH5o2i44CB5bC65a+46LCD5pW044CB54mI5pys5pi+56S6562JVUnnm7jlhbPlip/og71cblxuaW1wb3J0IHsgQ29uZmlnTWFuYWdlciB9IGZyb20gJy4vY29uZmlnLW1hbmFnZXInO1xuaW1wb3J0IHsgTG9nRW50cnkgfSBmcm9tICcuL3NjcmlwdCc7XG5pbXBvcnQgeyBBUFBfVkVSU0lPTiB9IGZyb20gJy4vdGhlbWUtbWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBVSU1hbmFnZXIge1xuICBwcml2YXRlIGNvbmZpZ01hbmFnZXI6IENvbmZpZ01hbmFnZXI7XG4gIHByaXZhdGUgb25BZGRFbnRyeT86IChlbnRyeTogTG9nRW50cnkpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25SZW5kZXJFbnRyeT86IChlbnRyeTogTG9nRW50cnksIGluZGV4PzogbnVtYmVyLCBhbmltYXRlPzogYm9vbGVhbikgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb25maWdNYW5hZ2VyOiBDb25maWdNYW5hZ2VyLFxuICAgIG9uQWRkRW50cnk/OiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkLFxuICAgIG9uUmVuZGVyRW50cnk/OiAoZW50cnk6IExvZ0VudHJ5LCBpbmRleD86IG51bWJlciwgYW5pbWF0ZT86IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge1xuICAgIHRoaXMuY29uZmlnTWFuYWdlciA9IGNvbmZpZ01hbmFnZXI7XG4gICAgdGhpcy5vbkFkZEVudHJ5ID0gb25BZGRFbnRyeTtcbiAgICB0aGlzLm9uUmVuZGVyRW50cnkgPSBvblJlbmRlckVudHJ5O1xuICB9XG5cbiAgLy8g5pi+56S65bqU55So54mI5pysXG4gIGRpc3BsYXlBcHBWZXJzaW9uKCk6IHZvaWQge1xuICAgICQoJyNhcHAtdmVyc2lvbi1kaXNwbGF5JykudGV4dChgdiR7QVBQX1ZFUlNJT059YCk7XG4gIH1cblxuICAvLyDmo4Dmn6XmmK/lkKbmmL7npLrniYjmnKzmm7TmlrDpgJrnn6VcbiAgY2hlY2tWZXJzaW9uVXBkYXRlTm90aWZpY2F0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IGxhc3ROb3RpZmllZFZlcnNpb24gPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0TGFzdE5vdGlmaWVkVmVyc2lvbigpO1xuXG4gICAgLy8g5aaC5p6c5rKh5pyJ6YCa55+l6L+H5b2T5YmN54mI5pys77yM5pi+56S66YCa55+lXG4gICAgaWYgKGxhc3ROb3RpZmllZFZlcnNpb24gIT09IEFQUF9WRVJTSU9OKSB7XG4gICAgICB0aGlzLnNob3dWZXJzaW9uVXBkYXRlTm90aWZpY2F0aW9uKCk7XG4gICAgICB0aGlzLmNvbmZpZ01hbmFnZXIuc2V0TGFzdE5vdGlmaWVkVmVyc2lvbihBUFBfVkVSU0lPTik7XG4gICAgfVxuICB9XG5cbiAgLy8g5pi+56S654mI5pys5pu05paw6YCa55+lXG4gIHByaXZhdGUgc2hvd1ZlcnNpb25VcGRhdGVOb3RpZmljYXRpb24oKTogdm9pZCB7XG4gICAgLy8g5Yib5bu657O757uf5raI5oGvXG4gICAgY29uc3QgdXBkYXRlRW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgc2VuZGVyOiAndGhlbScsXG4gICAgICBjb250ZW50OiBg57O757uf5raI5oGv77ya5bqU55So5bey5pu05paw5YiwIHYke0FQUF9WRVJTSU9Ofe+8jOW3suiHquWKqOa4heeQhui/h+aXtuaVsOaNruS7peehruS/neWKn+iDveato+W4uOi/kOihjOOAguaCqOaXoOmcgOaJi+WKqOa4hemZpOa1j+iniOWZqOe8k+WtmOOAgmAsXG4gICAgICBpZDogYHN5c3RlbS0ke0RhdGUubm93KCl9YCxcbiAgICAgIGlzU3lzdGVtTWVzc2FnZTogdHJ1ZSxcbiAgICB9O1xuXG4gICAgLy8g5re75Yqg5Yiw6IGK5aSp6K6w5b2VXG4gICAgaWYgKHRoaXMub25BZGRFbnRyeSkge1xuICAgICAgdGhpcy5vbkFkZEVudHJ5KHVwZGF0ZUVudHJ5KTtcbiAgICB9XG5cbiAgICAvLyDmuLLmn5Pmtojmga9cbiAgICBpZiAodGhpcy5vblJlbmRlckVudHJ5KSB7XG4gICAgICB0aGlzLm9uUmVuZGVyRW50cnkodXBkYXRlRW50cnksIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8g5pu05paw5bqV6YOo5oyJ6ZKu54q25oCBXG4gIHVwZGF0ZUZvb3RlckJ1dHRvbnNTdGF0ZShoYXNOb3RpZmljYXRpb25zOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgJHdlY2hhdElucHV0ID0gJCgnI3dlY2hhdC1pbnB1dC1maWVsZCcpO1xuICAgIGNvbnN0ICRzZW5kQnRuID0gJCgnI3NlbmQtYnRuJyk7XG4gICAgY29uc3QgJHBsdXNCdG4gPSAkKCcjcGx1cy1idG4nKTtcblxuICAgIGNvbnN0IGhhc1RleHQgPSAkd2VjaGF0SW5wdXQudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpICE9PSAnJztcbiAgICBjb25zdCBzaG91bGRTaG93U2VuZEJ0biA9IGhhc1RleHQgfHwgaGFzTm90aWZpY2F0aW9ucztcblxuICAgIC8vIOS9v+eUqGpRdWVyeeaWueazleabtOaWsOaYvuekuueKtuaAgVxuICAgICRzZW5kQnRuLmNzcygnZGlzcGxheScsIHNob3VsZFNob3dTZW5kQnRuID8gJ2ZsZXgnIDogJ25vbmUnKTtcbiAgICAkcGx1c0J0bi5jc3MoJ2Rpc3BsYXknLCBoYXNUZXh0ID8gJ25vbmUnIDogJ2lubGluZS1ibG9jaycpO1xuICB9XG5cbiAgLy8g5YiH5o2i6Z2i5p2/XG4gIHRvZ2dsZVBhbmVsKHBhbmVsVG9TaG93OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgY29uc3QgJHBhbmVsQ29udGFpbmVyID0gJCgnI3BhbmVsLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0ICRjdXJyZW50QWN0aXZlUGFuZWwgPSAkKCcucGFuZWwtdmlldy5hY3RpdmUnKTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9ICRwYW5lbENvbnRhaW5lci5oYXNDbGFzcygnYWN0aXZlJyk7XG5cbiAgICBpZiAoaXNBY3RpdmUgJiYgJGN1cnJlbnRBY3RpdmVQYW5lbC5sZW5ndGggJiYgJGN1cnJlbnRBY3RpdmVQYW5lbC5hdHRyKCdpZCcpPy5zdGFydHNXaXRoKHBhbmVsVG9TaG93IHx8ICcnKSkge1xuICAgICAgJHBhbmVsQ29udGFpbmVyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICRjdXJyZW50QWN0aXZlUGFuZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSBpZiAocGFuZWxUb1Nob3cpIHtcbiAgICAgIGlmICgkY3VycmVudEFjdGl2ZVBhbmVsLmxlbmd0aCkgJGN1cnJlbnRBY3RpdmVQYW5lbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKGAjJHtwYW5lbFRvU2hvd30tcGFuZWxgKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICBpZiAoIWlzQWN0aXZlKSAkcGFuZWxDb250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNBY3RpdmUpICRwYW5lbENvbnRhaW5lci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICBpZiAoJGN1cnJlbnRBY3RpdmVQYW5lbC5sZW5ndGgpICRjdXJyZW50QWN0aXZlUGFuZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOWvvOiIquWIsOaMh+WumuinhuWbvlxuICBuYXZpZ2F0ZVRvKHZpZXdOYW1lOiAnaG9tZScgfCAnd2VjaGF0JyB8ICdtb21lbnRzJyB8ICdzZXR0aW5ncycsIG9uRW50ZXJNb21lbnRzVmlldz86ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCB2aWV3cyA9IHtcbiAgICAgIGhvbWU6ICcjYXBwLWhvbWVzY3JlZW4nLFxuICAgICAgd2VjaGF0OiAnI3dlY2hhdC12aWV3JyxcbiAgICAgIG1vbWVudHM6ICcjbW9tZW50cy12aWV3JyxcbiAgICAgIHNldHRpbmdzOiAnI3NldHRpbmdzLXZpZXcnLFxuICAgIH07XG5cbiAgICAvLyDkvb/nlKhqUXVlcnnpmpDol4/miYDmnInop4blm77lubbmmL7npLrnm67moIfop4blm75cbiAgICAkKCcuYXBwLXZpZXcnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh2aWV3c1t2aWV3TmFtZV0pLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgIC8vIOW9k+WvvOiIquWIsOaci+WPi+WciOinhuWbvuaXtu+8jOaJp+ihjOWbnuiwg1xuICAgIGlmICh2aWV3TmFtZSA9PT0gJ21vbWVudHMnICYmIG9uRW50ZXJNb21lbnRzVmlldykge1xuICAgICAgb25FbnRlck1vbWVudHNWaWV3KCk7XG4gICAgfVxuICB9XG5cbiAgLy8g6K6+572u6L6T5YWl5qGG5o+Q56S65paH5a2XXG4gIHNldHVwSW5wdXRQbGFjZWhvbGRlcihjaGFyRGlzcGxheU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHNhdmVkUGxhY2Vob2xkZXIgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0U2F2ZWRJbnB1dFBsYWNlaG9sZGVyKCk7XG4gICAgY29uc3QgJGlucHV0RWxlbWVudCA9ICQoJyN3ZWNoYXQtaW5wdXQtZmllbGQnKTtcbiAgICAkaW5wdXRFbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJywgc2F2ZWRQbGFjZWhvbGRlciB8fCBg5LiOICR7Y2hhckRpc3BsYXlOYW1lfSDlr7nor50uLi5gKTtcbiAgICAkaW5wdXRFbGVtZW50LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICB9XG5cbiAgLy8g6K6+572u5omL5py65bC65a+46LCD5pW0XG4gIHNldHVwUGhvbmVTaXplQWRqdXN0bWVudCgpOiB2b2lkIHtcbiAgICBjb25zdCBkZWZhdWx0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lLXNpemUtZGVmYXVsdCcpO1xuICAgIGNvbnN0IG1lZGl1bUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZS1zaXplLW1lZGl1bScpO1xuICAgIGNvbnN0IHNtYWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lLXNpemUtc21hbGwnKTtcbiAgICBjb25zdCBwaG9uZVNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG9uZS1zY3JlZW4nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIGlmICghZGVmYXVsdEJ0biB8fCAhbWVkaXVtQnRuIHx8ICFzbWFsbEJ0biB8fCAhcGhvbmVTY3JlZW4pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCTE1YXSBQaG9uZSBzaXplIGFkanVzdG1lbnQgZWxlbWVudHMgbm90IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5bqU55So5L+d5a2Y55qE5bC65a+46K6+572uXG4gICAgY29uc3Qgc2F2ZWRTaXplID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldFBob25lU2l6ZSgpO1xuICAgIHRoaXMuYXBwbHlQaG9uZVNpemUoc2F2ZWRTaXplLCBwaG9uZVNjcmVlbiwgW2RlZmF1bHRCdG4sIG1lZGl1bUJ0biwgc21hbGxCdG5dKTtcblxuICAgIC8vIOiuvue9ruaMiemSrueCueWHu+S6i+S7tlxuICAgIGRlZmF1bHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmFwcGx5UGhvbmVTaXplKCdkZWZhdWx0JywgcGhvbmVTY3JlZW4sIFtkZWZhdWx0QnRuLCBtZWRpdW1CdG4sIHNtYWxsQnRuXSk7XG4gICAgfSk7XG5cbiAgICBtZWRpdW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmFwcGx5UGhvbmVTaXplKCdtZWRpdW0nLCBwaG9uZVNjcmVlbiwgW2RlZmF1bHRCdG4sIG1lZGl1bUJ0biwgc21hbGxCdG5dKTtcbiAgICB9KTtcblxuICAgIHNtYWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5hcHBseVBob25lU2l6ZSgnc21hbGwnLCBwaG9uZVNjcmVlbiwgW2RlZmF1bHRCdG4sIG1lZGl1bUJ0biwgc21hbGxCdG5dKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOiuvue9ruihqOaDheWMheWwuuWvuOaOp+WItlxuICBzZXR1cFN0aWNrZXJTaXplQ29udHJvbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzaXplU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0aWNrZXItc2l6ZS1zbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IHNpemVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGlja2VyLXNpemUtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IHNtYWxsU2l6ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGlja2VyLXNpemUtc21hbGwnKTtcbiAgICBjb25zdCBtZWRpdW1TaXplQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0aWNrZXItc2l6ZS1tZWRpdW0nKTtcblxuICAgIGlmICghc2l6ZVNsaWRlciB8fCAhc2l6ZUlucHV0IHx8ICFzbWFsbFNpemVCdG4gfHwgIW1lZGl1bVNpemVCdG4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDojrflj5bkv53lrZjnmoTlsLrlr7jorr7nva5cbiAgICBjb25zdCBzYXZlZFNpemUgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0U3RpY2tlclNpemUoKTtcblxuICAgIC8vIOWIneWni+WMluaOp+S7tuWAvFxuICAgIHNpemVTbGlkZXIudmFsdWUgPSBzYXZlZFNpemUudG9TdHJpbmcoKTtcbiAgICBzaXplSW5wdXQudmFsdWUgPSBzYXZlZFNpemUudG9TdHJpbmcoKTtcblxuICAgIC8vIOiuvue9ruWIneWni+aMiemSrueKtuaAgVxuICAgIGlmIChzYXZlZFNpemUgPT09IDgwKSB7XG4gICAgICBzbWFsbFNpemVCdG4uY2xhc3NMaXN0LmFkZCgnc3RpY2tlci1zaXplLWFjdGl2ZScpO1xuICAgICAgbWVkaXVtU2l6ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja2VyLXNpemUtYWN0aXZlJyk7XG4gICAgfSBlbHNlIGlmIChzYXZlZFNpemUgPT09IDEyMCkge1xuICAgICAgc21hbGxTaXplQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3N0aWNrZXItc2l6ZS1hY3RpdmUnKTtcbiAgICAgIG1lZGl1bVNpemVCdG4uY2xhc3NMaXN0LmFkZCgnc3RpY2tlci1zaXplLWFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbWFsbFNpemVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2tlci1zaXplLWFjdGl2ZScpO1xuICAgICAgbWVkaXVtU2l6ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja2VyLXNpemUtYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLy8g6K6+572uQ1NT5Y+Y6YePXG4gICAgdGhpcy5hcHBseVN0aWNrZXJTaXplKHNhdmVkU2l6ZSk7XG5cbiAgICAvLyDmu5HlnZfkuovku7ZcbiAgICBzaXplU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV3U2l6ZSA9IHBhcnNlSW50KHNpemVTbGlkZXIudmFsdWUpO1xuICAgICAgc2l6ZUlucHV0LnZhbHVlID0gbmV3U2l6ZS50b1N0cmluZygpO1xuICAgICAgdGhpcy5jb25maWdNYW5hZ2VyLnNldFN0aWNrZXJTaXplKG5ld1NpemUpO1xuICAgICAgdGhpcy5hcHBseVN0aWNrZXJTaXplKG5ld1NpemUpO1xuXG4gICAgICAvLyDmm7TmlrDmjInpkq7nirbmgIFcbiAgICAgIHRoaXMudXBkYXRlU3RpY2tlclNpemVCdXR0b25TdGF0ZShuZXdTaXplLCBzbWFsbFNpemVCdG4sIG1lZGl1bVNpemVCdG4pO1xuICAgIH0pO1xuXG4gICAgLy8g5pWw5a2X6L6T5YWl5qGG5LqL5Lu2XG4gICAgc2l6ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGxldCBuZXdTaXplID0gcGFyc2VJbnQoc2l6ZUlucHV0LnZhbHVlKTtcbiAgICAgIC8vIOmZkOWItuiMg+WbtFxuICAgICAgaWYgKG5ld1NpemUgPCA0MCkgbmV3U2l6ZSA9IDQwO1xuICAgICAgaWYgKG5ld1NpemUgPiAyMDApIG5ld1NpemUgPSAyMDA7XG5cbiAgICAgIGNvbnN0IG5ld1NpemVTdHIgPSBuZXdTaXplLnRvU3RyaW5nKCk7XG4gICAgICBzaXplSW5wdXQudmFsdWUgPSBuZXdTaXplU3RyO1xuICAgICAgc2l6ZVNsaWRlci52YWx1ZSA9IG5ld1NpemVTdHI7XG4gICAgICB0aGlzLmNvbmZpZ01hbmFnZXIuc2V0U3RpY2tlclNpemUobmV3U2l6ZSk7XG4gICAgICB0aGlzLmFwcGx5U3RpY2tlclNpemUobmV3U2l6ZSk7XG5cbiAgICAgIC8vIOabtOaWsOaMiemSrueKtuaAgVxuICAgICAgdGhpcy51cGRhdGVTdGlja2VyU2l6ZUJ1dHRvblN0YXRlKG5ld1NpemUsIHNtYWxsU2l6ZUJ0biwgbWVkaXVtU2l6ZUJ0bik7XG4gICAgfSk7XG5cbiAgICAvLyDlsI/lsLrlr7jmjInpkq7kuovku7ZcbiAgICBzbWFsbFNpemVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0aWNrZXJTaXplKDgwLCBzaXplU2xpZGVyLCBzaXplSW5wdXQsIHNtYWxsU2l6ZUJ0biwgbWVkaXVtU2l6ZUJ0bik7XG4gICAgfSk7XG5cbiAgICAvLyDkuK3lsLrlr7jmjInpkq7kuovku7ZcbiAgICBtZWRpdW1TaXplQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGlja2VyU2l6ZSgxMjAsIHNpemVTbGlkZXIsIHNpemVJbnB1dCwgc21hbGxTaXplQnRuLCBtZWRpdW1TaXplQnRuKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOW6lOeUqOaJi+acuuWwuuWvuOiuvue9rlxuICBwcml2YXRlIGFwcGx5UGhvbmVTaXplKHNpemU6ICdkZWZhdWx0JyB8ICdtZWRpdW0nIHwgJ3NtYWxsJywgcGhvbmVTY3JlZW46IEhUTUxFbGVtZW50LCBidXR0b25zOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgLy8g5omL5py65bC65a+45bi46YePXG4gICAgY29uc3QgUEhPTkVfU0laRVMgPSB7XG4gICAgICBkZWZhdWx0OiAnNDguNzVyZW0nLCAvLyDpu5jorqTlsLrlr7g6IDQ4Ljc1cmVtICg3ODBweClcbiAgICAgIG1lZGl1bTogJzQycmVtJywgLy8g5Lit562J5bC65a+4OiA0MnJlbSAoNjcycHgpXG4gICAgICBzbWFsbDogJzM2cmVtJywgLy8g5bCP5bC65a+4OiAzNnJlbSAoNTc2cHgpXG4gICAgfTtcblxuICAgIC8vIOiuvue9ruWxj+W5lemrmOW6plxuICAgIHBob25lU2NyZWVuLnN0eWxlLmhlaWdodCA9IFBIT05FX1NJWkVTW3NpemVdO1xuXG4gICAgLy8g5L+d5a2Y6K6+572uXG4gICAgdGhpcy5jb25maWdNYW5hZ2VyLnNldFBob25lU2l6ZShzaXplKTtcblxuICAgIC8vIOabtOaWsOaMiemSruagt+W8j1xuICAgIGJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3Bob25lLXNpemUtYWN0aXZlJykpO1xuXG4gICAgLy8g5qC55o2u6YCJ5oup55qE5bC65a+45r+A5rS75a+55bqU5oyJ6ZKuXG4gICAgaWYgKHNpemUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgYnV0dG9uc1swXS5jbGFzc0xpc3QuYWRkKCdwaG9uZS1zaXplLWFjdGl2ZScpO1xuICAgIH0gZWxzZSBpZiAoc2l6ZSA9PT0gJ21lZGl1bScpIHtcbiAgICAgIGJ1dHRvbnNbMV0uY2xhc3NMaXN0LmFkZCgncGhvbmUtc2l6ZS1hY3RpdmUnKTtcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgIGJ1dHRvbnNbMl0uY2xhc3NMaXN0LmFkZCgncGhvbmUtc2l6ZS1hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICAvLyDlupTnlKjooajmg4XljIXlsLrlr7hcbiAgcHJpdmF0ZSBhcHBseVN0aWNrZXJTaXplKHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zdGlja2VyLXNpemUnLCBgJHtzaXplfXB4YCk7XG4gIH1cblxuICAvLyDorr7nva7ooajmg4XljIXlsLrlr7hcbiAgcHJpdmF0ZSBzZXRTdGlja2VyU2l6ZShcbiAgICBzaXplOiBudW1iZXIsXG4gICAgc2l6ZVNsaWRlcjogSFRNTElucHV0RWxlbWVudCxcbiAgICBzaXplSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsXG4gICAgc21hbGxTaXplQnRuOiBIVE1MRWxlbWVudCxcbiAgICBtZWRpdW1TaXplQnRuOiBIVE1MRWxlbWVudCxcbiAgKTogdm9pZCB7XG4gICAgc2l6ZVNsaWRlci52YWx1ZSA9IHNpemUudG9TdHJpbmcoKTtcbiAgICBzaXplSW5wdXQudmFsdWUgPSBzaXplLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5jb25maWdNYW5hZ2VyLnNldFN0aWNrZXJTaXplKHNpemUpO1xuICAgIHRoaXMuYXBwbHlTdGlja2VyU2l6ZShzaXplKTtcblxuICAgIHRoaXMudXBkYXRlU3RpY2tlclNpemVCdXR0b25TdGF0ZShzaXplLCBzbWFsbFNpemVCdG4sIG1lZGl1bVNpemVCdG4pO1xuICB9XG5cbiAgLy8g5pu05paw6KGo5oOF5YyF5bC65a+45oyJ6ZKu54q25oCBXG4gIHByaXZhdGUgdXBkYXRlU3RpY2tlclNpemVCdXR0b25TdGF0ZShzaXplOiBudW1iZXIsIHNtYWxsU2l6ZUJ0bjogSFRNTEVsZW1lbnQsIG1lZGl1bVNpemVCdG46IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgaWYgKHNpemUgPT09IDgwKSB7XG4gICAgICBzbWFsbFNpemVCdG4uY2xhc3NMaXN0LmFkZCgnc3RpY2tlci1zaXplLWFjdGl2ZScpO1xuICAgICAgbWVkaXVtU2l6ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja2VyLXNpemUtYWN0aXZlJyk7XG4gICAgfSBlbHNlIGlmIChzaXplID09PSAxMjApIHtcbiAgICAgIHNtYWxsU2l6ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja2VyLXNpemUtYWN0aXZlJyk7XG4gICAgICBtZWRpdW1TaXplQnRuLmNsYXNzTGlzdC5hZGQoJ3N0aWNrZXItc2l6ZS1hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc21hbGxTaXplQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3N0aWNrZXItc2l6ZS1hY3RpdmUnKTtcbiAgICAgIG1lZGl1bVNpemVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2tlci1zaXplLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOa7muWKqOWIsOiBiuWkqeW6lemDqFxuICBzY3JvbGxUb0JvdHRvbSgpOiB2b2lkIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHdlY2hhdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VjaGF0LWJvZHknKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmICh3ZWNoYXRCb2R5KSB7XG4gICAgICAgIHdlY2hhdEJvZHkuc2Nyb2xsVG9wID0gd2VjaGF0Qm9keS5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcbiAgfVxuXG4gIC8vIOiuvue9ruWtl+S9k+mAieaLqeWKn+iDvVxuICBzZXR1cEZvbnRTZWxlY3Rpb24oKTogdm9pZCB7XG4gICAgY29uc3QgJGN1c3RvbUZvbnRCdG4gPSAkKCcjZm9udC1kZWZhdWx0Jyk7XG4gICAgY29uc3QgJHN5c3RlbUZvbnRCdG4gPSAkKCcjZm9udC1zeXN0ZW0nKTtcblxuICAgIGlmICghJGN1c3RvbUZvbnRCdG4ubGVuZ3RoIHx8ICEkc3lzdGVtRm9udEJ0bi5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDku45sb2NhbFN0b3JhZ2Xor7vlj5bkv53lrZjnmoTlrZfkvZPorr7nva5cbiAgICBjb25zdCBzYXZlZEZvbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmxteF9mb250X3NldHRpbmcnKSB8fCAnY3VzdG9tJztcbiAgICB0aGlzLmFwcGx5Rm9udFNldHRpbmcoc2F2ZWRGb250IGFzICdjdXN0b20nIHwgJ3N5c3RlbScpO1xuXG4gICAgLy8g57uR5a6a54K55Ye75LqL5Lu2XG4gICAgJGN1c3RvbUZvbnRCdG4ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5hcHBseUZvbnRTZXR0aW5nKCdjdXN0b20nKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdibG14X2ZvbnRfc2V0dGluZycsICdjdXN0b20nKTtcbiAgICB9KTtcblxuICAgICRzeXN0ZW1Gb250QnRuLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYXBwbHlGb250U2V0dGluZygnc3lzdGVtJyk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmxteF9mb250X3NldHRpbmcnLCAnc3lzdGVtJyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDlupTnlKjlrZfkvZPorr7nva5cbiAgcHJpdmF0ZSBhcHBseUZvbnRTZXR0aW5nKGZvbnRUeXBlOiAnY3VzdG9tJyB8ICdzeXN0ZW0nKTogdm9pZCB7XG4gICAgY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgY29uc3QgJGN1c3RvbUJ0biA9ICQoJyNmb250LWRlZmF1bHQnKTtcbiAgICBjb25zdCAkc3lzdGVtQnRuID0gJCgnI2ZvbnQtc3lzdGVtJyk7XG5cbiAgICAvLyDnp7vpmaTmiYDmnInmjInpkq7nmoTmv4DmtLvnirbmgIFcbiAgICAkKCcuZm9udC1idG4nKS5yZW1vdmVDbGFzcygnZm9udC1hY3RpdmUnKTtcblxuICAgIGlmIChmb250VHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgIC8vIOS9v+eUqOiHquWumuS5ieWtl+S9kyAtIOaUuei/m+WFvOWuueaAp1xuICAgICAgdGhpcy5hcHBseUN1c3RvbUZvbnQoKTtcbiAgICAgICRjdXN0b21CdG4uYWRkQ2xhc3MoJ2ZvbnQtYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOS9v+eUqOezu+e7n+Wtl+S9kyAtIOaUuei/m+WFvOWuueaAp1xuICAgICAgdGhpcy5hcHBseVN5c3RlbUZvbnQoKTtcbiAgICAgICRzeXN0ZW1CdG4uYWRkQ2xhc3MoJ2ZvbnQtYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g5bqU55So6Ieq5a6a5LmJ5a2X5L2T55qE5YW85a655oCn5pa55rOVXG4gIHByaXZhdGUgYXBwbHlDdXN0b21Gb250KCk6IHZvaWQge1xuICAgIGNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuXG4gICAgLy8g5qOA5rWL54m55q6KV2ViVmlld+eOr+Wig1xuICAgIGNvbnN0IGlzSU9TV2ViVmlldyA9IC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgY29uc3QgaXNIdWF3ZWlXZWJWaWV3ID0gL0hVQVdFSS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgIGlmIChpc0lPU1dlYlZpZXcgfHwgaXNIdWF3ZWlXZWJWaWV3KSB7XG4gICAgICAvLyDlr7nkuo7pl67pophXZWJWaWV377yM5L2/55So5pu0566A5Y2V55qE5pa55rOVXG4gICAgICAvLyDnm7TmjqXorr7nva7lrZfkvZPvvIzkuI3kvp3otZZGb250IExvYWRpbmcgQVBJXG4gICAgICBjb25zdCBmb250U3RhY2sgPVxuICAgICAgICBcIidNeUN1c3RvbUZvbnQnLCAnTm90byBTYW5zIFNDJywgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgc2Fucy1zZXJpZlwiO1xuICAgICAgJGJvZHkuY3NzKCdmb250LWZhbWlseScsIGZvbnRTdGFjayk7XG5cbiAgICAgIC8vIOW8uuWItumHjeaWsOa4suafk1xuICAgICAgJGJvZHkuYWRkQ2xhc3MoJ2ZvcmNlLWZvbnQtcmVmcmVzaCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRib2R5LnJlbW92ZUNsYXNzKCdmb3JjZS1mb250LXJlZnJlc2gnKTtcbiAgICAgIH0sIDUwKTtcblxuICAgICAgLy8g5bu26L+f5YaN5qyh5bqU55So77yM56Gu5L+d55Sf5pWIXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJGJvZHkuY3NzKCdmb250LWZhbWlseScsIGZvbnRTdGFjayk7XG4gICAgICB9LCAxMDApO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5a+55LqO5q2j5bi45rWP6KeI5Zmo77yM5L2/55So5qCH5YeG5pa55rOVXG4gICAgdGhpcy5jaGVja0ZvbnRMb2FkZWQoJ015Q3VzdG9tRm9udCcpLnRoZW4obG9hZGVkID0+IHtcbiAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgLy8g5a2X5L2T5bey5Yqg6L2977yM55u05o6l5bqU55SoXG4gICAgICAgICRib2R5LmNzcygnZm9udC1mYW1pbHknLCBcIidNeUN1c3RvbUZvbnQnLCAnTm90byBTYW5zIFNDJywgc2Fucy1zZXJpZlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWtl+S9k+acquWKoOi9ve+8jOWwneivleWKoOi9veWQjuWGjeW6lOeUqFxuICAgICAgICB0aGlzLmxvYWRDdXN0b21Gb250KClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAkYm9keS5jc3MoJ2ZvbnQtZmFtaWx5JywgXCInTXlDdXN0b21Gb250JywgJ05vdG8gU2FucyBTQycsIHNhbnMtc2VyaWZcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgLy8g5Yqg6L295aSx6LSl77yM5L2/55So5aSH55So5a2X5L2TXG4gICAgICAgICAgICAkYm9keS5jc3MoJ2ZvbnQtZmFtaWx5JywgXCInTm90byBTYW5zIFNDJywgc2Fucy1zZXJpZlwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIOW6lOeUqOezu+e7n+Wtl+S9k+eahOWFvOWuueaAp+aWueazlVxuICBwcml2YXRlIGFwcGx5U3lzdGVtRm9udCgpOiB2b2lkIHtcbiAgICBjb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcblxuICAgIC8vIOajgOa1i+eJueauildlYlZpZXfnjq/looNcbiAgICBjb25zdCBpc0lPU1dlYlZpZXcgPSAvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IGlzSHVhd2VpV2ViVmlldyA9IC9IVUFXRUkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICBsZXQgZm9udFN0YWNrOiBzdHJpbmc7XG5cbiAgICBpZiAoaXNJT1NXZWJWaWV3KSB7XG4gICAgICAvLyBpT1MgV2ViVmlldyDkvJjljJblrZfkvZPmoIhcbiAgICAgIGZvbnRTdGFjayA9ICctYXBwbGUtc3lzdGVtLCBcIlNGIFBybyBEaXNwbGF5XCIsIFwiU0YgUHJvIFRleHRcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgICB9IGVsc2UgaWYgKGlzSHVhd2VpV2ViVmlldykge1xuICAgICAgLy8g5Y2O5Li6IFdlYlZpZXcg5LyY5YyW5a2X5L2T5qCIXG4gICAgICBmb250U3RhY2sgPSAnXCJIYXJtb255T1MgU2Fuc1wiLCBcIk5vdG8gU2FucyBTQ1wiLCBcIk1pY3Jvc29mdCBZYUhlaVwiLCBBcmlhbCwgc2Fucy1zZXJpZic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOmAmueUqOezu+e7n+Wtl+S9k+agiFxuICAgICAgZm9udFN0YWNrID1cbiAgICAgICAgJy1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBcIk5vdG8gU2Fuc1wiLCBcIkxpYmVyYXRpb24gU2Fuc1wiLCBzYW5zLXNlcmlmLCBcIkFwcGxlIENvbG9yIEVtb2ppXCIsIFwiU2Vnb2UgVUkgRW1vamlcIiwgXCJTZWdvZSBVSSBTeW1ib2xcIiwgXCJOb3RvIENvbG9yIEVtb2ppXCInO1xuICAgIH1cblxuICAgICRib2R5LmNzcygnZm9udC1mYW1pbHknLCBmb250U3RhY2spO1xuXG4gICAgLy8g5a+55LqO6Zeu6aKYV2ViVmlld++8jOW8uuWItumHjeaWsOa4suafk1xuICAgIGlmIChpc0lPU1dlYlZpZXcgfHwgaXNIdWF3ZWlXZWJWaWV3KSB7XG4gICAgICAkYm9keS5hZGRDbGFzcygnZm9yY2UtZm9udC1yZWZyZXNoJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoJ2ZvcmNlLWZvbnQtcmVmcmVzaCcpO1xuICAgICAgfSwgNTApO1xuICAgIH1cbiAgfVxuXG4gIC8vIOajgOafpeWtl+S9k+aYr+WQpuW3suWKoOi9vVxuICBwcml2YXRlIGNoZWNrRm9udExvYWRlZChmb250RmFtaWx5OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBpZiAoIWRvY3VtZW50LmZvbnRzKSB7XG4gICAgICAgIC8vIOS4jeaUr+aMgUZvbnQgTG9hZGluZyBBUEnvvIzlgYforr7lt7LliqDovb1cbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5mb250cy5yZWFkeVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZm9udEZhY2UgPSBBcnJheS5mcm9tKGRvY3VtZW50LmZvbnRzKS5maW5kKFxuICAgICAgICAgICAgZm9udCA9PiBmb250LmZhbWlseSA9PT0gZm9udEZhbWlseSB8fCBmb250LmZhbWlseSA9PT0gYCcke2ZvbnRGYW1pbHl9J2AsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNvbHZlKCEhZm9udEZhY2UgJiYgZm9udEZhY2Uuc3RhdHVzID09PSAnbG9hZGVkJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g5Yqg6L296Ieq5a6a5LmJ5a2X5L2TXG4gIHByaXZhdGUgbG9hZEN1c3RvbUZvbnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghZG9jdW1lbnQuZm9udHMpIHtcbiAgICAgICAgLy8g5LiN5pSv5oyBRm9udCBMb2FkaW5nIEFQSe+8jOS9v+eUqOS8oOe7n+aWueazlVxuICAgICAgICBjb25zdCB0ZXN0RWxlbWVudCA9ICQoJzxkaXY+JylcbiAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgbGVmdDogJy05OTk5cHgnLFxuICAgICAgICAgICAgdG9wOiAnLTk5OTlweCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzcycHgnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCInTXlDdXN0b21Gb250JywgbW9ub3NwYWNlXCIsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50ZXh0KCd0ZXN0JylcbiAgICAgICAgICAuYXBwZW5kVG8oJ2JvZHknKTtcblxuICAgICAgICAvLyDnrYnlvoXkuIDmrrXml7bpl7TlkI7mo4Dmn6VcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGVzdEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmb250RmFjZSA9IG5ldyBGb250RmFjZSgnTXlDdXN0b21Gb250JywgJ3VybChodHRwczovL2ZpbGVzLmNhdGJveC5tb2UvZXI0d3NnLnR0ZiknKTtcblxuICAgICAgZm9udEZhY2VcbiAgICAgICAgLmxvYWQoKVxuICAgICAgICAudGhlbihsb2FkZWRGYWNlID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRmFjZSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g6K6+572u5YWo5bGP5qih5byP5omL5py65aSn5bCP6LCD5pW0XG4gIHNldHVwRnVsbHNjcmVlblNpemVBZGp1c3RtZW50KCk6IHZvaWQge1xuICAgIC8vIOetieW+hURPTeWujOWFqOWKoOi9vVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgJGRlZmF1bHRCdG4gPSAkKCcjZnVsbHNjcmVlbi1zaXplLWRlZmF1bHQnKTtcbiAgICAgIGNvbnN0ICRsYXJnZUJ0biA9ICQoJyNmdWxsc2NyZWVuLXNpemUtbGFyZ2UnKTtcbiAgICAgIGNvbnN0ICR4bGFyZ2VCdG4gPSAkKCcjZnVsbHNjcmVlbi1zaXplLXhsYXJnZScpO1xuICAgICAgY29uc3QgJHNsaWRlciA9ICQoJyNmdWxsc2NyZWVuLXNpemUtc2xpZGVyJyk7XG4gICAgICBjb25zdCAkaW5wdXQgPSAkKCcjZnVsbHNjcmVlbi1zaXplLWlucHV0Jyk7XG5cbiAgICAgIGlmICghJGRlZmF1bHRCdG4ubGVuZ3RoIHx8ICEkbGFyZ2VCdG4ubGVuZ3RoIHx8ICEkeGxhcmdlQnRuLmxlbmd0aCB8fCAhJHNsaWRlci5sZW5ndGggfHwgISRpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVGdWxsc2NyZWVuU2l6ZUNvbnRyb2xzKCRkZWZhdWx0QnRuLCAkbGFyZ2VCdG4sICR4bGFyZ2VCdG4sICRzbGlkZXIsICRpbnB1dCk7XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIC8vIOWIneWni+WMluWFqOWxj+Wkp+Wwj+aOp+S7tlxuICBwcml2YXRlIGluaXRpYWxpemVGdWxsc2NyZWVuU2l6ZUNvbnRyb2xzKFxuICAgICRkZWZhdWx0QnRuOiBKUXVlcnksXG4gICAgJGxhcmdlQnRuOiBKUXVlcnksXG4gICAgJHhsYXJnZUJ0bjogSlF1ZXJ5LFxuICAgICRzbGlkZXI6IEpRdWVyeSxcbiAgICAkaW5wdXQ6IEpRdWVyeSxcbiAgKTogdm9pZCB7XG4gICAgLy8g5LuObG9jYWxTdG9yYWdl6K+75Y+W5L+d5a2Y55qE5YWo5bGP5aSn5bCP6K6+572uXG4gICAgY29uc3Qgc2F2ZWRTaXplID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldEZ1bGxzY3JlZW5TaXplKCk7XG5cbiAgICAvLyDliJ3lp4vljJbmjqfku7blgLxcbiAgICAkc2xpZGVyLnZhbChzYXZlZFNpemUpO1xuICAgICRpbnB1dC52YWwoc2F2ZWRTaXplKTtcbiAgICB0aGlzLmFwcGx5RnVsbHNjcmVlblNpemUoc2F2ZWRTaXplKTtcbiAgICB0aGlzLnVwZGF0ZUZ1bGxzY3JlZW5TaXplQnV0dG9uU3RhdGUoc2F2ZWRTaXplKTtcblxuICAgIC8vIOmihOiuvuaMiemSrueCueWHu+S6i+S7tlxuICAgICRkZWZhdWx0QnRuLm9mZignY2xpY2snKS5vbignY2xpY2snLCBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNldEZ1bGxzY3JlZW5TaXplKDEwMCk7XG4gICAgfSk7XG5cbiAgICAkbGFyZ2VCdG4ub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2V0RnVsbHNjcmVlblNpemUoMTMwKTtcbiAgICB9KTtcblxuICAgICR4bGFyZ2VCdG4ub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2V0RnVsbHNjcmVlblNpemUoMTYwKTtcbiAgICB9KTtcblxuICAgIC8vIOa7keWdl+S6i+S7tlxuICAgICRzbGlkZXIub2ZmKCdpbnB1dCcpLm9uKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgY29uc3QgbmV3U2l6ZSA9IHBhcnNlSW50KCQoZS50YXJnZXQpLnZhbCgpIGFzIHN0cmluZyk7XG4gICAgICAkaW5wdXQudmFsKG5ld1NpemUpO1xuICAgICAgdGhpcy5zZXRGdWxsc2NyZWVuU2l6ZShuZXdTaXplKTtcbiAgICB9KTtcblxuICAgIC8vIOaVsOWtl+i+k+WFpeahhuS6i+S7tlxuICAgICRpbnB1dC5vZmYoJ2NoYW5nZScpLm9uKCdjaGFuZ2UnLCBlID0+IHtcbiAgICAgIGxldCBuZXdTaXplID0gcGFyc2VJbnQoJChlLnRhcmdldCkudmFsKCkgYXMgc3RyaW5nKTtcbiAgICAgIC8vIOmZkOWItuiMg+WbtFxuICAgICAgaWYgKG5ld1NpemUgPCA1MCkgbmV3U2l6ZSA9IDUwO1xuICAgICAgaWYgKG5ld1NpemUgPiAyMDApIG5ld1NpemUgPSAyMDA7XG5cbiAgICAgICRpbnB1dC52YWwobmV3U2l6ZSk7XG4gICAgICAkc2xpZGVyLnZhbChuZXdTaXplKTtcbiAgICAgIHRoaXMuc2V0RnVsbHNjcmVlblNpemUobmV3U2l6ZSk7XG4gICAgfSk7XG5cbiAgICAvLyDnm5HlkKzlhajlsY/nirbmgIHlj5jljJZcbiAgICB0aGlzLnNldHVwRnVsbHNjcmVlbkxpc3RlbmVyKCk7XG4gIH1cblxuICAvLyDorr7nva7lhajlsY/nirbmgIHnm5HlkKzlmahcbiAgcHJpdmF0ZSBzZXR1cEZ1bGxzY3JlZW5MaXN0ZW5lcigpOiB2b2lkIHtcbiAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgY29uc3QgaXNGdWxsc2NyZWVuID0gISEoXG4gICAgICAgIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1zRnVsbHNjcmVlbkVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIGlmICghaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgIC8vIOmAgOWHuuWFqOWxj+aXtumHjee9rue8qeaUvlxuICAgICAgICB0aGlzLnJlc2V0QnJvd3Nlclpvb20oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOi/m+WFpeWFqOWxj+aXtuW6lOeUqOW9k+WJjeiuvue9rlxuICAgICAgICBjb25zdCBjdXJyZW50U2l6ZSA9IHRoaXMuY29uZmlnTWFuYWdlci5nZXRGdWxsc2NyZWVuU2l6ZSgpO1xuICAgICAgICB0aGlzLmFwcGx5QnJvd3Nlckxpa2Vab29tKGN1cnJlbnRTaXplIC8gMTAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g57uR5a6a5YWo5bGP54q25oCB5Y+Y5YyW5LqL5Lu2XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignTVNGdWxsc2NyZWVuQ2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gIH1cblxuICAvLyDph43nva7mtY/op4jlmajnvKnmlL5cbiAgcHJpdmF0ZSByZXNldEJyb3dzZXJab29tKCk6IHZvaWQge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgLy8g6YeN572u5omA5pyJ57yp5pS+55u45YWz5qC35byPXG4gICAgYm9keS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICBib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xuICAgIGJvZHkuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICBib2R5LnN0eWxlLndpZHRoID0gJyc7XG4gICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICBib2R5LnN0eWxlLm1hcmdpbiA9ICcnO1xuICB9XG5cbiAgLy8g6K6+572u5YWo5bGP5aSn5bCP5bm25pu05pawVUlcbiAgcHJpdmF0ZSBzZXRGdWxsc2NyZWVuU2l6ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyDkv53lrZjorr7nva5cbiAgICB0aGlzLmNvbmZpZ01hbmFnZXIuc2V0RnVsbHNjcmVlblNpemUoc2l6ZSk7XG5cbiAgICAvLyDmm7TmlrDmu5HlnZflkozovpPlhaXmoYZcbiAgICAkKCcjZnVsbHNjcmVlbi1zaXplLXNsaWRlcicpLnZhbChzaXplKTtcbiAgICAkKCcjZnVsbHNjcmVlbi1zaXplLWlucHV0JykudmFsKHNpemUpO1xuXG4gICAgLy8g5bqU55So6K6+572uXG4gICAgdGhpcy5hcHBseUZ1bGxzY3JlZW5TaXplKHNpemUpO1xuXG4gICAgLy8g5pu05paw5oyJ6ZKu54q25oCBXG4gICAgdGhpcy51cGRhdGVGdWxsc2NyZWVuU2l6ZUJ1dHRvblN0YXRlKHNpemUpO1xuICB9XG5cbiAgLy8g5bqU55So5YWo5bGP5qih5byP5omL5py65aSn5bCP6K6+572uXG4gIHByaXZhdGUgYXBwbHlGdWxsc2NyZWVuU2l6ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAxMDA7XG5cbiAgICAvLyDmo4Dmn6XlvZPliY3mmK/lkKblnKjlhajlsY/mqKHlvI9cbiAgICBjb25zdCBpc0Z1bGxzY3JlZW4gPSAhIShcbiAgICAgIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgKGRvY3VtZW50IGFzIGFueSkubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1zRnVsbHNjcmVlbkVsZW1lbnRcbiAgICApO1xuXG4gICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgLy8g5Zyo5YWo5bGP5qih5byP5LiL5bqU55So5rWP6KeI5Zmo57qn5Yir55qE57yp5pS+XG4gICAgICB0aGlzLmFwcGx5QnJvd3Nlckxpa2Vab29tKHNjYWxlKTtcbiAgICB9XG4gICAgLy8g5Yig6Zmk6Z2e5YWo5bGP5qih5byP5LiL55qE5Li05pe26aKE6KeI5Yqf6IO9XG4gIH1cblxuICAvLyDlupTnlKjnsbvkvLzmtY/op4jlmajnmoTnvKnmlL7mlYjmnpxcbiAgcHJpdmF0ZSBhcHBseUJyb3dzZXJMaWtlWm9vbShzY2FsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICBpZiAoc2NhbGUgIT09IDEpIHtcbiAgICAgIGJvZHkuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICBib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdjZW50ZXIgY2VudGVyJztcbiAgICAgIGJvZHkuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgYm9keS5zdHlsZS53aWR0aCA9IGAkezEwMCAvIHNjYWxlfSVgO1xuICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSBgJHsxMDAgLyBzY2FsZX0lYDtcbiAgICAgIGJvZHkuc3R5bGUubWFyZ2luID0gJzAgYXV0byc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvZHkuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICBib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xuICAgICAgYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgYm9keS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGJvZHkuc3R5bGUubWFyZ2luID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLy8g5pu05paw5oyJ6ZKu54q25oCBXG4gIHByaXZhdGUgdXBkYXRlRnVsbHNjcmVlblNpemVCdXR0b25TdGF0ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyDnp7vpmaTmiYDmnInmjInpkq7nmoTmv4DmtLvnirbmgIFcbiAgICAkKCcuZnVsbHNjcmVlbi1zaXplLWJ0bicpLnJlbW92ZUNsYXNzKCdmdWxsc2NyZWVuLXNpemUtYWN0aXZlJyk7XG5cbiAgICAvLyDmoLnmja7lpKflsI/mv4DmtLvlr7nlupTmjInpkq5cbiAgICBpZiAoc2l6ZSA9PT0gMTAwKSB7XG4gICAgICAkKCcjZnVsbHNjcmVlbi1zaXplLWRlZmF1bHQnKS5hZGRDbGFzcygnZnVsbHNjcmVlbi1zaXplLWFjdGl2ZScpO1xuICAgIH0gZWxzZSBpZiAoc2l6ZSA9PT0gMTMwKSB7XG4gICAgICAkKCcjZnVsbHNjcmVlbi1zaXplLWxhcmdlJykuYWRkQ2xhc3MoJ2Z1bGxzY3JlZW4tc2l6ZS1hY3RpdmUnKTtcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09IDE2MCkge1xuICAgICAgJCgnI2Z1bGxzY3JlZW4tc2l6ZS14bGFyZ2UnKS5hZGRDbGFzcygnZnVsbHNjcmVlbi1zaXplLWFjdGl2ZScpO1xuICAgIH1cbiAgICAvLyDoh6rlrprkuYnlpKflsI/kuI3mv4DmtLvku7vkvZXpooTorr7mjInpkq5cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/ui-manager.ts\n\n}");
  },
  "./src/同层手机/ui-renderer.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UIRenderer: () => (/* binding */ UIRenderer)\n/* harmony export */ });\n/* harmony import */ var _event_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-manager */ \"./src/同层手机/event-manager.ts\");\n\n// UI渲染器类\nclass UIRenderer {\n    wechatBody;\n    lastDisplayedTimeInMinutes = -Infinity;\n    options;\n    avatars;\n    eventManager;\n    // 性能优化：添加渲染节流\n    renderQueue = [];\n    isRendering = false;\n    renderThrottle = 16; // 60fps\n    constructor(wechatBodySelector, avatars, options) {\n        const $wechatBody = $(wechatBodySelector);\n        if (!$wechatBody.length) {\n            throw new Error(`Element with selector \"${wechatBodySelector}\" not found`);\n        }\n        this.wechatBody = $wechatBody[0];\n        this.avatars = avatars;\n        this.options = options;\n        this.eventManager = new _event_manager__WEBPACK_IMPORTED_MODULE_0__.EventManager();\n        // 启动渲染队列处理\n        this.startRenderLoop();\n    }\n    /**\n     * 性能优化：批量渲染队列处理\n     */\n    startRenderLoop() {\n        const processQueue = () => {\n            if (this.renderQueue.length > 0 && !this.isRendering) {\n                this.isRendering = true;\n                const batch = this.renderQueue.splice(0, 5); // 每次处理5个\n                batch.forEach(entry => {\n                    this.renderEntry(entry, undefined, false);\n                });\n                this.isRendering = false;\n            }\n            setTimeout(processQueue, this.renderThrottle);\n        };\n        processQueue();\n    }\n    /**\n     * 添加到渲染队列而不是立即渲染\n     */\n    queueRender(entry) {\n        this.renderQueue.push(entry);\n    }\n    // 清除聊天界面\n    clearChat() {\n        this.wechatBody.innerHTML = '';\n        this.lastDisplayedTimeInMinutes = -Infinity;\n    }\n    // 渲染单个条目到UI\n    renderEntry(entry, index, animate = false) {\n        if (!entry)\n            return;\n        if ('type' in entry) {\n            switch (entry.type) {\n                case 'message':\n                    if (entry.isSystemMessage) {\n                        this.renderSystemMessage(entry, animate, index);\n                    }\n                    else {\n                        this.addMessageToWeChat(entry, index, animate);\n                    }\n                    break;\n                case 'time':\n                    this.addTimestampToWeChat(entry.content.date, entry.content.time, true, index);\n                    break;\n                case 'event':\n                    this.addEventLogToWeChat(entry.content, index);\n                    break;\n                default:\n                    this.addMessageToWeChat(entry, index, animate);\n            }\n        }\n    }\n    // 渲染撤回通知\n    renderRecallNotice(entry, elementToReplace = null, index) {\n        const who = this.options.getDisplayName('sender' in entry && entry.sender === 'me' ? 'user' : 'char');\n        const noticeRow = document.createElement('div');\n        noticeRow.className = 'timestamp-row';\n        // 确保添加data-log-index属性，这样在删除模式下可以显示删除按钮\n        if (index !== undefined) {\n            noticeRow.dataset.logIndex = index.toString();\n        }\n        // 如果有id，添加message-id属性\n        if ('id' in entry) {\n            noticeRow.dataset.messageId = entry.id;\n        }\n        const recalledText = typeof entry.recalled_content === 'object' && entry.recalled_content !== null\n            ? entry.recalled_content.text\n            : entry.recalled_content;\n        noticeRow.innerHTML = `\n      <div class=\"recall-notice-container\">\n        <div class=\"recall-notice-text\">\"${who}\" 撤回了一条消息</div>\n        <div class=\"recall-content\">${recalledText || ('content' in entry ? entry.content : '')}</div>\n      </div>\n    `;\n        const noticeTextEl = noticeRow.querySelector('.recall-notice-text');\n        const contentEl = noticeRow.querySelector('.recall-content');\n        if (noticeTextEl && contentEl) {\n            noticeTextEl.addEventListener('click', () => {\n                contentEl.classList.toggle('expanded');\n            });\n        }\n        if (elementToReplace) {\n            elementToReplace.replaceWith(noticeRow);\n        }\n        else {\n            this.wechatBody.appendChild(noticeRow);\n        }\n        this.scrollToBottom();\n    }\n    renderMomentsFeed(logEntries, getDisplayName, avatars) {\n        const momentsFeedList = $('#moments-feed-list')[0];\n        if (!momentsFeedList)\n            return;\n        momentsFeedList.innerHTML = '';\n        const posts = {};\n        const momentPostLogIndices = [];\n        logEntries.forEach((entry, index) => {\n            if ('key' in entry && entry.key.includes('_MOMENT')) {\n                momentPostLogIndices.push(index);\n            }\n        });\n        momentPostLogIndices.forEach(logIndex => {\n            const entry = logEntries[logIndex];\n            posts[logIndex] = { ...entry, likes: [], comments: [], id: logIndex };\n        });\n        logEntries.forEach((entry, index) => {\n            if ('key' in entry && (entry.key.includes('_LIKE') || entry.key.includes('_COMMENT'))) {\n                const targetPostAbsoluteIndex = momentPostLogIndices[parseInt(entry.data.target_post_id, 10)];\n                const targetPost = posts[targetPostAbsoluteIndex];\n                if (targetPost) {\n                    if (entry.key.includes('_LIKE')) {\n                        const likerName = entry.key.startsWith('USER') ? getDisplayName('user') : getDisplayName('char');\n                        if (!targetPost.likes.some((l) => l.name === likerName)) {\n                            targetPost.likes.push({ key: entry.key, name: likerName, originalLogIndex: index });\n                        }\n                    }\n                    else {\n                        targetPost.comments.push({ ...entry, originalLogIndex: index });\n                    }\n                }\n                else {\n                    // 目标帖子未找到，跳过交互渲染\n                }\n            }\n        });\n        Object.values(posts)\n            .reverse()\n            .forEach(post => {\n            const fromUser = post.key.startsWith('USER');\n            const authorName = fromUser ? getDisplayName('user') : getDisplayName('char');\n            const authorAvatar = fromUser ? avatars.user : avatars.char;\n            const li = document.createElement('li');\n            li.className = 'moment-post';\n            li.dataset.postId = post.id;\n            const momentSequenceId = momentPostLogIndices.indexOf(post.id);\n            li.dataset.momentSequenceId = String(momentSequenceId);\n            // 设置moment-id属性，用于删除功能\n            li.dataset.momentId = String(momentSequenceId);\n            let mediaHtml = '';\n            if (post.data.image_type === 'url' && post.data.image) {\n                mediaHtml = `<img src=\"${post.data.image}\" class=\"post-media-image\" />`;\n            }\n            else if (post.data.image_type === 'desc' && post.data.image) {\n                mediaHtml = `<div class=\"image-desc-content\"><div class=\"text-wrapper\">${post.data.image}</div></div>`;\n            }\n            let interactionsHtml = '';\n            if (post.likes.length > 0 || post.comments.length > 0) {\n                const likersHtml = post.likes.length > 0\n                    ? `<div class=\"likes-section\"><i class=\"fas fa-heart\"></i> ${post.likes\n                        .map((l) => `<span class=\"liker-name\">${l.name}</span>`)\n                        .join(', ')}</div>`\n                    : '';\n                const commentsHtml = post.comments.length > 0\n                    ? `<ul class=\"comments-section\">${post.comments\n                        .map((c) => `<li><span class=\"comment-author\">${c.key.startsWith('USER') ? getDisplayName('user') : getDisplayName('char')}</span>: ${c.data.text}</li>`)\n                        .join('')}</ul>`\n                    : '';\n                interactionsHtml = `<div class=\"post-interactions\">${likersHtml}${commentsHtml}</div>`;\n            }\n            const displayTime = this.formatMomentTimestamp(post.data.date, post.data.time);\n            const deleteBtnHtml = fromUser ? `<span class=\"delete-moment-btn\" title=\"删除\">删除</span>` : '';\n            li.innerHTML = `<img src=\"${authorAvatar}\" class=\"post-author-avatar\" />\n                         <div class=\"post-details\">\n                             <span class=\"post-author-name\">${authorName}</span>\n                             <p class=\"post-content\">${post.data.text || ''}</p>\n                             <div class=\"post-media\">${mediaHtml}</div>\n                             <div class=\"post-meta\">\n                                 <div class=\"post-meta-left\">\n                                     <span class=\"timestamp\">${displayTime}</span>\n                                     ${deleteBtnHtml}\n                                 </div>\n                                 <div class=\"post-actions\">\n                                     <span class=\"comment-button\" title=\"评论/点赞\"><i class=\"fas fa-comment-dots\"></i></span>\n                                 </div>\n                             </div>\n                             ${interactionsHtml}\n                         </div>`;\n            momentsFeedList.appendChild(li);\n        });\n    }\n    // 显示\"正在输入\"指示器\n    showTypingIndicator() {\n        this.hideTypingIndicator(); // 确保只有一个\n        const indicator = document.createElement('div');\n        indicator.className = 'typing-indicator';\n        indicator.id = 'typing-indicator-id';\n        const avatarSrc = this.avatars.char;\n        indicator.innerHTML = `\n      <img src=\"${avatarSrc}\" class=\"message-avatar\" />\n      <div class=\"message-bubble\">\n        <span class=\"typing-dot\"></span>\n        <span class=\"typing-dot\"></span>\n        <span class=\"typing-dot\"></span>\n      </div>\n    `;\n        this.wechatBody.appendChild(indicator);\n        this.scrollToBottom();\n    }\n    // 隐藏\"正在输入\"指示器\n    hideTypingIndicator() {\n        $('#typing-indicator-id').remove();\n    }\n    // 显示AI生成内容的加载动画（在灵动岛上）\n    showGeneratingIndicator() {\n        this.hideGeneratingIndicator(); // 确保只有一个\n        // 获取灵动岛元素 - 使用jQuery\n        const dynamicIsland = $('.dynamic-island')[0];\n        if (!dynamicIsland)\n            return;\n        // 创建加载动画容器\n        const loadingContainer = document.createElement('div');\n        loadingContainer.className = 'generating-indicator';\n        loadingContainer.id = 'generating-indicator-id';\n        // 创建加载动画点\n        loadingContainer.innerHTML = `\n      <span class=\"generating-dot\"></span>\n      <span class=\"generating-dot\"></span>\n      <span class=\"generating-dot\"></span>\n    `;\n        // 添加到灵动岛\n        dynamicIsland.appendChild(loadingContainer);\n        // 添加活跃类\n        dynamicIsland.classList.add('generating-active');\n    }\n    // 隐藏AI生成内容的加载动画\n    hideGeneratingIndicator() {\n        $('#generating-indicator-id').remove();\n        $('.dynamic-island').removeClass('generating-active');\n    }\n    // 计算打字延迟时间\n    calculateTypingDelay(messageContent) {\n        // 对于非文本消息（如表情、图片等），使用一个较短的固定延迟\n        if (typeof messageContent !== 'string' || messageContent.trim() === '') {\n            return 800 + Math.random() * 700; // 0.8s to 1.5s\n        }\n        const textLength = messageContent.length;\n        const baseDelay = 500; // 基础延迟 0.5s\n        const perCharDelay = 40; // 每个字符增加 40ms\n        const randomComponent = Math.random() * 800; // 增加 0-0.8s 的随机性\n        const totalDelay = baseDelay + textLength * perCharDelay + randomComponent;\n        // 确保总延迟不超过3秒 (3000ms)\n        return Math.min(totalDelay, 3000);\n    }\n    // 添加消息到微信界面\n    addMessageToWeChat(entry, index, isNewMessage = false) {\n        const { id, sender, type } = entry;\n        const messageRow = document.createElement('div');\n        messageRow.className = 'message-row';\n        if (index !== undefined)\n            messageRow.dataset.logIndex = index.toString();\n        messageRow.dataset.messageId = id;\n        const senderClass = sender;\n        messageRow.classList.add(senderClass);\n        const avatarSrc = sender === 'me' ? this.avatars.user : this.avatars.char;\n        const avatarImgHtml = `<img src=\"${avatarSrc}\" class=\"message-avatar\" />`;\n        if (type === 'voice') {\n            this.renderVoiceMessage(messageRow, entry, avatarImgHtml);\n        }\n        else {\n            let bubbleContent = '';\n            switch (type) {\n                case 'sticker':\n                    bubbleContent = this.renderStickerContent(entry);\n                    break;\n                case 'image':\n                    bubbleContent = this.renderImageContent(entry);\n                    break;\n                case 'location':\n                    bubbleContent = this.renderLocationContent(entry);\n                    break;\n                case 'transfer':\n                    bubbleContent = this.renderTransferContent(entry);\n                    break;\n                case 'file':\n                    bubbleContent = this.renderFileContent(entry);\n                    break;\n                case 'gift':\n                    {\n                        // 判断是红包还是礼物\n                        const giftEntry = entry;\n                        const isRedEnvelope = giftEntry.data.name.includes('红包') ||\n                            giftEntry.data.name.includes('压岁钱') ||\n                            giftEntry.data.name.includes('红利');\n                        if (isRedEnvelope) {\n                            bubbleContent = this.renderRedEnvelopeContent(giftEntry);\n                        }\n                        else {\n                            bubbleContent = this.renderGiftContent(giftEntry);\n                        }\n                    }\n                    break;\n                default:\n                    bubbleContent = entry.content.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n                    break;\n            }\n            // 根据消息类型添加特殊的气泡类\n            let bubbleClass = 'message-bubble';\n            if (type === 'sticker') {\n                bubbleClass += ' sticker-bubble';\n            }\n            else if (type === 'image') {\n                bubbleClass += ' image-desc-bubble';\n            }\n            else if (type === 'location') {\n                bubbleClass += ' location-bubble';\n            }\n            else if (type === 'transfer') {\n                bubbleClass += ' transfer-bubble';\n            }\n            else if (type === 'file') {\n                bubbleClass += ' file-bubble';\n            }\n            else if (type === 'gift') {\n                bubbleClass += ' gift-bubble';\n            }\n            messageRow.innerHTML =\n                sender === 'me'\n                    ? `<div class=\"${bubbleClass}\">${bubbleContent}</div>${avatarImgHtml}`\n                    : `${avatarImgHtml}<div class=\"${bubbleClass}\">${bubbleContent}</div>`;\n            const bubble = messageRow.querySelector('.message-bubble');\n            if (bubble) {\n                this.applyBubbleStyles(bubble, type, entry);\n                this.setupBubbleInteractions(bubble, type, entry);\n            }\n        }\n        if (isNewMessage) {\n            messageRow.classList.add('new-message');\n        }\n        // 为USER文字消息添加长按撤回功能\n        if (sender === 'me' && entry.type === 'message') {\n            this.setupUserMessageLongPress(messageRow, entry);\n        }\n        this.wechatBody.appendChild(messageRow);\n        this.scrollToBottom();\n    }\n    // 渲染语音消息\n    renderVoiceMessage(messageRow, entry, avatarImgHtml) {\n        const contentContainer = document.createElement('div');\n        contentContainer.className = 'message-content-container';\n        const bubble = document.createElement('div');\n        bubble.className = 'message-bubble voice-bubble';\n        bubble.innerHTML = `<span class=\"duration\">${entry.content.duration}\"</span><i class=\"fas fa-wifi voice-icon\"></i>`;\n        const textRevealBox = document.createElement('div');\n        textRevealBox.className = 'voice-text-content';\n        textRevealBox.textContent = entry.content.text;\n        contentContainer.appendChild(bubble);\n        contentContainer.appendChild(textRevealBox);\n        if (entry.sender === 'me') {\n            messageRow.appendChild(contentContainer);\n            messageRow.insertAdjacentHTML('beforeend', avatarImgHtml);\n        }\n        else {\n            messageRow.insertAdjacentHTML('afterbegin', avatarImgHtml);\n            messageRow.appendChild(contentContainer);\n        }\n        let longPressFired = false;\n        const timerDuration = 500;\n        let pressTimer;\n        bubble.addEventListener('pointerdown', e => {\n            if (e.pointerType === 'mouse' && e.button !== 0)\n                return;\n            longPressFired = false;\n            pressTimer = window.setTimeout(() => {\n                messageRow.classList.add('voice-text-visible');\n                longPressFired = true;\n            }, timerDuration);\n        });\n        bubble.addEventListener('pointerup', () => {\n            clearTimeout(pressTimer);\n            if (!longPressFired) {\n                if (messageRow.classList.contains('voice-text-visible')) {\n                    messageRow.classList.remove('voice-text-visible');\n                }\n            }\n        });\n        bubble.addEventListener('pointerleave', () => clearTimeout(pressTimer));\n        bubble.addEventListener('contextmenu', e => e.preventDefault());\n    }\n    // 渲染表情包内容\n    renderStickerContent(entry) {\n        const stickerUrl = this.options.findStickerUrlByName(entry.content);\n        if (stickerUrl) {\n            // 使用纯HTML创建表情包容器和图片\n            return `<div class=\"sticker-container\"><img src=\"${stickerUrl}\" class=\"sticker-img\" /></div>`;\n        }\n        else {\n            return `<div class=\"sticker-placeholder\">[表情]</div>`;\n        }\n    }\n    // 渲染图片内容\n    renderImageContent(entry) {\n        if (entry.content.type === 'url') {\n            let imageUrl = entry.content.value;\n            if (imageUrl.startsWith('blmx-img-')) {\n                const storedImage = sessionStorage.getItem(imageUrl);\n                if (storedImage) {\n                    imageUrl = storedImage;\n                }\n                else {\n                    return `<div class=\"image-desc-content\"><div class=\"text-wrapper\">[图片已过期]</div></div>`;\n                }\n            }\n            return `<img src=\"${imageUrl}\" class=\"chat-image\" />`;\n        }\n        else {\n            const descText = entry.content.value;\n            return `<div class=\"image-desc-content\"><div class=\"text-wrapper\">${String(descText)\n                .replace(/</g, '&lt;')\n                .replace(/>/g, '&gt;')}</div></div>`;\n        }\n    }\n    // 渲染位置内容\n    renderLocationContent(entry) {\n        return `<div class=\"location-card\">\n      <div class=\"location-content\">\n        <div class=\"location-title\">${entry.content}</div>\n        <div class=\"location-subtitle\">共享实时位置</div>\n      </div>\n      <div class=\"location-map-placeholder\"></div>\n    </div>`;\n    }\n    // 渲染转账内容\n    renderTransferContent(entry) {\n        const isReceipt = entry.data.status !== 'sent';\n        const detailsHtml = isReceipt\n            ? `<div class=\"status-text\">${entry.data.status === 'accepted' ? '已接收' : '已退还'}</div>`\n            : `<div class=\"note\">${entry.data.note || ' '}</div>`;\n        const cardClass = isReceipt ? 'transfer-receipt' : 'transfer-initial';\n        return `<div class=\"transfer-card ${cardClass}\">\n      <div class=\"transfer-content\">\n        <img src=\"https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E7%B4%A0%E6%9D%90/arrows.png\" class=\"transfer-icon-image\">\n        <div class=\"transfer-details\">\n          <div class=\"amount\">¥${entry.data.amount}</div>\n          ${detailsHtml}\n        </div>\n      </div>\n      <div class=\"transfer-footer\">转账</div>\n    </div>`;\n    }\n    // 渲染文件内容\n    renderFileContent(entry) {\n        return `<div class=\"file-card\">\n      <div class=\"file-content\">\n        <i class=\"fas fa-file-alt file-icon\"></i>\n        <div class=\"file-details\">\n          <div class=\"file-name\">${entry.content.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</div>\n        </div>\n      </div>\n      <div class=\"file-footer\">文件</div>\n    </div>`;\n    }\n    // 渲染礼物内容\n    renderGiftContent(entry) {\n        let detailsClass = '';\n        let detailsContent = '';\n        const isReceipt = entry.data.status !== 'sent';\n        const cardClass = isReceipt ? 'gift-receipt' : 'gift-initial';\n        if (entry.data.status === 'sent') {\n            if (entry.data.price) {\n                detailsClass = 'gift-price';\n                detailsContent = `¥ ${entry.data.price}`;\n            }\n        }\n        else {\n            detailsClass = 'gift-status-text';\n            detailsContent = entry.data.status === 'accepted' ? '已收下' : '已拒收';\n        }\n        return `<div class=\"gift-card ${cardClass}\">\n      <div class=\"gift-content\">\n        <span class=\"gift-icon-emoji\">🎁</span>\n        <div class=\"gift-details\">\n          <div class=\"gift-name\">${entry.data.name}</div>\n          ${detailsContent ? `<div class=\"${detailsClass}\">${detailsContent}</div>` : ''}\n        </div>\n      </div>\n      <div class=\"gift-footer\">礼物</div>\n    </div>`;\n    }\n    // 渲染红包内容\n    renderRedEnvelopeContent(entry) {\n        let detailsClass = '';\n        let detailsContent = '';\n        const isReceipt = entry.data.status !== 'sent';\n        const cardClass = isReceipt ? 'gift-receipt' : 'gift-initial';\n        if (entry.data.status === 'sent') {\n            if (entry.data.price) {\n                detailsClass = 'gift-price';\n                detailsContent = `¥ ${entry.data.price}`;\n            }\n        }\n        else {\n            detailsClass = 'gift-status-text';\n            detailsContent = entry.data.status === 'accepted' ? '已领取' : '已拒收';\n        }\n        return `<div class=\"gift-card ${cardClass}\">\n      <div class=\"gift-content\">\n        <img src=\"https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E7%B4%A0%E6%9D%90/red-envelope.png\" class=\"gift-icon-image\">\n        <div class=\"gift-details\">\n          <div class=\"gift-name\">${entry.data.name}</div>\n          ${detailsContent ? `<div class=\"${detailsClass}\">${detailsContent}</div>` : ''}\n        </div>\n      </div>\n      <div class=\"gift-footer\">红包</div>\n    </div>`;\n    }\n    // 应用气泡样式\n    applyBubbleStyles(bubble, type, entry) {\n        if (type === 'image') {\n            if (entry.content.type === 'url') {\n                bubble.classList.add('image-url-bubble');\n            }\n            else {\n                bubble.classList.add('image-desc-bubble');\n            }\n        }\n        else {\n            const bubbleTypeMap = {\n                sticker: 'sticker-bubble',\n                location: 'location-bubble',\n                transfer: 'transfer-bubble',\n                file: 'file-bubble',\n                gift: 'gift-bubble',\n            };\n            if (bubbleTypeMap[type]) {\n                bubble.classList.add(bubbleTypeMap[type]);\n            }\n        }\n    }\n    // 设置气泡交互\n    setupBubbleInteractions(bubble, type, entry) {\n        if (type === 'transfer') {\n            const transferCard = bubble.querySelector('.transfer-card');\n            if (!transferCard)\n                return;\n            const transferEntry = entry;\n            const isReceipt = transferEntry.data.status !== 'sent';\n            if (!isReceipt && entry.sender === 'them') {\n                transferCard.classList.add('them');\n                transferCard.addEventListener('click', () => {\n                    // 直接接收转账，因为转账功能本身已经有自定义对话框\n                    if (this.options.onTransferAccept) {\n                        this.options.onTransferAccept({\n                            ...transferEntry.data,\n                            status: 'accepted',\n                        });\n                    }\n                }, { once: true });\n            }\n        }\n        if (type === 'gift') {\n            const giftBubble = bubble;\n            const giftCard = bubble.querySelector('.gift-card');\n            const giftEntry = entry;\n            const isReceipt = giftEntry.data.status !== 'sent';\n            if (isReceipt) {\n                // 已经接收或拒收的礼物，不需要添加点击事件\n                return;\n            }\n            // 为所有未处理的礼物添加点击事件，无论是用户还是AI发送的\n            if (giftCard)\n                giftCard.classList.add(entry.sender === 'them' ? 'them' : 'me');\n            giftBubble.classList.add('gift-clickable');\n            giftBubble.addEventListener('click', async () => {\n                if (this.options.onGiftAction) {\n                    await this.options.onGiftAction(giftEntry.data);\n                }\n                giftBubble.classList.remove('gift-clickable');\n            }, { once: true });\n        }\n    }\n    // 添加时间戳到微信界面\n    addTimestampToWeChat(date, time, isSystemTime, index) {\n        const timeText = this.formatMomentTimestamp(date, time);\n        // 检查是否需要显示时间戳\n        // 如果是系统时间（而不是用户手动插入的时间）\n        if (isSystemTime) {\n            // 只有纯时间（今天的消息）才需要进行10分钟过滤\n            const isOnlyTime = timeText === time;\n            if (isOnlyTime) {\n                // 对于今天的消息，检查是否与上一条时间戳太接近\n                const timeInMinutes = this.parseTimeToMinutes(timeText);\n                if (timeInMinutes !== null && timeInMinutes - this.lastDisplayedTimeInMinutes < 10) {\n                    return; // 跳过显示这个时间戳\n                }\n                // 更新最后显示的时间\n                if (timeInMinutes !== null) {\n                    this.lastDisplayedTimeInMinutes = timeInMinutes;\n                }\n            }\n            else {\n                // 对于昨天或更早的消息，总是显示并重置时间计数器\n                this.lastDisplayedTimeInMinutes = -Infinity;\n            }\n        }\n        // 创建并添加时间戳元素\n        const t = document.createElement('div');\n        t.className = 'timestamp-row';\n        if (index !== undefined)\n            t.dataset.logIndex = index.toString();\n        // 存储原始日期和时间用于刷新\n        t.dataset.originalDate = date;\n        t.dataset.originalTime = time;\n        t.innerHTML = `<span class=\"timestamp-text\">${timeText}</span>`;\n        this.wechatBody.appendChild(t);\n        this.scrollToBottom();\n    }\n    // 添加事件日志到微信界面\n    addEventLogToWeChat(eventData, index) {\n        // 确保eventData具有必要的字段\n        if (!eventData || !eventData.date || !eventData.time) {\n            console.error('事件日志数据不完整:', eventData);\n            return;\n        }\n        // 获取格式化后的时间文本，包含日期信息\n        const timeText = this.formatMomentTimestamp(eventData.date, eventData.time);\n        // 创建事件日志行\n        const row = document.createElement('div');\n        row.className = 'event-log-row';\n        if (index !== undefined)\n            row.dataset.logIndex = index.toString();\n        // 存储原始日期和时间用于刷新\n        row.dataset.originalDate = eventData.date;\n        row.dataset.originalTime = eventData.time;\n        // 如果没有描述，只显示时间；如果有描述，显示时间和描述\n        if (eventData.description) {\n            row.innerHTML = `\n        <div class=\"event-log-container\">\n          <div class=\"event-time-text has-desc clickable\">${timeText}</div>\n          <div class=\"event-description\">${eventData.description}</div>\n        </div>\n      `;\n        }\n        else {\n            row.innerHTML = `\n        <div class=\"event-log-container\">\n          <div class=\"event-time-text\">${timeText}</div>\n        </div>\n      `;\n        }\n        // 为带有描述的事件添加点击展开功能\n        if (eventData.description) {\n            const timeEl = row.querySelector('.event-time-text');\n            const descEl = row.querySelector('.event-description');\n            if (timeEl && descEl) {\n                timeEl.addEventListener('click', () => {\n                    // 只使用CSS类来控制显示/隐藏，不手动设置display属性\n                    descEl.classList.toggle('expanded');\n                });\n            }\n        }\n        // 添加到聊天界面并滚动到底部\n        this.wechatBody.appendChild(row);\n        this.scrollToBottom();\n    }\n    // 渲染系统消息\n    renderSystemMessage(entry, animate = false, index) {\n        const chatContainer = this.wechatBody;\n        if (!chatContainer)\n            return;\n        const systemRow = document.createElement('div');\n        systemRow.className = 'event-log-row';\n        if (animate)\n            systemRow.classList.add('new-message');\n        if (entry.id) {\n            systemRow.dataset.messageId = entry.id;\n        }\n        if (index !== undefined) {\n            systemRow.dataset.logIndex = index.toString();\n        }\n        const systemContainer = document.createElement('div');\n        systemContainer.className = 'event-log-container';\n        const systemText = document.createElement('div');\n        systemText.className = 'event-time-text system-message';\n        systemText.textContent = entry.content;\n        systemContainer.appendChild(systemText);\n        systemRow.appendChild(systemContainer);\n        chatContainer.appendChild(systemRow);\n        this.scrollToBottom();\n    }\n    // 解析时间为分钟数\n    parseTimeToMinutes(timeString) {\n        const match = timeString.match(/(\\d{1,2}):(\\d{2})/);\n        return match ? 60 * parseInt(match[1], 10) + parseInt(match[2], 10) : null;\n    }\n    // 格式化时间戳\n    formatMomentTimestamp(dateString, timeString) {\n        if (!dateString || !timeString)\n            return ' ';\n        try {\n            // 解析日期和当前日期\n            const postDate = new Date(dateString);\n            // 确保我们使用游戏时间而非现实时间\n            const currentDate = window.currentGameDate ? new Date(window.currentGameDate) : new Date();\n            // 提取年月日\n            const postYear = postDate.getFullYear();\n            const postMonth = postDate.getMonth();\n            const postDay = postDate.getDate();\n            const nowYear = currentDate.getFullYear();\n            const nowMonth = currentDate.getMonth();\n            const nowDay = currentDate.getDate();\n            // 判断是否是今天的消息\n            if (postYear === nowYear && postMonth === nowMonth && postDay === nowDay) {\n                return timeString;\n            }\n            // 创建昨天的日期对象\n            const yesterday = new Date(currentDate);\n            yesterday.setDate(currentDate.getDate() - 1);\n            const yesterdayYear = yesterday.getFullYear();\n            const yesterdayMonth = yesterday.getMonth();\n            const yesterdayDay = yesterday.getDate();\n            // 判断是否是昨天的消息\n            if (postYear === yesterdayYear && postMonth === yesterdayMonth && postDay === yesterdayDay) {\n                return `昨天 ${timeString}`;\n            }\n            // 判断是否是今年的消息\n            if (postYear === nowYear) {\n                return `${postMonth + 1}月${postDay}日 ${timeString}`;\n            }\n            // 其他情况显示完整日期\n            return `${postYear}年${postMonth + 1}月${postDay}日 ${timeString}`;\n        }\n        catch (error) {\n            console.error('Error formatting timestamp:', error);\n            return timeString; // 出错时至少返回时间\n        }\n    }\n    // 刷新所有时间戳显示\n    refreshAllTimestamps() {\n        // 刷新所有时间戳\n        const timestampRows = $('.timestamp-row', this.wechatBody);\n        const eventLogRows = $('.event-log-row', this.wechatBody);\n        // 刷新时间戳行\n        timestampRows.each((_, row) => {\n            const $row = $(row);\n            const $timestampText = $row.find('.timestamp-text');\n            if ($timestampText.length) {\n                const originalDate = $row.data('originalDate');\n                const originalTime = $row.data('originalTime');\n                if (originalDate && originalTime) {\n                    $timestampText.text(this.formatMomentTimestamp(originalDate, originalTime));\n                }\n            }\n        });\n        // 刷新事件日志行\n        eventLogRows.each((_, row) => {\n            const $row = $(row);\n            const $eventTimeText = $row.find('.event-time-text');\n            if ($eventTimeText.length) {\n                const originalDate = $row.data('originalDate');\n                const originalTime = $row.data('originalTime');\n                if (originalDate && originalTime) {\n                    // 更新文本内容\n                    $eventTimeText.text(this.formatMomentTimestamp(originalDate, originalTime));\n                }\n            }\n        });\n    }\n    renderFeatureGrid(gridElement, features, callbacks) {\n        if (!gridElement) {\n            console.error('[BLMX] Grid element not found for renderFeatureGrid');\n            return;\n        }\n        gridElement.innerHTML = '';\n        const isDeleteMode = gridElement.classList.contains('sticker-delete-mode');\n        features.forEach(feature => {\n            const item = document.createElement('div');\n            item.className = 'feature-item';\n            let iconHtml = '';\n            if (feature.isAddBtn) {\n                // 如果是表情管理按钮，使用齿轮图标\n                if (feature.label === '表情管理') {\n                    iconHtml = `<div class=\"feature-icon\"><i class=\"fas fa-cog\"></i></div>`;\n                }\n                else {\n                    iconHtml = `<div class=\"feature-icon\"><i class=\"fas fa-${feature.label === '添加' ? 'plus' : 'trash-alt'}\"></i></div>`;\n                }\n            }\n            else if (feature.icon && feature.icon.startsWith('http')) {\n                // 处理图片URL (表情包)\n                iconHtml = `<div class=\"feature-icon\"><img src=\"${feature.icon}\" alt=\"${feature.label}\" class=\"feature-icon-img\"></div>`;\n            }\n            else if (feature.icon &&\n                (feature.icon.startsWith('fas ') || feature.icon.startsWith('far ') || feature.icon.startsWith('fab '))) {\n                // 处理带空格的Font Awesome图标\n                iconHtml = `<div class=\"feature-icon\"><i class=\"${feature.icon} theme-icon\"></i></div>`;\n            }\n            else if (feature.icon && feature.icon.startsWith('fa')) {\n                // 处理不带空格的Font Awesome图标\n                iconHtml = `<div class=\"feature-icon\"><i class=\"${feature.icon} theme-icon\"></i></div>`;\n            }\n            else {\n                // 处理其他图标类型\n                iconHtml = `<div class=\"feature-icon\"><i class=\"${feature.icon || 'fas fa-question'}\"></i></div>`;\n            }\n            item.innerHTML = `${iconHtml}<span class=\"feature-label\">${feature.label}</span>`;\n            const iconContainer = item.querySelector('.feature-icon');\n            if (isDeleteMode && !feature.isAddBtn && !feature.isDefault) {\n                // 创建隐藏的原生checkbox\n                const checkbox = document.createElement('input');\n                checkbox.type = 'checkbox';\n                checkbox.className = 'sticker-checkbox';\n                checkbox.dataset.stickerLabel = feature.label;\n                item.appendChild(checkbox);\n                // 创建可见的checkbox按钮\n                const checkboxButton = document.createElement('div');\n                checkboxButton.className = 'sticker-checkbox-button';\n                checkboxButton.style.display = 'block';\n                item.appendChild(checkboxButton);\n                // 更新checkbox按钮状态\n                const updateCheckboxState = (checked) => {\n                    if (checked) {\n                        checkboxButton.classList.add('checked');\n                    }\n                    else {\n                        checkboxButton.classList.remove('checked');\n                    }\n                    iconContainer?.classList.toggle('selected-for-delete', checked);\n                };\n                // 点击事件\n                const handleClick = (e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    checkbox.checked = !checkbox.checked;\n                    updateCheckboxState(checkbox.checked);\n                };\n                item.addEventListener('click', handleClick);\n                checkboxButton.addEventListener('click', handleClick);\n                // 设置初始状态\n                updateCheckboxState(checkbox.checked);\n            }\n            else if (feature.label === '添加') {\n                item.addEventListener('click', callbacks.onAddStickers);\n            }\n            else if (feature.label === '删除' || feature.label === '表情管理') {\n                item.addEventListener('click', callbacks.onToggleDeleteMode);\n            }\n            else {\n                item.addEventListener('click', feature.action);\n            }\n            gridElement.appendChild(item);\n        });\n    }\n    // 滚动到底部\n    scrollToBottom() {\n        // 直接设置scrollTop，避免jQuery动画可能导致的滚动锁定问题\n        this.wechatBody.scrollTop = this.wechatBody.scrollHeight;\n        // 添加一个延迟执行的备份滚动，确保在DOM完全渲染后滚动生效\n        setTimeout(() => {\n            this.wechatBody.scrollTop = this.wechatBody.scrollHeight;\n        }, 100);\n    }\n    // 为USER消息设置长按撤回功能 - 完全照抄原版逻辑\n    setupUserMessageLongPress(messageRow, entry) {\n        const $messageRow = $(messageRow);\n        const $messageBubble = $messageRow.find('.message-bubble');\n        const $targetElement = $messageBubble.length ? $messageBubble : $messageRow;\n        // 原版长按监听器实现\n        this.addLongPressListener($targetElement[0], () => {\n            this.handleLongPressRecall(entry);\n        });\n        // 添加双击撤回功能作为备用方案（特别是在全屏模式下长按可能失效时）\n        this.setupDoubleClickRecall($targetElement, entry);\n    }\n    // 原版长按监听器实现 - 完全照抄原版逻辑\n    addLongPressListener(element, callback, options = { duration: 600, preventDefault: true }) {\n        let timer;\n        let startX, startY;\n        const onStart = (e) => {\n            if (e.pointerType === 'mouse' && e.button !== 0)\n                return;\n            startX = e.clientX;\n            startY = e.clientY;\n            if (options.preventDefault)\n                e.preventDefault();\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                timer = 0;\n                callback();\n            }, options.duration);\n        };\n        const onMove = (e) => {\n            if (!timer)\n                return;\n            const moveX = e.clientX;\n            const moveY = e.clientY;\n            if (Math.abs(moveX - startX) > 10 || Math.abs(moveY - startY) > 10) {\n                clearTimeout(timer);\n            }\n        };\n        const onEnd = () => clearTimeout(timer);\n        element.addEventListener('pointerdown', onStart);\n        element.addEventListener('pointermove', onMove);\n        element.addEventListener('pointerup', onEnd);\n        element.addEventListener('pointerleave', onEnd);\n        if (options.preventDefault) {\n            element.addEventListener('contextmenu', e => e.preventDefault());\n        }\n    }\n    // 处理长按撤回 - 先检查消息是否可以撤回\n    async handleLongPressRecall(entry) {\n        try {\n            // 检查消息是否可以撤回\n            if (this.options.isMessageInQueue && this.options.isMessageInQueue(entry.id)) {\n                await this.handleUserMessageRecall(entry);\n            }\n            else {\n                // 使用jQuery UI的效果显示无法撤回\n                const $messageElement = $(`[data-message-id=\"${entry.id}\"]`);\n                $messageElement.effect('shake', { times: 2, distance: 5 }, 300);\n                const { DialogManager } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\"));\n                const dialogManager = DialogManager.getInstance();\n                await dialogManager.alert('消息已合并发送，无法撤回。', '无法撤回');\n            }\n        }\n        catch (error) {\n            console.error('长按撤回失败:', error);\n            // 显示错误反馈\n            const $messageElement = $(`[data-message-id=\"${entry.id}\"]`);\n            $messageElement.effect('shake', { times: 2, distance: 5 }, 300);\n        }\n    }\n    // 处理USER消息撤回\n    async handleUserMessageRecall(entry) {\n        try {\n            // 导入DialogManager\n            const { DialogManager } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\"));\n            const dialogManager = DialogManager.getInstance();\n            // 确认撤回操作\n            const confirmed = await dialogManager.confirm('确定要撤回这条文字消息吗？撤回后对方将看到\"你撤回了一条消息\"。', '撤回文字消息', '撤回', '取消');\n            if (confirmed) {\n                // 调用撤回功能\n                if (this.options.onRecallMessage) {\n                    await this.options.onRecallMessage(entry);\n                }\n            }\n        }\n        catch (error) {\n            console.error('撤回消息时出错:', error);\n        }\n    }\n    // 设置双击撤回功能 - 作为长按撤回的备用方案\n    setupDoubleClickRecall($targetElement, entry) {\n        let clickCount = 0;\n        let clickTimer;\n        const doubleClickDelay = 300; // 300ms内的两次点击视为双击\n        $targetElement.on('click.doubleClickRecall', e => {\n            // 阻止事件冒泡，避免干扰其他点击事件\n            e.stopPropagation();\n            clickCount++;\n            if (clickCount === 1) {\n                // 第一次点击，启动定时器\n                clickTimer = window.setTimeout(() => {\n                    // 超时后重置点击计数\n                    clickCount = 0;\n                }, doubleClickDelay);\n            }\n            else if (clickCount === 2) {\n                // 双击检测到，清除定时器并执行撤回\n                clearTimeout(clickTimer);\n                clickCount = 0;\n                // 添加视觉反馈\n                $targetElement.addClass('double-click-active');\n                setTimeout(() => {\n                    $targetElement.removeClass('double-click-active');\n                }, 200);\n                // 添加触觉反馈（移动端）\n                if ('vibrate' in navigator) {\n                    navigator.vibrate([30, 50, 30]); // 双击振动模式\n                }\n                // 执行撤回操作\n                this.handleDoubleClickRecall(entry);\n            }\n        });\n    }\n    // 处理双击撤回\n    async handleDoubleClickRecall(entry) {\n        try {\n            // 检查消息是否可以撤回\n            if (this.options.isMessageInQueue && this.options.isMessageInQueue(entry.id)) {\n                await this.handleUserMessageRecall(entry);\n            }\n            else {\n                // 使用jQuery UI的效果显示无法撤回\n                const $messageElement = $(`[data-message-id=\"${entry.id}\"]`);\n                $messageElement.effect('shake', { times: 2, distance: 5 }, 300);\n                const { DialogManager } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\"));\n                const dialogManager = DialogManager.getInstance();\n                await dialogManager.alert('消息已合并发送，无法撤回。', '无法撤回');\n            }\n        }\n        catch (error) {\n            console.error('双击撤回失败:', error);\n            // 显示错误反馈\n            const $messageElement = $(`[data-message-id=\"${entry.id}\"]`);\n            $messageElement.effect('shake', { times: 2, distance: 5 }, 300);\n        }\n    }\n    /**\n     * 清理资源，防止内存泄漏\n     */\n    cleanup() {\n        this.eventManager.cleanup();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUc7SUFDSCxPQUFPO1FBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM5QixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WQjOWxguaJi+acui91aS1yZW5kZXJlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuL2V2ZW50LW1hbmFnZXInO1xuaW1wb3J0IHtcbiAgQ2hhdEVudHJ5LFxuICBFdmVudExvZ0VudHJ5LFxuICBGaWxlTWVzc2FnZSxcbiAgR2lmdE1lc3NhZ2UsXG4gIEltYWdlTWVzc2FnZSxcbiAgTG9jYXRpb25NZXNzYWdlLFxuICBMb2dFbnRyeSxcbiAgU3RpY2tlck1lc3NhZ2UsXG4gIFRleHRNZXNzYWdlLFxuICBUcmFuc2Zlck1lc3NhZ2UsXG4gIFZvaWNlTWVzc2FnZSxcbn0gZnJvbSAnLi9zY3JpcHQnO1xuXG4vLyDnsbvlnovlrprkuYlcbmludGVyZmFjZSBBdmF0YXJzIHtcbiAgdXNlcjogc3RyaW5nO1xuICBjaGFyOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBVSVJlbmRlcmVyT3B0aW9ucyB7XG4gIGdldERpc3BsYXlOYW1lOiAodHlwZTogJ3VzZXInIHwgJ2NoYXInKSA9PiBzdHJpbmc7XG4gIGZpbmRTdGlja2VyVXJsQnlOYW1lOiAobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIG9uVHJhbnNmZXJBY2NlcHQ/OiAoZGF0YTogVHJhbnNmZXJNZXNzYWdlWydkYXRhJ10pID0+IHZvaWQ7XG4gIG9uR2lmdEFjdGlvbj86IChkYXRhOiBHaWZ0TWVzc2FnZVsnZGF0YSddKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBvblJlY2FsbE1lc3NhZ2U/OiAoZW50cnk6IENoYXRFbnRyeSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgaXNNZXNzYWdlSW5RdWV1ZT86IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gYm9vbGVhbjtcbn1cblxuLy8gVUnmuLLmn5PlmajnsbtcbmV4cG9ydCBjbGFzcyBVSVJlbmRlcmVyIHtcbiAgcHJpdmF0ZSB3ZWNoYXRCb2R5OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBsYXN0RGlzcGxheWVkVGltZUluTWludXRlczogbnVtYmVyID0gLUluZmluaXR5O1xuICBwcml2YXRlIG9wdGlvbnM6IFVJUmVuZGVyZXJPcHRpb25zO1xuICBwcml2YXRlIGF2YXRhcnM6IEF2YXRhcnM7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG5cbiAgLy8g5oCn6IO95LyY5YyW77ya5re75Yqg5riy5p+T6IqC5rWBXG4gIHByaXZhdGUgcmVuZGVyUXVldWU6IExvZ0VudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBpc1JlbmRlcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHJlbmRlclRocm90dGxlOiBudW1iZXIgPSAxNjsgLy8gNjBmcHNcblxuICBjb25zdHJ1Y3Rvcih3ZWNoYXRCb2R5U2VsZWN0b3I6IHN0cmluZywgYXZhdGFyczogQXZhdGFycywgb3B0aW9uczogVUlSZW5kZXJlck9wdGlvbnMpIHtcbiAgICBjb25zdCAkd2VjaGF0Qm9keSA9ICQod2VjaGF0Qm9keVNlbGVjdG9yKTtcbiAgICBpZiAoISR3ZWNoYXRCb2R5Lmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggc2VsZWN0b3IgXCIke3dlY2hhdEJvZHlTZWxlY3Rvcn1cIiBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgdGhpcy53ZWNoYXRCb2R5ID0gJHdlY2hhdEJvZHlbMF07XG4gICAgdGhpcy5hdmF0YXJzID0gYXZhdGFycztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuXG4gICAgLy8g5ZCv5Yqo5riy5p+T6Zif5YiX5aSE55CGXG4gICAgdGhpcy5zdGFydFJlbmRlckxvb3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmgKfog73kvJjljJbvvJrmibnph4/muLLmn5PpmJ/liJflpITnkIZcbiAgICovXG4gIHByaXZhdGUgc3RhcnRSZW5kZXJMb29wKCk6IHZvaWQge1xuICAgIGNvbnN0IHByb2Nlc3NRdWV1ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnJlbmRlclF1ZXVlLmxlbmd0aCA+IDAgJiYgIXRoaXMuaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5yZW5kZXJRdWV1ZS5zcGxpY2UoMCwgNSk7IC8vIOavj+asoeWkhOeQhjXkuKpcblxuICAgICAgICBiYXRjaC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlckVudHJ5KGVudHJ5LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KHByb2Nlc3NRdWV1ZSwgdGhpcy5yZW5kZXJUaHJvdHRsZSk7XG4gICAgfTtcblxuICAgIHByb2Nlc3NRdWV1ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOa3u+WKoOWIsOa4suafk+mYn+WIl+iAjOS4jeaYr+eri+WNs+a4suafk1xuICAgKi9cbiAgcHJpdmF0ZSBxdWV1ZVJlbmRlcihlbnRyeTogTG9nRW50cnkpOiB2b2lkIHtcbiAgICB0aGlzLnJlbmRlclF1ZXVlLnB1c2goZW50cnkpO1xuICB9XG5cbiAgLy8g5riF6Zmk6IGK5aSp55WM6Z2iXG4gIGNsZWFyQ2hhdCgpOiB2b2lkIHtcbiAgICB0aGlzLndlY2hhdEJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5sYXN0RGlzcGxheWVkVGltZUluTWludXRlcyA9IC1JbmZpbml0eTtcbiAgfVxuXG4gIC8vIOa4suafk+WNleS4quadoeebruWIsFVJXG4gIHJlbmRlckVudHJ5KGVudHJ5OiBMb2dFbnRyeSwgaW5kZXg/OiBudW1iZXIsIGFuaW1hdGU6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGlmICghZW50cnkpIHJldHVybjtcblxuICAgIGlmICgndHlwZScgaW4gZW50cnkpIHtcbiAgICAgIHN3aXRjaCAoZW50cnkudHlwZSkge1xuICAgICAgICBjYXNlICdtZXNzYWdlJzpcbiAgICAgICAgICBpZiAoZW50cnkuaXNTeXN0ZW1NZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclN5c3RlbU1lc3NhZ2UoZW50cnkgYXMgVGV4dE1lc3NhZ2UsIGFuaW1hdGUsIGluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGRNZXNzYWdlVG9XZUNoYXQoZW50cnksIGluZGV4LCBhbmltYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgIHRoaXMuYWRkVGltZXN0YW1wVG9XZUNoYXQoZW50cnkuY29udGVudC5kYXRlLCBlbnRyeS5jb250ZW50LnRpbWUsIHRydWUsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICAgIHRoaXMuYWRkRXZlbnRMb2dUb1dlQ2hhdChlbnRyeS5jb250ZW50LCBpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5hZGRNZXNzYWdlVG9XZUNoYXQoZW50cnksIGluZGV4LCBhbmltYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDmuLLmn5PmkqTlm57pgJrnn6VcbiAgcmVuZGVyUmVjYWxsTm90aWNlKGVudHJ5OiBMb2dFbnRyeSwgZWxlbWVudFRvUmVwbGFjZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgaW5kZXg/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB3aG8gPSB0aGlzLm9wdGlvbnMuZ2V0RGlzcGxheU5hbWUoJ3NlbmRlcicgaW4gZW50cnkgJiYgZW50cnkuc2VuZGVyID09PSAnbWUnID8gJ3VzZXInIDogJ2NoYXInKTtcbiAgICBjb25zdCBub3RpY2VSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBub3RpY2VSb3cuY2xhc3NOYW1lID0gJ3RpbWVzdGFtcC1yb3cnO1xuXG4gICAgLy8g56Gu5L+d5re75YqgZGF0YS1sb2ctaW5kZXjlsZ7mgKfvvIzov5nmoLflnKjliKDpmaTmqKHlvI/kuIvlj6/ku6XmmL7npLrliKDpmaTmjInpkq5cbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgbm90aWNlUm93LmRhdGFzZXQubG9nSW5kZXggPSBpbmRleC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vIOWmguaenOaciWlk77yM5re75YqgbWVzc2FnZS1pZOWxnuaAp1xuICAgIGlmICgnaWQnIGluIGVudHJ5KSB7XG4gICAgICBub3RpY2VSb3cuZGF0YXNldC5tZXNzYWdlSWQgPSBlbnRyeS5pZDtcbiAgICB9XG5cbiAgICBjb25zdCByZWNhbGxlZFRleHQgPVxuICAgICAgdHlwZW9mIGVudHJ5LnJlY2FsbGVkX2NvbnRlbnQgPT09ICdvYmplY3QnICYmIGVudHJ5LnJlY2FsbGVkX2NvbnRlbnQgIT09IG51bGxcbiAgICAgICAgPyBlbnRyeS5yZWNhbGxlZF9jb250ZW50LnRleHRcbiAgICAgICAgOiBlbnRyeS5yZWNhbGxlZF9jb250ZW50O1xuXG4gICAgbm90aWNlUm93LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJyZWNhbGwtbm90aWNlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVjYWxsLW5vdGljZS10ZXh0XCI+XCIke3dob31cIiDmkqTlm57kuobkuIDmnaHmtojmga88L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlY2FsbC1jb250ZW50XCI+JHtyZWNhbGxlZFRleHQgfHwgKCdjb250ZW50JyBpbiBlbnRyeSA/IGVudHJ5LmNvbnRlbnQgOiAnJyl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgY29uc3Qgbm90aWNlVGV4dEVsID0gbm90aWNlUm93LnF1ZXJ5U2VsZWN0b3IoJy5yZWNhbGwtbm90aWNlLXRleHQnKTtcbiAgICBjb25zdCBjb250ZW50RWwgPSBub3RpY2VSb3cucXVlcnlTZWxlY3RvcignLnJlY2FsbC1jb250ZW50Jyk7XG5cbiAgICBpZiAobm90aWNlVGV4dEVsICYmIGNvbnRlbnRFbCkge1xuICAgICAgbm90aWNlVGV4dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb250ZW50RWwuY2xhc3NMaXN0LnRvZ2dsZSgnZXhwYW5kZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50VG9SZXBsYWNlKSB7XG4gICAgICBlbGVtZW50VG9SZXBsYWNlLnJlcGxhY2VXaXRoKG5vdGljZVJvdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2VjaGF0Qm9keS5hcHBlbmRDaGlsZChub3RpY2VSb3cpO1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfVxuXG4gIHJlbmRlck1vbWVudHNGZWVkKFxuICAgIGxvZ0VudHJpZXM6IExvZ0VudHJ5W10sXG4gICAgZ2V0RGlzcGxheU5hbWU6ICh0eXBlOiAndXNlcicgfCAnY2hhcicpID0+IHN0cmluZyxcbiAgICBhdmF0YXJzOiB7IHVzZXI6IHN0cmluZzsgY2hhcjogc3RyaW5nIH0sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG1vbWVudHNGZWVkTGlzdCA9ICQoJyNtb21lbnRzLWZlZWQtbGlzdCcpWzBdIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XG4gICAgaWYgKCFtb21lbnRzRmVlZExpc3QpIHJldHVybjtcblxuICAgIG1vbWVudHNGZWVkTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCBwb3N0czogeyBba2V5OiBudW1iZXJdOiBhbnkgfSA9IHt9O1xuICAgIGNvbnN0IG1vbWVudFBvc3RMb2dJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgbG9nRW50cmllcy5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgIGlmICgna2V5JyBpbiBlbnRyeSAmJiBlbnRyeS5rZXkuaW5jbHVkZXMoJ19NT01FTlQnKSkge1xuICAgICAgICBtb21lbnRQb3N0TG9nSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1vbWVudFBvc3RMb2dJbmRpY2VzLmZvckVhY2gobG9nSW5kZXggPT4ge1xuICAgICAgY29uc3QgZW50cnkgPSBsb2dFbnRyaWVzW2xvZ0luZGV4XTtcbiAgICAgIHBvc3RzW2xvZ0luZGV4XSA9IHsgLi4uKGVudHJ5IGFzIGFueSksIGxpa2VzOiBbXSwgY29tbWVudHM6IFtdLCBpZDogbG9nSW5kZXggfTtcbiAgICB9KTtcblxuICAgIGxvZ0VudHJpZXMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICBpZiAoJ2tleScgaW4gZW50cnkgJiYgKGVudHJ5LmtleS5pbmNsdWRlcygnX0xJS0UnKSB8fCBlbnRyeS5rZXkuaW5jbHVkZXMoJ19DT01NRU5UJykpKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc3RBYnNvbHV0ZUluZGV4ID0gbW9tZW50UG9zdExvZ0luZGljZXNbcGFyc2VJbnQoKGVudHJ5IGFzIGFueSkuZGF0YS50YXJnZXRfcG9zdF9pZCwgMTApXTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zdCA9IHBvc3RzW3RhcmdldFBvc3RBYnNvbHV0ZUluZGV4XTtcblxuICAgICAgICBpZiAodGFyZ2V0UG9zdCkge1xuICAgICAgICAgIGlmIChlbnRyeS5rZXkuaW5jbHVkZXMoJ19MSUtFJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpa2VyTmFtZSA9IGVudHJ5LmtleS5zdGFydHNXaXRoKCdVU0VSJykgPyBnZXREaXNwbGF5TmFtZSgndXNlcicpIDogZ2V0RGlzcGxheU5hbWUoJ2NoYXInKTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0UG9zdC5saWtlcy5zb21lKChsOiBhbnkpID0+IGwubmFtZSA9PT0gbGlrZXJOYW1lKSkge1xuICAgICAgICAgICAgICB0YXJnZXRQb3N0Lmxpa2VzLnB1c2goeyBrZXk6IGVudHJ5LmtleSwgbmFtZTogbGlrZXJOYW1lLCBvcmlnaW5hbExvZ0luZGV4OiBpbmRleCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0UG9zdC5jb21tZW50cy5wdXNoKHsgLi4uKGVudHJ5IGFzIGFueSksIG9yaWdpbmFsTG9nSW5kZXg6IGluZGV4IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDnm67moIfluJblrZDmnKrmib7liLDvvIzot7Pov4fkuqTkupLmuLLmn5NcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LnZhbHVlcyhwb3N0cylcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5mb3JFYWNoKHBvc3QgPT4ge1xuICAgICAgICBjb25zdCBmcm9tVXNlciA9IHBvc3Qua2V5LnN0YXJ0c1dpdGgoJ1VTRVInKTtcbiAgICAgICAgY29uc3QgYXV0aG9yTmFtZSA9IGZyb21Vc2VyID8gZ2V0RGlzcGxheU5hbWUoJ3VzZXInKSA6IGdldERpc3BsYXlOYW1lKCdjaGFyJyk7XG4gICAgICAgIGNvbnN0IGF1dGhvckF2YXRhciA9IGZyb21Vc2VyID8gYXZhdGFycy51c2VyIDogYXZhdGFycy5jaGFyO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICdtb21lbnQtcG9zdCc7XG4gICAgICAgIGxpLmRhdGFzZXQucG9zdElkID0gcG9zdC5pZDtcbiAgICAgICAgY29uc3QgbW9tZW50U2VxdWVuY2VJZCA9IG1vbWVudFBvc3RMb2dJbmRpY2VzLmluZGV4T2YocG9zdC5pZCk7XG4gICAgICAgIGxpLmRhdGFzZXQubW9tZW50U2VxdWVuY2VJZCA9IFN0cmluZyhtb21lbnRTZXF1ZW5jZUlkKTtcbiAgICAgICAgLy8g6K6+572ubW9tZW50LWlk5bGe5oCn77yM55So5LqO5Yig6Zmk5Yqf6IO9XG4gICAgICAgIGxpLmRhdGFzZXQubW9tZW50SWQgPSBTdHJpbmcobW9tZW50U2VxdWVuY2VJZCk7XG5cbiAgICAgICAgbGV0IG1lZGlhSHRtbCA9ICcnO1xuICAgICAgICBpZiAocG9zdC5kYXRhLmltYWdlX3R5cGUgPT09ICd1cmwnICYmIHBvc3QuZGF0YS5pbWFnZSkge1xuICAgICAgICAgIG1lZGlhSHRtbCA9IGA8aW1nIHNyYz1cIiR7cG9zdC5kYXRhLmltYWdlfVwiIGNsYXNzPVwicG9zdC1tZWRpYS1pbWFnZVwiIC8+YDtcbiAgICAgICAgfSBlbHNlIGlmIChwb3N0LmRhdGEuaW1hZ2VfdHlwZSA9PT0gJ2Rlc2MnICYmIHBvc3QuZGF0YS5pbWFnZSkge1xuICAgICAgICAgIG1lZGlhSHRtbCA9IGA8ZGl2IGNsYXNzPVwiaW1hZ2UtZGVzYy1jb250ZW50XCI+PGRpdiBjbGFzcz1cInRleHQtd3JhcHBlclwiPiR7cG9zdC5kYXRhLmltYWdlfTwvZGl2PjwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25zSHRtbCA9ICcnO1xuICAgICAgICBpZiAocG9zdC5saWtlcy5sZW5ndGggPiAwIHx8IHBvc3QuY29tbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGxpa2Vyc0h0bWwgPVxuICAgICAgICAgICAgcG9zdC5saWtlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8gYDxkaXYgY2xhc3M9XCJsaWtlcy1zZWN0aW9uXCI+PGkgY2xhc3M9XCJmYXMgZmEtaGVhcnRcIj48L2k+ICR7cG9zdC5saWtlc1xuICAgICAgICAgICAgICAgICAgLm1hcCgobDogYW55KSA9PiBgPHNwYW4gY2xhc3M9XCJsaWtlci1uYW1lXCI+JHtsLm5hbWV9PC9zcGFuPmApXG4gICAgICAgICAgICAgICAgICAuam9pbignLCAnKX08L2Rpdj5gXG4gICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgY29uc3QgY29tbWVudHNIdG1sID1cbiAgICAgICAgICAgIHBvc3QuY29tbWVudHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGA8dWwgY2xhc3M9XCJjb21tZW50cy1zZWN0aW9uXCI+JHtwb3N0LmNvbW1lbnRzXG4gICAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgICAoYzogYW55KSA9PlxuICAgICAgICAgICAgICAgICAgICAgIGA8bGk+PHNwYW4gY2xhc3M9XCJjb21tZW50LWF1dGhvclwiPiR7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmtleS5zdGFydHNXaXRoKCdVU0VSJykgPyBnZXREaXNwbGF5TmFtZSgndXNlcicpIDogZ2V0RGlzcGxheU5hbWUoJ2NoYXInKVxuICAgICAgICAgICAgICAgICAgICAgIH08L3NwYW4+OiAke2MuZGF0YS50ZXh0fTwvbGk+YCxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC5qb2luKCcnKX08L3VsPmBcbiAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBpbnRlcmFjdGlvbnNIdG1sID0gYDxkaXYgY2xhc3M9XCJwb3N0LWludGVyYWN0aW9uc1wiPiR7bGlrZXJzSHRtbH0ke2NvbW1lbnRzSHRtbH08L2Rpdj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGlzcGxheVRpbWUgPSB0aGlzLmZvcm1hdE1vbWVudFRpbWVzdGFtcChwb3N0LmRhdGEuZGF0ZSwgcG9zdC5kYXRhLnRpbWUpO1xuICAgICAgICBjb25zdCBkZWxldGVCdG5IdG1sID0gZnJvbVVzZXIgPyBgPHNwYW4gY2xhc3M9XCJkZWxldGUtbW9tZW50LWJ0blwiIHRpdGxlPVwi5Yig6ZmkXCI+5Yig6ZmkPC9zcGFuPmAgOiAnJztcblxuICAgICAgICBsaS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2F1dGhvckF2YXRhcn1cIiBjbGFzcz1cInBvc3QtYXV0aG9yLWF2YXRhclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBvc3QtYXV0aG9yLW5hbWVcIj4ke2F1dGhvck5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBvc3QtY29udGVudFwiPiR7cG9zdC5kYXRhLnRleHQgfHwgJyd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdC1tZWRpYVwiPiR7bWVkaWFIdG1sfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdC1tZXRhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdC1tZXRhLWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRpbWVzdGFtcFwiPiR7ZGlzcGxheVRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVsZXRlQnRuSHRtbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29tbWVudC1idXR0b25cIiB0aXRsZT1cIuivhOiuui/ngrnotZ5cIj48aSBjbGFzcz1cImZhcyBmYS1jb21tZW50LWRvdHNcIj48L2k+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2ludGVyYWN0aW9uc0h0bWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgbW9tZW50c0ZlZWRMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8g5pi+56S6XCLmraPlnKjovpPlhaVcIuaMh+ekuuWZqFxuICBzaG93VHlwaW5nSW5kaWNhdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuaGlkZVR5cGluZ0luZGljYXRvcigpOyAvLyDnoa7kv53lj6rmnInkuIDkuKpcbiAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gJ3R5cGluZy1pbmRpY2F0b3InO1xuICAgIGluZGljYXRvci5pZCA9ICd0eXBpbmctaW5kaWNhdG9yLWlkJztcbiAgICBjb25zdCBhdmF0YXJTcmMgPSB0aGlzLmF2YXRhcnMuY2hhcjtcblxuICAgIGluZGljYXRvci5pbm5lckhUTUwgPSBgXG4gICAgICA8aW1nIHNyYz1cIiR7YXZhdGFyU3JjfVwiIGNsYXNzPVwibWVzc2FnZS1hdmF0YXJcIiAvPlxuICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2UtYnViYmxlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidHlwaW5nLWRvdFwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0eXBpbmctZG90XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInR5cGluZy1kb3RcIj48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIHRoaXMud2VjaGF0Qm9keS5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfVxuXG4gIC8vIOmakOiXj1wi5q2j5Zyo6L6T5YWlXCLmjIfnpLrlmahcbiAgaGlkZVR5cGluZ0luZGljYXRvcigpOiB2b2lkIHtcbiAgICAkKCcjdHlwaW5nLWluZGljYXRvci1pZCcpLnJlbW92ZSgpO1xuICB9XG5cbiAgLy8g5pi+56S6QUnnlJ/miJDlhoXlrrnnmoTliqDovb3liqjnlLvvvIjlnKjngbXliqjlspvkuIrvvIlcbiAgc2hvd0dlbmVyYXRpbmdJbmRpY2F0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5oaWRlR2VuZXJhdGluZ0luZGljYXRvcigpOyAvLyDnoa7kv53lj6rmnInkuIDkuKpcblxuICAgIC8vIOiOt+WPlueBteWKqOWym+WFg+e0oCAtIOS9v+eUqGpRdWVyeVxuICAgIGNvbnN0IGR5bmFtaWNJc2xhbmQgPSAkKCcuZHluYW1pYy1pc2xhbmQnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoIWR5bmFtaWNJc2xhbmQpIHJldHVybjtcblxuICAgIC8vIOWIm+W7uuWKoOi9veWKqOeUu+WuueWZqFxuICAgIGNvbnN0IGxvYWRpbmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdnZW5lcmF0aW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0NvbnRhaW5lci5pZCA9ICdnZW5lcmF0aW5nLWluZGljYXRvci1pZCc7XG5cbiAgICAvLyDliJvlu7rliqDovb3liqjnlLvngrlcbiAgICBsb2FkaW5nQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwiZ2VuZXJhdGluZy1kb3RcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImdlbmVyYXRpbmctZG90XCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJnZW5lcmF0aW5nLWRvdFwiPjwvc3Bhbj5cbiAgICBgO1xuXG4gICAgLy8g5re75Yqg5Yiw54G15Yqo5bKbXG4gICAgZHluYW1pY0lzbGFuZC5hcHBlbmRDaGlsZChsb2FkaW5nQ29udGFpbmVyKTtcblxuICAgIC8vIOa3u+WKoOa0u+i3g+exu1xuICAgIGR5bmFtaWNJc2xhbmQuY2xhc3NMaXN0LmFkZCgnZ2VuZXJhdGluZy1hY3RpdmUnKTtcbiAgfVxuXG4gIC8vIOmakOiXj0FJ55Sf5oiQ5YaF5a6555qE5Yqg6L295Yqo55S7XG4gIGhpZGVHZW5lcmF0aW5nSW5kaWNhdG9yKCk6IHZvaWQge1xuICAgICQoJyNnZW5lcmF0aW5nLWluZGljYXRvci1pZCcpLnJlbW92ZSgpO1xuICAgICQoJy5keW5hbWljLWlzbGFuZCcpLnJlbW92ZUNsYXNzKCdnZW5lcmF0aW5nLWFjdGl2ZScpO1xuICB9XG5cbiAgLy8g6K6h566X5omT5a2X5bu26L+f5pe26Ze0XG4gIGNhbGN1bGF0ZVR5cGluZ0RlbGF5KG1lc3NhZ2VDb250ZW50OiBzdHJpbmcgfCBvYmplY3QpOiBudW1iZXIge1xuICAgIC8vIOWvueS6jumdnuaWh+acrOa2iOaBr++8iOWmguihqOaDheOAgeWbvueJh+etie+8ie+8jOS9v+eUqOS4gOS4qui+g+efreeahOWbuuWumuW7tui/n1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZUNvbnRlbnQgIT09ICdzdHJpbmcnIHx8IG1lc3NhZ2VDb250ZW50LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHJldHVybiA4MDAgKyBNYXRoLnJhbmRvbSgpICogNzAwOyAvLyAwLjhzIHRvIDEuNXNcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0TGVuZ3RoID0gbWVzc2FnZUNvbnRlbnQubGVuZ3RoO1xuICAgIGNvbnN0IGJhc2VEZWxheSA9IDUwMDsgLy8g5Z+656GA5bu26L+fIDAuNXNcbiAgICBjb25zdCBwZXJDaGFyRGVsYXkgPSA0MDsgLy8g5q+P5Liq5a2X56ym5aKe5YqgIDQwbXNcbiAgICBjb25zdCByYW5kb21Db21wb25lbnQgPSBNYXRoLnJhbmRvbSgpICogODAwOyAvLyDlop7liqAgMC0wLjhzIOeahOmaj+acuuaAp1xuXG4gICAgY29uc3QgdG90YWxEZWxheSA9IGJhc2VEZWxheSArIHRleHRMZW5ndGggKiBwZXJDaGFyRGVsYXkgKyByYW5kb21Db21wb25lbnQ7XG5cbiAgICAvLyDnoa7kv53mgLvlu7bov5/kuI3otoXov4cz56eSICgzMDAwbXMpXG4gICAgcmV0dXJuIE1hdGgubWluKHRvdGFsRGVsYXksIDMwMDApO1xuICB9XG5cbiAgLy8g5re75Yqg5raI5oGv5Yiw5b6u5L+h55WM6Z2iXG4gIHByaXZhdGUgYWRkTWVzc2FnZVRvV2VDaGF0KGVudHJ5OiBDaGF0RW50cnksIGluZGV4PzogbnVtYmVyLCBpc05ld01lc3NhZ2U6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGNvbnN0IHsgaWQsIHNlbmRlciwgdHlwZSB9ID0gZW50cnk7XG4gICAgY29uc3QgbWVzc2FnZVJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lc3NhZ2VSb3cuY2xhc3NOYW1lID0gJ21lc3NhZ2Utcm93JztcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkgbWVzc2FnZVJvdy5kYXRhc2V0LmxvZ0luZGV4ID0gaW5kZXgudG9TdHJpbmcoKTtcbiAgICBtZXNzYWdlUm93LmRhdGFzZXQubWVzc2FnZUlkID0gaWQ7XG5cbiAgICBjb25zdCBzZW5kZXJDbGFzcyA9IHNlbmRlcjtcbiAgICBtZXNzYWdlUm93LmNsYXNzTGlzdC5hZGQoc2VuZGVyQ2xhc3MpO1xuXG4gICAgY29uc3QgYXZhdGFyU3JjID0gc2VuZGVyID09PSAnbWUnID8gdGhpcy5hdmF0YXJzLnVzZXIgOiB0aGlzLmF2YXRhcnMuY2hhcjtcbiAgICBjb25zdCBhdmF0YXJJbWdIdG1sID0gYDxpbWcgc3JjPVwiJHthdmF0YXJTcmN9XCIgY2xhc3M9XCJtZXNzYWdlLWF2YXRhclwiIC8+YDtcblxuICAgIGlmICh0eXBlID09PSAndm9pY2UnKSB7XG4gICAgICB0aGlzLnJlbmRlclZvaWNlTWVzc2FnZShtZXNzYWdlUm93LCBlbnRyeSBhcyBWb2ljZU1lc3NhZ2UsIGF2YXRhckltZ0h0bWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgYnViYmxlQ29udGVudCA9ICcnO1xuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnc3RpY2tlcic6XG4gICAgICAgICAgYnViYmxlQ29udGVudCA9IHRoaXMucmVuZGVyU3RpY2tlckNvbnRlbnQoZW50cnkgYXMgU3RpY2tlck1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgYnViYmxlQ29udGVudCA9IHRoaXMucmVuZGVySW1hZ2VDb250ZW50KGVudHJ5IGFzIEltYWdlTWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgICBidWJibGVDb250ZW50ID0gdGhpcy5yZW5kZXJMb2NhdGlvbkNvbnRlbnQoZW50cnkgYXMgTG9jYXRpb25NZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndHJhbnNmZXInOlxuICAgICAgICAgIGJ1YmJsZUNvbnRlbnQgPSB0aGlzLnJlbmRlclRyYW5zZmVyQ29udGVudChlbnRyeSBhcyBUcmFuc2Zlck1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICBidWJibGVDb250ZW50ID0gdGhpcy5yZW5kZXJGaWxlQ29udGVudChlbnRyeSBhcyBGaWxlTWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dpZnQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIOWIpOaWreaYr+e6ouWMhei/mOaYr+ekvOeJqVxuICAgICAgICAgICAgY29uc3QgZ2lmdEVudHJ5ID0gZW50cnkgYXMgR2lmdE1lc3NhZ2U7XG4gICAgICAgICAgICBjb25zdCBpc1JlZEVudmVsb3BlID1cbiAgICAgICAgICAgICAgZ2lmdEVudHJ5LmRhdGEubmFtZS5pbmNsdWRlcygn57qi5YyFJykgfHxcbiAgICAgICAgICAgICAgZ2lmdEVudHJ5LmRhdGEubmFtZS5pbmNsdWRlcygn5Y6L5bKB6ZKxJykgfHxcbiAgICAgICAgICAgICAgZ2lmdEVudHJ5LmRhdGEubmFtZS5pbmNsdWRlcygn57qi5YipJyk7XG5cbiAgICAgICAgICAgIGlmIChpc1JlZEVudmVsb3BlKSB7XG4gICAgICAgICAgICAgIGJ1YmJsZUNvbnRlbnQgPSB0aGlzLnJlbmRlclJlZEVudmVsb3BlQ29udGVudChnaWZ0RW50cnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnViYmxlQ29udGVudCA9IHRoaXMucmVuZGVyR2lmdENvbnRlbnQoZ2lmdEVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnViYmxlQ29udGVudCA9IChlbnRyeSBhcyBUZXh0TWVzc2FnZSkuY29udGVudC5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyDmoLnmja7mtojmga/nsbvlnovmt7vliqDnibnmrornmoTmsJTms6HnsbtcbiAgICAgIGxldCBidWJibGVDbGFzcyA9ICdtZXNzYWdlLWJ1YmJsZSc7XG4gICAgICBpZiAodHlwZSA9PT0gJ3N0aWNrZXInKSB7XG4gICAgICAgIGJ1YmJsZUNsYXNzICs9ICcgc3RpY2tlci1idWJibGUnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGJ1YmJsZUNsYXNzICs9ICcgaW1hZ2UtZGVzYy1idWJibGUnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgIGJ1YmJsZUNsYXNzICs9ICcgbG9jYXRpb24tYnViYmxlJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RyYW5zZmVyJykge1xuICAgICAgICBidWJibGVDbGFzcyArPSAnIHRyYW5zZmVyLWJ1YmJsZSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICBidWJibGVDbGFzcyArPSAnIGZpbGUtYnViYmxlJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2dpZnQnKSB7XG4gICAgICAgIGJ1YmJsZUNsYXNzICs9ICcgZ2lmdC1idWJibGUnO1xuICAgICAgfVxuXG4gICAgICBtZXNzYWdlUm93LmlubmVySFRNTCA9XG4gICAgICAgIHNlbmRlciA9PT0gJ21lJ1xuICAgICAgICAgID8gYDxkaXYgY2xhc3M9XCIke2J1YmJsZUNsYXNzfVwiPiR7YnViYmxlQ29udGVudH08L2Rpdj4ke2F2YXRhckltZ0h0bWx9YFxuICAgICAgICAgIDogYCR7YXZhdGFySW1nSHRtbH08ZGl2IGNsYXNzPVwiJHtidWJibGVDbGFzc31cIj4ke2J1YmJsZUNvbnRlbnR9PC9kaXY+YDtcblxuICAgICAgY29uc3QgYnViYmxlID0gbWVzc2FnZVJvdy5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZS1idWJibGUnKTtcbiAgICAgIGlmIChidWJibGUpIHtcbiAgICAgICAgdGhpcy5hcHBseUJ1YmJsZVN0eWxlcyhidWJibGUsIHR5cGUsIGVudHJ5KTtcbiAgICAgICAgdGhpcy5zZXR1cEJ1YmJsZUludGVyYWN0aW9ucyhidWJibGUsIHR5cGUsIGVudHJ5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNOZXdNZXNzYWdlKSB7XG4gICAgICBtZXNzYWdlUm93LmNsYXNzTGlzdC5hZGQoJ25ldy1tZXNzYWdlJyk7XG4gICAgfVxuXG4gICAgLy8g5Li6VVNFUuaWh+Wtl+a2iOaBr+a3u+WKoOmVv+aMieaSpOWbnuWKn+iDvVxuICAgIGlmIChzZW5kZXIgPT09ICdtZScgJiYgZW50cnkudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICB0aGlzLnNldHVwVXNlck1lc3NhZ2VMb25nUHJlc3MobWVzc2FnZVJvdywgZW50cnkpO1xuICAgIH1cblxuICAgIHRoaXMud2VjaGF0Qm9keS5hcHBlbmRDaGlsZChtZXNzYWdlUm93KTtcbiAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gIH1cblxuICAvLyDmuLLmn5Por63pn7Pmtojmga9cbiAgcHJpdmF0ZSByZW5kZXJWb2ljZU1lc3NhZ2UobWVzc2FnZVJvdzogSFRNTEVsZW1lbnQsIGVudHJ5OiBWb2ljZU1lc3NhZ2UsIGF2YXRhckltZ0h0bWw6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250ZW50Q29udGFpbmVyLmNsYXNzTmFtZSA9ICdtZXNzYWdlLWNvbnRlbnQtY29udGFpbmVyJztcblxuICAgIGNvbnN0IGJ1YmJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1YmJsZS5jbGFzc05hbWUgPSAnbWVzc2FnZS1idWJibGUgdm9pY2UtYnViYmxlJztcbiAgICBidWJibGUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiZHVyYXRpb25cIj4ke2VudHJ5LmNvbnRlbnQuZHVyYXRpb259XCI8L3NwYW4+PGkgY2xhc3M9XCJmYXMgZmEtd2lmaSB2b2ljZS1pY29uXCI+PC9pPmA7XG5cbiAgICBjb25zdCB0ZXh0UmV2ZWFsQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGV4dFJldmVhbEJveC5jbGFzc05hbWUgPSAndm9pY2UtdGV4dC1jb250ZW50JztcbiAgICB0ZXh0UmV2ZWFsQm94LnRleHRDb250ZW50ID0gZW50cnkuY29udGVudC50ZXh0O1xuXG4gICAgY29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChidWJibGUpO1xuICAgIGNvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dFJldmVhbEJveCk7XG5cbiAgICBpZiAoZW50cnkuc2VuZGVyID09PSAnbWUnKSB7XG4gICAgICBtZXNzYWdlUm93LmFwcGVuZENoaWxkKGNvbnRlbnRDb250YWluZXIpO1xuICAgICAgbWVzc2FnZVJvdy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGF2YXRhckltZ0h0bWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlUm93Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGF2YXRhckltZ0h0bWwpO1xuICAgICAgbWVzc2FnZVJvdy5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBsZXQgbG9uZ1ByZXNzRmlyZWQgPSBmYWxzZTtcbiAgICBjb25zdCB0aW1lckR1cmF0aW9uID0gNTAwO1xuICAgIGxldCBwcmVzc1RpbWVyOiBudW1iZXI7XG5cbiAgICBidWJibGUuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHtcbiAgICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIChlIGFzIFBvaW50ZXJFdmVudCkuYnV0dG9uICE9PSAwKSByZXR1cm47XG4gICAgICBsb25nUHJlc3NGaXJlZCA9IGZhbHNlO1xuICAgICAgcHJlc3NUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWVzc2FnZVJvdy5jbGFzc0xpc3QuYWRkKCd2b2ljZS10ZXh0LXZpc2libGUnKTtcbiAgICAgICAgbG9uZ1ByZXNzRmlyZWQgPSB0cnVlO1xuICAgICAgfSwgdGltZXJEdXJhdGlvbik7XG4gICAgfSk7XG5cbiAgICBidWJibGUuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHByZXNzVGltZXIpO1xuICAgICAgaWYgKCFsb25nUHJlc3NGaXJlZCkge1xuICAgICAgICBpZiAobWVzc2FnZVJvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3ZvaWNlLXRleHQtdmlzaWJsZScpKSB7XG4gICAgICAgICAgbWVzc2FnZVJvdy5jbGFzc0xpc3QucmVtb3ZlKCd2b2ljZS10ZXh0LXZpc2libGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnViYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IGNsZWFyVGltZW91dChwcmVzc1RpbWVyKSk7XG4gICAgYnViYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICB9XG5cbiAgLy8g5riy5p+T6KGo5oOF5YyF5YaF5a65XG4gIHByaXZhdGUgcmVuZGVyU3RpY2tlckNvbnRlbnQoZW50cnk6IFN0aWNrZXJNZXNzYWdlKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGlja2VyVXJsID0gdGhpcy5vcHRpb25zLmZpbmRTdGlja2VyVXJsQnlOYW1lKGVudHJ5LmNvbnRlbnQpO1xuICAgIGlmIChzdGlja2VyVXJsKSB7XG4gICAgICAvLyDkvb/nlKjnuq9IVE1M5Yib5bu66KGo5oOF5YyF5a655Zmo5ZKM5Zu+54mHXG4gICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJzdGlja2VyLWNvbnRhaW5lclwiPjxpbWcgc3JjPVwiJHtzdGlja2VyVXJsfVwiIGNsYXNzPVwic3RpY2tlci1pbWdcIiAvPjwvZGl2PmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cInN0aWNrZXItcGxhY2Vob2xkZXJcIj5b6KGo5oOFXTwvZGl2PmA7XG4gICAgfVxuICB9XG5cbiAgLy8g5riy5p+T5Zu+54mH5YaF5a65XG4gIHByaXZhdGUgcmVuZGVySW1hZ2VDb250ZW50KGVudHJ5OiBJbWFnZU1lc3NhZ2UpOiBzdHJpbmcge1xuICAgIGlmIChlbnRyeS5jb250ZW50LnR5cGUgPT09ICd1cmwnKSB7XG4gICAgICBsZXQgaW1hZ2VVcmwgPSBlbnRyeS5jb250ZW50LnZhbHVlO1xuICAgICAgaWYgKGltYWdlVXJsLnN0YXJ0c1dpdGgoJ2JsbXgtaW1nLScpKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZEltYWdlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShpbWFnZVVybCk7XG4gICAgICAgIGlmIChzdG9yZWRJbWFnZSkge1xuICAgICAgICAgIGltYWdlVXJsID0gc3RvcmVkSW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiaW1hZ2UtZGVzYy1jb250ZW50XCI+PGRpdiBjbGFzcz1cInRleHQtd3JhcHBlclwiPlvlm77niYflt7Lov4fmnJ9dPC9kaXY+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGA8aW1nIHNyYz1cIiR7aW1hZ2VVcmx9XCIgY2xhc3M9XCJjaGF0LWltYWdlXCIgLz5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZXNjVGV4dCA9IGVudHJ5LmNvbnRlbnQudmFsdWU7XG4gICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJpbWFnZS1kZXNjLWNvbnRlbnRcIj48ZGl2IGNsYXNzPVwidGV4dC13cmFwcGVyXCI+JHtTdHJpbmcoZGVzY1RleHQpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKX08L2Rpdj48L2Rpdj5gO1xuICAgIH1cbiAgfVxuXG4gIC8vIOa4suafk+S9jee9ruWGheWuuVxuICBwcml2YXRlIHJlbmRlckxvY2F0aW9uQ29udGVudChlbnRyeTogTG9jYXRpb25NZXNzYWdlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJsb2NhdGlvbi1jYXJkXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9jYXRpb24tY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9jYXRpb24tdGl0bGVcIj4ke2VudHJ5LmNvbnRlbnR9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2NhdGlvbi1zdWJ0aXRsZVwiPuWFseS6q+WunuaXtuS9jee9rjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9jYXRpb24tbWFwLXBsYWNlaG9sZGVyXCI+PC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgfVxuXG4gIC8vIOa4suafk+i9rOi0puWGheWuuVxuICBwcml2YXRlIHJlbmRlclRyYW5zZmVyQ29udGVudChlbnRyeTogVHJhbnNmZXJNZXNzYWdlKTogc3RyaW5nIHtcbiAgICBjb25zdCBpc1JlY2VpcHQgPSBlbnRyeS5kYXRhLnN0YXR1cyAhPT0gJ3NlbnQnO1xuICAgIGNvbnN0IGRldGFpbHNIdG1sID0gaXNSZWNlaXB0XG4gICAgICA/IGA8ZGl2IGNsYXNzPVwic3RhdHVzLXRleHRcIj4ke2VudHJ5LmRhdGEuc3RhdHVzID09PSAnYWNjZXB0ZWQnID8gJ+W3suaOpeaUticgOiAn5bey6YCA6L+YJ308L2Rpdj5gXG4gICAgICA6IGA8ZGl2IGNsYXNzPVwibm90ZVwiPiR7ZW50cnkuZGF0YS5ub3RlIHx8ICcgJ308L2Rpdj5gO1xuICAgIGNvbnN0IGNhcmRDbGFzcyA9IGlzUmVjZWlwdCA/ICd0cmFuc2Zlci1yZWNlaXB0JyA6ICd0cmFuc2Zlci1pbml0aWFsJztcblxuICAgIHJldHVybiBgPGRpdiBjbGFzcz1cInRyYW5zZmVyLWNhcmQgJHtjYXJkQ2xhc3N9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidHJhbnNmZXItY29udGVudFwiPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lLyVFNyVCNCVBMCVFNiU5RCU5MC9hcnJvd3MucG5nXCIgY2xhc3M9XCJ0cmFuc2Zlci1pY29uLWltYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0cmFuc2Zlci1kZXRhaWxzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPsKlJHtlbnRyeS5kYXRhLmFtb3VudH08L2Rpdj5cbiAgICAgICAgICAke2RldGFpbHNIdG1sfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRyYW5zZmVyLWZvb3RlclwiPui9rOi0pjwvZGl2PlxuICAgIDwvZGl2PmA7XG4gIH1cblxuICAvLyDmuLLmn5Pmlofku7blhoXlrrlcbiAgcHJpdmF0ZSByZW5kZXJGaWxlQ29udGVudChlbnRyeTogRmlsZU1lc3NhZ2UpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImZpbGUtY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGVudFwiPlxuICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1maWxlLWFsdCBmaWxlLWljb25cIj48L2k+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWRldGFpbHNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1uYW1lXCI+JHtlbnRyeS5jb250ZW50LnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyl9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1mb290ZXJcIj7mlofku7Y8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICB9XG5cbiAgLy8g5riy5p+T56S854mp5YaF5a65XG4gIHByaXZhdGUgcmVuZGVyR2lmdENvbnRlbnQoZW50cnk6IEdpZnRNZXNzYWdlKTogc3RyaW5nIHtcbiAgICBsZXQgZGV0YWlsc0NsYXNzID0gJyc7XG4gICAgbGV0IGRldGFpbHNDb250ZW50ID0gJyc7XG4gICAgY29uc3QgaXNSZWNlaXB0ID0gZW50cnkuZGF0YS5zdGF0dXMgIT09ICdzZW50JztcbiAgICBjb25zdCBjYXJkQ2xhc3MgPSBpc1JlY2VpcHQgPyAnZ2lmdC1yZWNlaXB0JyA6ICdnaWZ0LWluaXRpYWwnO1xuXG4gICAgaWYgKGVudHJ5LmRhdGEuc3RhdHVzID09PSAnc2VudCcpIHtcbiAgICAgIGlmIChlbnRyeS5kYXRhLnByaWNlKSB7XG4gICAgICAgIGRldGFpbHNDbGFzcyA9ICdnaWZ0LXByaWNlJztcbiAgICAgICAgZGV0YWlsc0NvbnRlbnQgPSBgwqUgJHtlbnRyeS5kYXRhLnByaWNlfWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRldGFpbHNDbGFzcyA9ICdnaWZ0LXN0YXR1cy10ZXh0JztcbiAgICAgIGRldGFpbHNDb250ZW50ID0gZW50cnkuZGF0YS5zdGF0dXMgPT09ICdhY2NlcHRlZCcgPyAn5bey5pS25LiLJyA6ICflt7Lmi5LmlLYnO1xuICAgIH1cblxuICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImdpZnQtY2FyZCAke2NhcmRDbGFzc31cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJnaWZ0LWNvbnRlbnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJnaWZ0LWljb24tZW1vamlcIj7wn46BPC9zcGFuPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ2lmdC1kZXRhaWxzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImdpZnQtbmFtZVwiPiR7ZW50cnkuZGF0YS5uYW1lfTwvZGl2PlxuICAgICAgICAgICR7ZGV0YWlsc0NvbnRlbnQgPyBgPGRpdiBjbGFzcz1cIiR7ZGV0YWlsc0NsYXNzfVwiPiR7ZGV0YWlsc0NvbnRlbnR9PC9kaXY+YCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImdpZnQtZm9vdGVyXCI+56S854mpPC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgfVxuXG4gIC8vIOa4suafk+e6ouWMheWGheWuuVxuICBwcml2YXRlIHJlbmRlclJlZEVudmVsb3BlQ29udGVudChlbnRyeTogR2lmdE1lc3NhZ2UpOiBzdHJpbmcge1xuICAgIGxldCBkZXRhaWxzQ2xhc3MgPSAnJztcbiAgICBsZXQgZGV0YWlsc0NvbnRlbnQgPSAnJztcbiAgICBjb25zdCBpc1JlY2VpcHQgPSBlbnRyeS5kYXRhLnN0YXR1cyAhPT0gJ3NlbnQnO1xuICAgIGNvbnN0IGNhcmRDbGFzcyA9IGlzUmVjZWlwdCA/ICdnaWZ0LXJlY2VpcHQnIDogJ2dpZnQtaW5pdGlhbCc7XG5cbiAgICBpZiAoZW50cnkuZGF0YS5zdGF0dXMgPT09ICdzZW50Jykge1xuICAgICAgaWYgKGVudHJ5LmRhdGEucHJpY2UpIHtcbiAgICAgICAgZGV0YWlsc0NsYXNzID0gJ2dpZnQtcHJpY2UnO1xuICAgICAgICBkZXRhaWxzQ29udGVudCA9IGDCpSAke2VudHJ5LmRhdGEucHJpY2V9YDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGV0YWlsc0NsYXNzID0gJ2dpZnQtc3RhdHVzLXRleHQnO1xuICAgICAgZGV0YWlsc0NvbnRlbnQgPSBlbnRyeS5kYXRhLnN0YXR1cyA9PT0gJ2FjY2VwdGVkJyA/ICflt7Lpooblj5YnIDogJ+W3suaLkuaUtic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZ2lmdC1jYXJkICR7Y2FyZENsYXNzfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImdpZnQtY29udGVudFwiPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vZ2l0Z3VkLmlvL2xvbG9kZXN1L2xvbG9iYWJ5dHV0b3JpYWwvLS9yYXcvbWFzdGVyL2xvbG9nYW1lLyVFNyVCNCVBMCVFNiU5RCU5MC9yZWQtZW52ZWxvcGUucG5nXCIgY2xhc3M9XCJnaWZ0LWljb24taW1hZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdpZnQtZGV0YWlsc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJnaWZ0LW5hbWVcIj4ke2VudHJ5LmRhdGEubmFtZX08L2Rpdj5cbiAgICAgICAgICAke2RldGFpbHNDb250ZW50ID8gYDxkaXYgY2xhc3M9XCIke2RldGFpbHNDbGFzc31cIj4ke2RldGFpbHNDb250ZW50fTwvZGl2PmAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJnaWZ0LWZvb3RlclwiPue6ouWMhTwvZGl2PlxuICAgIDwvZGl2PmA7XG4gIH1cblxuICAvLyDlupTnlKjmsJTms6HmoLflvI9cbiAgcHJpdmF0ZSBhcHBseUJ1YmJsZVN0eWxlcyhidWJibGU6IEVsZW1lbnQsIHR5cGU6IHN0cmluZywgZW50cnk6IENoYXRFbnRyeSk6IHZvaWQge1xuICAgIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBpZiAoKGVudHJ5IGFzIEltYWdlTWVzc2FnZSkuY29udGVudC50eXBlID09PSAndXJsJykge1xuICAgICAgICBidWJibGUuY2xhc3NMaXN0LmFkZCgnaW1hZ2UtdXJsLWJ1YmJsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnViYmxlLmNsYXNzTGlzdC5hZGQoJ2ltYWdlLWRlc2MtYnViYmxlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJ1YmJsZVR5cGVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgIHN0aWNrZXI6ICdzdGlja2VyLWJ1YmJsZScsXG4gICAgICAgIGxvY2F0aW9uOiAnbG9jYXRpb24tYnViYmxlJyxcbiAgICAgICAgdHJhbnNmZXI6ICd0cmFuc2Zlci1idWJibGUnLFxuICAgICAgICBmaWxlOiAnZmlsZS1idWJibGUnLFxuICAgICAgICBnaWZ0OiAnZ2lmdC1idWJibGUnLFxuICAgICAgfTtcblxuICAgICAgaWYgKGJ1YmJsZVR5cGVNYXBbdHlwZV0pIHtcbiAgICAgICAgYnViYmxlLmNsYXNzTGlzdC5hZGQoYnViYmxlVHlwZU1hcFt0eXBlXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6K6+572u5rCU5rOh5Lqk5LqSXG4gIHByaXZhdGUgc2V0dXBCdWJibGVJbnRlcmFjdGlvbnMoYnViYmxlOiBFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGVudHJ5OiBDaGF0RW50cnkpOiB2b2lkIHtcbiAgICBpZiAodHlwZSA9PT0gJ3RyYW5zZmVyJykge1xuICAgICAgY29uc3QgdHJhbnNmZXJDYXJkID0gYnViYmxlLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2Zlci1jYXJkJyk7XG4gICAgICBpZiAoIXRyYW5zZmVyQ2FyZCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCB0cmFuc2ZlckVudHJ5ID0gZW50cnkgYXMgVHJhbnNmZXJNZXNzYWdlO1xuICAgICAgY29uc3QgaXNSZWNlaXB0ID0gdHJhbnNmZXJFbnRyeS5kYXRhLnN0YXR1cyAhPT0gJ3NlbnQnO1xuXG4gICAgICBpZiAoIWlzUmVjZWlwdCAmJiBlbnRyeS5zZW5kZXIgPT09ICd0aGVtJykge1xuICAgICAgICB0cmFuc2ZlckNhcmQuY2xhc3NMaXN0LmFkZCgndGhlbScpO1xuICAgICAgICB0cmFuc2ZlckNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIOebtOaOpeaOpeaUtui9rOi0pu+8jOWboOS4uui9rOi0puWKn+iDveacrOi6q+W3sue7j+acieiHquWumuS5ieWvueivneahhlxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vblRyYW5zZmVyQWNjZXB0KSB7XG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblRyYW5zZmVyQWNjZXB0KHtcbiAgICAgICAgICAgICAgICAuLi50cmFuc2ZlckVudHJ5LmRhdGEsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnYWNjZXB0ZWQnIGFzICdhY2NlcHRlZCcgfCAncmVqZWN0ZWQnLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnZ2lmdCcpIHtcbiAgICAgIGNvbnN0IGdpZnRCdWJibGUgPSBidWJibGUgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBnaWZ0Q2FyZCA9IGJ1YmJsZS5xdWVyeVNlbGVjdG9yKCcuZ2lmdC1jYXJkJyk7XG4gICAgICBjb25zdCBnaWZ0RW50cnkgPSBlbnRyeSBhcyBHaWZ0TWVzc2FnZTtcbiAgICAgIGNvbnN0IGlzUmVjZWlwdCA9IGdpZnRFbnRyeS5kYXRhLnN0YXR1cyAhPT0gJ3NlbnQnO1xuXG4gICAgICBpZiAoaXNSZWNlaXB0KSB7XG4gICAgICAgIC8vIOW3sue7j+aOpeaUtuaIluaLkuaUtueahOekvOeJqe+8jOS4jemcgOimgea3u+WKoOeCueWHu+S6i+S7tlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOS4uuaJgOacieacquWkhOeQhueahOekvOeJqea3u+WKoOeCueWHu+S6i+S7tu+8jOaXoOiuuuaYr+eUqOaIt+i/mOaYr0FJ5Y+R6YCB55qEXG4gICAgICBpZiAoZ2lmdENhcmQpIGdpZnRDYXJkLmNsYXNzTGlzdC5hZGQoZW50cnkuc2VuZGVyID09PSAndGhlbScgPyAndGhlbScgOiAnbWUnKTtcbiAgICAgIGdpZnRCdWJibGUuY2xhc3NMaXN0LmFkZCgnZ2lmdC1jbGlja2FibGUnKTtcbiAgICAgIGdpZnRCdWJibGUuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25HaWZ0QWN0aW9uKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25HaWZ0QWN0aW9uKGdpZnRFbnRyeS5kYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnaWZ0QnViYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2dpZnQtY2xpY2thYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyDmt7vliqDml7bpl7TmiLPliLDlvq7kv6HnlYzpnaJcbiAgcHJpdmF0ZSBhZGRUaW1lc3RhbXBUb1dlQ2hhdChkYXRlOiBzdHJpbmcsIHRpbWU6IHN0cmluZywgaXNTeXN0ZW1UaW1lOiBib29sZWFuLCBpbmRleD86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVUZXh0ID0gdGhpcy5mb3JtYXRNb21lbnRUaW1lc3RhbXAoZGF0ZSwgdGltZSk7XG5cbiAgICAvLyDmo4Dmn6XmmK/lkKbpnIDopoHmmL7npLrml7bpl7TmiLNcbiAgICAvLyDlpoLmnpzmmK/ns7vnu5/ml7bpl7TvvIjogIzkuI3mmK/nlKjmiLfmiYvliqjmj5LlhaXnmoTml7bpl7TvvIlcbiAgICBpZiAoaXNTeXN0ZW1UaW1lKSB7XG4gICAgICAvLyDlj6rmnInnuq/ml7bpl7TvvIjku4rlpKnnmoTmtojmga/vvInmiY3pnIDopoHov5vooYwxMOWIhumSn+i/h+a7pFxuICAgICAgY29uc3QgaXNPbmx5VGltZSA9IHRpbWVUZXh0ID09PSB0aW1lO1xuXG4gICAgICBpZiAoaXNPbmx5VGltZSkge1xuICAgICAgICAvLyDlr7nkuo7ku4rlpKnnmoTmtojmga/vvIzmo4Dmn6XmmK/lkKbkuI7kuIrkuIDmnaHml7bpl7TmiLPlpKrmjqXov5FcbiAgICAgICAgY29uc3QgdGltZUluTWludXRlcyA9IHRoaXMucGFyc2VUaW1lVG9NaW51dGVzKHRpbWVUZXh0KTtcbiAgICAgICAgaWYgKHRpbWVJbk1pbnV0ZXMgIT09IG51bGwgJiYgdGltZUluTWludXRlcyAtIHRoaXMubGFzdERpc3BsYXllZFRpbWVJbk1pbnV0ZXMgPCAxMCkge1xuICAgICAgICAgIHJldHVybjsgLy8g6Lez6L+H5pi+56S66L+Z5Liq5pe26Ze05oizXG4gICAgICAgIH1cblxuICAgICAgICAvLyDmm7TmlrDmnIDlkI7mmL7npLrnmoTml7bpl7RcbiAgICAgICAgaWYgKHRpbWVJbk1pbnV0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmxhc3REaXNwbGF5ZWRUaW1lSW5NaW51dGVzID0gdGltZUluTWludXRlcztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5a+55LqO5pio5aSp5oiW5pu05pep55qE5raI5oGv77yM5oC75piv5pi+56S65bm26YeN572u5pe26Ze06K6h5pWw5ZmoXG4gICAgICAgIHRoaXMubGFzdERpc3BsYXllZFRpbWVJbk1pbnV0ZXMgPSAtSW5maW5pdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5Yib5bu65bm25re75Yqg5pe26Ze05oiz5YWD57SgXG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHQuY2xhc3NOYW1lID0gJ3RpbWVzdGFtcC1yb3cnO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB0LmRhdGFzZXQubG9nSW5kZXggPSBpbmRleC50b1N0cmluZygpO1xuXG4gICAgLy8g5a2Y5YKo5Y6f5aeL5pel5pyf5ZKM5pe26Ze055So5LqO5Yi35pawXG4gICAgdC5kYXRhc2V0Lm9yaWdpbmFsRGF0ZSA9IGRhdGU7XG4gICAgdC5kYXRhc2V0Lm9yaWdpbmFsVGltZSA9IHRpbWU7XG5cbiAgICB0LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInRpbWVzdGFtcC10ZXh0XCI+JHt0aW1lVGV4dH08L3NwYW4+YDtcbiAgICB0aGlzLndlY2hhdEJvZHkuYXBwZW5kQ2hpbGQodCk7XG5cbiAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gIH1cblxuICAvLyDmt7vliqDkuovku7bml6Xlv5fliLDlvq7kv6HnlYzpnaJcbiAgcHJpdmF0ZSBhZGRFdmVudExvZ1RvV2VDaGF0KGV2ZW50RGF0YTogRXZlbnRMb2dFbnRyeVsnY29udGVudCddLCBpbmRleD86IG51bWJlcik6IHZvaWQge1xuICAgIC8vIOehruS/nWV2ZW50RGF0YeWFt+acieW/heimgeeahOWtl+autVxuICAgIGlmICghZXZlbnREYXRhIHx8ICFldmVudERhdGEuZGF0ZSB8fCAhZXZlbnREYXRhLnRpbWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+S6i+S7tuaXpeW/l+aVsOaNruS4jeWujOaVtDonLCBldmVudERhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOiOt+WPluagvOW8j+WMluWQjueahOaXtumXtOaWh+acrO+8jOWMheWQq+aXpeacn+S/oeaBr1xuICAgIGNvbnN0IHRpbWVUZXh0ID0gdGhpcy5mb3JtYXRNb21lbnRUaW1lc3RhbXAoZXZlbnREYXRhLmRhdGUsIGV2ZW50RGF0YS50aW1lKTtcblxuICAgIC8vIOWIm+W7uuS6i+S7tuaXpeW/l+ihjFxuICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdy5jbGFzc05hbWUgPSAnZXZlbnQtbG9nLXJvdyc7XG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHJvdy5kYXRhc2V0LmxvZ0luZGV4ID0gaW5kZXgudG9TdHJpbmcoKTtcblxuICAgIC8vIOWtmOWCqOWOn+Wni+aXpeacn+WSjOaXtumXtOeUqOS6juWIt+aWsFxuICAgIHJvdy5kYXRhc2V0Lm9yaWdpbmFsRGF0ZSA9IGV2ZW50RGF0YS5kYXRlO1xuICAgIHJvdy5kYXRhc2V0Lm9yaWdpbmFsVGltZSA9IGV2ZW50RGF0YS50aW1lO1xuXG4gICAgLy8g5aaC5p6c5rKh5pyJ5o+P6L+w77yM5Y+q5pi+56S65pe26Ze077yb5aaC5p6c5pyJ5o+P6L+w77yM5pi+56S65pe26Ze05ZKM5o+P6L+wXG4gICAgaWYgKGV2ZW50RGF0YS5kZXNjcmlwdGlvbikge1xuICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LWxvZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXZlbnQtdGltZS10ZXh0IGhhcy1kZXNjIGNsaWNrYWJsZVwiPiR7dGltZVRleHR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LWRlc2NyaXB0aW9uXCI+JHtldmVudERhdGEuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LWxvZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXZlbnQtdGltZS10ZXh0XCI+JHt0aW1lVGV4dH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIOS4uuW4puacieaPj+i/sOeahOS6i+S7tua3u+WKoOeCueWHu+WxleW8gOWKn+iDvVxuICAgIGlmIChldmVudERhdGEuZGVzY3JpcHRpb24pIHtcbiAgICAgIGNvbnN0IHRpbWVFbCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuZXZlbnQtdGltZS10ZXh0Jyk7XG4gICAgICBjb25zdCBkZXNjRWwgPSByb3cucXVlcnlTZWxlY3RvcignLmV2ZW50LWRlc2NyaXB0aW9uJyk7XG5cbiAgICAgIGlmICh0aW1lRWwgJiYgZGVzY0VsKSB7XG4gICAgICAgIHRpbWVFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAvLyDlj6rkvb/nlKhDU1PnsbvmnaXmjqfliLbmmL7npLov6ZqQ6JeP77yM5LiN5omL5Yqo6K6+572uZGlzcGxheeWxnuaAp1xuICAgICAgICAgIGRlc2NFbC5jbGFzc0xpc3QudG9nZ2xlKCdleHBhbmRlZCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmt7vliqDliLDogYrlpKnnlYzpnaLlubbmu5rliqjliLDlupXpg6hcbiAgICB0aGlzLndlY2hhdEJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gIH1cblxuICAvLyDmuLLmn5Pns7vnu5/mtojmga9cbiAgcHJpdmF0ZSByZW5kZXJTeXN0ZW1NZXNzYWdlKGVudHJ5OiBUZXh0TWVzc2FnZSwgYW5pbWF0ZTogYm9vbGVhbiA9IGZhbHNlLCBpbmRleD86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSB0aGlzLndlY2hhdEJvZHk7XG4gICAgaWYgKCFjaGF0Q29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBzeXN0ZW1Sb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzeXN0ZW1Sb3cuY2xhc3NOYW1lID0gJ2V2ZW50LWxvZy1yb3cnO1xuICAgIGlmIChhbmltYXRlKSBzeXN0ZW1Sb3cuY2xhc3NMaXN0LmFkZCgnbmV3LW1lc3NhZ2UnKTtcbiAgICBpZiAoZW50cnkuaWQpIHtcbiAgICAgIHN5c3RlbVJvdy5kYXRhc2V0Lm1lc3NhZ2VJZCA9IGVudHJ5LmlkO1xuICAgIH1cbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3lzdGVtUm93LmRhdGFzZXQubG9nSW5kZXggPSBpbmRleC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IHN5c3RlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHN5c3RlbUNvbnRhaW5lci5jbGFzc05hbWUgPSAnZXZlbnQtbG9nLWNvbnRhaW5lcic7XG5cbiAgICBjb25zdCBzeXN0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3lzdGVtVGV4dC5jbGFzc05hbWUgPSAnZXZlbnQtdGltZS10ZXh0IHN5c3RlbS1tZXNzYWdlJztcbiAgICBzeXN0ZW1UZXh0LnRleHRDb250ZW50ID0gZW50cnkuY29udGVudDtcblxuICAgIHN5c3RlbUNvbnRhaW5lci5hcHBlbmRDaGlsZChzeXN0ZW1UZXh0KTtcbiAgICBzeXN0ZW1Sb3cuYXBwZW5kQ2hpbGQoc3lzdGVtQ29udGFpbmVyKTtcbiAgICBjaGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN5c3RlbVJvdyk7XG5cbiAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gIH1cblxuICAvLyDop6PmnpDml7bpl7TkuLrliIbpkp/mlbBcbiAgcHJpdmF0ZSBwYXJzZVRpbWVUb01pbnV0ZXModGltZVN0cmluZzogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3QgbWF0Y2ggPSB0aW1lU3RyaW5nLm1hdGNoKC8oXFxkezEsMn0pOihcXGR7Mn0pLyk7XG4gICAgcmV0dXJuIG1hdGNoID8gNjAgKiBwYXJzZUludChtYXRjaFsxXSwgMTApICsgcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSA6IG51bGw7XG4gIH1cblxuICAvLyDmoLzlvI/ljJbml7bpl7TmiLNcbiAgcHJpdmF0ZSBmb3JtYXRNb21lbnRUaW1lc3RhbXAoZGF0ZVN0cmluZzogc3RyaW5nLCB0aW1lU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghZGF0ZVN0cmluZyB8fCAhdGltZVN0cmluZykgcmV0dXJuICcgJztcblxuICAgIHRyeSB7XG4gICAgICAvLyDop6PmnpDml6XmnJ/lkozlvZPliY3ml6XmnJ9cbiAgICAgIGNvbnN0IHBvc3REYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAvLyDnoa7kv53miJHku6zkvb/nlKjmuLjmiI/ml7bpl7TogIzpnZ7njrDlrp7ml7bpl7RcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gd2luZG93LmN1cnJlbnRHYW1lRGF0ZSA/IG5ldyBEYXRlKHdpbmRvdy5jdXJyZW50R2FtZURhdGUpIDogbmV3IERhdGUoKTtcblxuICAgICAgLy8g5o+Q5Y+W5bm05pyI5pelXG4gICAgICBjb25zdCBwb3N0WWVhciA9IHBvc3REYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCBwb3N0TW9udGggPSBwb3N0RGF0ZS5nZXRNb250aCgpO1xuICAgICAgY29uc3QgcG9zdERheSA9IHBvc3REYXRlLmdldERhdGUoKTtcblxuICAgICAgY29uc3Qgbm93WWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCBub3dNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCk7XG4gICAgICBjb25zdCBub3dEYXkgPSBjdXJyZW50RGF0ZS5nZXREYXRlKCk7XG5cbiAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+S7iuWkqeeahOa2iOaBr1xuICAgICAgaWYgKHBvc3RZZWFyID09PSBub3dZZWFyICYmIHBvc3RNb250aCA9PT0gbm93TW9udGggJiYgcG9zdERheSA9PT0gbm93RGF5KSB7XG4gICAgICAgIHJldHVybiB0aW1lU3RyaW5nO1xuICAgICAgfVxuXG4gICAgICAvLyDliJvlu7rmmKjlpKnnmoTml6XmnJ/lr7nosaFcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlKTtcbiAgICAgIHllc3RlcmRheS5zZXREYXRlKGN1cnJlbnREYXRlLmdldERhdGUoKSAtIDEpO1xuICAgICAgY29uc3QgeWVzdGVyZGF5WWVhciA9IHllc3RlcmRheS5nZXRGdWxsWWVhcigpO1xuICAgICAgY29uc3QgeWVzdGVyZGF5TW9udGggPSB5ZXN0ZXJkYXkuZ2V0TW9udGgoKTtcbiAgICAgIGNvbnN0IHllc3RlcmRheURheSA9IHllc3RlcmRheS5nZXREYXRlKCk7XG5cbiAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+aYqOWkqeeahOa2iOaBr1xuICAgICAgaWYgKHBvc3RZZWFyID09PSB5ZXN0ZXJkYXlZZWFyICYmIHBvc3RNb250aCA9PT0geWVzdGVyZGF5TW9udGggJiYgcG9zdERheSA9PT0geWVzdGVyZGF5RGF5KSB7XG4gICAgICAgIHJldHVybiBg5pio5aSpICR7dGltZVN0cmluZ31gO1xuICAgICAgfVxuXG4gICAgICAvLyDliKTmlq3mmK/lkKbmmK/ku4rlubTnmoTmtojmga9cbiAgICAgIGlmIChwb3N0WWVhciA9PT0gbm93WWVhcikge1xuICAgICAgICByZXR1cm4gYCR7cG9zdE1vbnRoICsgMX3mnIgke3Bvc3REYXl95pelICR7dGltZVN0cmluZ31gO1xuICAgICAgfVxuXG4gICAgICAvLyDlhbbku5bmg4XlhrXmmL7npLrlrozmlbTml6XmnJ9cbiAgICAgIHJldHVybiBgJHtwb3N0WWVhcn3lubQke3Bvc3RNb250aCArIDF95pyIJHtwb3N0RGF5feaXpSAke3RpbWVTdHJpbmd9YDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyB0aW1lc3RhbXA6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRpbWVTdHJpbmc7IC8vIOWHuumUmeaXtuiHs+Wwkei/lOWbnuaXtumXtFxuICAgIH1cbiAgfVxuXG4gIC8vIOWIt+aWsOaJgOacieaXtumXtOaIs+aYvuekulxuICBwdWJsaWMgcmVmcmVzaEFsbFRpbWVzdGFtcHMoKTogdm9pZCB7XG4gICAgLy8g5Yi35paw5omA5pyJ5pe26Ze05oizXG4gICAgY29uc3QgdGltZXN0YW1wUm93cyA9ICQoJy50aW1lc3RhbXAtcm93JywgdGhpcy53ZWNoYXRCb2R5KTtcbiAgICBjb25zdCBldmVudExvZ1Jvd3MgPSAkKCcuZXZlbnQtbG9nLXJvdycsIHRoaXMud2VjaGF0Qm9keSk7XG5cbiAgICAvLyDliLfmlrDml7bpl7TmiLPooYxcbiAgICB0aW1lc3RhbXBSb3dzLmVhY2goKF8sIHJvdykgPT4ge1xuICAgICAgY29uc3QgJHJvdyA9ICQocm93KTtcbiAgICAgIGNvbnN0ICR0aW1lc3RhbXBUZXh0ID0gJHJvdy5maW5kKCcudGltZXN0YW1wLXRleHQnKTtcbiAgICAgIGlmICgkdGltZXN0YW1wVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxEYXRlID0gJHJvdy5kYXRhKCdvcmlnaW5hbERhdGUnKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUaW1lID0gJHJvdy5kYXRhKCdvcmlnaW5hbFRpbWUnKTtcbiAgICAgICAgaWYgKG9yaWdpbmFsRGF0ZSAmJiBvcmlnaW5hbFRpbWUpIHtcbiAgICAgICAgICAkdGltZXN0YW1wVGV4dC50ZXh0KHRoaXMuZm9ybWF0TW9tZW50VGltZXN0YW1wKG9yaWdpbmFsRGF0ZSwgb3JpZ2luYWxUaW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOWIt+aWsOS6i+S7tuaXpeW/l+ihjFxuICAgIGV2ZW50TG9nUm93cy5lYWNoKChfLCByb3cpID0+IHtcbiAgICAgIGNvbnN0ICRyb3cgPSAkKHJvdyk7XG4gICAgICBjb25zdCAkZXZlbnRUaW1lVGV4dCA9ICRyb3cuZmluZCgnLmV2ZW50LXRpbWUtdGV4dCcpO1xuICAgICAgaWYgKCRldmVudFRpbWVUZXh0Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbERhdGUgPSAkcm93LmRhdGEoJ29yaWdpbmFsRGF0ZScpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFRpbWUgPSAkcm93LmRhdGEoJ29yaWdpbmFsVGltZScpO1xuICAgICAgICBpZiAob3JpZ2luYWxEYXRlICYmIG9yaWdpbmFsVGltZSkge1xuICAgICAgICAgIC8vIOabtOaWsOaWh+acrOWGheWuuVxuICAgICAgICAgICRldmVudFRpbWVUZXh0LnRleHQodGhpcy5mb3JtYXRNb21lbnRUaW1lc3RhbXAob3JpZ2luYWxEYXRlLCBvcmlnaW5hbFRpbWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyRmVhdHVyZUdyaWQoXG4gICAgZ3JpZEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIGZlYXR1cmVzOiBhbnlbXSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIG9uVG9nZ2xlRGVsZXRlTW9kZTogKCkgPT4gdm9pZDtcbiAgICAgIG9uQWRkU3RpY2tlcnM6ICgpID0+IHZvaWQ7XG4gICAgfSxcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFncmlkRWxlbWVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignW0JMTVhdIEdyaWQgZWxlbWVudCBub3QgZm91bmQgZm9yIHJlbmRlckZlYXR1cmVHcmlkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZ3JpZEVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgY29uc3QgaXNEZWxldGVNb2RlID0gZ3JpZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGlja2VyLWRlbGV0ZS1tb2RlJyk7XG5cbiAgICBmZWF0dXJlcy5mb3JFYWNoKGZlYXR1cmUgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmVhdHVyZS1pdGVtJztcblxuICAgICAgbGV0IGljb25IdG1sID0gJyc7XG4gICAgICBpZiAoZmVhdHVyZS5pc0FkZEJ0bikge1xuICAgICAgICAvLyDlpoLmnpzmmK/ooajmg4XnrqHnkIbmjInpkq7vvIzkvb/nlKjpvb/ova7lm77moIdcbiAgICAgICAgaWYgKGZlYXR1cmUubGFiZWwgPT09ICfooajmg4XnrqHnkIYnKSB7XG4gICAgICAgICAgaWNvbkh0bWwgPSBgPGRpdiBjbGFzcz1cImZlYXR1cmUtaWNvblwiPjxpIGNsYXNzPVwiZmFzIGZhLWNvZ1wiPjwvaT48L2Rpdj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGljb25IdG1sID0gYDxkaXYgY2xhc3M9XCJmZWF0dXJlLWljb25cIj48aSBjbGFzcz1cImZhcyBmYS0ke1xuICAgICAgICAgICAgZmVhdHVyZS5sYWJlbCA9PT0gJ+a3u+WKoCcgPyAncGx1cycgOiAndHJhc2gtYWx0J1xuICAgICAgICAgIH1cIj48L2k+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmljb24gJiYgZmVhdHVyZS5pY29uLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAvLyDlpITnkIblm77niYdVUkwgKOihqOaDheWMhSlcbiAgICAgICAgaWNvbkh0bWwgPSBgPGRpdiBjbGFzcz1cImZlYXR1cmUtaWNvblwiPjxpbWcgc3JjPVwiJHtmZWF0dXJlLmljb259XCIgYWx0PVwiJHtmZWF0dXJlLmxhYmVsfVwiIGNsYXNzPVwiZmVhdHVyZS1pY29uLWltZ1wiPjwvZGl2PmA7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBmZWF0dXJlLmljb24gJiZcbiAgICAgICAgKGZlYXR1cmUuaWNvbi5zdGFydHNXaXRoKCdmYXMgJykgfHwgZmVhdHVyZS5pY29uLnN0YXJ0c1dpdGgoJ2ZhciAnKSB8fCBmZWF0dXJlLmljb24uc3RhcnRzV2l0aCgnZmFiICcpKVxuICAgICAgKSB7XG4gICAgICAgIC8vIOWkhOeQhuW4puepuuagvOeahEZvbnQgQXdlc29tZeWbvuagh1xuICAgICAgICBpY29uSHRtbCA9IGA8ZGl2IGNsYXNzPVwiZmVhdHVyZS1pY29uXCI+PGkgY2xhc3M9XCIke2ZlYXR1cmUuaWNvbn0gdGhlbWUtaWNvblwiPjwvaT48L2Rpdj5gO1xuICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmljb24gJiYgZmVhdHVyZS5pY29uLnN0YXJ0c1dpdGgoJ2ZhJykpIHtcbiAgICAgICAgLy8g5aSE55CG5LiN5bim56m65qC855qERm9udCBBd2Vzb21l5Zu+5qCHXG4gICAgICAgIGljb25IdG1sID0gYDxkaXYgY2xhc3M9XCJmZWF0dXJlLWljb25cIj48aSBjbGFzcz1cIiR7ZmVhdHVyZS5pY29ufSB0aGVtZS1pY29uXCI+PC9pPjwvZGl2PmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlpITnkIblhbbku5blm77moIfnsbvlnotcbiAgICAgICAgaWNvbkh0bWwgPSBgPGRpdiBjbGFzcz1cImZlYXR1cmUtaWNvblwiPjxpIGNsYXNzPVwiJHtmZWF0dXJlLmljb24gfHwgJ2ZhcyBmYS1xdWVzdGlvbid9XCI+PC9pPjwvZGl2PmA7XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYCR7aWNvbkh0bWx9PHNwYW4gY2xhc3M9XCJmZWF0dXJlLWxhYmVsXCI+JHtmZWF0dXJlLmxhYmVsfTwvc3Bhbj5gO1xuXG4gICAgICBjb25zdCBpY29uQ29udGFpbmVyID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZmVhdHVyZS1pY29uJyk7XG4gICAgICBpZiAoaXNEZWxldGVNb2RlICYmICFmZWF0dXJlLmlzQWRkQnRuICYmICFmZWF0dXJlLmlzRGVmYXVsdCkge1xuICAgICAgICAvLyDliJvlu7rpmpDol4/nmoTljp/nlJ9jaGVja2JveFxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBjaGVja2JveC5jbGFzc05hbWUgPSAnc3RpY2tlci1jaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94LmRhdGFzZXQuc3RpY2tlckxhYmVsID0gZmVhdHVyZS5sYWJlbDtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG5cbiAgICAgICAgLy8g5Yib5bu65Y+v6KeB55qEY2hlY2tib3jmjInpkq5cbiAgICAgICAgY29uc3QgY2hlY2tib3hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2hlY2tib3hCdXR0b24uY2xhc3NOYW1lID0gJ3N0aWNrZXItY2hlY2tib3gtYnV0dG9uJztcbiAgICAgICAgY2hlY2tib3hCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY2hlY2tib3hCdXR0b24pO1xuXG4gICAgICAgIC8vIOabtOaWsGNoZWNrYm945oyJ6ZKu54q25oCBXG4gICAgICAgIGNvbnN0IHVwZGF0ZUNoZWNrYm94U3RhdGUgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICBjaGVja2JveEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrYm94QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWNvbkNvbnRhaW5lcj8uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQtZm9yLWRlbGV0ZScsIGNoZWNrZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIOeCueWHu+S6i+S7tlxuICAgICAgICBjb25zdCBoYW5kbGVDbGljayA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDtcbiAgICAgICAgICB1cGRhdGVDaGVja2JveFN0YXRlKGNoZWNrYm94LmNoZWNrZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgICAgIGNoZWNrYm94QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuXG4gICAgICAgIC8vIOiuvue9ruWIneWni+eKtuaAgVxuICAgICAgICB1cGRhdGVDaGVja2JveFN0YXRlKGNoZWNrYm94LmNoZWNrZWQpO1xuICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmxhYmVsID09PSAn5re75YqgJykge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2tzLm9uQWRkU3RpY2tlcnMpO1xuICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmxhYmVsID09PSAn5Yig6ZmkJyB8fCBmZWF0dXJlLmxhYmVsID09PSAn6KGo5oOF566h55CGJykge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2tzLm9uVG9nZ2xlRGVsZXRlTW9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZmVhdHVyZS5hY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBncmlkRWxlbWVudC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOa7muWKqOWIsOW6lemDqFxuICBwcml2YXRlIHNjcm9sbFRvQm90dG9tKCk6IHZvaWQge1xuICAgIC8vIOebtOaOpeiuvue9rnNjcm9sbFRvcO+8jOmBv+WFjWpRdWVyeeWKqOeUu+WPr+iDveWvvOiHtOeahOa7muWKqOmUgeWumumXrumimFxuICAgIHRoaXMud2VjaGF0Qm9keS5zY3JvbGxUb3AgPSB0aGlzLndlY2hhdEJvZHkuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgLy8g5re75Yqg5LiA5Liq5bu26L+f5omn6KGM55qE5aSH5Lu95rua5Yqo77yM56Gu5L+d5ZyoRE9N5a6M5YWo5riy5p+T5ZCO5rua5Yqo55Sf5pWIXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLndlY2hhdEJvZHkuc2Nyb2xsVG9wID0gdGhpcy53ZWNoYXRCb2R5LnNjcm9sbEhlaWdodDtcbiAgICB9LCAxMDApO1xuICB9XG5cbiAgLy8g5Li6VVNFUua2iOaBr+iuvue9rumVv+aMieaSpOWbnuWKn+iDvSAtIOWujOWFqOeFp+aKhOWOn+eJiOmAu+i+kVxuICBwcml2YXRlIHNldHVwVXNlck1lc3NhZ2VMb25nUHJlc3MobWVzc2FnZVJvdzogSFRNTEVsZW1lbnQsIGVudHJ5OiBDaGF0RW50cnkpOiB2b2lkIHtcbiAgICBjb25zdCAkbWVzc2FnZVJvdyA9ICQobWVzc2FnZVJvdyk7XG4gICAgY29uc3QgJG1lc3NhZ2VCdWJibGUgPSAkbWVzc2FnZVJvdy5maW5kKCcubWVzc2FnZS1idWJibGUnKTtcbiAgICBjb25zdCAkdGFyZ2V0RWxlbWVudCA9ICRtZXNzYWdlQnViYmxlLmxlbmd0aCA/ICRtZXNzYWdlQnViYmxlIDogJG1lc3NhZ2VSb3c7XG5cbiAgICAvLyDljp/niYjplb/mjInnm5HlkKzlmajlrp7njrBcbiAgICB0aGlzLmFkZExvbmdQcmVzc0xpc3RlbmVyKCR0YXJnZXRFbGVtZW50WzBdLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUxvbmdQcmVzc1JlY2FsbChlbnRyeSk7XG4gICAgfSk7XG5cbiAgICAvLyDmt7vliqDlj4zlh7vmkqTlm57lip/og73kvZzkuLrlpIfnlKjmlrnmoYjvvIjnibnliKvmmK/lnKjlhajlsY/mqKHlvI/kuIvplb/mjInlj6/og73lpLHmlYjml7bvvIlcbiAgICB0aGlzLnNldHVwRG91YmxlQ2xpY2tSZWNhbGwoJHRhcmdldEVsZW1lbnQsIGVudHJ5KTtcbiAgfVxuXG4gIC8vIOWOn+eJiOmVv+aMieebkeWQrOWZqOWunueOsCAtIOWujOWFqOeFp+aKhOWOn+eJiOmAu+i+kVxuICBwcml2YXRlIGFkZExvbmdQcmVzc0xpc3RlbmVyKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICAgIG9wdGlvbnMgPSB7IGR1cmF0aW9uOiA2MDAsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICk6IHZvaWQge1xuICAgIGxldCB0aW1lcjogbnVtYmVyO1xuICAgIGxldCBzdGFydFg6IG51bWJlciwgc3RhcnRZOiBudW1iZXI7XG5cbiAgICBjb25zdCBvblN0YXJ0ID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZS5idXR0b24gIT09IDApIHJldHVybjtcbiAgICAgIHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICAgIHN0YXJ0WSA9IGUuY2xpZW50WTtcbiAgICAgIGlmIChvcHRpb25zLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGltZXIgPSAwO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSwgb3B0aW9ucy5kdXJhdGlvbik7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTW92ZSA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgIGlmICghdGltZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IG1vdmVYID0gZS5jbGllbnRYO1xuICAgICAgY29uc3QgbW92ZVkgPSBlLmNsaWVudFk7XG4gICAgICBpZiAoTWF0aC5hYnMobW92ZVggLSBzdGFydFgpID4gMTAgfHwgTWF0aC5hYnMobW92ZVkgLSBzdGFydFkpID4gMTApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb25FbmQgPSAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uU3RhcnQpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvbk1vdmUpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25FbmQpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgb25FbmQpO1xuXG4gICAgaWYgKG9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgfVxuICB9XG5cbiAgLy8g5aSE55CG6ZW/5oyJ5pKk5ZueIC0g5YWI5qOA5p+l5raI5oGv5piv5ZCm5Y+v5Lul5pKk5ZueXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlTG9uZ1ByZXNzUmVjYWxsKGVudHJ5OiBDaGF0RW50cnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8g5qOA5p+l5raI5oGv5piv5ZCm5Y+v5Lul5pKk5ZueXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmlzTWVzc2FnZUluUXVldWUgJiYgdGhpcy5vcHRpb25zLmlzTWVzc2FnZUluUXVldWUoZW50cnkuaWQpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlVXNlck1lc3NhZ2VSZWNhbGwoZW50cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5L2/55SoalF1ZXJ5IFVJ55qE5pWI5p6c5pi+56S65peg5rOV5pKk5ZueXG4gICAgICAgIGNvbnN0ICRtZXNzYWdlRWxlbWVudCA9ICQoYFtkYXRhLW1lc3NhZ2UtaWQ9XCIke2VudHJ5LmlkfVwiXWApO1xuICAgICAgICAkbWVzc2FnZUVsZW1lbnQuZWZmZWN0KCdzaGFrZScsIHsgdGltZXM6IDIsIGRpc3RhbmNlOiA1IH0sIDMwMCk7XG5cbiAgICAgICAgY29uc3QgeyBEaWFsb2dNYW5hZ2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4vZGlhbG9nLW1hbmFnZXInKTtcbiAgICAgICAgY29uc3QgZGlhbG9nTWFuYWdlciA9IERpYWxvZ01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgYXdhaXQgZGlhbG9nTWFuYWdlci5hbGVydCgn5raI5oGv5bey5ZCI5bm25Y+R6YCB77yM5peg5rOV5pKk5Zue44CCJywgJ+aXoOazleaSpOWbnicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfplb/mjInmkqTlm57lpLHotKU6JywgZXJyb3IpO1xuXG4gICAgICAvLyDmmL7npLrplJnor6/lj43ppohcbiAgICAgIGNvbnN0ICRtZXNzYWdlRWxlbWVudCA9ICQoYFtkYXRhLW1lc3NhZ2UtaWQ9XCIke2VudHJ5LmlkfVwiXWApO1xuICAgICAgJG1lc3NhZ2VFbGVtZW50LmVmZmVjdCgnc2hha2UnLCB7IHRpbWVzOiAyLCBkaXN0YW5jZTogNSB9LCAzMDApO1xuICAgIH1cbiAgfVxuXG4gIC8vIOWkhOeQhlVTRVLmtojmga/mkqTlm55cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVVc2VyTWVzc2FnZVJlY2FsbChlbnRyeTogQ2hhdEVudHJ5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWvvOWFpURpYWxvZ01hbmFnZXJcbiAgICAgIGNvbnN0IHsgRGlhbG9nTWFuYWdlciB9ID0gYXdhaXQgaW1wb3J0KCcuL2RpYWxvZy1tYW5hZ2VyJyk7XG4gICAgICBjb25zdCBkaWFsb2dNYW5hZ2VyID0gRGlhbG9nTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAvLyDnoa7orqTmkqTlm57mk43kvZxcbiAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IGRpYWxvZ01hbmFnZXIuY29uZmlybShcbiAgICAgICAgJ+ehruWumuimgeaSpOWbnui/meadoeaWh+Wtl+a2iOaBr+WQl++8n+aSpOWbnuWQjuWvueaWueWwhueci+WIsFwi5L2g5pKk5Zue5LqG5LiA5p2h5raI5oGvXCLjgIInLFxuICAgICAgICAn5pKk5Zue5paH5a2X5raI5oGvJyxcbiAgICAgICAgJ+aSpOWbnicsXG4gICAgICAgICflj5bmtognLFxuICAgICAgKTtcblxuICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICAvLyDosIPnlKjmkqTlm57lip/og71cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vblJlY2FsbE1lc3NhZ2UpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25SZWNhbGxNZXNzYWdlKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfmkqTlm57mtojmga/ml7blh7rplJk6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOiuvue9ruWPjOWHu+aSpOWbnuWKn+iDvSAtIOS9nOS4uumVv+aMieaSpOWbnueahOWkh+eUqOaWueahiFxuICBwcml2YXRlIHNldHVwRG91YmxlQ2xpY2tSZWNhbGwoJHRhcmdldEVsZW1lbnQ6IEpRdWVyeSwgZW50cnk6IENoYXRFbnRyeSk6IHZvaWQge1xuICAgIGxldCBjbGlja0NvdW50ID0gMDtcbiAgICBsZXQgY2xpY2tUaW1lcjogbnVtYmVyO1xuICAgIGNvbnN0IGRvdWJsZUNsaWNrRGVsYXkgPSAzMDA7IC8vIDMwMG1z5YaF55qE5Lik5qyh54K55Ye76KeG5Li65Y+M5Ye7XG5cbiAgICAkdGFyZ2V0RWxlbWVudC5vbignY2xpY2suZG91YmxlQ2xpY2tSZWNhbGwnLCBlID0+IHtcbiAgICAgIC8vIOmYu+atouS6i+S7tuWGkuazoe+8jOmBv+WFjeW5suaJsOWFtuS7lueCueWHu+S6i+S7tlxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgY2xpY2tDb3VudCsrO1xuXG4gICAgICBpZiAoY2xpY2tDb3VudCA9PT0gMSkge1xuICAgICAgICAvLyDnrKzkuIDmrKHngrnlh7vvvIzlkK/liqjlrprml7blmahcbiAgICAgICAgY2xpY2tUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyDotoXml7blkI7ph43nva7ngrnlh7vorqHmlbBcbiAgICAgICAgICBjbGlja0NvdW50ID0gMDtcbiAgICAgICAgfSwgZG91YmxlQ2xpY2tEZWxheSk7XG4gICAgICB9IGVsc2UgaWYgKGNsaWNrQ291bnQgPT09IDIpIHtcbiAgICAgICAgLy8g5Y+M5Ye75qOA5rWL5Yiw77yM5riF6Zmk5a6a5pe25Zmo5bm25omn6KGM5pKk5ZueXG4gICAgICAgIGNsZWFyVGltZW91dChjbGlja1RpbWVyKTtcbiAgICAgICAgY2xpY2tDb3VudCA9IDA7XG5cbiAgICAgICAgLy8g5re75Yqg6KeG6KeJ5Y+N6aaIXG4gICAgICAgICR0YXJnZXRFbGVtZW50LmFkZENsYXNzKCdkb3VibGUtY2xpY2stYWN0aXZlJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICR0YXJnZXRFbGVtZW50LnJlbW92ZUNsYXNzKCdkb3VibGUtY2xpY2stYWN0aXZlJyk7XG4gICAgICAgIH0sIDIwMCk7XG5cbiAgICAgICAgLy8g5re75Yqg6Kem6KeJ5Y+N6aaI77yI56e75Yqo56uv77yJXG4gICAgICAgIGlmICgndmlicmF0ZScgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoWzMwLCA1MCwgMzBdKTsgLy8g5Y+M5Ye75oyv5Yqo5qih5byPXG4gICAgICAgIH1cblxuICAgICAgICAvLyDmiafooYzmkqTlm57mk43kvZxcbiAgICAgICAgdGhpcy5oYW5kbGVEb3VibGVDbGlja1JlY2FsbChlbnRyeSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyDlpITnkIblj4zlh7vmkqTlm55cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVEb3VibGVDbGlja1JlY2FsbChlbnRyeTogQ2hhdEVudHJ5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOajgOafpea2iOaBr+aYr+WQpuWPr+S7peaSpOWbnlxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc01lc3NhZ2VJblF1ZXVlICYmIHRoaXMub3B0aW9ucy5pc01lc3NhZ2VJblF1ZXVlKGVudHJ5LmlkKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVVzZXJNZXNzYWdlUmVjYWxsKGVudHJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOS9v+eUqGpRdWVyeSBVSeeahOaViOaenOaYvuekuuaXoOazleaSpOWbnlxuICAgICAgICBjb25zdCAkbWVzc2FnZUVsZW1lbnQgPSAkKGBbZGF0YS1tZXNzYWdlLWlkPVwiJHtlbnRyeS5pZH1cIl1gKTtcbiAgICAgICAgJG1lc3NhZ2VFbGVtZW50LmVmZmVjdCgnc2hha2UnLCB7IHRpbWVzOiAyLCBkaXN0YW5jZTogNSB9LCAzMDApO1xuXG4gICAgICAgIGNvbnN0IHsgRGlhbG9nTWFuYWdlciB9ID0gYXdhaXQgaW1wb3J0KCcuL2RpYWxvZy1tYW5hZ2VyJyk7XG4gICAgICAgIGNvbnN0IGRpYWxvZ01hbmFnZXIgPSBEaWFsb2dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICAgIGF3YWl0IGRpYWxvZ01hbmFnZXIuYWxlcnQoJ+a2iOaBr+W3suWQiOW5tuWPkemAge+8jOaXoOazleaSpOWbnuOAgicsICfml6Dms5XmkqTlm54nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5Y+M5Ye75pKk5Zue5aSx6LSlOicsIGVycm9yKTtcblxuICAgICAgLy8g5pi+56S66ZSZ6K+v5Y+N6aaIXG4gICAgICBjb25zdCAkbWVzc2FnZUVsZW1lbnQgPSAkKGBbZGF0YS1tZXNzYWdlLWlkPVwiJHtlbnRyeS5pZH1cIl1gKTtcbiAgICAgICRtZXNzYWdlRWxlbWVudC5lZmZlY3QoJ3NoYWtlJywgeyB0aW1lczogMiwgZGlzdGFuY2U6IDUgfSwgMzAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5riF55CG6LWE5rqQ77yM6Ziy5q2i5YaF5a2Y5rOE5ryPXG4gICAqL1xuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmNsZWFudXAoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/同层手机/ui-renderer.ts\n\n}");
  },
  "./src/同层手机/utils.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $safe: () => (/* binding */ $safe),\n/* harmony export */   ErrorHandler: () => (/* binding */ ErrorHandler),\n/* harmony export */   SafeStorage: () => (/* binding */ SafeStorage),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   deepClone: () => (/* binding */ deepClone),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   formatTimestamp: () => (/* binding */ formatTimestamp),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   isMobileDevice: () => (/* binding */ isMobileDevice),\n/* harmony export */   isTouchDevice: () => (/* binding */ isTouchDevice),\n/* harmony export */   safeJsonParse: () => (/* binding */ safeJsonParse),\n/* harmony export */   safeJsonStringify: () => (/* binding */ safeJsonStringify),\n/* harmony export */   safeQuerySelector: () => (/* binding */ safeQuerySelector),\n/* harmony export */   safeQuerySelectorAll: () => (/* binding */ safeQuerySelectorAll),\n/* harmony export */   throttle: () => (/* binding */ throttle)\n/* harmony export */ });\n/* harmony import */ var _debug_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./debug-logger */ \"./src/同层手机/debug-logger.ts\");\n/**\n * 通用工具函数\n * 用于抽象重复的逻辑和提供共享功能\n */\n\n/**\n * 安全的JSON解析\n * @param jsonString JSON字符串\n * @param defaultValue 解析失败时的默认值\n * @returns 解析结果或默认值\n */\nfunction safeJsonParse(jsonString, defaultValue = null) {\n    try {\n        return JSON.parse(jsonString);\n    }\n    catch (error) {\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', 'JSON解析失败', { jsonString: jsonString.substring(0, 100), error });\n        return defaultValue;\n    }\n}\n/**\n * 安全的JSON字符串化\n * @param obj 要序列化的对象\n * @param defaultValue 序列化失败时的默认值\n * @returns JSON字符串或默认值\n */\nfunction safeJsonStringify(obj, defaultValue = '{}') {\n    try {\n        return JSON.stringify(obj);\n    }\n    catch (error) {\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', 'JSON序列化失败', { error });\n        return defaultValue;\n    }\n}\n/**\n * 防抖函数 - 使用lodash的debounce\n * @param func 要防抖的函数\n * @param wait 等待时间（毫秒）\n * @param options lodash debounce选项\n * @returns 防抖后的函数\n */\nfunction debounce(func, wait, options) {\n    return window._.debounce(func, wait, options);\n}\n/**\n * 节流函数 - 使用lodash的throttle\n * @param func 要节流的函数\n * @param wait 等待时间（毫秒）\n * @param options lodash throttle选项\n * @returns 节流后的函数\n */\nfunction throttle(func, wait, options) {\n    return window._.throttle(func, wait, options);\n}\n/**\n * 异步延迟函数\n * @param ms 延迟时间（毫秒）\n * @returns Promise\n */\nfunction delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n * 安全的DOM查询 - 使用jQuery\n * @param selector CSS选择器\n * @param context 查询上下文，默认为document\n * @returns jQuery对象\n */\nfunction $safe(selector, context) {\n    try {\n        return context ? $(selector, context) : $(selector);\n    }\n    catch (error) {\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', 'jQuery查询失败', { selector, error });\n        return $(); // 返回空的jQuery对象\n    }\n}\n/**\n * 安全的DOM查询（原生元素）\n * @param selector CSS选择器\n * @param context 查询上下文，默认为document\n * @returns 元素或null\n */\nfunction safeQuerySelector(selector, context = document) {\n    try {\n        return context.querySelector(selector);\n    }\n    catch (error) {\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', 'DOM查询失败', { selector, error });\n        return null;\n    }\n}\n/**\n * 安全的DOM查询（多个元素）- 使用jQuery更简洁\n * @param selector CSS选择器\n * @param context 查询上下文，默认为document\n * @returns 元素数组\n */\nfunction safeQuerySelectorAll(selector, context = document) {\n    try {\n        const $elements = context ? $(selector, context) : $(selector);\n        return $elements.toArray();\n    }\n    catch (error) {\n        _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', 'DOM查询失败', { selector, error });\n        return [];\n    }\n}\n/**\n * 格式化文件大小\n * @param bytes 字节数\n * @returns 格式化的文件大小字符串\n */\nfunction formatFileSize(bytes) {\n    if (bytes === 0)\n        return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n/**\n * 格式化时间戳\n * @param timestamp 时间戳（毫秒）\n * @param format 格式类型\n * @returns 格式化的时间字符串\n */\nfunction formatTimestamp(timestamp, format = 'full') {\n    const date = new Date(timestamp);\n    switch (format) {\n        case 'time':\n            return date.toLocaleTimeString('zh-CN', { hour12: false });\n        case 'date':\n            return date.toLocaleDateString('zh-CN');\n        case 'full':\n        default:\n            return date.toLocaleString('zh-CN', { hour12: false });\n    }\n}\n/**\n * 生成唯一ID\n * @param prefix 前缀\n * @returns 唯一ID字符串\n */\nfunction generateId(prefix = 'id') {\n    return `${prefix}-${Date.now()}-${Math.random().toString(36).substring(2, 11)}`;\n}\n/**\n * 深度克隆对象 - 使用lodash的cloneDeep\n * @param obj 要克隆的对象\n * @returns 克隆后的对象\n */\nfunction deepClone(obj) {\n    return window._.cloneDeep(obj);\n}\n/**\n * 检查是否为移动设备\n * @returns 是否为移动设备\n */\nfunction isMobileDevice() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}\n/**\n * 检查是否支持触摸\n * @returns 是否支持触摸\n */\nfunction isTouchDevice() {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n}\n/**\n * 安全的本地存储操作\n */\nconst SafeStorage = {\n    /**\n     * 获取本地存储项\n     * @param key 键名\n     * @param defaultValue 默认值\n     * @returns 存储的值或默认值\n     */\n    getItem(key, defaultValue = null) {\n        try {\n            const item = localStorage.getItem(key);\n            if (item === null)\n                return defaultValue;\n            // 尝试解析JSON，如果失败则返回原始字符串\n            try {\n                return JSON.parse(item);\n            }\n            catch {\n                return item;\n            }\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', '本地存储读取失败', { key, error });\n            return defaultValue;\n        }\n    },\n    /**\n     * 设置本地存储项\n     * @param key 键名\n     * @param value 值\n     * @returns 是否成功\n     */\n    setItem(key, value) {\n        try {\n            const serialized = typeof value === 'string' ? value : JSON.stringify(value);\n            localStorage.setItem(key, serialized);\n            return true;\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', '本地存储写入失败', { key, error });\n            return false;\n        }\n    },\n    /**\n     * 删除本地存储项\n     * @param key 键名\n     * @returns 是否成功\n     */\n    removeItem(key) {\n        try {\n            localStorage.removeItem(key);\n            return true;\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', '本地存储删除失败', { key, error });\n            return false;\n        }\n    },\n    /**\n     * 清空本地存储\n     * @returns 是否成功\n     */\n    clear() {\n        try {\n            localStorage.clear();\n            return true;\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Utils', '本地存储清空失败', { error });\n            return false;\n        }\n    },\n};\n/**\n * 错误处理工具\n */\nconst ErrorHandler = {\n    /**\n     * 安全执行异步函数\n     * @param fn 异步函数\n     * @param errorMessage 错误消息\n     * @returns 执行结果或null\n     */\n    async safeAsync(fn, errorMessage) {\n        try {\n            return await fn();\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error('ErrorHandler', errorMessage || '异步操作失败', { error });\n            return null;\n        }\n    },\n    /**\n     * 安全执行同步函数\n     * @param fn 同步函数\n     * @param errorMessage 错误消息\n     * @returns 执行结果或null\n     */\n    safeSync(fn, errorMessage) {\n        try {\n            return fn();\n        }\n        catch (error) {\n            _debug_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error('ErrorHandler', errorMessage || '同步操作失败', { error });\n            return null;\n        }\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNsRSxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5ZCM5bGC5omL5py6L3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog6YCa55So5bel5YW35Ye95pWwXG4gKiDnlKjkuo7mir3osaHph43lpI3nmoTpgLvovpHlkozmj5DkvpvlhbHkuqvlip/og71cbiAqL1xuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2RlYnVnLWxvZ2dlcic7XG5cbi8qKlxuICog5a6J5YWo55qESlNPTuino+aekFxuICogQHBhcmFtIGpzb25TdHJpbmcgSlNPTuWtl+espuS4slxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSDop6PmnpDlpLHotKXml7bnmoTpu5jorqTlgLxcbiAqIEByZXR1cm5zIOino+aekOe7k+aenOaIlum7mOiupOWAvFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZUpzb25QYXJzZTxUID0gYW55Pihqc29uU3RyaW5nOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCB8IG51bGwgPSBudWxsKTogVCB8IG51bGwge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci53YXJuKCdVdGlscycsICdKU09O6Kej5p6Q5aSx6LSlJywgeyBqc29uU3RyaW5nOiBqc29uU3RyaW5nLnN1YnN0cmluZygwLCAxMDApLCBlcnJvciB9KTtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbi8qKlxuICog5a6J5YWo55qESlNPTuWtl+espuS4suWMllxuICogQHBhcmFtIG9iaiDopoHluo/liJfljJbnmoTlr7nosaFcbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUg5bqP5YiX5YyW5aSx6LSl5pe255qE6buY6K6k5YC8XG4gKiBAcmV0dXJucyBKU09O5a2X56ym5Liy5oiW6buY6K6k5YC8XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShvYmo6IGFueSwgZGVmYXVsdFZhbHVlOiBzdHJpbmcgPSAne30nKTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIud2FybignVXRpbHMnLCAnSlNPTuW6j+WIl+WMluWksei0pScsIHsgZXJyb3IgfSk7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIOmYsuaKluWHveaVsCAtIOS9v+eUqGxvZGFzaOeahGRlYm91bmNlXG4gKiBAcGFyYW0gZnVuYyDopoHpmLLmipbnmoTlh73mlbBcbiAqIEBwYXJhbSB3YWl0IOetieW+heaXtumXtO+8iOavq+enku+8iVxuICogQHBhcmFtIG9wdGlvbnMgbG9kYXNoIGRlYm91bmNl6YCJ6aG5XG4gKiBAcmV0dXJucyDpmLLmipblkI7nmoTlh73mlbBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gIGZ1bmM6IFQsXG4gIHdhaXQ6IG51bWJlcixcbiAgb3B0aW9ucz86IHsgbGVhZGluZz86IGJvb2xlYW47IHRyYWlsaW5nPzogYm9vbGVhbjsgbWF4V2FpdD86IG51bWJlciB9LFxuKTogVCB7XG4gIHJldHVybiAod2luZG93IGFzIGFueSkuXy5kZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiDoioLmtYHlh73mlbAgLSDkvb/nlKhsb2Rhc2jnmoR0aHJvdHRsZVxuICogQHBhcmFtIGZ1bmMg6KaB6IqC5rWB55qE5Ye95pWwXG4gKiBAcGFyYW0gd2FpdCDnrYnlvoXml7bpl7TvvIjmr6vnp5LvvIlcbiAqIEBwYXJhbSBvcHRpb25zIGxvZGFzaCB0aHJvdHRsZemAiemhuVxuICogQHJldHVybnMg6IqC5rWB5ZCO55qE5Ye95pWwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICBmdW5jOiBULFxuICB3YWl0OiBudW1iZXIsXG4gIG9wdGlvbnM/OiB7IGxlYWRpbmc/OiBib29sZWFuOyB0cmFpbGluZz86IGJvb2xlYW4gfSxcbik6IFQge1xuICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl8udGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICog5byC5q2l5bu26L+f5Ye95pWwXG4gKiBAcGFyYW0gbXMg5bu26L+f5pe26Ze077yI5q+r56eS77yJXG4gKiBAcmV0dXJucyBQcm9taXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLyoqXG4gKiDlronlhajnmoRET03mn6Xor6IgLSDkvb/nlKhqUXVlcnlcbiAqIEBwYXJhbSBzZWxlY3RvciBDU1PpgInmi6nlmahcbiAqIEBwYXJhbSBjb250ZXh0IOafpeivouS4iuS4i+aWh++8jOm7mOiupOS4umRvY3VtZW50XG4gKiBAcmV0dXJucyBqUXVlcnnlr7nosaFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uICRzYWZlKHNlbGVjdG9yOiBzdHJpbmcsIGNvbnRleHQ/OiBFbGVtZW50IHwgRG9jdW1lbnQpOiBKUXVlcnk8SFRNTEVsZW1lbnQ+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY29udGV4dCA/ICQoc2VsZWN0b3IsIGNvbnRleHQpIDogJChzZWxlY3Rvcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLndhcm4oJ1V0aWxzJywgJ2pRdWVyeeafpeivouWksei0pScsIHsgc2VsZWN0b3IsIGVycm9yIH0pO1xuICAgIHJldHVybiAkKCk7IC8vIOi/lOWbnuepuueahGpRdWVyeeWvueixoVxuICB9XG59XG5cbi8qKlxuICog5a6J5YWo55qERE9N5p+l6K+i77yI5Y6f55Sf5YWD57Sg77yJXG4gKiBAcGFyYW0gc2VsZWN0b3IgQ1NT6YCJ5oup5ZmoXG4gKiBAcGFyYW0gY29udGV4dCDmn6Xor6LkuIrkuIvmlofvvIzpu5jorqTkuLpkb2N1bWVudFxuICogQHJldHVybnMg5YWD57Sg5oiWbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZVF1ZXJ5U2VsZWN0b3I8VCBleHRlbmRzIEVsZW1lbnQgPSBFbGVtZW50PihcbiAgc2VsZWN0b3I6IHN0cmluZyxcbiAgY29udGV4dDogRG9jdW1lbnQgfCBFbGVtZW50ID0gZG9jdW1lbnQsXG4pOiBUIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvcjxUPihzZWxlY3Rvcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLndhcm4oJ1V0aWxzJywgJ0RPTeafpeivouWksei0pScsIHsgc2VsZWN0b3IsIGVycm9yIH0pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICog5a6J5YWo55qERE9N5p+l6K+i77yI5aSa5Liq5YWD57Sg77yJLSDkvb/nlKhqUXVlcnnmm7TnroDmtIFcbiAqIEBwYXJhbSBzZWxlY3RvciBDU1PpgInmi6nlmahcbiAqIEBwYXJhbSBjb250ZXh0IOafpeivouS4iuS4i+aWh++8jOm7mOiupOS4umRvY3VtZW50XG4gKiBAcmV0dXJucyDlhYPntKDmlbDnu4RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVRdWVyeVNlbGVjdG9yQWxsPFQgZXh0ZW5kcyBFbGVtZW50ID0gRWxlbWVudD4oXG4gIHNlbGVjdG9yOiBzdHJpbmcsXG4gIGNvbnRleHQ6IERvY3VtZW50IHwgRWxlbWVudCA9IGRvY3VtZW50LFxuKTogVFtdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCAkZWxlbWVudHMgPSBjb250ZXh0ID8gJChzZWxlY3RvciwgY29udGV4dCkgOiAkKHNlbGVjdG9yKTtcbiAgICByZXR1cm4gJGVsZW1lbnRzLnRvQXJyYXkoKSBhcyB1bmtub3duIGFzIFRbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIud2FybignVXRpbHMnLCAnRE9N5p+l6K+i5aSx6LSlJywgeyBzZWxlY3RvciwgZXJyb3IgfSk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8qKlxuICog5qC85byP5YyW5paH5Lu25aSn5bCPXG4gKiBAcGFyYW0gYnl0ZXMg5a2X6IqC5pWwXG4gKiBAcmV0dXJucyDmoLzlvI/ljJbnmoTmlofku7blpKflsI/lrZfnrKbkuLJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCJztcblxuICBjb25zdCBrID0gMTAyNDtcbiAgY29uc3Qgc2l6ZXMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTtcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xufVxuXG4vKipcbiAqIOagvOW8j+WMluaXtumXtOaIs1xuICogQHBhcmFtIHRpbWVzdGFtcCDml7bpl7TmiLPvvIjmr6vnp5LvvIlcbiAqIEBwYXJhbSBmb3JtYXQg5qC85byP57G75Z6LXG4gKiBAcmV0dXJucyDmoLzlvI/ljJbnmoTml7bpl7TlrZfnrKbkuLJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWVzdGFtcCh0aW1lc3RhbXA6IG51bWJlciwgZm9ybWF0OiAnZnVsbCcgfCAndGltZScgfCAnZGF0ZScgPSAnZnVsbCcpOiBzdHJpbmcge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTtcblxuICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCd6aC1DTicsIHsgaG91cjEyOiBmYWxzZSB9KTtcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nKTtcbiAgICBjYXNlICdmdWxsJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3poLUNOJywgeyBob3VyMTI6IGZhbHNlIH0pO1xuICB9XG59XG5cbi8qKlxuICog55Sf5oiQ5ZSv5LiASURcbiAqIEBwYXJhbSBwcmVmaXgg5YmN57yAXG4gKiBAcmV0dXJucyDllK/kuIBJROWtl+espuS4slxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJZChwcmVmaXg6IHN0cmluZyA9ICdpZCcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7cHJlZml4fS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xufVxuXG4vKipcbiAqIOa3seW6puWFi+mahuWvueixoSAtIOS9v+eUqGxvZGFzaOeahGNsb25lRGVlcFxuICogQHBhcmFtIG9iaiDopoHlhYvpmobnmoTlr7nosaFcbiAqIEByZXR1cm5zIOWFi+mahuWQjueahOWvueixoVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lPFQ+KG9iajogVCk6IFQge1xuICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl8uY2xvbmVEZWVwKG9iaik7XG59XG5cbi8qKlxuICog5qOA5p+l5piv5ZCm5Li656e75Yqo6K6+5aSHXG4gKiBAcmV0dXJucyDmmK/lkKbkuLrnp7vliqjorr7lpIdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlRGV2aWNlKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG4vKipcbiAqIOajgOafpeaYr+WQpuaUr+aMgeinpuaRuFxuICogQHJldHVybnMg5piv5ZCm5pSv5oyB6Kem5pG4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDA7XG59XG5cbi8qKlxuICog5a6J5YWo55qE5pys5Zyw5a2Y5YKo5pON5L2cXG4gKi9cbmV4cG9ydCBjb25zdCBTYWZlU3RvcmFnZSA9IHtcbiAgLyoqXG4gICAqIOiOt+WPluacrOWcsOWtmOWCqOmhuVxuICAgKiBAcGFyYW0ga2V5IOmUruWQjVxuICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIOm7mOiupOWAvFxuICAgKiBAcmV0dXJucyDlrZjlgqjnmoTlgLzmiJbpu5jorqTlgLxcbiAgICovXG4gIGdldEl0ZW08VCA9IHN0cmluZz4oa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCB8IG51bGwgPSBudWxsKTogVCB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmIChpdGVtID09PSBudWxsKSByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXG4gICAgICAvLyDlsJ3or5Xop6PmnpBKU09O77yM5aaC5p6c5aSx6LSl5YiZ6L+U5Zue5Y6f5aeL5a2X56ym5LiyXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gaXRlbSBhcyB1bmtub3duIGFzIFQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdVdGlscycsICfmnKzlnLDlrZjlgqjor7vlj5blpLHotKUnLCB7IGtleSwgZXJyb3IgfSk7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog6K6+572u5pys5Zyw5a2Y5YKo6aG5XG4gICAqIEBwYXJhbSBrZXkg6ZSu5ZCNXG4gICAqIEBwYXJhbSB2YWx1ZSDlgLxcbiAgICogQHJldHVybnMg5piv5ZCm5oiQ5YqfXG4gICAqL1xuICBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHNlcmlhbGl6ZWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdVdGlscycsICfmnKzlnLDlrZjlgqjlhpnlhaXlpLHotKUnLCB7IGtleSwgZXJyb3IgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiDliKDpmaTmnKzlnLDlrZjlgqjpoblcbiAgICogQHBhcmFtIGtleSDplK7lkI1cbiAgICogQHJldHVybnMg5piv5ZCm5oiQ5YqfXG4gICAqL1xuICByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLndhcm4oJ1V0aWxzJywgJ+acrOWcsOWtmOWCqOWIoOmZpOWksei0pScsIHsga2V5LCBlcnJvciB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIOa4heepuuacrOWcsOWtmOWCqFxuICAgKiBAcmV0dXJucyDmmK/lkKbmiJDlip9cbiAgICovXG4gIGNsZWFyKCk6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIud2FybignVXRpbHMnLCAn5pys5Zyw5a2Y5YKo5riF56m65aSx6LSlJywgeyBlcnJvciB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG59O1xuXG4vKipcbiAqIOmUmeivr+WkhOeQhuW3peWFt1xuICovXG5leHBvcnQgY29uc3QgRXJyb3JIYW5kbGVyID0ge1xuICAvKipcbiAgICog5a6J5YWo5omn6KGM5byC5q2l5Ye95pWwXG4gICAqIEBwYXJhbSBmbiDlvILmraXlh73mlbBcbiAgICogQHBhcmFtIGVycm9yTWVzc2FnZSDplJnor6/mtojmga9cbiAgICogQHJldHVybnMg5omn6KGM57uT5p6c5oiWbnVsbFxuICAgKi9cbiAgYXN5bmMgc2FmZUFzeW5jPFQ+KGZuOiAoKSA9PiBQcm9taXNlPFQ+LCBlcnJvck1lc3NhZ2U/OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9ySGFuZGxlcicsIGVycm9yTWVzc2FnZSB8fCAn5byC5q2l5pON5L2c5aSx6LSlJywgeyBlcnJvciB9KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog5a6J5YWo5omn6KGM5ZCM5q2l5Ye95pWwXG4gICAqIEBwYXJhbSBmbiDlkIzmraXlh73mlbBcbiAgICogQHBhcmFtIGVycm9yTWVzc2FnZSDplJnor6/mtojmga9cbiAgICogQHJldHVybnMg5omn6KGM57uT5p6c5oiWbnVsbFxuICAgKi9cbiAgc2FmZVN5bmM8VD4oZm46ICgpID0+IFQsIGVycm9yTWVzc2FnZT86IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3JIYW5kbGVyJywgZXJyb3JNZXNzYWdlIHx8ICflkIzmraXmk43kvZzlpLHotKUnLCB7IGVycm9yIH0pO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/utils.ts\n\n}");
  },
  "./src/同层手机/wallpaper-controller.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WallpaperController: () => (/* binding */ WallpaperController)\n/* harmony export */ });\n/* harmony import */ var _wallpaper_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wallpaper-selector */ \"./src/同层手机/wallpaper-selector.ts\");\n// 壁纸控制器模块\n// 负责壁纸的应用和管理\n\nclass WallpaperController {\n    wallpaperManager;\n    themeManager;\n    wallpaperSelector;\n    constructor(themeManager) {\n        this.themeManager = themeManager;\n        this.wallpaperManager = themeManager.getWallpaperManager();\n        this.wallpaperSelector = new _wallpaper_selector__WEBPACK_IMPORTED_MODULE_0__.WallpaperSelector(this.wallpaperManager, this.themeManager);\n    }\n    // 应用壁纸到所有视图\n    applyWallpapers() {\n        const $chatView = $('#wechat-view');\n        const $homeScreen = $('#app-homescreen');\n        const $settingsView = $('#settings-view');\n        const currentTheme = this.themeManager.getCurrentTheme();\n        // 确保壁纸管理器使用当前主题名称\n        this.wallpaperManager.setCurrentThemeName(currentTheme.name);\n        // 应用聊天壁纸\n        const chatWallpaper = this.wallpaperManager.getCurrentWallpaper('chat');\n        this.wallpaperManager.applyWallpaperToElement($chatView[0], chatWallpaper, currentTheme.colors.defaultWallpapers.chat);\n        // 应用主屏幕壁纸\n        const homeWallpaper = this.wallpaperManager.getCurrentWallpaper('home');\n        this.wallpaperManager.applyWallpaperToElement($homeScreen[0], homeWallpaper, currentTheme.colors.defaultWallpapers.home);\n        // 应用设置壁纸\n        const settingsWallpaper = this.wallpaperManager.getCurrentWallpaper('settings');\n        this.wallpaperManager.applyWallpaperToElement($settingsView[0], settingsWallpaper, currentTheme.colors.defaultWallpapers.settings);\n    }\n    // 更改壁纸\n    changeWallpaper(viewType) {\n        // 显示壁纸选择器\n        this.wallpaperSelector.showWallpaperSelector(viewType, () => {\n            this.applyWallpapers();\n        });\n    }\n    // 初始化壁纸（在主题切换时调用）\n    initializeWallpapers(theme) {\n        // 确保应用当前主题的默认壁纸，但不覆盖用户已保存的壁纸设置\n        this.wallpaperManager.applyThemeDefaultWallpapers(theme);\n        this.applyWallpapers();\n    }\n    // 获取壁纸管理器（用于其他模块访问）\n    getWallpaperManager() {\n        return this.wallpaperManager;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5ZCM5bGC5omL5py6L3dhbGxwYXBlci1jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsVUFBVTtBQUNWLGFBQWE7QUFHNEM7QUFFbEQsTUFBTSxtQkFBbUI7SUFDdEIsZ0JBQWdCLENBQW1CO0lBQ25DLFlBQVksQ0FBZTtJQUMzQixpQkFBaUIsQ0FBb0I7SUFFN0MsWUFBWSxZQUEwQjtRQUNwQyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0QsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksa0VBQWlCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzRixDQUFDO0lBRUQsWUFBWTtJQUNaLGVBQWU7UUFDYixNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDcEMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDekMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDMUMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUV6RCxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU3RCxTQUFTO1FBQ1QsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FDM0MsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUNaLGFBQWEsRUFDYixZQUFZLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FDM0MsQ0FBQztRQUVGLFVBQVU7UUFDVixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUMzQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsYUFBYSxFQUNiLFlBQVksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUMzQyxDQUFDO1FBRUYsU0FBUztRQUNULE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2hGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FDM0MsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUNoQixpQkFBaUIsRUFDakIsWUFBWSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQy9DLENBQUM7SUFDSixDQUFDO0lBRUQsT0FBTztJQUNQLGVBQWUsQ0FBQyxRQUFzQztRQUNwRCxVQUFVO1FBQ1YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7WUFDMUQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGtCQUFrQjtJQUNsQixvQkFBb0IsQ0FBQyxLQUFZO1FBQy9CLCtCQUErQjtRQUMvQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsMkJBQTJCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxvQkFBb0I7SUFDcEIsbUJBQW1CO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQy9CLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5ZCM5bGC5omL5py6L3dhbGxwYXBlci1jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWjgee6uOaOp+WItuWZqOaooeWdl1xuLy8g6LSf6LSj5aOB57q455qE5bqU55So5ZKM566h55CGXG5cbmltcG9ydCB7IFRoZW1lLCBUaGVtZU1hbmFnZXIsIFdhbGxwYXBlck1hbmFnZXIgfSBmcm9tICcuL3RoZW1lLW1hbmFnZXInO1xuaW1wb3J0IHsgV2FsbHBhcGVyU2VsZWN0b3IgfSBmcm9tICcuL3dhbGxwYXBlci1zZWxlY3Rvcic7XG5cbmV4cG9ydCBjbGFzcyBXYWxscGFwZXJDb250cm9sbGVyIHtcbiAgcHJpdmF0ZSB3YWxscGFwZXJNYW5hZ2VyOiBXYWxscGFwZXJNYW5hZ2VyO1xuICBwcml2YXRlIHRoZW1lTWFuYWdlcjogVGhlbWVNYW5hZ2VyO1xuICBwcml2YXRlIHdhbGxwYXBlclNlbGVjdG9yOiBXYWxscGFwZXJTZWxlY3RvcjtcblxuICBjb25zdHJ1Y3Rvcih0aGVtZU1hbmFnZXI6IFRoZW1lTWFuYWdlcikge1xuICAgIHRoaXMudGhlbWVNYW5hZ2VyID0gdGhlbWVNYW5hZ2VyO1xuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlciA9IHRoZW1lTWFuYWdlci5nZXRXYWxscGFwZXJNYW5hZ2VyKCk7XG4gICAgdGhpcy53YWxscGFwZXJTZWxlY3RvciA9IG5ldyBXYWxscGFwZXJTZWxlY3Rvcih0aGlzLndhbGxwYXBlck1hbmFnZXIsIHRoaXMudGhlbWVNYW5hZ2VyKTtcbiAgfVxuXG4gIC8vIOW6lOeUqOWjgee6uOWIsOaJgOacieinhuWbvlxuICBhcHBseVdhbGxwYXBlcnMoKTogdm9pZCB7XG4gICAgY29uc3QgJGNoYXRWaWV3ID0gJCgnI3dlY2hhdC12aWV3Jyk7XG4gICAgY29uc3QgJGhvbWVTY3JlZW4gPSAkKCcjYXBwLWhvbWVzY3JlZW4nKTtcbiAgICBjb25zdCAkc2V0dGluZ3NWaWV3ID0gJCgnI3NldHRpbmdzLXZpZXcnKTtcbiAgICBjb25zdCBjdXJyZW50VGhlbWUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDdXJyZW50VGhlbWUoKTtcblxuICAgIC8vIOehruS/neWjgee6uOeuoeeQhuWZqOS9v+eUqOW9k+WJjeS4u+mimOWQjeensFxuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5zZXRDdXJyZW50VGhlbWVOYW1lKGN1cnJlbnRUaGVtZS5uYW1lKTtcblxuICAgIC8vIOW6lOeUqOiBiuWkqeWjgee6uFxuICAgIGNvbnN0IGNoYXRXYWxscGFwZXIgPSB0aGlzLndhbGxwYXBlck1hbmFnZXIuZ2V0Q3VycmVudFdhbGxwYXBlcignY2hhdCcpO1xuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5hcHBseVdhbGxwYXBlclRvRWxlbWVudChcbiAgICAgICRjaGF0Vmlld1swXSxcbiAgICAgIGNoYXRXYWxscGFwZXIsXG4gICAgICBjdXJyZW50VGhlbWUuY29sb3JzLmRlZmF1bHRXYWxscGFwZXJzLmNoYXQsXG4gICAgKTtcblxuICAgIC8vIOW6lOeUqOS4u+Wxj+W5leWjgee6uFxuICAgIGNvbnN0IGhvbWVXYWxscGFwZXIgPSB0aGlzLndhbGxwYXBlck1hbmFnZXIuZ2V0Q3VycmVudFdhbGxwYXBlcignaG9tZScpO1xuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5hcHBseVdhbGxwYXBlclRvRWxlbWVudChcbiAgICAgICRob21lU2NyZWVuWzBdLFxuICAgICAgaG9tZVdhbGxwYXBlcixcbiAgICAgIGN1cnJlbnRUaGVtZS5jb2xvcnMuZGVmYXVsdFdhbGxwYXBlcnMuaG9tZSxcbiAgICApO1xuXG4gICAgLy8g5bqU55So6K6+572u5aOB57q4XG4gICAgY29uc3Qgc2V0dGluZ3NXYWxscGFwZXIgPSB0aGlzLndhbGxwYXBlck1hbmFnZXIuZ2V0Q3VycmVudFdhbGxwYXBlcignc2V0dGluZ3MnKTtcbiAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuYXBwbHlXYWxscGFwZXJUb0VsZW1lbnQoXG4gICAgICAkc2V0dGluZ3NWaWV3WzBdLFxuICAgICAgc2V0dGluZ3NXYWxscGFwZXIsXG4gICAgICBjdXJyZW50VGhlbWUuY29sb3JzLmRlZmF1bHRXYWxscGFwZXJzLnNldHRpbmdzLFxuICAgICk7XG4gIH1cblxuICAvLyDmm7TmlLnlo4HnurhcbiAgY2hhbmdlV2FsbHBhcGVyKHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnKTogdm9pZCB7XG4gICAgLy8g5pi+56S65aOB57q46YCJ5oup5ZmoXG4gICAgdGhpcy53YWxscGFwZXJTZWxlY3Rvci5zaG93V2FsbHBhcGVyU2VsZWN0b3Iodmlld1R5cGUsICgpID0+IHtcbiAgICAgIHRoaXMuYXBwbHlXYWxscGFwZXJzKCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDliJ3lp4vljJblo4HnurjvvIjlnKjkuLvpopjliIfmjaLml7bosIPnlKjvvIlcbiAgaW5pdGlhbGl6ZVdhbGxwYXBlcnModGhlbWU6IFRoZW1lKTogdm9pZCB7XG4gICAgLy8g56Gu5L+d5bqU55So5b2T5YmN5Li76aKY55qE6buY6K6k5aOB57q477yM5L2G5LiN6KaG55uW55So5oi35bey5L+d5a2Y55qE5aOB57q46K6+572uXG4gICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLmFwcGx5VGhlbWVEZWZhdWx0V2FsbHBhcGVycyh0aGVtZSk7XG4gICAgdGhpcy5hcHBseVdhbGxwYXBlcnMoKTtcbiAgfVxuXG4gIC8vIOiOt+WPluWjgee6uOeuoeeQhuWZqO+8iOeUqOS6juWFtuS7luaooeWdl+iuv+mXru+8iVxuICBnZXRXYWxscGFwZXJNYW5hZ2VyKCk6IFdhbGxwYXBlck1hbmFnZXIge1xuICAgIHJldHVybiB0aGlzLndhbGxwYXBlck1hbmFnZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/wallpaper-controller.ts\n\n}");
  },
  "./src/同层手机/wallpaper-selector.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WallpaperSelector: () => (/* binding */ WallpaperSelector)\n/* harmony export */ });\n// 壁纸选择器模块\n// 负责壁纸选择器UI的创建和管理\nclass WallpaperSelector {\n    wallpaperManager;\n    themeManager; // 主题管理器引用\n    constructor(wallpaperManager, themeManager) {\n        this.wallpaperManager = wallpaperManager;\n        this.themeManager = themeManager;\n    }\n    // 显示壁纸选择器\n    showWallpaperSelector(viewType, onApplyWallpaper) {\n        // 创建模态框\n        const modal = document.createElement('div');\n        modal.className = 'wallpaper-modal';\n        modal.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0, 0, 0, 0.7);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      z-index: 1000;\n    `;\n        // 创建内容容器\n        const container = document.createElement('div');\n        container.className = 'wallpaper-container';\n        container.style.cssText = `\n      background-color: white;\n      border-radius: 12px;\n      width: 90%;\n      max-width: 500px;\n      max-height: 80vh;\n      overflow-y: auto;\n      padding: 20px;\n      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    `;\n        // 标题\n        const title = document.createElement('h2');\n        title.textContent = `选择${viewType === 'chat' ? '聊天' : viewType === 'home' ? '主屏幕' : '设置'}壁纸`;\n        title.style.cssText = `\n      margin-top: 0;\n      color: var(--text-primary);\n      font-size: 1.2rem;\n      text-align: center;\n      margin-bottom: 20px;\n    `;\n        container.appendChild(title);\n        // 创建选项卡\n        const tabs = this.createTabs(container);\n        container.appendChild(tabs);\n        // 创建各个选项卡内容\n        this.createBuiltinWallpaperTab(container, viewType, modal, onApplyWallpaper);\n        this.createSolidColorTab(container, viewType, modal, onApplyWallpaper);\n        this.createCustomWallpaperTab(container, viewType, modal, onApplyWallpaper);\n        this.createUploadTab(container, viewType, modal, onApplyWallpaper);\n        // 创建底部按钮\n        this.createBottomButtons(container, viewType, modal, onApplyWallpaper);\n        modal.appendChild(container);\n        document.body.appendChild(modal);\n    }\n    // 创建选项卡\n    createTabs(container) {\n        const tabs = document.createElement('div');\n        tabs.style.cssText = `\n      display: flex;\n      border-bottom: 1px solid ${document.body.classList.contains('dark-mode') ? '#3c3c3c' : '#eee'};\n      margin-bottom: 15px;\n    `;\n        const createTab = (label, id, isActive = false) => {\n            const tab = document.createElement('div');\n            tab.textContent = label;\n            tab.dataset.tabId = id;\n            tab.style.cssText = `\n        padding: 10px 15px;\n        cursor: pointer;\n        font-weight: ${isActive ? 'bold' : 'normal'};\n        color: ${isActive ? 'var(--primary-blue)' : 'var(--text-secondary)'};\n        border-bottom: ${isActive ? '2px solid var(--primary-blue)' : 'none'};\n        margin-bottom: -1px;\n      `;\n            tab.addEventListener('click', () => {\n                // 移除所有活动状态\n                tabs.querySelectorAll('div').forEach(t => {\n                    t.style.fontWeight = 'normal';\n                    t.style.color = 'var(--text-secondary)';\n                    t.style.borderBottom = 'none';\n                });\n                // 设置当前标签为活动状态\n                tab.style.fontWeight = 'bold';\n                tab.style.color = 'var(--primary-blue)';\n                tab.style.borderBottom = '2px solid var(--primary-blue)';\n                // 隐藏所有内容\n                container.querySelectorAll('.tab-content').forEach(c => {\n                    c.style.display = 'none';\n                });\n                // 显示选定的内容\n                const content = container.querySelector(`.tab-content[data-tab-id=\"${id}\"]`);\n                if (content) {\n                    content.style.display = 'block';\n                }\n            });\n            return tab;\n        };\n        tabs.appendChild(createTab('内置壁纸', 'builtin', true));\n        tabs.appendChild(createTab('纯色壁纸', 'solid'));\n        tabs.appendChild(createTab('自定义壁纸', 'custom'));\n        tabs.appendChild(createTab('上传壁纸', 'upload'));\n        return tabs;\n    }\n    // 创建内置壁纸选项卡\n    createBuiltinWallpaperTab(container, viewType, modal, onApplyWallpaper) {\n        const builtinContent = document.createElement('div');\n        builtinContent.className = 'tab-content';\n        builtinContent.dataset.tabId = 'builtin';\n        builtinContent.style.cssText = 'display: block;';\n        // 获取内置壁纸\n        const builtinWallpapers = this.wallpaperManager.getBuiltInWallpapers().filter(w => w.type === 'image');\n        // 创建壁纸网格\n        const builtinGrid = document.createElement('div');\n        builtinGrid.style.cssText = `\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 10px;\n    `;\n        builtinWallpapers.forEach(wallpaper => {\n            const wallpaperItem = this.createWallpaperItem(wallpaper, viewType, false, modal, onApplyWallpaper);\n            builtinGrid.appendChild(wallpaperItem);\n        });\n        builtinContent.appendChild(builtinGrid);\n        container.appendChild(builtinContent);\n    }\n    // 创建纯色壁纸选项卡\n    createSolidColorTab(container, viewType, modal, onApplyWallpaper) {\n        const solidContent = document.createElement('div');\n        solidContent.className = 'tab-content';\n        solidContent.dataset.tabId = 'solid';\n        solidContent.style.cssText = 'display: none;';\n        // 获取纯色壁纸\n        const solidWallpapers = this.wallpaperManager.getBuiltInWallpapers().filter(w => w.type === 'color');\n        // 创建壁纸网格\n        const solidGrid = document.createElement('div');\n        solidGrid.style.cssText = `\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      gap: 10px;\n    `;\n        solidWallpapers.forEach(wallpaper => {\n            const wallpaperItem = this.createWallpaperItem(wallpaper, viewType, false, modal, onApplyWallpaper);\n            solidGrid.appendChild(wallpaperItem);\n        });\n        solidContent.appendChild(solidGrid);\n        // 添加颜色选择器\n        this.addColorPicker(solidContent, viewType, modal, onApplyWallpaper);\n        container.appendChild(solidContent);\n    }\n    // 创建自定义壁纸选项卡\n    createCustomWallpaperTab(container, viewType, modal, onApplyWallpaper) {\n        const customContent = document.createElement('div');\n        customContent.className = 'tab-content';\n        customContent.dataset.tabId = 'custom';\n        customContent.style.cssText = 'display: none;';\n        // 获取自定义壁纸\n        const customWallpapers = this.wallpaperManager.getCustomWallpapers();\n        if (customWallpapers.length === 0) {\n            const noCustomWallpapers = document.createElement('p');\n            noCustomWallpapers.textContent = '没有自定义壁纸。请在\"上传壁纸\"选项卡中添加。';\n            noCustomWallpapers.style.cssText = `\n        text-align: center;\n        color: var(--text-secondary);\n        margin: 30px 0;\n      `;\n            customContent.appendChild(noCustomWallpapers);\n        }\n        else {\n            // 创建壁纸网格\n            const customGrid = document.createElement('div');\n            customGrid.style.cssText = `\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        gap: 10px;\n      `;\n            customWallpapers.forEach(wallpaper => {\n                const wallpaperItem = this.createWallpaperItem(wallpaper, viewType, true, modal, onApplyWallpaper);\n                customGrid.appendChild(wallpaperItem);\n            });\n            customContent.appendChild(customGrid);\n        }\n        container.appendChild(customContent);\n    }\n    // 创建上传选项卡\n    createUploadTab(container, viewType, modal, onApplyWallpaper) {\n        const uploadContent = document.createElement('div');\n        uploadContent.className = 'tab-content';\n        uploadContent.dataset.tabId = 'upload';\n        uploadContent.style.cssText = 'display: none; padding: 10px 0;';\n        // 从本地上传部分\n        this.createLocalUploadSection(uploadContent, viewType, modal, onApplyWallpaper);\n        // 从URL添加部分\n        this.createUrlUploadSection(uploadContent, viewType, modal, onApplyWallpaper);\n        container.appendChild(uploadContent);\n    }\n    // 添加颜色选择器\n    addColorPicker(solidContent, viewType, modal, onApplyWallpaper) {\n        const colorPickerContainer = document.createElement('div');\n        colorPickerContainer.style.cssText = `\n      margin-top: 20px;\n      padding-top: 15px;\n      border-top: 1px solid ${document.body.classList.contains('dark-mode') ? '#3c3c3c' : '#eee'};\n    `;\n        const colorPickerLabel = document.createElement('p');\n        colorPickerLabel.textContent = '自定义颜色:';\n        colorPickerLabel.style.cssText = `\n      margin: 0 0 10px 0;\n      font-size: 0.9rem;\n      color: var(--text-primary);\n    `;\n        const colorPicker = document.createElement('input');\n        colorPicker.type = 'color';\n        colorPicker.value = '#ffffff';\n        colorPicker.style.cssText = `\n      width: 100%;\n      height: 40px;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n    `;\n        const colorNameInput = document.createElement('input');\n        colorNameInput.type = 'text';\n        colorNameInput.placeholder = '颜色名称 (可选)';\n        colorNameInput.style.cssText = `\n      width: 100%;\n      padding: 8px;\n      margin-top: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      box-sizing: border-box;\n    `;\n        const addColorBtn = document.createElement('button');\n        addColorBtn.textContent = '添加此颜色';\n        addColorBtn.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      margin-top: 10px;\n      background: var(--primary-blue);\n      color: white;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n    `;\n        addColorBtn.addEventListener('click', () => {\n            const color = colorPicker.value;\n            const name = colorNameInput.value.trim() || `颜色 ${color}`;\n            const newWallpaper = this.wallpaperManager.createSolidColorWallpaper(color, name);\n            if (newWallpaper) {\n                // 应用新壁纸\n                this.wallpaperManager.setWallpaper(viewType, newWallpaper);\n                onApplyWallpaper();\n                // 关闭模态框\n                document.body.removeChild(modal);\n            }\n            else {\n                // 显示错误消息\n                alert('创建纯色壁纸失败，请确保颜色格式正确。');\n            }\n        });\n        colorPickerContainer.appendChild(colorPickerLabel);\n        colorPickerContainer.appendChild(colorPicker);\n        colorPickerContainer.appendChild(colorNameInput);\n        colorPickerContainer.appendChild(addColorBtn);\n        solidContent.appendChild(colorPickerContainer);\n    }\n    // 创建本地上传部分\n    createLocalUploadSection(uploadContent, viewType, modal, onApplyWallpaper) {\n        const localUploadSection = document.createElement('div');\n        localUploadSection.style.cssText = 'margin-bottom: 20px;';\n        const localUploadTitle = document.createElement('h3');\n        localUploadTitle.textContent = '从本地上传';\n        localUploadTitle.style.cssText = `\n      font-size: 1rem;\n      color: var(--text-primary);\n      margin: 0 0 10px 0;\n    `;\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = 'image/*';\n        fileInput.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      margin-bottom: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      box-sizing: border-box;\n    `;\n        const uploadBtn = document.createElement('button');\n        uploadBtn.textContent = '上传并应用';\n        uploadBtn.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      background: var(--primary-blue);\n      color: white;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n    `;\n        uploadBtn.addEventListener('click', async () => {\n            if (fileInput.files && fileInput.files[0]) {\n                const file = fileInput.files[0];\n                const newWallpaper = await this.wallpaperManager.createWallpaperFromFile(file);\n                if (newWallpaper) {\n                    // 应用新壁纸\n                    this.wallpaperManager.setWallpaper(viewType, newWallpaper);\n                    onApplyWallpaper();\n                    // 关闭模态框\n                    document.body.removeChild(modal);\n                }\n            }\n        });\n        localUploadSection.appendChild(localUploadTitle);\n        localUploadSection.appendChild(fileInput);\n        localUploadSection.appendChild(uploadBtn);\n        uploadContent.appendChild(localUploadSection);\n    }\n    // 创建URL上传部分\n    createUrlUploadSection(uploadContent, viewType, modal, onApplyWallpaper) {\n        const urlUploadSection = document.createElement('div');\n        urlUploadSection.style.cssText = `\n      margin-top: 30px;\n      padding-top: 20px;\n      border-top: 1px solid ${document.body.classList.contains('dark-mode') ? '#3c3c3c' : '#eee'};\n    `;\n        const urlUploadTitle = document.createElement('h3');\n        urlUploadTitle.textContent = '从URL添加';\n        urlUploadTitle.style.cssText = `\n      font-size: 1rem;\n      color: var(--text-primary);\n      margin: 0 0 10px 0;\n    `;\n        const urlInput = document.createElement('input');\n        urlInput.type = 'text';\n        urlInput.placeholder = '输入图片URL';\n        urlInput.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      margin-bottom: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      box-sizing: border-box;\n    `;\n        const nameInput = document.createElement('input');\n        nameInput.type = 'text';\n        nameInput.placeholder = '壁纸名称 (可选)';\n        nameInput.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      margin-bottom: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      box-sizing: border-box;\n    `;\n        const addUrlBtn = document.createElement('button');\n        addUrlBtn.textContent = '添加并应用';\n        addUrlBtn.style.cssText = `\n      width: 100%;\n      padding: 10px;\n      background: var(--primary-blue);\n      color: white;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n    `;\n        addUrlBtn.addEventListener('click', async () => {\n            const url = urlInput.value.trim();\n            const name = nameInput.value.trim() || 'URL壁纸';\n            if (url) {\n                const newWallpaper = await this.wallpaperManager.createWallpaperFromUrl(url, name);\n                if (newWallpaper) {\n                    // 应用新壁纸\n                    this.wallpaperManager.setWallpaper(viewType, newWallpaper);\n                    onApplyWallpaper();\n                    // 关闭模态框\n                    document.body.removeChild(modal);\n                }\n                else {\n                    alert('无效的URL。请输入有效的图片URL。');\n                }\n            }\n        });\n        urlUploadSection.appendChild(urlUploadTitle);\n        urlUploadSection.appendChild(urlInput);\n        urlUploadSection.appendChild(nameInput);\n        urlUploadSection.appendChild(addUrlBtn);\n        uploadContent.appendChild(urlUploadSection);\n    }\n    // 创建壁纸项\n    createWallpaperItem(wallpaper, viewType, showDeleteButton, modal, onApplyWallpaper) {\n        const item = document.createElement('div');\n        item.style.cssText = `\n      border-radius: 8px;\n      overflow: hidden;\n      position: relative;\n      cursor: pointer;\n      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n      transition: transform 0.2s ease, box-shadow 0.2s ease;\n    `;\n        // 预览\n        const preview = document.createElement('div');\n        preview.style.cssText = `\n      width: 100%;\n      height: 100px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    `;\n        if (wallpaper.type === 'color') {\n            // 确保纯色壁纸预览正确\n            preview.style.backgroundImage = 'none';\n            preview.style.backgroundColor = wallpaper.value;\n        }\n        else {\n            preview.style.backgroundImage = `url(\"${wallpaper.value}\")`;\n            preview.style.backgroundSize = 'cover';\n            preview.style.backgroundPosition = 'center';\n        }\n        // 名称\n        const name = document.createElement('div');\n        name.textContent = wallpaper.name;\n        name.style.cssText = `\n      padding: 8px;\n      text-align: center;\n      font-size: 0.8rem;\n      color: var(--text-primary);\n      background-color: ${document.body.classList.contains('dark-mode') ? 'rgba(42, 42, 42, 0.9)' : 'rgba(255, 255, 255, 0.9)'};\n    `;\n        // 删除按钮\n        if (showDeleteButton) {\n            const deleteBtn = document.createElement('button');\n            deleteBtn.innerHTML = '&times;';\n            deleteBtn.style.cssText = `\n        position: absolute;\n        top: 5px;\n        right: 5px;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background-color: rgba(255, 0, 0, 0.7);\n        color: white;\n        border: none;\n        font-size: 14px;\n        line-height: 1;\n        cursor: pointer;\n        z-index: 1;\n      `;\n            deleteBtn.addEventListener('click', e => {\n                e.stopPropagation();\n                if (confirm('确定要删除这个壁纸吗？')) {\n                    this.wallpaperManager.deleteCustomWallpaper(wallpaper.id);\n                    // 如果当前正在使用这个壁纸，则重置为默认\n                    const currentWallpaper = this.wallpaperManager.getCurrentWallpaper(viewType);\n                    if (currentWallpaper && currentWallpaper.id === wallpaper.id) {\n                        this.wallpaperManager.setWallpaper(viewType, null);\n                        onApplyWallpaper();\n                    }\n                    // 移除元素\n                    item.parentElement?.removeChild(item);\n                }\n            });\n            item.appendChild(deleteBtn);\n        }\n        // 点击应用壁纸\n        item.addEventListener('click', () => {\n            // 确保壁纸管理器使用当前主题名称\n            const currentTheme = this.themeManager.getCurrentTheme();\n            this.wallpaperManager.setCurrentThemeName(currentTheme.name);\n            this.wallpaperManager.setWallpaper(viewType, wallpaper);\n            onApplyWallpaper();\n            // 关闭模态框\n            document.body.removeChild(modal);\n        });\n        item.appendChild(preview);\n        item.appendChild(name);\n        return item;\n    }\n    // 创建底部按钮\n    createBottomButtons(container, viewType, modal, onApplyWallpaper) {\n        const buttonsContainer = document.createElement('div');\n        buttonsContainer.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      margin-top: 20px;\n      padding-top: 15px;\n      border-top: 1px solid ${document.body.classList.contains('dark-mode') ? '#3c3c3c' : '#eee'};\n    `;\n        const resetBtn = document.createElement('button');\n        resetBtn.textContent = '恢复默认';\n        resetBtn.style.cssText = `\n      padding: 10px 15px;\n      background: ${document.body.classList.contains('dark-mode') ? '#3c3c3c' : '#f1f5f9'};\n      color: var(--text-primary);\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n    `;\n        resetBtn.addEventListener('click', () => {\n            // 移除自定义壁纸设置，将使用主题默认壁纸\n            this.wallpaperManager.setWallpaper(viewType, null);\n            onApplyWallpaper();\n            // 关闭模态框\n            document.body.removeChild(modal);\n        });\n        const closeBtn = document.createElement('button');\n        closeBtn.textContent = '关闭';\n        closeBtn.style.cssText = `\n      padding: 10px 20px;\n      background: var(--primary-blue);\n      color: white;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n    `;\n        closeBtn.addEventListener('click', () => {\n            document.body.removeChild(modal);\n        });\n        buttonsContainer.appendChild(resetBtn);\n        buttonsContainer.appendChild(closeBtn);\n        container.appendChild(buttonsContainer);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5ZCM5bGC5omL5py6L3dhbGxwYXBlci1zZWxlY3Rvci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsVUFBVTtBQUNWLGtCQUFrQjtBQUlYLE1BQU0saUJBQWlCO0lBQ3BCLGdCQUFnQixDQUFtQjtJQUNuQyxZQUFZLENBQU0sQ0FBQyxVQUFVO0lBRXJDLFlBQVksZ0JBQWtDLEVBQUUsWUFBaUI7UUFDL0QsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3pDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ25DLENBQUM7SUFFRCxVQUFVO0lBQ1YscUJBQXFCLENBQUMsUUFBc0MsRUFBRSxnQkFBNEI7UUFDeEYsUUFBUTtRQUNSLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQztRQUNwQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRzs7Ozs7Ozs7Ozs7S0FXckIsQ0FBQztRQUVGLFNBQVM7UUFDVCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hELFNBQVMsQ0FBQyxTQUFTLEdBQUcscUJBQXFCLENBQUM7UUFDNUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUc7Ozs7Ozs7OztLQVN6QixDQUFDO1FBRUYsS0FBSztRQUNMLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0MsS0FBSyxDQUFDLFdBQVcsR0FBRyxLQUFLLFFBQVEsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztRQUM3RixLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRzs7Ozs7O0tBTXJC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Q0FBQyxDQUFDO1FBRUgsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2QyxTQUFTLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDMUMsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovd2FsbHBhcGVyLXNlbGVjdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWjgee6uOmAieaLqeWZqOaooeWdl1xuLy8g6LSf6LSj5aOB57q46YCJ5oup5ZmoVUnnmoTliJvlu7rlkoznrqHnkIZcblxuaW1wb3J0IHsgV2FsbHBhcGVyLCBXYWxscGFwZXJNYW5hZ2VyIH0gZnJvbSAnLi90aGVtZS1tYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIFdhbGxwYXBlclNlbGVjdG9yIHtcbiAgcHJpdmF0ZSB3YWxscGFwZXJNYW5hZ2VyOiBXYWxscGFwZXJNYW5hZ2VyO1xuICBwcml2YXRlIHRoZW1lTWFuYWdlcjogYW55OyAvLyDkuLvpopjnrqHnkIblmajlvJXnlKhcblxuICBjb25zdHJ1Y3Rvcih3YWxscGFwZXJNYW5hZ2VyOiBXYWxscGFwZXJNYW5hZ2VyLCB0aGVtZU1hbmFnZXI6IGFueSkge1xuICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlciA9IHdhbGxwYXBlck1hbmFnZXI7XG4gICAgdGhpcy50aGVtZU1hbmFnZXIgPSB0aGVtZU1hbmFnZXI7XG4gIH1cblxuICAvLyDmmL7npLrlo4HnurjpgInmi6nlmahcbiAgc2hvd1dhbGxwYXBlclNlbGVjdG9yKHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLCBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8g5Yib5bu65qih5oCB5qGGXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnd2FsbHBhcGVyLW1vZGFsJztcbiAgICBtb2RhbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgYDtcblxuICAgIC8vIOWIm+W7uuWGheWuueWuueWZqFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnd2FsbHBhcGVyLWNvbnRhaW5lcic7XG4gICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICB3aWR0aDogOTAlO1xuICAgICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICAgIG1heC1oZWlnaHQ6IDgwdmg7XG4gICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgIGA7XG5cbiAgICAvLyDmoIfpophcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBg6YCJ5oupJHt2aWV3VHlwZSA9PT0gJ2NoYXQnID8gJ+iBiuWkqScgOiB2aWV3VHlwZSA9PT0gJ2hvbWUnID8gJ+S4u+Wxj+W5lScgOiAn6K6+572uJ33lo4HnurhgO1xuICAgIHRpdGxlLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgYDtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgLy8g5Yib5bu66YCJ6aG55Y2hXG4gICAgY29uc3QgdGFicyA9IHRoaXMuY3JlYXRlVGFicyhjb250YWluZXIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWJzKTtcblxuICAgIC8vIOWIm+W7uuWQhOS4qumAiemhueWNoeWGheWuuVxuICAgIHRoaXMuY3JlYXRlQnVpbHRpbldhbGxwYXBlclRhYihjb250YWluZXIsIHZpZXdUeXBlLCBtb2RhbCwgb25BcHBseVdhbGxwYXBlcik7XG4gICAgdGhpcy5jcmVhdGVTb2xpZENvbG9yVGFiKGNvbnRhaW5lciwgdmlld1R5cGUsIG1vZGFsLCBvbkFwcGx5V2FsbHBhcGVyKTtcbiAgICB0aGlzLmNyZWF0ZUN1c3RvbVdhbGxwYXBlclRhYihjb250YWluZXIsIHZpZXdUeXBlLCBtb2RhbCwgb25BcHBseVdhbGxwYXBlcik7XG4gICAgdGhpcy5jcmVhdGVVcGxvYWRUYWIoY29udGFpbmVyLCB2aWV3VHlwZSwgbW9kYWwsIG9uQXBwbHlXYWxscGFwZXIpO1xuXG4gICAgLy8g5Yib5bu65bqV6YOo5oyJ6ZKuXG4gICAgdGhpcy5jcmVhdGVCb3R0b21CdXR0b25zKGNvbnRhaW5lciwgdmlld1R5cGUsIG1vZGFsLCBvbkFwcGx5V2FsbHBhcGVyKTtcblxuICAgIG1vZGFsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XG4gIH1cblxuICAvLyDliJvlu7rpgInpobnljaFcbiAgcHJpdmF0ZSBjcmVhdGVUYWJzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgdGFicyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhYnMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnIzNjM2MzYycgOiAnI2VlZSd9O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICBgO1xuXG4gICAgY29uc3QgY3JlYXRlVGFiID0gKGxhYmVsOiBzdHJpbmcsIGlkOiBzdHJpbmcsIGlzQWN0aXZlOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGFiLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICB0YWIuZGF0YXNldC50YWJJZCA9IGlkO1xuICAgICAgdGFiLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXdlaWdodDogJHtpc0FjdGl2ZSA/ICdib2xkJyA6ICdub3JtYWwnfTtcbiAgICAgICAgY29sb3I6ICR7aXNBY3RpdmUgPyAndmFyKC0tcHJpbWFyeS1ibHVlKScgOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJ307XG4gICAgICAgIGJvcmRlci1ib3R0b206ICR7aXNBY3RpdmUgPyAnMnB4IHNvbGlkIHZhcigtLXByaW1hcnktYmx1ZSknIDogJ25vbmUnfTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogLTFweDtcbiAgICAgIGA7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vIOenu+mZpOaJgOaciea0u+WKqOeKtuaAgVxuICAgICAgICB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmZvckVhY2godCA9PiB7XG4gICAgICAgICAgdC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgICAgICAgdC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknO1xuICAgICAgICAgIHQuc3R5bGUuYm9yZGVyQm90dG9tID0gJ25vbmUnO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDorr7nva7lvZPliY3moIfnrb7kuLrmtLvliqjnirbmgIFcbiAgICAgICAgdGFiLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHRhYi5zdHlsZS5jb2xvciA9ICd2YXIoLS1wcmltYXJ5LWJsdWUpJztcbiAgICAgICAgdGFiLnN0eWxlLmJvcmRlckJvdHRvbSA9ICcycHggc29saWQgdmFyKC0tcHJpbWFyeS1ibHVlKSc7XG5cbiAgICAgICAgLy8g6ZqQ6JeP5omA5pyJ5YaF5a65XG4gICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWNvbnRlbnQnKS5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIChjIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmmL7npLrpgInlrprnmoTlhoXlrrlcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAudGFiLWNvbnRlbnRbZGF0YS10YWItaWQ9XCIke2lkfVwiXWApO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIChjb250ZW50IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGFiO1xuICAgIH07XG5cbiAgICB0YWJzLmFwcGVuZENoaWxkKGNyZWF0ZVRhYign5YaF572u5aOB57q4JywgJ2J1aWx0aW4nLCB0cnVlKSk7XG4gICAgdGFicy5hcHBlbmRDaGlsZChjcmVhdGVUYWIoJ+e6r+iJsuWjgee6uCcsICdzb2xpZCcpKTtcbiAgICB0YWJzLmFwcGVuZENoaWxkKGNyZWF0ZVRhYign6Ieq5a6a5LmJ5aOB57q4JywgJ2N1c3RvbScpKTtcbiAgICB0YWJzLmFwcGVuZENoaWxkKGNyZWF0ZVRhYign5LiK5Lyg5aOB57q4JywgJ3VwbG9hZCcpKTtcblxuICAgIHJldHVybiB0YWJzO1xuICB9XG5cbiAgLy8g5Yib5bu65YaF572u5aOB57q46YCJ6aG55Y2hXG4gIHByaXZhdGUgY3JlYXRlQnVpbHRpbldhbGxwYXBlclRhYihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLFxuICAgIG1vZGFsOiBIVE1MRWxlbWVudCxcbiAgICBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBidWlsdGluQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1aWx0aW5Db250ZW50LmNsYXNzTmFtZSA9ICd0YWItY29udGVudCc7XG4gICAgYnVpbHRpbkNvbnRlbnQuZGF0YXNldC50YWJJZCA9ICdidWlsdGluJztcbiAgICBidWlsdGluQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGJsb2NrOyc7XG5cbiAgICAvLyDojrflj5blhoXnva7lo4HnurhcbiAgICBjb25zdCBidWlsdGluV2FsbHBhcGVycyA9IHRoaXMud2FsbHBhcGVyTWFuYWdlci5nZXRCdWlsdEluV2FsbHBhcGVycygpLmZpbHRlcih3ID0+IHcudHlwZSA9PT0gJ2ltYWdlJyk7XG5cbiAgICAvLyDliJvlu7rlo4HnurjnvZHmoLxcbiAgICBjb25zdCBidWlsdGluR3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1aWx0aW5HcmlkLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICAgIGdhcDogMTBweDtcbiAgICBgO1xuXG4gICAgYnVpbHRpbldhbGxwYXBlcnMuZm9yRWFjaCh3YWxscGFwZXIgPT4ge1xuICAgICAgY29uc3Qgd2FsbHBhcGVySXRlbSA9IHRoaXMuY3JlYXRlV2FsbHBhcGVySXRlbSh3YWxscGFwZXIsIHZpZXdUeXBlLCBmYWxzZSwgbW9kYWwsIG9uQXBwbHlXYWxscGFwZXIpO1xuICAgICAgYnVpbHRpbkdyaWQuYXBwZW5kQ2hpbGQod2FsbHBhcGVySXRlbSk7XG4gICAgfSk7XG5cbiAgICBidWlsdGluQ29udGVudC5hcHBlbmRDaGlsZChidWlsdGluR3JpZCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1aWx0aW5Db250ZW50KTtcbiAgfVxuXG4gIC8vIOWIm+W7uue6r+iJsuWjgee6uOmAiemhueWNoVxuICBwcml2YXRlIGNyZWF0ZVNvbGlkQ29sb3JUYWIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICB2aWV3VHlwZTogJ2NoYXQnIHwgJ2hvbWUnIHwgJ3NldHRpbmdzJyxcbiAgICBtb2RhbDogSFRNTEVsZW1lbnQsXG4gICAgb25BcHBseVdhbGxwYXBlcjogKCkgPT4gdm9pZCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc29saWRDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc29saWRDb250ZW50LmNsYXNzTmFtZSA9ICd0YWItY29udGVudCc7XG4gICAgc29saWRDb250ZW50LmRhdGFzZXQudGFiSWQgPSAnc29saWQnO1xuICAgIHNvbGlkQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmU7JztcblxuICAgIC8vIOiOt+WPlue6r+iJsuWjgee6uFxuICAgIGNvbnN0IHNvbGlkV2FsbHBhcGVycyA9IHRoaXMud2FsbHBhcGVyTWFuYWdlci5nZXRCdWlsdEluV2FsbHBhcGVycygpLmZpbHRlcih3ID0+IHcudHlwZSA9PT0gJ2NvbG9yJyk7XG5cbiAgICAvLyDliJvlu7rlo4HnurjnvZHmoLxcbiAgICBjb25zdCBzb2xpZEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzb2xpZEdyaWQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpO1xuICAgICAgZ2FwOiAxMHB4O1xuICAgIGA7XG5cbiAgICBzb2xpZFdhbGxwYXBlcnMuZm9yRWFjaCh3YWxscGFwZXIgPT4ge1xuICAgICAgY29uc3Qgd2FsbHBhcGVySXRlbSA9IHRoaXMuY3JlYXRlV2FsbHBhcGVySXRlbSh3YWxscGFwZXIsIHZpZXdUeXBlLCBmYWxzZSwgbW9kYWwsIG9uQXBwbHlXYWxscGFwZXIpO1xuICAgICAgc29saWRHcmlkLmFwcGVuZENoaWxkKHdhbGxwYXBlckl0ZW0pO1xuICAgIH0pO1xuXG4gICAgc29saWRDb250ZW50LmFwcGVuZENoaWxkKHNvbGlkR3JpZCk7XG5cbiAgICAvLyDmt7vliqDpopzoibLpgInmi6nlmahcbiAgICB0aGlzLmFkZENvbG9yUGlja2VyKHNvbGlkQ29udGVudCwgdmlld1R5cGUsIG1vZGFsLCBvbkFwcGx5V2FsbHBhcGVyKTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzb2xpZENvbnRlbnQpO1xuICB9XG5cbiAgLy8g5Yib5bu66Ieq5a6a5LmJ5aOB57q46YCJ6aG55Y2hXG4gIHByaXZhdGUgY3JlYXRlQ3VzdG9tV2FsbHBhcGVyVGFiKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgdmlld1R5cGU6ICdjaGF0JyB8ICdob21lJyB8ICdzZXR0aW5ncycsXG4gICAgbW9kYWw6IEhUTUxFbGVtZW50LFxuICAgIG9uQXBwbHlXYWxscGFwZXI6ICgpID0+IHZvaWQsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGN1c3RvbUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjdXN0b21Db250ZW50LmNsYXNzTmFtZSA9ICd0YWItY29udGVudCc7XG4gICAgY3VzdG9tQ29udGVudC5kYXRhc2V0LnRhYklkID0gJ2N1c3RvbSc7XG4gICAgY3VzdG9tQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmU7JztcblxuICAgIC8vIOiOt+WPluiHquWumuS5ieWjgee6uFxuICAgIGNvbnN0IGN1c3RvbVdhbGxwYXBlcnMgPSB0aGlzLndhbGxwYXBlck1hbmFnZXIuZ2V0Q3VzdG9tV2FsbHBhcGVycygpO1xuXG4gICAgaWYgKGN1c3RvbVdhbGxwYXBlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBub0N1c3RvbVdhbGxwYXBlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBub0N1c3RvbVdhbGxwYXBlcnMudGV4dENvbnRlbnQgPSAn5rKh5pyJ6Ieq5a6a5LmJ5aOB57q444CC6K+35ZyoXCLkuIrkvKDlo4HnurhcIumAiemhueWNoeS4rea3u+WKoOOAgic7XG4gICAgICBub0N1c3RvbVdhbGxwYXBlcnMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpO1xuICAgICAgICBtYXJnaW46IDMwcHggMDtcbiAgICAgIGA7XG4gICAgICBjdXN0b21Db250ZW50LmFwcGVuZENoaWxkKG5vQ3VzdG9tV2FsbHBhcGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWIm+W7uuWjgee6uOe9keagvFxuICAgICAgY29uc3QgY3VzdG9tR3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY3VzdG9tR3JpZC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgICAgICBnYXA6IDEwcHg7XG4gICAgICBgO1xuXG4gICAgICBjdXN0b21XYWxscGFwZXJzLmZvckVhY2god2FsbHBhcGVyID0+IHtcbiAgICAgICAgY29uc3Qgd2FsbHBhcGVySXRlbSA9IHRoaXMuY3JlYXRlV2FsbHBhcGVySXRlbSh3YWxscGFwZXIsIHZpZXdUeXBlLCB0cnVlLCBtb2RhbCwgb25BcHBseVdhbGxwYXBlcik7XG4gICAgICAgIGN1c3RvbUdyaWQuYXBwZW5kQ2hpbGQod2FsbHBhcGVySXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgY3VzdG9tQ29udGVudC5hcHBlbmRDaGlsZChjdXN0b21HcmlkKTtcbiAgICB9XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9tQ29udGVudCk7XG4gIH1cblxuICAvLyDliJvlu7rkuIrkvKDpgInpobnljaFcbiAgcHJpdmF0ZSBjcmVhdGVVcGxvYWRUYWIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICB2aWV3VHlwZTogJ2NoYXQnIHwgJ2hvbWUnIHwgJ3NldHRpbmdzJyxcbiAgICBtb2RhbDogSFRNTEVsZW1lbnQsXG4gICAgb25BcHBseVdhbGxwYXBlcjogKCkgPT4gdm9pZCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgdXBsb2FkQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHVwbG9hZENvbnRlbnQuY2xhc3NOYW1lID0gJ3RhYi1jb250ZW50JztcbiAgICB1cGxvYWRDb250ZW50LmRhdGFzZXQudGFiSWQgPSAndXBsb2FkJztcbiAgICB1cGxvYWRDb250ZW50LnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZTsgcGFkZGluZzogMTBweCAwOyc7XG5cbiAgICAvLyDku47mnKzlnLDkuIrkvKDpg6jliIZcbiAgICB0aGlzLmNyZWF0ZUxvY2FsVXBsb2FkU2VjdGlvbih1cGxvYWRDb250ZW50LCB2aWV3VHlwZSwgbW9kYWwsIG9uQXBwbHlXYWxscGFwZXIpO1xuXG4gICAgLy8g5LuOVVJM5re75Yqg6YOo5YiGXG4gICAgdGhpcy5jcmVhdGVVcmxVcGxvYWRTZWN0aW9uKHVwbG9hZENvbnRlbnQsIHZpZXdUeXBlLCBtb2RhbCwgb25BcHBseVdhbGxwYXBlcik7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodXBsb2FkQ29udGVudCk7XG4gIH1cblxuICAvLyDmt7vliqDpopzoibLpgInmi6nlmahcbiAgcHJpdmF0ZSBhZGRDb2xvclBpY2tlcihcbiAgICBzb2xpZENvbnRlbnQ6IEhUTUxFbGVtZW50LFxuICAgIHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLFxuICAgIG1vZGFsOiBIVE1MRWxlbWVudCxcbiAgICBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBjb2xvclBpY2tlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbG9yUGlja2VyQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgcGFkZGluZy10b3A6IDE1cHg7XG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgJHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnIzNjM2MzYycgOiAnI2VlZSd9O1xuICAgIGA7XG5cbiAgICBjb25zdCBjb2xvclBpY2tlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbG9yUGlja2VyTGFiZWwudGV4dENvbnRlbnQgPSAn6Ieq5a6a5LmJ6aKc6ImyOic7XG4gICAgY29sb3JQaWNrZXJMYWJlbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgbWFyZ2luOiAwIDAgMTBweCAwO1xuICAgICAgZm9udC1zaXplOiAwLjlyZW07XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICBgO1xuXG4gICAgY29uc3QgY29sb3JQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbG9yUGlja2VyLnR5cGUgPSAnY29sb3InO1xuICAgIGNvbG9yUGlja2VyLnZhbHVlID0gJyNmZmZmZmYnO1xuICAgIGNvbG9yUGlja2VyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBgO1xuXG4gICAgY29uc3QgY29sb3JOYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbG9yTmFtZUlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgY29sb3JOYW1lSW5wdXQucGxhY2Vob2xkZXIgPSAn6aKc6Imy5ZCN56ewICjlj6/pgIkpJztcbiAgICBjb2xvck5hbWVJbnB1dC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYDtcblxuICAgIGNvbnN0IGFkZENvbG9yQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWRkQ29sb3JCdG4udGV4dENvbnRlbnQgPSAn5re75Yqg5q2k6aKc6ImyJztcbiAgICBhZGRDb2xvckJ0bi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmx1ZSk7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGA7XG5cbiAgICBhZGRDb2xvckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JQaWNrZXIudmFsdWU7XG4gICAgICBjb25zdCBuYW1lID0gY29sb3JOYW1lSW5wdXQudmFsdWUudHJpbSgpIHx8IGDpopzoibIgJHtjb2xvcn1gO1xuXG4gICAgICBjb25zdCBuZXdXYWxscGFwZXIgPSB0aGlzLndhbGxwYXBlck1hbmFnZXIuY3JlYXRlU29saWRDb2xvcldhbGxwYXBlcihjb2xvciwgbmFtZSk7XG5cbiAgICAgIGlmIChuZXdXYWxscGFwZXIpIHtcbiAgICAgICAgLy8g5bqU55So5paw5aOB57q4XG4gICAgICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5zZXRXYWxscGFwZXIodmlld1R5cGUsIG5ld1dhbGxwYXBlcik7XG4gICAgICAgIG9uQXBwbHlXYWxscGFwZXIoKTtcblxuICAgICAgICAvLyDlhbPpl63mqKHmgIHmoYZcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDmmL7npLrplJnor6/mtojmga9cbiAgICAgICAgYWxlcnQoJ+WIm+W7uue6r+iJsuWjgee6uOWksei0pe+8jOivt+ehruS/neminOiJsuagvOW8j+ato+ehruOAgicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29sb3JQaWNrZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JQaWNrZXJMYWJlbCk7XG4gICAgY29sb3JQaWNrZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JQaWNrZXIpO1xuICAgIGNvbG9yUGlja2VyQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yTmFtZUlucHV0KTtcbiAgICBjb2xvclBpY2tlckNvbnRhaW5lci5hcHBlbmRDaGlsZChhZGRDb2xvckJ0bik7XG5cbiAgICBzb2xpZENvbnRlbnQuYXBwZW5kQ2hpbGQoY29sb3JQaWNrZXJDb250YWluZXIpO1xuICB9XG5cbiAgLy8g5Yib5bu65pys5Zyw5LiK5Lyg6YOo5YiGXG4gIHByaXZhdGUgY3JlYXRlTG9jYWxVcGxvYWRTZWN0aW9uKFxuICAgIHVwbG9hZENvbnRlbnQ6IEhUTUxFbGVtZW50LFxuICAgIHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLFxuICAgIG1vZGFsOiBIVE1MRWxlbWVudCxcbiAgICBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBsb2NhbFVwbG9hZFNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2NhbFVwbG9hZFNlY3Rpb24uc3R5bGUuY3NzVGV4dCA9ICdtYXJnaW4tYm90dG9tOiAyMHB4Oyc7XG5cbiAgICBjb25zdCBsb2NhbFVwbG9hZFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBsb2NhbFVwbG9hZFRpdGxlLnRleHRDb250ZW50ID0gJ+S7juacrOWcsOS4iuS8oCc7XG4gICAgbG9jYWxVcGxvYWRUaXRsZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBtYXJnaW46IDAgMCAxMHB4IDA7XG4gICAgYDtcblxuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgZmlsZUlucHV0LmFjY2VwdCA9ICdpbWFnZS8qJztcbiAgICBmaWxlSW5wdXQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBgO1xuXG4gICAgY29uc3QgdXBsb2FkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdXBsb2FkQnRuLnRleHRDb250ZW50ID0gJ+S4iuS8oOW5tuW6lOeUqCc7XG4gICAgdXBsb2FkQnRuLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWJsdWUpO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBgO1xuXG4gICAgdXBsb2FkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTtcbiAgICAgICAgY29uc3QgbmV3V2FsbHBhcGVyID0gYXdhaXQgdGhpcy53YWxscGFwZXJNYW5hZ2VyLmNyZWF0ZVdhbGxwYXBlckZyb21GaWxlKGZpbGUpO1xuXG4gICAgICAgIGlmIChuZXdXYWxscGFwZXIpIHtcbiAgICAgICAgICAvLyDlupTnlKjmlrDlo4HnurhcbiAgICAgICAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuc2V0V2FsbHBhcGVyKHZpZXdUeXBlLCBuZXdXYWxscGFwZXIpO1xuICAgICAgICAgIG9uQXBwbHlXYWxscGFwZXIoKTtcblxuICAgICAgICAgIC8vIOWFs+mXreaooeaAgeahhlxuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2NhbFVwbG9hZFNlY3Rpb24uYXBwZW5kQ2hpbGQobG9jYWxVcGxvYWRUaXRsZSk7XG4gICAgbG9jYWxVcGxvYWRTZWN0aW9uLmFwcGVuZENoaWxkKGZpbGVJbnB1dCk7XG4gICAgbG9jYWxVcGxvYWRTZWN0aW9uLmFwcGVuZENoaWxkKHVwbG9hZEJ0bik7XG4gICAgdXBsb2FkQ29udGVudC5hcHBlbmRDaGlsZChsb2NhbFVwbG9hZFNlY3Rpb24pO1xuICB9XG5cbiAgLy8g5Yib5bu6VVJM5LiK5Lyg6YOo5YiGXG4gIHByaXZhdGUgY3JlYXRlVXJsVXBsb2FkU2VjdGlvbihcbiAgICB1cGxvYWRDb250ZW50OiBIVE1MRWxlbWVudCxcbiAgICB2aWV3VHlwZTogJ2NoYXQnIHwgJ2hvbWUnIHwgJ3NldHRpbmdzJyxcbiAgICBtb2RhbDogSFRNTEVsZW1lbnQsXG4gICAgb25BcHBseVdhbGxwYXBlcjogKCkgPT4gdm9pZCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgdXJsVXBsb2FkU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHVybFVwbG9hZFNlY3Rpb24uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAke2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLW1vZGUnKSA/ICcjM2MzYzNjJyA6ICcjZWVlJ307XG4gICAgYDtcblxuICAgIGNvbnN0IHVybFVwbG9hZFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICB1cmxVcGxvYWRUaXRsZS50ZXh0Q29udGVudCA9ICfku45VUkzmt7vliqAnO1xuICAgIHVybFVwbG9hZFRpdGxlLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICAgIG1hcmdpbjogMCAwIDEwcHggMDtcbiAgICBgO1xuXG4gICAgY29uc3QgdXJsSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHVybElucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgdXJsSW5wdXQucGxhY2Vob2xkZXIgPSAn6L6T5YWl5Zu+54mHVVJMJztcbiAgICB1cmxJbnB1dC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGA7XG5cbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIG5hbWVJbnB1dC50eXBlID0gJ3RleHQnO1xuICAgIG5hbWVJbnB1dC5wbGFjZWhvbGRlciA9ICflo4HnurjlkI3np7AgKOWPr+mAiSknO1xuICAgIG5hbWVJbnB1dC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGA7XG5cbiAgICBjb25zdCBhZGRVcmxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRVcmxCdG4udGV4dENvbnRlbnQgPSAn5re75Yqg5bm25bqU55SoJztcbiAgICBhZGRVcmxCdG4uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmx1ZSk7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGA7XG5cbiAgICBhZGRVcmxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1cmwgPSB1cmxJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCBuYW1lID0gbmFtZUlucHV0LnZhbHVlLnRyaW0oKSB8fCAnVVJM5aOB57q4JztcblxuICAgICAgaWYgKHVybCkge1xuICAgICAgICBjb25zdCBuZXdXYWxscGFwZXIgPSBhd2FpdCB0aGlzLndhbGxwYXBlck1hbmFnZXIuY3JlYXRlV2FsbHBhcGVyRnJvbVVybCh1cmwsIG5hbWUpO1xuXG4gICAgICAgIGlmIChuZXdXYWxscGFwZXIpIHtcbiAgICAgICAgICAvLyDlupTnlKjmlrDlo4HnurhcbiAgICAgICAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuc2V0V2FsbHBhcGVyKHZpZXdUeXBlLCBuZXdXYWxscGFwZXIpO1xuICAgICAgICAgIG9uQXBwbHlXYWxscGFwZXIoKTtcblxuICAgICAgICAgIC8vIOWFs+mXreaooeaAgeahhlxuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KCfml6DmlYjnmoRVUkzjgILor7fovpPlhaXmnInmlYjnmoTlm77niYdVUkzjgIInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXJsVXBsb2FkU2VjdGlvbi5hcHBlbmRDaGlsZCh1cmxVcGxvYWRUaXRsZSk7XG4gICAgdXJsVXBsb2FkU2VjdGlvbi5hcHBlbmRDaGlsZCh1cmxJbnB1dCk7XG4gICAgdXJsVXBsb2FkU2VjdGlvbi5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xuICAgIHVybFVwbG9hZFNlY3Rpb24uYXBwZW5kQ2hpbGQoYWRkVXJsQnRuKTtcbiAgICB1cGxvYWRDb250ZW50LmFwcGVuZENoaWxkKHVybFVwbG9hZFNlY3Rpb24pO1xuICB9XG5cbiAgLy8g5Yib5bu65aOB57q46aG5XG4gIHByaXZhdGUgY3JlYXRlV2FsbHBhcGVySXRlbShcbiAgICB3YWxscGFwZXI6IFdhbGxwYXBlcixcbiAgICB2aWV3VHlwZTogJ2NoYXQnIHwgJ2hvbWUnIHwgJ3NldHRpbmdzJyxcbiAgICBzaG93RGVsZXRlQnV0dG9uOiBib29sZWFuLFxuICAgIG1vZGFsOiBIVE1MRWxlbWVudCxcbiAgICBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkLFxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGl0ZW0uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgYm94LXNoYWRvdyAwLjJzIGVhc2U7XG4gICAgYDtcblxuICAgIC8vIOmihOiniFxuICAgIGNvbnN0IHByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcmV2aWV3LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGA7XG5cbiAgICBpZiAod2FsbHBhcGVyLnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgIC8vIOehruS/nee6r+iJsuWjgee6uOmihOiniOato+ehrlxuICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnbm9uZSc7XG4gICAgICBwcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHdhbGxwYXBlci52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHt3YWxscGFwZXIudmFsdWV9XCIpYDtcbiAgICAgIHByZXZpZXcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInO1xuICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnY2VudGVyJztcbiAgICB9XG5cbiAgICAvLyDlkI3np7BcbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmFtZS50ZXh0Q29udGVudCA9IHdhbGxwYXBlci5uYW1lO1xuICAgIG5hbWUuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAncmdiYSg0MiwgNDIsIDQyLCAwLjkpJyA6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknXG4gICAgICB9O1xuICAgIGA7XG5cbiAgICAvLyDliKDpmaTmjInpkq5cbiAgICBpZiAoc2hvd0RlbGV0ZUJ1dHRvbikge1xuICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gJyZ0aW1lczsnO1xuICAgICAgZGVsZXRlQnRuLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1cHg7XG4gICAgICAgIHJpZ2h0OiA1cHg7XG4gICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuNyk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICBgO1xuXG4gICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAoY29uZmlybSgn56Gu5a6a6KaB5Yig6Zmk6L+Z5Liq5aOB57q45ZCX77yfJykpIHtcbiAgICAgICAgICB0aGlzLndhbGxwYXBlck1hbmFnZXIuZGVsZXRlQ3VzdG9tV2FsbHBhcGVyKHdhbGxwYXBlci5pZCk7XG5cbiAgICAgICAgICAvLyDlpoLmnpzlvZPliY3mraPlnKjkvb/nlKjov5nkuKrlo4HnurjvvIzliJnph43nva7kuLrpu5jorqRcbiAgICAgICAgICBjb25zdCBjdXJyZW50V2FsbHBhcGVyID0gdGhpcy53YWxscGFwZXJNYW5hZ2VyLmdldEN1cnJlbnRXYWxscGFwZXIodmlld1R5cGUpO1xuICAgICAgICAgIGlmIChjdXJyZW50V2FsbHBhcGVyICYmIGN1cnJlbnRXYWxscGFwZXIuaWQgPT09IHdhbGxwYXBlci5pZCkge1xuICAgICAgICAgICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLnNldFdhbGxwYXBlcih2aWV3VHlwZSwgbnVsbCk7XG4gICAgICAgICAgICBvbkFwcGx5V2FsbHBhcGVyKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g56e76Zmk5YWD57SgXG4gICAgICAgICAgaXRlbS5wYXJlbnRFbGVtZW50Py5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICB9XG5cbiAgICAvLyDngrnlh7vlupTnlKjlo4HnurhcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8g56Gu5L+d5aOB57q4566h55CG5Zmo5L2/55So5b2T5YmN5Li76aKY5ZCN56ewXG4gICAgICBjb25zdCBjdXJyZW50VGhlbWUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDdXJyZW50VGhlbWUoKTtcbiAgICAgIHRoaXMud2FsbHBhcGVyTWFuYWdlci5zZXRDdXJyZW50VGhlbWVOYW1lKGN1cnJlbnRUaGVtZS5uYW1lKTtcblxuICAgICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLnNldFdhbGxwYXBlcih2aWV3VHlwZSwgd2FsbHBhcGVyKTtcbiAgICAgIG9uQXBwbHlXYWxscGFwZXIoKTtcblxuICAgICAgLy8g5YWz6Zet5qih5oCB5qGGXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcbiAgICB9KTtcblxuICAgIGl0ZW0uYXBwZW5kQ2hpbGQocHJldmlldyk7XG4gICAgaXRlbS5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgLy8g5Yib5bu65bqV6YOo5oyJ6ZKuXG4gIHByaXZhdGUgY3JlYXRlQm90dG9tQnV0dG9ucyhcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHZpZXdUeXBlOiAnY2hhdCcgfCAnaG9tZScgfCAnc2V0dGluZ3MnLFxuICAgIG1vZGFsOiBIVE1MRWxlbWVudCxcbiAgICBvbkFwcGx5V2FsbHBhcGVyOiAoKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICBwYWRkaW5nLXRvcDogMTVweDtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAke2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLW1vZGUnKSA/ICcjM2MzYzNjJyA6ICcjZWVlJ307XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgcmVzZXRCdG4udGV4dENvbnRlbnQgPSAn5oGi5aSN6buY6K6kJztcbiAgICByZXNldEJ0bi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgICAgYmFja2dyb3VuZDogJHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnIzNjM2MzYycgOiAnI2YxZjVmOSd9O1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGA7XG5cbiAgICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIC8vIOenu+mZpOiHquWumuS5ieWjgee6uOiuvue9ru+8jOWwhuS9v+eUqOS4u+mimOm7mOiupOWjgee6uFxuICAgICAgdGhpcy53YWxscGFwZXJNYW5hZ2VyLnNldFdhbGxwYXBlcih2aWV3VHlwZSwgbnVsbCk7XG4gICAgICBvbkFwcGx5V2FsbHBhcGVyKCk7XG5cbiAgICAgIC8vIOWFs+mXreaooeaAgeahhlxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNsb3NlQnRuLnRleHRDb250ZW50ID0gJ+WFs+mXrSc7XG4gICAgY2xvc2VCdG4uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmx1ZSk7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGA7XG5cbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xuICAgIH0pO1xuXG4gICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNldEJ0bik7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/同层手机/wallpaper-selector.ts\n\n}");
  },
  "./src/同层手机/wechat-home.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initWechatHome: () => (/* binding */ initWechatHome)\n/* harmony export */ });\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialog-manager */ \"./src/同层手机/dialog-manager.ts\");\n\nfunction setupTabs(appController) {\n    const sectionMap = {\n        conv: '#wechat-tab-conv',\n        contacts: '#wechat-tab-contacts',\n        discover: '#wechat-tab-discover',\n        me: '#wechat-tab-me',\n    };\n    const activate = (key) => {\n        $('.wechat-home-section').removeClass('active');\n        $(sectionMap[key]).addClass('active');\n        $('.wechat-tab-btn').removeClass('active');\n        $(`.wechat-tab-btn[data-target=\"${key}\"]`).addClass('active');\n    };\n    $('.wechat-tab-btn')\n        .off('click')\n        .on('click', function () {\n        const target = $(this).data('target') || 'conv';\n        activate(target);\n    });\n    activate('conv');\n}\nfunction fillProfile(appController) {\n    const configManager = appController.configManager;\n    const config = configManager?.getConfig?.();\n    if (config) {\n        const avatarUrl = config.avatars?.user || config.avatars?.char || '';\n        if (avatarUrl) {\n            $('#profile-avatar').css({\n                'background-image': `url(${avatarUrl})`,\n                'background-size': 'cover',\n                'background-position': 'center',\n            });\n        }\n        $('#profile-name').text(appController.getDisplayName('user'));\n        const signature = configManager?.getSavedSignature?.() ||\n            (typeof localStorage !== 'undefined' ? localStorage.getItem('blmx_user_signature') : '') ||\n            '';\n        if (signature) {\n            $('#profile-signature').text(signature);\n        }\n    }\n}\nfunction renderConversations(appController) {\n    const configManager = appController.configManager;\n    const config = configManager?.getConfig?.();\n    const defaultAvatar = config?.avatars?.char ||\n        'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/头像/默认头像.jpg';\n    const conversations = [\n        {\n            id: 'c1',\n            type: 'single',\n            name: appController.getDisplayName('char'),\n            avatar: defaultAvatar,\n            lastMessage: '这里显示最近一条消息摘要...',\n            time: '08:39',\n            unread: 2,\n        },\n        {\n            id: 'g1',\n            type: 'group',\n            name: '群聊示例',\n            avatar: 'https://files.catbox.moe/3j0tpc.jpeg',\n            lastMessage: '群聊最近消息摘要...',\n            time: '昨晚',\n            unread: 0,\n        },\n    ];\n    const $list = $('#conversation-list');\n    $list.empty();\n    if (!conversations.length) {\n        $list.append('<li class=\"conv-item placeholder\">暂无会话，后续展示单聊/群聊</li>');\n        return;\n    }\n    (window._?.each || ((arr, fn) => arr.forEach(fn)))(conversations, renderItem);\n    function renderItem(conv) {\n        const $li = $(`\n      <li class=\"conv-item\" data-conv-id=\"${conv.id}\">\n        <div class=\"conv-avatar\" style=\"background-image: url('${conv.avatar}')\"></div>\n        <div class=\"conv-main\">\n          <div class=\"conv-row\">\n            <span class=\"conv-name\">${conv.name}</span>\n            <span class=\"conv-time\">${conv.time}</span>\n          </div>\n          <div class=\"conv-row\">\n            <span class=\"conv-desc\">${conv.lastMessage}</span>\n            ${conv.unread > 0 ? `<span class=\"conv-unread\">${conv.unread}</span>` : ''}\n          </div>\n        </div>\n      </li>\n    `);\n        $li.on('click', () => {\n            // 进入聊天界面，清零未读\n            $li.find('.conv-unread').remove();\n            conv.unread = 0;\n            appController.navigateTo('wechat');\n        });\n        $list.append($li);\n    }\n}\nfunction renderContacts(appController) {\n    const configManager = appController.configManager;\n    const config = configManager?.getConfig?.();\n    const defaultAvatar = config?.avatars?.user ||\n        'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/头像/默认头像.jpg';\n    const contacts = [\n        { id: 'u1', type: 'single', name: appController.getDisplayName('char'), avatar: defaultAvatar, desc: '好友' },\n        { id: 'g1', type: 'group', name: '群聊示例', avatar: 'https://files.catbox.moe/3j0tpc.jpeg', desc: '群聊' },\n        { id: 'u2', type: 'single', name: '新联系人', avatar: defaultAvatar, desc: '好友占位' },\n    ];\n    const $list = $('#contacts-list');\n    $list.empty();\n    if (!contacts.length) {\n        $list.append('<li class=\"contact-item placeholder\">联系人列表占位</li>');\n        return;\n    }\n    (window._?.each || ((arr, fn) => arr.forEach(fn)))(contacts, renderItem);\n    function renderItem(contact) {\n        const $li = $(`\n      <li class=\"contact-item\" data-contact-id=\"${contact.id}\">\n        <div class=\"conv-avatar\" style=\"background-image: url('${contact.avatar}')\"></div>\n        <div class=\"conv-main\">\n          <div class=\"conv-row\">\n            <span class=\"conv-name\">${contact.name}</span>\n            <span class=\"conv-time\">${contact.type === 'group' ? '群聊' : '好友'}</span>\n          </div>\n          <div class=\"conv-row\">\n            <span class=\"conv-desc\">${contact.desc || ''}</span>\n          </div>\n        </div>\n      </li>\n    `);\n        $li.on('click', () => {\n            appController.navigateTo('wechat');\n        });\n        $list.append($li);\n    }\n    $('#add-friend-entry')\n        .off('click')\n        .on('click', async () => {\n        await _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance().alert('添加朋友功能占位，后续接入。', '提示');\n    });\n    $('#group-list-entry')\n        .off('click')\n        .on('click', async () => {\n        await _dialog_manager__WEBPACK_IMPORTED_MODULE_0__.DialogManager.getInstance().alert('群聊列表入口占位，后续接入。', '提示');\n    });\n}\nfunction initWechatHome(appController) {\n    setupTabs(appController);\n    fillProfile(appController);\n    renderConversations(appController);\n    renderContacts(appController);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLENBQUM7SUFFTCxDQUFDLENBQUMsbUJBQW1CLENBQUM7U0FDbkIsR0FBRyxDQUFDLE9BQU8sQ0FBQztTQUNaLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDdEIsTUFBTSwwREFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFTSxTQUFTLGNBQWMsQ0FBQyxhQUE0QjtJQUN6RCxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDekIsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzNCLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ25DLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNoQyxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy/lkIzlsYLmiYvmnLovd2VjaGF0LWhvbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwQ29udHJvbGxlciB9IGZyb20gJy4vYXBwLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgRGlhbG9nTWFuYWdlciB9IGZyb20gJy4vZGlhbG9nLW1hbmFnZXInO1xuXG50eXBlIENvbnZlcnNhdGlvblR5cGUgPSAnc2luZ2xlJyB8ICdncm91cCc7XG5cbmludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogQ29udmVyc2F0aW9uVHlwZTtcbiAgbmFtZTogc3RyaW5nO1xuICBhdmF0YXI6IHN0cmluZztcbiAgbGFzdE1lc3NhZ2U6IHN0cmluZztcbiAgdGltZTogc3RyaW5nO1xuICB1bnJlYWQ6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIENvbnRhY3RJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogQ29udmVyc2F0aW9uVHlwZTtcbiAgbmFtZTogc3RyaW5nO1xuICBhdmF0YXI6IHN0cmluZztcbiAgZGVzYz86IHN0cmluZztcbn1cblxuZnVuY3Rpb24gc2V0dXBUYWJzKGFwcENvbnRyb2xsZXI6IEFwcENvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc2VjdGlvbk1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBjb252OiAnI3dlY2hhdC10YWItY29udicsXG4gICAgY29udGFjdHM6ICcjd2VjaGF0LXRhYi1jb250YWN0cycsXG4gICAgZGlzY292ZXI6ICcjd2VjaGF0LXRhYi1kaXNjb3ZlcicsXG4gICAgbWU6ICcjd2VjaGF0LXRhYi1tZScsXG4gIH07XG5cbiAgY29uc3QgYWN0aXZhdGUgPSAoa2V5OiBrZXlvZiB0eXBlb2Ygc2VjdGlvbk1hcCkgPT4ge1xuICAgICQoJy53ZWNoYXQtaG9tZS1zZWN0aW9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoc2VjdGlvbk1hcFtrZXldKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLndlY2hhdC10YWItYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoYC53ZWNoYXQtdGFiLWJ0bltkYXRhLXRhcmdldD1cIiR7a2V5fVwiXWApLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgfTtcblxuICAkKCcud2VjaGF0LXRhYi1idG4nKVxuICAgIC5vZmYoJ2NsaWNrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gKCQodGhpcykuZGF0YSgndGFyZ2V0JykgYXMga2V5b2YgdHlwZW9mIHNlY3Rpb25NYXApIHx8ICdjb252JztcbiAgICAgIGFjdGl2YXRlKHRhcmdldCk7XG4gICAgfSk7XG5cbiAgYWN0aXZhdGUoJ2NvbnYnKTtcbn1cblxuZnVuY3Rpb24gZmlsbFByb2ZpbGUoYXBwQ29udHJvbGxlcjogQXBwQ29udHJvbGxlcikge1xuICBjb25zdCBjb25maWdNYW5hZ2VyID0gKGFwcENvbnRyb2xsZXIgYXMgYW55KS5jb25maWdNYW5hZ2VyO1xuICBjb25zdCBjb25maWcgPSBjb25maWdNYW5hZ2VyPy5nZXRDb25maWc/LigpO1xuICBpZiAoY29uZmlnKSB7XG4gICAgY29uc3QgYXZhdGFyVXJsID0gY29uZmlnLmF2YXRhcnM/LnVzZXIgfHwgY29uZmlnLmF2YXRhcnM/LmNoYXIgfHwgJyc7XG4gICAgaWYgKGF2YXRhclVybCkge1xuICAgICAgJCgnI3Byb2ZpbGUtYXZhdGFyJykuY3NzKHtcbiAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiBgdXJsKCR7YXZhdGFyVXJsfSlgLFxuICAgICAgICAnYmFja2dyb3VuZC1zaXplJzogJ2NvdmVyJyxcbiAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiAnY2VudGVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICAkKCcjcHJvZmlsZS1uYW1lJykudGV4dChhcHBDb250cm9sbGVyLmdldERpc3BsYXlOYW1lKCd1c2VyJykpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9XG4gICAgICBjb25maWdNYW5hZ2VyPy5nZXRTYXZlZFNpZ25hdHVyZT8uKCkgfHxcbiAgICAgICh0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdibG14X3VzZXJfc2lnbmF0dXJlJykgOiAnJykgfHxcbiAgICAgICcnO1xuICAgIGlmIChzaWduYXR1cmUpIHtcbiAgICAgICQoJyNwcm9maWxlLXNpZ25hdHVyZScpLnRleHQoc2lnbmF0dXJlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyQ29udmVyc2F0aW9ucyhhcHBDb250cm9sbGVyOiBBcHBDb250cm9sbGVyKSB7XG4gIGNvbnN0IGNvbmZpZ01hbmFnZXIgPSAoYXBwQ29udHJvbGxlciBhcyBhbnkpLmNvbmZpZ01hbmFnZXI7XG4gIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ01hbmFnZXI/LmdldENvbmZpZz8uKCk7XG4gIGNvbnN0IGRlZmF1bHRBdmF0YXIgPVxuICAgIGNvbmZpZz8uYXZhdGFycz8uY2hhciB8fFxuICAgICdodHRwczovL2dpdGd1ZC5pby9sb2xvZGVzdS9sb2xvYmFieXR1dG9yaWFsLy0vcmF3L21hc3Rlci9sb2xvZ2FtZS/ntKDmnZAv5aS05YOPL+m7mOiupOWktOWDjy5qcGcnO1xuXG4gIGNvbnN0IGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbkl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICBpZDogJ2MxJyxcbiAgICAgIHR5cGU6ICdzaW5nbGUnLFxuICAgICAgbmFtZTogYXBwQ29udHJvbGxlci5nZXREaXNwbGF5TmFtZSgnY2hhcicpLFxuICAgICAgYXZhdGFyOiBkZWZhdWx0QXZhdGFyLFxuICAgICAgbGFzdE1lc3NhZ2U6ICfov5nph4zmmL7npLrmnIDov5HkuIDmnaHmtojmga/mkZjopoEuLi4nLFxuICAgICAgdGltZTogJzA4OjM5JyxcbiAgICAgIHVucmVhZDogMixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnZzEnLFxuICAgICAgdHlwZTogJ2dyb3VwJyxcbiAgICAgIG5hbWU6ICfnvqTogYrnpLrkvosnLFxuICAgICAgYXZhdGFyOiAnaHR0cHM6Ly9maWxlcy5jYXRib3gubW9lLzNqMHRwYy5qcGVnJyxcbiAgICAgIGxhc3RNZXNzYWdlOiAn576k6IGK5pyA6L+R5raI5oGv5pGY6KaBLi4uJyxcbiAgICAgIHRpbWU6ICfmmKjmmZonLFxuICAgICAgdW5yZWFkOiAwLFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgJGxpc3QgPSAkKCcjY29udmVyc2F0aW9uLWxpc3QnKTtcbiAgJGxpc3QuZW1wdHkoKTtcblxuICBpZiAoIWNvbnZlcnNhdGlvbnMubGVuZ3RoKSB7XG4gICAgJGxpc3QuYXBwZW5kKCc8bGkgY2xhc3M9XCJjb252LWl0ZW0gcGxhY2Vob2xkZXJcIj7mmoLml6DkvJror53vvIzlkI7nu63lsZXnpLrljZXogYov576k6IGKPC9saT4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAoKHdpbmRvdyBhcyBhbnkpLl8/LmVhY2ggfHwgKChhcnI6IENvbnZlcnNhdGlvbkl0ZW1bXSwgZm46IGFueSkgPT4gYXJyLmZvckVhY2goZm4pKSkoY29udmVyc2F0aW9ucywgcmVuZGVySXRlbSk7XG5cbiAgZnVuY3Rpb24gcmVuZGVySXRlbShjb252OiBDb252ZXJzYXRpb25JdGVtKSB7XG4gICAgY29uc3QgJGxpID0gJChgXG4gICAgICA8bGkgY2xhc3M9XCJjb252LWl0ZW1cIiBkYXRhLWNvbnYtaWQ9XCIke2NvbnYuaWR9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb252LWF2YXRhclwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2NvbnYuYXZhdGFyfScpXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb252LW1haW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udi1yb3dcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29udi1uYW1lXCI+JHtjb252Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb252LXRpbWVcIj4ke2NvbnYudGltZX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnYtcm93XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnYtZGVzY1wiPiR7Y29udi5sYXN0TWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICAke2NvbnYudW5yZWFkID4gMCA/IGA8c3BhbiBjbGFzcz1cImNvbnYtdW5yZWFkXCI+JHtjb252LnVucmVhZH08L3NwYW4+YCA6ICcnfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgYCk7XG5cbiAgICAkbGkub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8g6L+b5YWl6IGK5aSp55WM6Z2i77yM5riF6Zu25pyq6K+7XG4gICAgICAkbGkuZmluZCgnLmNvbnYtdW5yZWFkJykucmVtb3ZlKCk7XG4gICAgICBjb252LnVucmVhZCA9IDA7XG4gICAgICBhcHBDb250cm9sbGVyLm5hdmlnYXRlVG8oJ3dlY2hhdCcpO1xuICAgIH0pO1xuXG4gICAgJGxpc3QuYXBwZW5kKCRsaSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyQ29udGFjdHMoYXBwQ29udHJvbGxlcjogQXBwQ29udHJvbGxlcikge1xuICBjb25zdCBjb25maWdNYW5hZ2VyID0gKGFwcENvbnRyb2xsZXIgYXMgYW55KS5jb25maWdNYW5hZ2VyO1xuICBjb25zdCBjb25maWcgPSBjb25maWdNYW5hZ2VyPy5nZXRDb25maWc/LigpO1xuICBjb25zdCBkZWZhdWx0QXZhdGFyID1cbiAgICBjb25maWc/LmF2YXRhcnM/LnVzZXIgfHxcbiAgICAnaHR0cHM6Ly9naXRndWQuaW8vbG9sb2Rlc3UvbG9sb2JhYnl0dXRvcmlhbC8tL3Jhdy9tYXN0ZXIvbG9sb2dhbWUv57Sg5p2QL+WktOWDjy/pu5jorqTlpLTlg48uanBnJztcblxuICBjb25zdCBjb250YWN0czogQ29udGFjdEl0ZW1bXSA9IFtcbiAgICB7IGlkOiAndTEnLCB0eXBlOiAnc2luZ2xlJywgbmFtZTogYXBwQ29udHJvbGxlci5nZXREaXNwbGF5TmFtZSgnY2hhcicpLCBhdmF0YXI6IGRlZmF1bHRBdmF0YXIsIGRlc2M6ICflpb3lj4snIH0sXG4gICAgeyBpZDogJ2cxJywgdHlwZTogJ2dyb3VwJywgbmFtZTogJ+e+pOiBiuekuuS+iycsIGF2YXRhcjogJ2h0dHBzOi8vZmlsZXMuY2F0Ym94Lm1vZS8zajB0cGMuanBlZycsIGRlc2M6ICfnvqTogYonIH0sXG4gICAgeyBpZDogJ3UyJywgdHlwZTogJ3NpbmdsZScsIG5hbWU6ICfmlrDogZTns7vkuronLCBhdmF0YXI6IGRlZmF1bHRBdmF0YXIsIGRlc2M6ICflpb3lj4vljaDkvY0nIH0sXG4gIF07XG5cbiAgY29uc3QgJGxpc3QgPSAkKCcjY29udGFjdHMtbGlzdCcpO1xuICAkbGlzdC5lbXB0eSgpO1xuXG4gIGlmICghY29udGFjdHMubGVuZ3RoKSB7XG4gICAgJGxpc3QuYXBwZW5kKCc8bGkgY2xhc3M9XCJjb250YWN0LWl0ZW0gcGxhY2Vob2xkZXJcIj7ogZTns7vkurrliJfooajljaDkvY08L2xpPicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gICgod2luZG93IGFzIGFueSkuXz8uZWFjaCB8fCAoKGFycjogQ29udGFjdEl0ZW1bXSwgZm46IGFueSkgPT4gYXJyLmZvckVhY2goZm4pKSkoY29udGFjdHMsIHJlbmRlckl0ZW0pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlckl0ZW0oY29udGFjdDogQ29udGFjdEl0ZW0pIHtcbiAgICBjb25zdCAkbGkgPSAkKGBcbiAgICAgIDxsaSBjbGFzcz1cImNvbnRhY3QtaXRlbVwiIGRhdGEtY29udGFjdC1pZD1cIiR7Y29udGFjdC5pZH1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnYtYXZhdGFyXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7Y29udGFjdC5hdmF0YXJ9JylcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnYtbWFpblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb252LXJvd1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb252LW5hbWVcIj4ke2NvbnRhY3QubmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnYtdGltZVwiPiR7Y29udGFjdC50eXBlID09PSAnZ3JvdXAnID8gJ+e+pOiBiicgOiAn5aW95Y+LJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnYtcm93XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnYtZGVzY1wiPiR7Y29udGFjdC5kZXNjIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIGApO1xuXG4gICAgJGxpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGFwcENvbnRyb2xsZXIubmF2aWdhdGVUbygnd2VjaGF0Jyk7XG4gICAgfSk7XG5cbiAgICAkbGlzdC5hcHBlbmQoJGxpKTtcbiAgfVxuXG4gICQoJyNhZGQtZnJpZW5kLWVudHJ5JylcbiAgICAub2ZmKCdjbGljaycpXG4gICAgLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IERpYWxvZ01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hbGVydCgn5re75Yqg5pyL5Y+L5Yqf6IO95Y2g5L2N77yM5ZCO57ut5o6l5YWl44CCJywgJ+aPkOekuicpO1xuICAgIH0pO1xuXG4gICQoJyNncm91cC1saXN0LWVudHJ5JylcbiAgICAub2ZmKCdjbGljaycpXG4gICAgLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IERpYWxvZ01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hbGVydCgn576k6IGK5YiX6KGo5YWl5Y+j5Y2g5L2N77yM5ZCO57ut5o6l5YWl44CCJywgJ+aPkOekuicpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFdlY2hhdEhvbWUoYXBwQ29udHJvbGxlcjogQXBwQ29udHJvbGxlcikge1xuICBzZXR1cFRhYnMoYXBwQ29udHJvbGxlcik7XG4gIGZpbGxQcm9maWxlKGFwcENvbnRyb2xsZXIpO1xuICByZW5kZXJDb252ZXJzYXRpb25zKGFwcENvbnRyb2xsZXIpO1xuICByZW5kZXJDb250YWN0cyhhcHBDb250cm9sbGVyKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/同层手机/wechat-home.ts\n\n}");
  }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  var cachedModule = __webpack_module_cache__[moduleId];
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  if (__webpack_modules__[moduleId] === undefined) {
    var e = new Error("Cannot find module '" + moduleId + "'");
    e.code = "MODULE_NOT_FOUND";
    throw e;
  }
  var module = __webpack_module_cache__[moduleId] = {
    exports: {}
  };
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  return module.exports;
}

(() => {
  __webpack_require__.d = (exports, definition) => {
    for (var key in definition) {
      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
        Object.defineProperty(exports, key, {
          enumerable: true,
          get: definition[key]
        });
      }
    }
  };
})();

(() => {
  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

(() => {
  __webpack_require__.r = exports => {
    if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module"
      });
    }
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
  };
})();

var __webpack_exports__ = __webpack_require__("./src/同层手机/index.ts");</script><style>/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-551.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.104.1/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.2_webpack@5.104.1/node_modules/sass-loader/dist/cjs.js!./src/同层手机/styles/main.scss ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-551.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.104.1/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.2_webpack@5.104.1/node_modules/sass-loader/dist/cjs.js!./src/同层手机/styles/main.scss (1) ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-551.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.104.1/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.2_webpack@5.104.1/node_modules/sass-loader/dist/cjs.js!./src/同层手机/styles/main.scss (2) ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@charset "UTF-8";@font-face {font-family:"MyCustomFont";src:url("https://files.catbox.moe/er4wsg.ttf") format("truetype");font-display:swap;font-weight:normal;font-style:normal}:root{--text-color:#ffffff;--primary-blue:#72adf3;--light-blue:#a8cbeb;--ultra-light-blue:#e8f4fd;--blue-gradient-start:#accef2;--blue-gradient-end:#98c2f5;--soft-blue:#b8d4f0;--deep-blue:#2c5282;--wechat-green-icon:var(--primary-blue);--wechat-green-bubble:var(--light-blue);--wechat-bg:var(--ultra-light-blue);--link-color:var(--primary-blue);--footer-height:2.8125rem;--panel-height:14.0625rem;--sticker-size:120px;--bubble-shadow:0 2px 8px rgba(74,144,226,0.15);--text-primary:rgb(139,162,186);--text-secondary:#64748b;--border-color:#cbd5e1;--header-bg:linear-gradient(135deg,#f8faff 0%,#eef4ff 100%);--wechat-bubble-them-bg:#ffffff;--wechat-bubble-me-bg:var(--light-blue);--wechat-bubble-them-text:#333333;--wechat-bubble-me-text:#ffffff;--status-bar-color:#428af2;--checkbox-bg-unchecked:#ffffff;--checkbox-border-unchecked:var(--border-color);--checkbox-border-checked:var(--primary-blue);--checkbox-text-unchecked:var(--text-primary);--checkbox-shadow-unchecked:0 2px 6px var(--shadow-color-rgba);--checkbox-shadow-checked:0 4px 12px var(--shadow-color-rgba);--checkbox-hover-bg:var(--ultra-light-blue);--dynamic-island-color:#a0c4f4;--app-bg-color:#ffffff;--settings-bg-color:#f2f2f7;--settings-card-bg-color:#ffffff;--input-bg:#ffffff;--dialog-border-radius:1rem;--input-border-radius:0.5rem;--button-border-radius:0.5rem;--element-border-radius:0.5rem;--small-border-radius:0.25rem;--shadow-color:#4a90e2;--shadow-color-rgba:rgba(74,144,226,0.3);--settings-icon-color:#999999;--primary-gradient-light:#accef2;--primary-gradient-dark:#98c2f5;--shadow-r:74;--shadow-g:144;--shadow-b:226}@keyframes fadeIn{to{opacity:1}}@keyframes slideInUp{to{transform:translateY(0);opacity:1}}@keyframes slideInDown{to{transform:translateY(0);opacity:1}}@keyframes slideInLeft{to{transform:translateX(0);opacity:1}}@keyframes slideInRight{to{transform:translateX(0);opacity:1}}html{font-size:16px}@media (max-width:360px){html{font-size:4.4444444444vw}}body{margin:0;padding:0.25rem;min-height:100vh;display:flex;justify-content:center;align-items:center;box-sizing:border-box;background:transparent;font-family:"MyCustomFont","Noto Sans SC",-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif}body.force-font-refresh{transform:translateZ(0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);transition-timing-function:ease}.performance-optimized{will-change:transform,opacity;transform:translateZ(0);backface-visibility:hidden}@media (prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes slideIn{from{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}@keyframes messageSlideIn{from{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}.fade-out{animation:fadeOut 0.5s forwards}.new-message{animation:slideIn 0.5s cubic-bezier(0.22,0.61,0.36,1)}.hidden{display:none !important}.invisible{visibility:hidden;opacity:0}.visible{visibility:visible;opacity:1}a,button,div[onclick],span[onclick],.clickable,.btn,.dialog-btn,.app-icon,.message-bubble,.contact-item,.moment-item,.sticker-item,.checkbox-btn{-webkit-tap-highlight-color:rgba(0,0,0,0) !important;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.phone-frame{max-width:360px;width:100%;padding:0.6rem;background:var(--phoneFrame,var(--primary-blue));border-radius:3.125rem;position:relative;box-shadow:0 15px 20px var(--shadow-color-rgba),0 8px 20px var(--shadow-color-rgba),0 3px 8px rgba(0,0,0,0.1),inset 0 1px 0 rgba(255,255,255,0.5),inset 0 -1px 0 rgba(255,255,255,0.2),0 5px var(--shadow-color-rgba);transition:all 0.2s ease;transition:box-shadow 0.3s ease,background 0.3s ease}.phone-frame::before{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;border-radius:3.125rem;background:linear-gradient(45deg,var(--primary-blue),var(--blue-gradient-end),var(--blue-gradient-start),var(--primary-blue));background-size:400% 400%;animation:gradientFlow 3s ease infinite;z-index:-1}@keyframes gradientFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}@media (max-width:480px),(prefers-reduced-motion:reduce){.phone-frame::before{animation:none !important;background:var(--primary-blue) !important}}.phone-screen{height:48.75rem;border-radius:2.8rem;overflow:hidden;position:relative;display:flex;flex-direction:column;background-color:var(--wechat-bg);box-shadow:inset 0 0 0 1px rgba(0,0,0,0.08),inset 0 0 15px rgba(0,0,0,0.03)}.phone-screen::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:2.25rem;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),inset 0 -1px 0 rgba(0,0,0,0.1),inset 1px 0 0 rgba(255,255,255,0.1),inset -1px 0 0 rgba(0,0,0,0.1);pointer-events:none;z-index:1000}.dynamic-island{position:absolute;top:0.625rem;left:50%;transform:translateX(-50%);width:8.4375rem;height:2rem;background:var(--dynamic-island-color);border-radius:1rem;z-index:100;cursor:pointer;transition:all 0.2s ease}.dynamic-island:hover{transform:translateX(-50%) scale(1.05);box-shadow:0 2px 8px var(--shadow-color-rgba)}.dynamic-island.generating-active{box-shadow:0 0 15px var(--shadow-color-rgba);animation:pulse-generating 1.5s infinite ease-in-out}.dynamic-island.fullscreen-active{animation:pulse-expand 0.6s ease-in-out}.dynamic-island.fullscreen-inactive{animation:pulse-contract 0.6s ease-in-out}@keyframes pulse-generating{0%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.05);box-shadow:0 0 20px var(--shadow-color-rgba)}100%{transform:translateX(-50%) scale(1)}}@keyframes pulse-expand{0%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 rgba(0,0,0,0)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 20px var(--shadow-color-rgba)}100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 rgba(0,0,0,0)}}@keyframes pulse-contract{0%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 rgba(0,0,0,0)}50%{transform:translateX(-50%) scale(0.8);box-shadow:0 0 20px var(--shadow-color-rgba)}100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 rgba(0,0,0,0)}}.generating-indicator{display:flex;justify-content:center;align-items:center;height:100%;gap:5px}.generating-dot{width:6px;height:6px;background-color:white;border-radius:50%;opacity:0.8;animation:generating-dot-pulse 1.4s infinite ease-in-out}.generating-dot:nth-child(1){animation-delay:0s}.generating-dot:nth-child(2){animation-delay:0.2s}.generating-dot:nth-child(3){animation-delay:0.4s}@keyframes generating-dot-pulse{0%,100%{transform:scale(1);opacity:0.6}50%{transform:scale(1.5);opacity:1}}:fullscreen body,:-webkit-full-screen body,:-moz-full-screen body,:-ms-fullscreen body{background:var(--background-color);margin:0;padding:0;overflow:hidden;display:flex;align-items:center;justify-content:center;min-height:100vh}@media (min-width:1920px) and (min-height:1080px){:fullscreen .phone-frame,:-webkit-full-screen .phone-frame,:-moz-full-screen .phone-frame,:-ms-fullscreen .phone-frame{width:max(650px,(100vh - 2rem) * 0.46);max-width:900px}}@media (max-width:360px){:fullscreen .phone-frame,:-webkit-full-screen .phone-frame,:-moz-full-screen .phone-frame,:-ms-fullscreen .phone-frame{margin:0;width:100%;height:100%;max-width:100%;max-height:100%}}:fullscreen .phone-frame::before,:-webkit-full-screen .phone-frame::before,:-moz-full-screen .phone-frame::before,:-ms-fullscreen .phone-frame::before{border-radius:3.125rem}@media (max-width:360px){:fullscreen .phone-frame::before,:-webkit-full-screen .phone-frame::before,:-moz-full-screen .phone-frame::before,:-ms-fullscreen .phone-frame::before{border-radius:1.5rem}}.phone-status-bar{position:absolute;top:0.625rem;left:0;right:0;height:2rem;z-index:102;display:flex;justify-content:space-between;align-items:center;padding:0 1.5rem;pointer-events:none}.status-left{display:flex;align-items:center;gap:0.4rem;color:var(--status-bar-color);font-size:0.9em;font-weight:600}#current-time{display:inline-flex;align-items:center;height:1em;line-height:1}.status-right{display:flex;align-items:center;gap:0.4rem;color:var(--status-bar-color);font-size:0.9em;font-weight:600}.moon-icon,.signal-bars,.wifi-icon,.battery-icon{font-size:0.85em;display:flex;align-items:center;justify-content:center;height:1em;line-height:1}.moon-icon{transform:translateY(0.5px)}#hidden-send-trigger{position:absolute;top:0.625rem;right:1rem;width:80px;height:2rem;z-index:103;cursor:pointer}#delete-mode-trigger{position:absolute;top:0.625rem;left:1rem;width:60px;height:2rem;z-index:103;cursor:pointer}#wechat-view{background-image:url("https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色_1.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;height:100%}.wechat-header{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.75rem;background:var(--header-bg);border-bottom:1px solid var(--border-color);padding-top:2.8125rem;position:relative;z-index:10}.wechat-header .back-btn,.wechat-header .options-btn{font-size:1.2em;color:var(--primary-blue);cursor:pointer;transition:all 0.2s ease}.wechat-header .back-btn:hover,.wechat-header .options-btn:hover{color:var(--deep-blue)}.wechat-header .options-btn{position:relative;display:inline-block}.wechat-header .contact-name{font-weight:600;background:var(--primary-blue);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:1em;cursor:pointer;left:50%}.notification-dot{position:absolute;top:-4px;right:-4px;width:8px;height:8px;background-color:#ff3b30;border-radius:50%;border:1px solid #ffffff}.wechat-body{flex:1 1 auto;overflow-y:auto;padding:0.9375rem 0.5rem;overflow-x:hidden;-webkit-overflow-scrolling:touch}.message-row{display:flex;margin-bottom:1.125rem;align-items:flex-start}.message-row.me{justify-content:flex-end}.message-row.new-message{animation:messageSlideIn 0.5s cubic-bezier(0.22,0.61,0.36,1)}.message-row.fade-out{animation:fadeOut 0.5s forwards}.message-row.long-press-active{transform:scale(0.95);transition:all 0.15s ease-out;z-index:100}.message-row.long-press-active .message-bubble{box-shadow:0 0 0 3px var(--primary-blue),0 8px 25px rgba(114,173,243,0.4),inset 0 0 20px rgba(114,173,243,0.1);background:linear-gradient(135deg,rgba(114,173,243,0.15) 0%,rgba(114,173,243,0.08) 100%);animation:longPressPulse 0.6s ease-in-out;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none}.message-row.me.long-press-active::after{content:"🔄 松开撤回";position:absolute;top:-3rem;right:0;background:linear-gradient(135deg,rgba(0,0,0,0.9) 0%,rgba(0,0,0,0.8) 100%);color:white;padding:0.5rem 0.75rem;border-radius:0.5rem;font-size:0.8rem;font-weight:600;white-space:nowrap;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,0.3);animation:longPressTooltip 0.3s cubic-bezier(0.68,-0.55,0.265,1.55)}.message-row.me.long-press-active::after::before{content:"";position:absolute;bottom:-0.25rem;right:1rem;width:0;height:0;border-left:0.25rem solid transparent;border-right:0.25rem solid transparent;border-top:0.25rem solid rgba(0,0,0,0.9)}.message-row.double-click-active{transform:scale(1.05);transition:all 0.1s ease-out;z-index:100}.message-row.double-click-active .message-bubble{box-shadow:0 0 0 2px var(--primary-blue),0 4px 15px rgba(114,173,243,0.3);background:linear-gradient(135deg,rgba(114,173,243,0.1) 0%,rgba(114,173,243,0.05) 100%);animation:doubleClickPulse 0.2s ease-in-out}.message-row.me.double-click-active::after{content:"🔄 双击撤回";position:absolute;top:-2.5rem;right:0;background:linear-gradient(135deg,rgba(114,173,243,0.95) 0%,rgba(114,173,243,0.85) 100%);color:white;padding:0.4rem 0.6rem;border-radius:0.4rem;font-size:0.75rem;font-weight:600;white-space:nowrap;z-index:1000;box-shadow:0 2px 8px rgba(114,173,243,0.4);animation:doubleClickTooltip 0.2s ease-out}.message-row.me.double-click-active::after::before{content:"";position:absolute;bottom:-0.2rem;right:0.8rem;width:0;height:0;border-left:0.2rem solid transparent;border-right:0.2rem solid transparent;border-top:0.2rem solid rgba(114,173,243,0.95)}@keyframes longPressPulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}@keyframes longPressTooltip{0%{opacity:0;transform:translateY(0.5rem) scale(0.8)}100%{opacity:1;transform:translateY(0) scale(1)}}@keyframes messageSlideIn{from{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}.message-avatar{width:2.25rem;height:2.25rem;border-radius:50%;flex-shrink:0;object-fit:cover;background-color:#ccc;cursor:pointer}.message-row.them .message-avatar{margin-right:0.625rem}.message-row.me .message-avatar{margin-left:0.625rem}.timestamp-row{text-align:center;margin:0.5rem 0}.timestamp-text{display:inline-block;background:linear-gradient(135deg,var(--soft-blue) 0%,var(--light-blue) 100%);color:#ffffff;font-size:0.7em;padding:0.3rem 0.8rem;border-radius:1rem;font-weight:500;box-shadow:0 2px 6px var(--shadow-color-rgba)}.typing-indicator{display:flex;margin-bottom:1.125rem;align-items:flex-start}.typing-indicator .message-avatar{margin-right:0.625rem;width:2.25rem;height:2.25rem;border-radius:50%;flex-shrink:0}.typing-indicator .message-bubble{display:flex;align-items:center;justify-content:center;padding:0.75rem 1rem;background:linear-gradient(135deg,#ffffff 0%,#f8faff 100%);color:var(--text-primary);border:1px solid var(--border-color);border-bottom-left-radius:0.4rem;box-shadow:var(--bubble-shadow)}.typing-dot{display:inline-block;width:8px;height:8px;border-radius:50%;background-color:var(--text-secondary);margin:0 2px;animation:typing-bounce 1.4s infinite ease-in-out both}.typing-dot:nth-child(1){animation-delay:-0.32s}.typing-dot:nth-child(2){animation-delay:-0.16s}.typing-dot:nth-child(3){animation-delay:0s}@keyframes typing-bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.message-content-container{display:flex;flex-direction:column}.message-row.me .message-content-container{align-items:flex-end}.message-row.them .message-content-container{align-items:flex-start}#wechat-view.delete-mode .wechat-body{padding-left:25px;padding-right:25px}#wechat-view.delete-mode .message-row,#wechat-view.delete-mode .timestamp-row,#wechat-view.delete-mode .event-log-row{cursor:pointer;position:relative}#wechat-view.delete-mode [data-log-index]::before{content:"×";position:absolute;left:-22px;top:50%;transform:translateY(-50%);background:linear-gradient(135deg,var(--blue-gradient-start) 0%,var(--primary-blue) 100%);color:white;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:normal;box-shadow:0 2px 4px var(--shadow-color-rgba);transition:all 0.2s ease;z-index:10;text-align:center;font-family:Arial,sans-serif}#wechat-view.delete-mode .message-row.me[data-log-index]::before{left:auto;right:-22px}#wechat-view.delete-mode [data-log-index]:hover::before{transform:translateY(-50%) scale(1.1);box-shadow:0 4px 8px var(--shadow-color-rgba)}.event-log-row{text-align:center;margin:0.5rem 0;width:100%}.event-log-container{display:inline-flex;flex-direction:column;align-items:center;max-width:90%;margin:0 auto}.event-time-text{background:linear-gradient(135deg,var(--soft-blue) 0%,var(--light-blue) 100%);color:#ffffff;font-weight:500;box-shadow:0 2px 6px var(--shadow-color-rgba);display:inline-flex;align-items:center;justify-content:center;font-size:0.7em;padding:0.3rem 0.8rem;border-radius:1rem;-webkit-user-select:none;user-select:none;margin-bottom:0.25rem;position:relative;z-index:2;transition:none}.event-time-text.has-desc{position:relative;padding-right:1.55em;display:flex;align-items:center}.event-time-text.has-desc::after{content:"\f0d7";font-family:"Font Awesome 6 Free";font-weight:900;position:absolute;right:0.4rem;font-size:0.75em;opacity:0.9;margin-top:0;transform:translateY(-1px);transition:transform 0.3s ease}.event-time-text.clickable{cursor:pointer;position:relative}.event-time-text.clickable:hover{box-shadow:0 3px 8px var(--shadow-color-rgba)}.event-time-text.clickable:hover::after{opacity:1}.event-time-text.clickable::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:1rem;box-shadow:inset 0 0 3px rgba(255,255,255,0.35);opacity:0.6;transition:opacity 0.2s ease;pointer-events:none}.event-time-text.clickable:active{transform:scale(0.98);box-shadow:0 1px 4px var(--shadow-color-rgba)}.event-time-text.clickable:active::before{opacity:0.9;box-shadow:inset 0 0 5px rgba(255,255,255,0.7)}.event-time-text.clickable:hover::before{opacity:0.75;box-shadow:inset 0 0 4px rgba(255,255,255,0.5)}.event-time-text.has-desc+.event-description.expanded~.event-time-text.has-desc::after,.event-time-text.has-desc:has(+.event-description.expanded)::after{transform:rotate(180deg) translateY(1px)}.event-description{font-size:0.75em;color:var(--text-secondary);background:rgba(255,255,255,0.9);padding:0.5rem 0.75rem;border-radius:0.5rem;margin-top:0.25rem;width:auto;min-width:-moz-fit-content;min-width:fit-content;max-width:100%;text-align:center;line-height:1.5;box-shadow:0 1px 3px rgba(0,0,0,0.1);display:none;position:relative;z-index:1;white-space:normal;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;overflow:visible;text-overflow:unset}.event-description.expanded{display:block}body[data-theme=custom] .event-description{background:var(--settings-card-bg-color);color:var(--text-primary);border:1px solid var(--border-color);backdrop-filter:blur(2px);box-shadow:0 2px 8px var(--shadow-color-rgba)}body.dark-mode[data-theme=custom] .event-description{background:var(--settings-card-bg-color);color:var(--text-primary);border:1px solid var(--border-color);backdrop-filter:blur(4px);box-shadow:0 2px 8px var(--shadow-color-rgba)}@keyframes doubleClickPulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}@keyframes doubleClickTooltip{0%{opacity:0;transform:translateY(0.3rem) scale(0.9)}100%{opacity:1;transform:translateY(0) scale(1)}}.message-bubble{position:relative;padding:0.75rem 1rem;border-radius:1.2rem;max-width:75%;font-size:0.9em;line-height:1.4;word-wrap:normal;overflow-wrap:break-word;-webkit-user-select:none;user-select:none;box-shadow:var(--bubble-shadow);transition:all 0.2s ease}.message-bubble::after{display:none}.message-bubble img:not(.sticker-img){max-width:10rem;max-height:10rem;display:block;border-radius:0.5rem}.message-row.them .message-bubble{background:linear-gradient(315deg,#f8faff 0%,#ffffff 100%);color:var(--wechat-bubble-them-text);border:1px solid var(--border-color);border-bottom-left-radius:0.4rem}.message-row.me .message-bubble{background:linear-gradient(315deg,var(--blue-gradient-end) 0%,var(--blue-gradient-start) 100%);color:var(--wechat-bubble-me-text);border-bottom-right-radius:0.4rem;box-shadow:0 4px 12px var(--shadow-color-rgba)}.recall-notice-container{display:inline-flex;flex-direction:column;align-items:center}.recall-notice-text{background:linear-gradient(135deg,var(--soft-blue) 0%,var(--light-blue) 100%);color:#ffffff;font-size:0.7em;padding:0.3rem 0.8rem;border-radius:1rem;cursor:pointer;transition:all 0.2s ease}.recall-notice-text:hover{transform:translateY(-1px);box-shadow:0 4px 8px var(--shadow-color-rgba)}.recall-content{color:#888;font-size:0.75em;padding:0;max-height:0;overflow:hidden;transition:max-height 0.3s ease-out,padding 0.3s ease-out}.recall-content.expanded{max-height:6.25rem;padding:0.3125rem 0 0 0}.event-log-row{text-align:center;margin:0.5rem 0}.event-log-container{display:inline-flex;flex-direction:column;align-items:center}.event-time-text{background:linear-gradient(135deg,var(--soft-blue) 0%,var(--light-blue) 100%);color:#ffffff;font-weight:500;box-shadow:0 2px 6px var(--shadow-color-rgba);display:inline-flex;align-items:center;justify-content:center;font-size:0.7em;padding:0.3rem 0.8rem;border-radius:1rem;transition:all 0.2s ease}.event-time-text.blue-theme{box-shadow:0 2px 6px rgba(114,173,243,0.4)}.event-time-text.pink-theme{box-shadow:0 2px 6px rgba(243,114,182,0.4)}.event-time-text.green-theme{box-shadow:0 2px 6px rgba(72,187,120,0.4)}.event-time-text.purple-theme{box-shadow:0 2px 6px rgba(159,122,234,0.4)}.event-time-text.orange-theme{box-shadow:0 2px 6px rgba(237,137,54,0.4)}.event-time-text.system-message{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);padding:0.5rem 1rem;border-radius:1rem;color:white;font-size:0.85em;max-width:80%;text-align:center}.event-time-text.has-desc{cursor:pointer}.message-row .message-bubble.sticker-bubble,.message-row .message-bubble.image-desc-bubble,.message-row .message-bubble.image-url-bubble,.message-row .message-bubble.location-bubble,.message-row .message-bubble.transfer-bubble,.message-row .message-bubble.file-bubble{content:none;background:transparent !important;padding:0;border:none;box-shadow:none}.message-row .message-bubble.location-bubble,.message-row .message-bubble.transfer-bubble,.message-row .message-bubble.file-bubble,.message-row .message-bubble.gift-bubble{width:12.5rem;max-width:12.5rem}.message-row .message-bubble.sticker-bubble img{border-radius:1.2rem}.sticker-container{display:inline-flex;justify-content:center;align-items:center;width:auto;height:auto;max-width:var(--sticker-size);max-height:var(--sticker-size)}.sticker-img{display:block;max-width:100%;max-height:100%;object-fit:contain}.message-bubble.voice-bubble{display:flex;align-items:center;cursor:pointer;min-width:5rem;padding:0.75rem 1rem}.message-row.them .message-bubble.voice-bubble{background:linear-gradient(315deg,#f8faff 0%,#ffffff 100%) !important;border:1px solid var(--border-color) !important}body.dark-mode .message-row.them .message-bubble.voice-bubble{background:linear-gradient(135deg,#3c3c3c 0%,#2c2c2c 100%) !important;border:1px solid var(--border-color) !important;color:#f0f0f0}body.dark-mode .message-row.them .voice-bubble .voice-icon{color:var(--light-blue)}.voice-bubble .voice-icon{font-size:1.1em;margin:0 0.5rem}.message-row.them .voice-bubble .voice-icon{color:var(--primary-blue);transform:rotate(90deg)}.message-row.me .voice-bubble .voice-icon{color:var(--wechat-bubble-me-text);transform:rotate(270deg)}.voice-text-content{display:none;background-color:white;padding:0.5rem 0.625rem;border-radius:0.3125rem;border:0.0625rem solid #e5e5e5;max-width:75%;font-size:0.9em;line-height:1.4;color:var(--text-primary);word-wrap:normal;overflow-wrap:break-word;-webkit-user-select:text;user-select:text;margin-top:0.3125rem;box-shadow:0 0.0625rem 0.125rem rgba(0,0,0,0.1)}.message-row.voice-text-visible .voice-text-content{display:block}.image-desc-content{width:8.4375rem;height:8.4375rem;backdrop-filter:blur(10px);background-color:rgba(255,255,255,0.5);border:0.0625rem solid rgba(255,255,255,0.2);border-radius:1.2rem;padding:0.5rem;color:var(--text-primary);font-weight:normal;overflow-y:auto;box-sizing:border-box;font-size:0.9em;display:flex;flex-direction:column;box-shadow:0 4px 12px var(--shadow-color-rgba),0 2px 6px var(--shadow-color-rgba);transition:all 0.2s ease}.text-wrapper{margin:auto;text-align:center;line-height:1.4;word-wrap:break-word;max-height:100%}.location-bubble .location-card{background-color:#fff;border-radius:1.2rem;overflow:hidden;box-shadow:0 4px 12px var(--shadow-color-rgba),0 2px 6px var(--shadow-color-rgba);transition:all 0.2s ease}.location-content{padding:0.5rem}.location-content .location-title{font-size:1em;color:var(--text-primary);font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.location-content .location-subtitle{font-size:0.75em;color:#888}.location-map-placeholder{height:5.625rem;position:relative;background-color:#f0f8ff;overflow:hidden}.location-map-placeholder::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(45deg,#d2e1f2 0,#d2e1f2 4px,transparent 4px,transparent 8px),repeating-linear-gradient(135deg,#9bdaf7 0,#9bdaf7 3px,transparent 3px,transparent 7px),linear-gradient(to bottom,#bad8fb 0%,#bad8fb 100%),linear-gradient(to bottom,#d0daf4 0%,#d0daf4 100%),linear-gradient(to right,#bad8fb 0%,#bad8fb 100%),linear-gradient(to right,#d0daf4 0%,#dbe8f3 100%),radial-gradient(ellipse at 20% 85%,#daf9f3 30%,transparent 31%),radial-gradient(ellipse at 80% 30%,#d0ecf4 40%,transparent 41%);background-size:40% 35%,30% 30%,10px 100%,6px 100%,100% 10px,100% 6px,100% 100%,100% 100%;background-position:-5% 110%,100% 0%,70% center,70% center,center 35%,center 35%,0 0,0 0;background-repeat:no-repeat}.location-map-placeholder::after{content:"\f3c5";font-family:"Font Awesome 6 Free";font-weight:900;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.8em;color:var(--primary-blue);filter:drop-shadow(0 0 8px rgba(114,173,243,0.6)) drop-shadow(0 0 4px rgba(114,173,243,0.4)) drop-shadow(0 2px 4px rgba(255,255,255,0.8));z-index:10;animation:pinPulse 2s ease-in-out infinite}.location-map-placeholder:hover::before{opacity:0.9;transition:opacity 0.3s ease}@keyframes pinPulse{0%,100%{transform:translate(-50%,-50%) scale(1);filter:drop-shadow(0 0 8px rgba(114,173,243,0.6)) drop-shadow(0 0 4px rgba(114,173,243,0.4)) drop-shadow(0 2px 4px rgba(255,255,255,0.8))}50%{transform:translate(-50%,-50%) scale(1.1);filter:drop-shadow(0 0 12px rgba(114,173,243,0.8)) drop-shadow(0 0 6px rgba(114,173,243,0.6)) drop-shadow(0 3px 6px rgba(255,255,255,0.9))}}.transfer-bubble .transfer-card{border-radius:1.2rem;overflow:hidden;width:100%}.transfer-bubble .transfer-card.transfer-initial{background:linear-gradient(135deg,#fa9e3b 0%,#f8802a 50%,#f76a1c 100%);box-shadow:0 4px 15px rgba(247,106,28,0.3),0 2px 8px rgba(247,106,28,0.2),inset 0 1px 0 rgba(255,255,255,0.2);color:#fff}.transfer-bubble .transfer-card.them{cursor:pointer;transition:all 0.2s ease}.transfer-bubble .transfer-card.them:hover{transform:translateY(-1px);box-shadow:0 6px 12px rgba(247,106,28,0.4)}.transfer-bubble .transfer-card.transfer-receipt{background:linear-gradient(135deg,#ffd0a1 0%,#ffbe80 30%,#ffbe80 45%,#ffd0a1 100%);color:#ffffff;box-shadow:0 4px 16px rgba(247,106,28,0.25),0 2px 6px rgba(247,106,28,0.15),inset 0 1px 1px rgba(255,255,255,0.2)}.transfer-content{display:flex;align-items:center;padding:0.75rem}.transfer-icon-image{width:2.25rem;height:2.25rem;flex-shrink:0;filter:brightness(0) invert(1)}.transfer-details{margin-left:0.75rem;flex-grow:1}.transfer-details .amount{font-size:1.1em;font-weight:bold}.transfer-details .note,.transfer-details .status-text{font-size:0.8em;opacity:0.9}.transfer-footer{font-size:0.75em;padding:0.1875rem 0.75rem;color:rgba(255,255,255,0.9);border-top:1px solid rgba(255,255,255,0.15);background:rgba(255,255,255,0.05)}.transfer-initial .transfer-footer{color:rgba(255,255,255,0.85);border-top:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05)}.transfer-receipt .transfer-footer{color:#f5faff;border-top:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05)}.message-row .message-bubble.gift-bubble{padding:0;width:12.5rem;max-width:12.5rem;overflow:hidden;border-radius:1.2rem}.gift-bubble .gift-card{border-radius:1.2rem;overflow:hidden;width:100%}.gift-bubble .gift-card.gift-initial{background:linear-gradient(135deg,#fa9e3b 0%,#f8802a 50%,#f76a1c 100%);box-shadow:0 4px 15px rgba(247,106,28,0.3),0 2px 8px rgba(247,106,28,0.2),inset 0 1px 0 rgba(255,255,255,0.2);color:#fff;animation:transferGlow 3s ease-in-out infinite alternate}.gift-bubble .gift-card.them{cursor:pointer;transition:all 0.2s ease}.gift-bubble .gift-card.them:hover{transform:translateY(-1px);box-shadow:0 6px 12px rgba(247,106,28,0.4)}.gift-bubble .gift-card.gift-receipt{background:linear-gradient(135deg,#ffd0a1 0%,#ffbe80 30%,#ffbe80 45%,#ffd0a1 100%);color:#ffffff;box-shadow:0 4px 16px rgba(247,106,28,0.25),0 2px 6px rgba(247,106,28,0.15),inset 0 1px 1px rgba(255,255,255,0.2)}.gift-clickable{cursor:pointer}.gift-accepted{background-color:#355a96 !important}.gift-content{padding:0.75rem;display:flex;align-items:center;gap:0.75rem;color:#ffffff}.gift-icon-emoji{font-size:2.2em;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.2))}.gift-icon-image{width:2.25rem;height:2.25rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.2))}.gift-details{flex-grow:1}.gift-details .gift-name{font-weight:500}.gift-details .gift-price,.gift-details .gift-status-text{font-size:0.8em;opacity:0.9}.gift-footer{color:rgba(255,255,255,0.9);font-size:0.75em;padding:0.1875rem 0.75rem;border-top:1px solid rgba(255,255,255,0.15);background:rgba(255,255,255,0.05)}.gift-receipt .gift-footer{color:#f5faff;border-top:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05)}@keyframes transferGlow{from{box-shadow:0 4px 15px rgba(247,106,28,0.3),0 2px 8px rgba(247,106,28,0.2),inset 0 1px 0 rgba(255,255,255,0.2)}to{box-shadow:0 6px 20px rgba(247,106,28,0.4),0 3px 12px rgba(247,106,28,0.3),inset 0 1px 0 rgba(255,255,255,0.3)}}.file-bubble .file-card{background-color:#fff;border-radius:1.2rem;overflow:hidden;width:100%;box-shadow:0 4px 12px var(--shadow-color-rgba),0 2px 6px var(--shadow-color-rgba);transition:all 0.2s ease}.file-content{display:flex;align-items:center;padding:0.75rem;gap:0.75rem}.file-icon{font-size:2.5em;color:var(--primary-blue);flex-shrink:0}.file-details .file-name{font-size:0.9em;color:var(--text-primary);font-weight:500;word-break:break-all}.file-footer{background-color:#f7fafc;color:#888;font-size:0.75em;padding:0.1875rem 0.75rem;border-top:0.0625rem solid #eaeaea}body.dark-mode .message-row.them .voice-bubble .voice-icon{color:var(--light-blue)}body.dark-mode .voice-text-content{background-color:#2c2c2c;border-color:#3c3c3c;color:#f0f0f0;box-shadow:0 0.0625rem 0.125rem rgba(0,0,0,0.3)}body.dark-mode .image-desc-content{background-color:rgba(30,30,30,0.7);border:0.0625rem solid rgba(60,60,60,0.4);color:#f0f0f0;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.2)}body.dark-mode .location-bubble .location-card{background-color:#2c2c2c;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.15)}body.dark-mode .location-content .location-title{color:#f0f0f0}body.dark-mode .location-content .location-subtitle{color:#aaa}body.dark-mode .file-bubble .file-card{background-color:#2c2c2c;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.15)}body.dark-mode .file-details .file-name{color:#f0f0f0}body.dark-mode .file-footer{background-color:#232323;color:#aaa;border-top:0.0625rem solid #3c3c3c}body.dark-mode .event-description.expanded{background-color:rgba(50,50,50,0.9);color:#f0f0f0;box-shadow:0 1px 4px rgba(0,0,0,0.3)}.wechat-input-area{flex-shrink:0;background:var(--header-bg);position:relative;z-index:10}.wechat-footer{display:flex;align-items:center;gap:0.5rem;padding:0.75rem;border-top:1px solid var(--border-color);box-sizing:border-box;flex-shrink:0;background:var(--header-bg);position:relative;z-index:10}.wechat-footer .footer-icon{font-size:1.4em;color:var(--primary-blue) !important;cursor:pointer;transition:all 0.2s ease;padding:0.3rem;border-radius:0.5rem;flex-shrink:0}.wechat-footer .footer-icon:hover{background:var(--ultra-light-blue);transform:scale(1.1)}.wechat-footer .text-input{flex-grow:1;border:1px solid var(--border-color);background:#ffffff;padding:0.75rem 1rem;border-radius:1.5rem;font-size:0.9em;transition:all 0.2s ease;color:var(--text-primary);min-width:0}.wechat-footer .text-input:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px var(--shadow-color-rgba)}.wechat-footer .text-input::placeholder{color:var(--text-secondary)}.wechat-footer .send-btn{background:var(--primary-blue);color:white;border:none;width:2rem;height:2rem;border-radius:50%;font-size:1em;cursor:pointer;box-shadow:0 4px 12px var(--shadow-color-rgba);transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;padding:0;line-height:1;flex-shrink:0}.wechat-footer .send-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px var(--shadow-color-rgba)}.wechat-footer .send-btn{background:linear-gradient(135deg,#09e675 0%,#07c160 50%,#06ad56 100%)}.single-color-icon .wechat-footer .send-btn{background:linear-gradient(135deg,var(--primary-gradient-light) 0%,var(--primary-blue) 50%,var(--primary-gradient-dark) 100%)}.panel-container{height:0;overflow:hidden;transition:height 0.3s ease}.panel-container.active{height:var(--panel-height)}.panel-view{display:none;height:100%;overflow-y:auto;padding:1.125rem 0.75rem;box-sizing:border-box;position:relative}.panel-view.active{display:block}.features-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1.125rem}.feature-item{display:flex;flex-direction:column;align-items:center;cursor:pointer;position:relative}.feature-item:hover .feature-icon{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color-rgba);border-color:var(--primary-blue)}.feature-icon{width:3.375rem;height:3.375rem;background-color:#fff;border-radius:0.5rem;display:flex;align-items:center;justify-content:center;border:1px solid var(--border-color);box-shadow:0 2px 8px var(--shadow-color-rgba);transition:all 0.2s ease;margin-bottom:0.4375rem}.feature-icon img,.feature-icon .fas,.feature-icon .far,.feature-icon .fab{max-width:100%;max-height:100%;border-radius:0.5rem;object-fit:cover;font-size:1.8em}.feature-icon .theme-icon{color:var(--primary-blue);font-size:1.8em}.feature-icon .fa-plus,.feature-icon .fa-trash-alt{color:var(--primary-blue) !important}.feature-label{font-size:0.75em;color:#888}.feature-item .sticker-checkbox{position:absolute;opacity:0;width:0;height:0;pointer-events:none}.feature-item .sticker-checkbox-button{position:absolute;top:0.25rem;right:0.25rem;width:1.5rem;height:1.5rem;border:1px solid var(--checkbox-border-unchecked);border-radius:0.375rem;background:var(--checkbox-bg-unchecked);cursor:pointer;transition:all 0.2s ease;display:none;z-index:10}.feature-item .sticker-checkbox-button.checked{border:2px solid var(--checkbox-border-checked);background:var(--checkbox-bg-unchecked)}.feature-item .sticker-checkbox-button.checked::after{content:"✓";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:0.75rem;font-weight:bold;color:var(--checkbox-border-checked)}@media (hover:hover){.feature-item .sticker-checkbox-button:hover{border-color:var(--checkbox-border-checked);background:var(--checkbox-hover-bg)}}.feature-item:has(.sticker-checkbox:checked) .feature-icon{border:2px solid var(--checkbox-border-checked);box-shadow:0 0 0 2px var(--shadow-color-rgba);transform:scale(0.95);opacity:0.8}.feature-item:has(.sticker-checkbox:checked) .feature-label{color:var(--checkbox-border-checked);font-weight:600}#wechat-view.delete-mode .wechat-body{padding-left:25px;padding-right:25px}#wechat-view.delete-mode .message-row,#wechat-view.delete-mode .timestamp-row,#wechat-view.delete-mode .event-log-row{cursor:pointer;position:relative}#wechat-view.delete-mode [data-log-index]::before{content:"×";position:absolute;left:-22px;top:50%;transform:translateY(-50%);background:linear-gradient(135deg,var(--blue-gradient-start) 0%,var(--primary-blue) 100%);color:white;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:normal;box-shadow:0 2px 6px var(--shadow-color-rgba);transition:all 0.2s ease;line-height:1;text-align:center;font-family:Arial,sans-serif}#wechat-view.delete-mode .message-row.me[data-log-index]::before{left:auto;right:-22px}#wechat-view.delete-mode [data-log-index]:hover::before{transform:translateY(-50%) scale(1.1);box-shadow:0 4px 8px var(--shadow-color-rgba)}.app-view{position:absolute;top:0;left:0;right:0;bottom:0;z-index:60;border-radius:2.25rem;visibility:hidden;opacity:0;transition:opacity 0.3s ease,visibility 0.3s ease;display:flex;flex-direction:column;backface-visibility:hidden}.app-view.active{visibility:visible;opacity:1;z-index:80}.app-screen{padding:3.75rem 1rem 1.375rem 1rem;flex-grow:1;background-image:url("https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色_1.jpg");background-size:cover;background-position:center}.app-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.app-icon{display:flex;flex-direction:column;align-items:center;text-align:center;text-decoration:none;cursor:pointer}.app-icon:hover .icon-image{transform:scale(1.05)}.app-icon .icon-image{width:4.0625rem;height:4.0625rem;background-color:var(--primary-blue);border-radius:22.5%;margin-bottom:0.4375rem;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;font-size:2.2em;transition:all 0.2s ease}.app-icon .app-name{color:var(--text-color);font-size:0.75em;font-weight:400;text-shadow:0 0.0625rem 0.125rem rgba(0,0,0,0.5)}.icon-wechat,.icon-settings{background:linear-gradient(135deg,var(--blue-gradient-start) 0%,var(--blue-gradient-end) 100%);color:white;box-shadow:0 4px 12px var(--shadow-color-rgba)}.icon-wechat{background:linear-gradient(135deg,#09e675 0%,#07c160 50%,#06ad56 100%) !important}.icon-settings{background:linear-gradient(135deg,#a8a8a8 0%,#8a8a8a 50%,#777777 100%) !important}.single-color-icon .icon-wechat,.single-color-icon .icon-settings{background:linear-gradient(135deg,var(--primary-gradient-light) 0%,var(--primary-blue) 50%,var(--primary-gradient-dark) 100%) !important}#settings-view{background-color:var(--settings-bg-color)}.settings-header{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.75rem;background:var(--header-bg);border-bottom:1px solid var(--border-color);padding-top:2.8125rem;position:relative;z-index:10}.settings-header .back-btn{font-size:1.2em;color:var(--primary-blue);cursor:pointer}.settings-header .title{font-weight:600;color:var(--text-primary);font-size:1em;position:absolute;left:50%;transform:translateX(-50%)}.settings-body{flex-grow:1;padding:1.25rem;overflow-y:auto}.settings-card{background-color:var(--settings-card-bg-color);border-radius:var(--element-border-radius);padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.05)}.settings-card p{font-size:0.9em;line-height:1.6;color:var(--text-primary);margin:0 0 1rem 0}.settings-card p:last-child{margin-bottom:0}.settings-card .highlight{color:#e6a23c;font-weight:bold}.settings-card a{color:var(--primary-blue)}.settings-card a:hover{text-decoration:underline}.settings-card li{border-bottom-color:var(--border-color)}.settings-card li a{color:var(--text-primary)}#show-last-ai-response-btn,#show-last-sent-prompt-btn{background-color:var(--settings-card-bg-color);color:var(--text-primary)}#custom-theme-btn{transition:all 0.2s ease;position:relative;z-index:10}#custom-theme-btn:hover{background:var(--deep-blue) !important;transform:translateY(-1px);box-shadow:0 4px 12px var(--shadow-color-rgba)}#custom-theme-btn:active{transform:translateY(0)}body.dark-mode{background-color:transparent}body.dark-mode .app-view{background-color:var(--app-bg-color)}body.dark-mode .settings-card{background-color:var(--settings-card-bg-color)}body.dark-mode .settings-card p,body.dark-mode .settings-card a{color:var(--text-primary)}body.dark-mode .settings-card li{border-bottom-color:var(--border-color)}body.dark-mode .settings-card li a{color:var(--text-primary)}body.dark-mode #show-last-ai-response-btn,body.dark-mode #show-last-sent-prompt-btn{background-color:var(--settings-card-bg-color);color:var(--text-primary)}.phone-size-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:var(--settings-card-bg-color);border:1px solid var(--border-color);border-radius:var(--element-border-radius);padding:0.75rem 0.5rem;cursor:pointer;transition:all 0.2s ease;gap:0.5rem;color:var(--text-primary)}.phone-size-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color-rgba)}.phone-size-btn.phone-size-active{border-color:var(--primary-blue);background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.05);box-shadow:0 2px 8px var(--shadow-color-rgba)}body.dark-mode .phone-size-btn{background-color:#3c3c3c;border-color:#505050;color:#c0c0c0}body.dark-mode .phone-size-btn:hover{background-color:#4a4a4a;border-color:#606060}body.dark-mode .phone-size-btn.phone-size-active{background-color:#505050;border-color:var(--primary-blue);color:#e0e0e0}body[data-theme=custom] .phone-size-btn{background-color:var(--settings-card-bg-color);border-color:var(--border-color);color:var(--text-primary)}body[data-theme=custom] .phone-size-btn:hover{background-color:var(--ultra-light-blue);border-color:var(--primary-blue)}body[data-theme=custom] .phone-size-btn.phone-size-active{background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.1);border-color:var(--primary-blue);color:var(--primary-blue)}.size-icon{width:1.5rem;background-color:var(--text-secondary);border-radius:0.125rem;transition:all 0.2s ease}body.dark-mode .size-icon{background-color:#c0c0c0}body.dark-mode .phone-size-active .size-icon{background-color:var(--primary-blue)}body[data-theme=custom] .size-icon{background-color:var(--text-secondary)}body[data-theme=custom] .phone-size-active .size-icon{background-color:var(--primary-blue)}.size-label{font-size:0.8em;font-weight:500;text-align:center}.sticker-size-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:var(--settings-card-bg-color);border:1px solid var(--border-color);border-radius:var(--element-border-radius);padding:0.75rem 0.5rem;cursor:pointer;transition:all 0.2s ease;gap:0.5rem;color:var(--text-primary)}.sticker-size-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color-rgba)}.sticker-size-btn.sticker-size-active{border-color:var(--primary-blue);background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.05);box-shadow:0 2px 8px var(--shadow-color-rgba)}.sticker-size-icon{width:10px;background-color:var(--primary-blue);border-radius:var(--small-border-radius)}.sticker-size-label{font-size:0.8em;color:var(--text-primary);font-weight:500}body.dark-mode .sticker-size-btn{background-color:#3c3c3c;border-color:#505050;color:#c0c0c0}body.dark-mode .sticker-size-btn:hover{background-color:#4a4a4a;border-color:#606060}body.dark-mode .sticker-size-btn.sticker-size-active{background-color:#505050;border-color:var(--primary-blue);color:#e0e0e0}body.dark-mode .sticker-size-icon{background-color:#c0c0c0}body.dark-mode .sticker-size-active .sticker-size-icon{background-color:var(--primary-blue)}body[data-theme=custom] .sticker-size-btn{background-color:var(--settings-card-bg-color);border-color:var(--border-color);color:var(--text-primary)}body[data-theme=custom] .sticker-size-btn:hover{background-color:var(--ultra-light-blue);border-color:var(--primary-blue)}body[data-theme=custom] .sticker-size-btn.sticker-size-active{background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.1);border-color:var(--primary-blue);color:var(--primary-blue)}body[data-theme=custom] .sticker-size-icon{background-color:var(--text-secondary)}body[data-theme=custom] .sticker-size-active .sticker-size-icon{background-color:var(--primary-blue)}.font-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:0.5rem;padding:0.75rem 0.5rem;border:2px solid #e0e0e0;border-radius:var(--element-border-radius);background:#f8f9fa;cursor:pointer;transition:all 0.3s ease;min-height:4rem}.font-btn:hover{border-color:var(--primary-blue);background:#f0f7ff}.font-btn.font-active{border-color:var(--primary-blue);background:#e8f4fd}.font-btn.font-active .font-label{color:var(--primary-blue);font-weight:600}.font-icon{font-size:1.2em;margin-bottom:0.25rem}.font-label{font-size:0.8em;color:var(--text-primary);font-weight:500;text-align:center}body.dark-mode .font-btn{background:#2a2a2a;border-color:#404040}body.dark-mode .font-btn:hover{background:#333;border-color:var(--primary-blue)}body.dark-mode .font-btn.font-active{background:#1a3a5c;border-color:var(--primary-blue)}.fullscreen-size-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:var(--settings-card-bg-color);border:1px solid var(--border-color);border-radius:var(--element-border-radius);padding:0.75rem 0.5rem;cursor:pointer;transition:all 0.2s ease;gap:0.5rem;color:var(--text-primary)}.fullscreen-size-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color-rgba)}.fullscreen-size-btn.fullscreen-size-active{border-color:var(--primary-blue);background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.05);box-shadow:0 2px 8px var(--shadow-color-rgba)}.fullscreen-size-icon{font-size:1.2em;display:block}.fullscreen-size-label{font-size:0.8em;font-weight:500;text-align:center}body.dark-mode .fullscreen-size-btn{background-color:#3c3c3c;border-color:#505050;color:#c0c0c0}body.dark-mode .fullscreen-size-btn:hover{background-color:#4a4a4a;border-color:#606060}body.dark-mode .fullscreen-size-btn.fullscreen-size-active{background-color:#505050;border-color:var(--primary-blue);color:#e0e0e0}body[data-theme=custom] .fullscreen-size-btn{background-color:var(--settings-card-bg-color);border-color:var(--border-color);color:var(--text-primary)}body[data-theme=custom] .fullscreen-size-btn:hover{background-color:var(--ultra-light-blue);border-color:var(--primary-blue)}body[data-theme=custom] .fullscreen-size-btn.fullscreen-size-active{background-color:rgba(var(--shadow-r),var(--shadow-g),var(--shadow-b),0.1);border-color:var(--primary-blue);color:var(--primary-blue)}#fullscreen-size-slider,#sticker-size-slider{-webkit-appearance:none;appearance:none;height:0.25rem;background:#ddd;border-radius:0.125rem;outline:none;flex:1}#fullscreen-size-slider::-webkit-slider-thumb,#sticker-size-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:1rem;height:1rem;border-radius:50%;background:var(--primary-blue);cursor:pointer;border:2px solid white;box-shadow:0 1px 3px rgba(0,0,0,0.2)}#fullscreen-size-slider::-moz-range-thumb,#sticker-size-slider::-moz-range-thumb{width:1rem;height:1rem;border-radius:50%;background:var(--primary-blue);cursor:pointer;border:2px solid white;box-shadow:0 1px 3px rgba(0,0,0,0.2)}#fullscreen-size-input,#sticker-size-input{width:4rem;padding:0.25rem 0.5rem;border:1px solid #ddd;border-radius:0.25rem;text-align:center;font-size:0.85em;background:white;color:var(--text-primary)}#fullscreen-size-input:focus,#sticker-size-input:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 2px rgba(114,173,243,0.2)}body.dark-mode #fullscreen-size-slider,body.dark-mode #sticker-size-slider{background:#404040}body.dark-mode #fullscreen-size-slider::-webkit-slider-thumb,body.dark-mode #sticker-size-slider::-webkit-slider-thumb{border-color:#2a2a2a}body.dark-mode #fullscreen-size-slider::-moz-range-thumb,body.dark-mode #sticker-size-slider::-moz-range-thumb{border-color:#2a2a2a}body.dark-mode #fullscreen-size-input,body.dark-mode #sticker-size-input{background:#2a2a2a;border-color:#404040;color:white}body.dark-mode #fullscreen-size-input:focus,body.dark-mode #sticker-size-input:focus{border-color:var(--primary-blue)}#moments-view{background:linear-gradient(180deg,#ffffff 0%,var(--ultra-light-blue) 100%);color:var(--text-primary)}.moments-header{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.75rem;background:var(--header-bg);border-bottom:1px solid var(--border-color);padding-top:2.8125rem;flex-shrink:0;position:relative}.moments-header .title{font-weight:600;font-size:1em;color:var(--primary-blue);position:absolute;left:50%;transform:translateX(-50%)}.moments-header .back-btn{color:var(--primary-blue);font-size:1.2em;cursor:pointer;z-index:1}.moments-header .header-action{color:var(--primary-blue);font-size:1.2em;cursor:pointer;z-index:1;transition:all 0.2s ease}.moments-body{flex-grow:1;overflow-y:auto;background-color:#fff}.moments-feed-header{position:relative;margin-bottom:1.5625rem}.moments-cover-photo{width:100%;height:14.0625rem;object-fit:cover;display:block;cursor:pointer}.moments-user-info{position:absolute;bottom:-0.75rem;right:0.75rem;display:flex;align-items:flex-end;gap:0.5rem}.moments-user-name{color:white;font-size:1.1em;font-weight:bold;text-shadow:0 0.0625rem 0.1875rem rgba(0,0,0,0.5);position:relative;bottom:1.75rem;cursor:pointer}.moments-user-avatar{width:4.25rem;height:4.25rem;border-radius:0.5rem;object-fit:cover;cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,0.2)}.user-signature{position:absolute;bottom:-2.5rem;right:0.75rem;width:12rem;text-align:right;word-wrap:break-word;line-height:1.4;color:#8a8a8a;font-size:0.8em;cursor:pointer;margin-top:0.5rem}.moments-feed-list{padding:0 0.75rem;list-style:none}.moment-post{display:flex;gap:0.625rem;padding:1.125rem 0;border-bottom:0.0625rem solid #f0f0f0}.moment-post:last-child{border-bottom:none}.post-author-avatar{width:2.375rem;height:2.375rem;border-radius:50%;flex-shrink:0;object-fit:cover;cursor:pointer}.post-details{display:flex;flex-direction:column;gap:0.4375rem;flex-grow:1}.post-author-name,.likes-section .liker-name,.comment-author,.delete-moment-btn,.post-meta .comment-button{color:var(--primary-blue)}.post-content{font-size:0.9em;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;color:var(--text-primary)}.post-media{margin-top:0.25rem}.post-media-image{max-width:10rem;max-height:10rem;object-fit:contain;border-radius:0.25rem}.post-media .image-desc-content{background-color:rgba(240,250,255,0.8);border:1px solid rgba(74,149,237,0.1);width:10rem;height:10rem;font-size:0.9em;color:var(--text-primary);display:flex;align-items:center;justify-content:center;text-align:center;font-weight:normal}.post-meta{display:flex;justify-content:space-between;align-items:center;color:#888;font-size:0.8em}.post-meta .post-time{color:#888}.post-meta .post-actions{display:flex;gap:1rem}.post-meta .like-button,.post-meta .comment-button{background:#f7f7f7;border-radius:0.1875rem;padding:0.125rem 0.4375rem;cursor:pointer;font-size:1.1em;transition:all 0.2s ease}.post-meta .like-button:hover,.post-meta .comment-button:hover{color:var(--primary-blue)}.post-interactions{background:#f8faff;border-radius:0.5rem;margin-top:0.5rem;font-size:0.85em;position:relative;border:1px solid rgba(74,149,237,0.08)}.post-interactions::before{content:"";position:absolute;top:-0.375rem;left:0.9375rem;width:0;height:0;border-left:0.375rem solid transparent;border-right:0.375rem solid transparent;border-bottom:0.375rem solid #f8faff}.likes-section{padding:0.4375rem 0.625rem;background:rgba(248,250,255,0.6);display:flex;align-items:center;gap:0.4375rem;flex-wrap:wrap;font-size:0.8em}.likes-section .likes-list{display:flex;flex-wrap:wrap;gap:0.25rem}.likes-section .liker-name{cursor:pointer}.likes-section .liker-name:not(:last-child)::after{content:", ";color:#888}.likes-section .fa-heart{color:var(--primary-blue)}.comments-section{padding:0 0.625rem 0.4375rem;list-style:none;border-top:0.0625rem solid #eaeaea}.likes-section+.comments-section{margin-top:-0.0625rem}.comments-section li{padding:0.1875rem 0}.comment-author{font-weight:500;cursor:pointer}.comment-content{color:var(--text-primary);margin-top:0.25rem}.delete-moment-btn{cursor:pointer;font-size:0.8em;transition:all 0.2s ease}.delete-moment-btn:hover{color:var(--deep-blue)}.wechat-home-header{display:flex;align-items:center;justify-content:space-between;padding:0.5rem 0.75rem;padding-top:2.8125rem;color:var(--text-primary);font-weight:600;position:relative;z-index:2}.wechat-home-title{font-size:1.05rem;flex:1;text-align:center}.wechat-home-actions{display:flex;align-items:center;gap:0.75rem;color:var(--primary-blue);justify-content:flex-end}.wechat-home-actions i{font-size:1.2em;color:var(--primary-blue);display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}.wechat-home-header .wechat-home-back{font-size:1.2em;color:var(--primary-blue);cursor:pointer;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center}.wechat-home-body{flex:1;display:flex;flex-direction:column;padding:0 0.75rem 0.5rem;gap:0.5rem;position:relative;z-index:1}.wechat-home-section{display:none;flex:1;overflow-y:auto;padding-bottom:0.5rem}.wechat-home-section.active{display:block}.conversation-list,.contacts-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:0.5rem}.conv-item,.contact-item,.shortcut-item,.profile-card{padding:0.75rem 0.9rem;border:1px solid var(--border-color);border-radius:var(--element-border-radius);background:var(--wechat-bubble-them-bg,rgba(255,255,255,0.8));box-shadow:0 1px 4px rgba(0,0,0,0.04);color:var(--text-primary);font-size:0.95rem;display:flex;align-items:center;gap:0.75rem}.placeholder{color:var(--text-secondary);font-size:0.9rem}.contacts-shortcuts{display:flex;flex-direction:column;gap:0.5rem;margin-bottom:0.5rem}.wechat-home-tabbar{display:grid;grid-template-columns:repeat(4,1fr);gap:0.1rem;padding:0.35rem 0.25rem 0.6rem;border-top:1px solid var(--border-color);background:#fff;width:calc(100% + 0.8rem);margin-left:-0.4rem;margin-right:-0.4rem;border-bottom-left-radius:1.2rem;border-bottom-right-radius:1.2rem;margin-top:auto}.wechat-tab-btn{border:none;background:transparent;color:var(--text-secondary);padding:0.2rem 0.1rem 0.15rem;border-radius:0.75rem;font-size:0.85rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.1rem}.wechat-tab-btn.active{color:var(--primary-blue);background:transparent;font-weight:600}.tab-icon{width:24px;height:24px;background-size:cover;background-repeat:no-repeat;background-position:center;filter:grayscale(1) opacity(0.9)}.wechat-tab-btn.active .tab-icon{filter:grayscale(0) opacity(1)}.tab-icon-wechat{background-image:url("https://files.catbox.moe/io8orb.png")}.tab-icon-contacts{background-image:url("https://files.catbox.moe/atop6m.png")}.tab-icon-discover{background-image:url("https://files.catbox.moe/jr13tf.png")}.tab-icon-me{background-image:url("https://files.catbox.moe/yer0ly.png")}.tab-label{font-size:0.8rem}.profile-card{display:flex;align-items:center;gap:0.75rem}.conv-item{cursor:pointer}.conv-avatar{width:44px;height:44px;border-radius:12px;background:#e8edf3 center/cover no-repeat;flex-shrink:0}.conv-main{flex:1;display:flex;flex-direction:column;gap:0.2rem}.conv-row{display:flex;align-items:center;justify-content:space-between;gap:0.35rem}.conv-name{font-weight:600;color:var(--text-primary)}.conv-time{font-size:0.8rem;color:var(--text-secondary);white-space:nowrap}.conv-desc{font-size:0.88rem;color:var(--text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.conv-unread{min-width:1.25rem;padding:0 0.45rem;height:1.25rem;border-radius:0.75rem;background:#ff4d4f;color:#fff;font-size:0.75rem;text-align:center;line-height:1.25rem;margin-left:0.4rem;flex-shrink:0}.profile-avatar{width:52px;height:52px;border-radius:var(--small-border-radius);background:#f2f4f7 center/cover no-repeat}.profile-name{font-weight:600;color:var(--text-primary)}.profile-signature{font-size:0.9rem;color:var(--text-secondary);margin-top:0.2rem}.wechat-home-back{position:static}body.dark-mode{background-color:transparent;--input-bg:#2a2a2a}body.dark-mode .app-view{background-color:var(--app-bg-color)}body.dark-mode .settings-card{background-color:var(--settings-card-bg-color)}body.dark-mode .settings-card p,body.dark-mode .settings-card a{color:var(--text-primary)}body.dark-mode .settings-card li{border-bottom-color:var(--border-color)}body.dark-mode .settings-card li a{color:var(--text-primary)}body.dark-mode #show-last-ai-response-btn,body.dark-mode #show-last-sent-prompt-btn{background-color:var(--settings-card-bg-color);color:var(--text-primary)}body.dark-mode .message-row.them .message-bubble{background:linear-gradient(315deg,#2a2a2a 0%,#333333 100%);border-color:#3c3c3c}body.dark-mode .voice-text-content{background-color:#2c2c2c;border-color:#3c3c3c;color:#f0f0f0;box-shadow:0 0.0625rem 0.125rem rgba(0,0,0,0.3)}body.dark-mode .image-desc-content{background-color:rgba(30,30,30,0.7);border:0.0625rem solid rgba(60,60,60,0.4);color:#f0f0f0;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.2)}body.dark-mode .location-bubble .location-card{background-color:#2c2c2c;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.15)}body.dark-mode .location-content .location-title{color:#f0f0f0}body.dark-mode .location-content .location-subtitle{color:#aaa}body.dark-mode .file-bubble .file-card{background-color:#2c2c2c;box-shadow:0 4px 12px rgba(0,0,0,0.25),0 2px 6px rgba(0,0,0,0.15)}body.dark-mode .file-details .file-name{color:#f0f0f0}body.dark-mode .file-footer{background-color:#232323;color:#aaa;border-top:0.0625rem solid #3c3c3c}body.dark-mode .event-description.expanded{background-color:rgba(50,50,50,0.9);color:#f0f0f0;box-shadow:0 1px 4px rgba(0,0,0,0.3)}.custom-dialog-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background-color:transparent;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn 0.2s ease}.custom-dialog{background:var(--header-bg);border-radius:var(--dialog-border-radius);box-shadow:0 25px 50px rgba(0,0,0,0.25),0 15px 30px rgba(0,0,0,0.15),0 8px 16px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.05);width:85%;max-width:18rem;overflow:hidden;display:flex;flex-direction:column;animation:dialogSlideIn 0.3s ease;border:1px solid var(--border-color);transform:translateY(0)}.dialog-header{padding:1rem;text-align:center;border-bottom:1px solid var(--border-color);background:var(--header-bg)}.dialog-title{margin:0;font-size:1.1rem;font-weight:500;color:var(--text-primary)}.dialog-body{padding:1.25rem 1rem;color:var(--text-primary);font-size:0.9rem;line-height:1.5;text-align:center}.dialog-input-container{margin-top:0.75rem}.dialog-input-container input,.dialog-input-container textarea{width:100%;padding:0.75rem;border:1px solid var(--border-color);border-radius:var(--input-border-radius);font-size:0.9rem;color:var(--text-primary);background-color:var(--input-bg);outline:none}.dialog-input-container input:focus,.dialog-input-container textarea:focus{border-color:var(--primary-blue);box-shadow:0 0 0 2px rgba(114,173,243,0.2)}.dialog-footer{display:flex;border-top:1px solid var(--border-color)}.dialog-button{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.dialog-button:not(:last-child){border-right:1px solid var(--border-color)}.dialog-button:hover{background-color:rgba(114,173,243,0.1)}.dialog-button:active{background-color:rgba(114,173,243,0.2)}.dialog-button.primary-button{color:var(--primary-blue);font-weight:600}.dialog-button.cancel-button{color:var(--text-secondary)}@keyframes dialogSlideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes dialogSlideOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.dialog-closing{animation:dialogSlideOut 0.2s ease forwards}.overlay-closing{animation:fadeOut 0.2s ease forwards}.mobile-dialog-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background-color:transparent;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn 0.2s ease}body.dark-mode .mobile-dialog,body.dark-mode .custom-dialog,body.dark-mode .sticker-manager-container{box-shadow:0 30px 60px rgba(0,0,0,0.5),0 20px 40px rgba(0,0,0,0.3),0 10px 20px rgba(0,0,0,0.2),0 5px 10px rgba(0,0,0,0.15)}body[data-theme=pink] .mobile-dialog,body[data-theme=pink] .custom-dialog,body[data-theme=pink] .sticker-manager-container{box-shadow:0 30px 60px rgba(216,51,132,0.3),0 20px 40px rgba(216,51,132,0.2),0 10px 20px rgba(0,0,0,0.15),0 5px 10px rgba(0,0,0,0.1)}body[data-theme=white] .mobile-dialog,body[data-theme=white] .custom-dialog,body[data-theme=white] .sticker-manager-container{box-shadow:0 30px 60px rgba(0,0,0,0.2),0 20px 40px rgba(0,0,0,0.15),0 10px 20px rgba(0,0,0,0.1),0 5px 10px rgba(0,0,0,0.05)}.mobile-dialog{background:var(--header-bg);border-radius:var(--dialog-border-radius);box-shadow:0 30px 60px rgba(0,0,0,0.3),0 20px 40px rgba(0,0,0,0.2),0 10px 20px rgba(0,0,0,0.15),0 5px 10px rgba(0,0,0,0.1);overflow:hidden;display:flex;flex-direction:column;animation:dialogSlideIn 0.3s ease;border:1px solid var(--border-color);transform:translateY(0);position:relative}.moment-dialog{width:90%;max-width:20rem}.time-jump-dialog{width:85%;max-width:18rem}.mobile-dialog .dialog-header{padding:1.2rem 1rem 1rem;text-align:center;border-bottom:1px solid var(--border-color);background:var(--header-bg)}.mobile-dialog .dialog-header h3{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary);letter-spacing:0.3px}.mobile-dialog .dialog-body{padding:1.25rem 1rem;color:var(--text-primary);font-size:0.9rem;line-height:1.5;max-height:60vh;overflow-y:auto}.mobile-dialog .dialog-footer{display:flex;border-top:1px solid var(--border-color)}.mobile-dialog .form-group{margin-bottom:0.75rem}.mobile-dialog .form-group:last-child{margin-bottom:0}.mobile-dialog .form-group label{display:block;margin-bottom:0.5rem;font-weight:500;color:var(--text-primary);font-size:0.9rem}.mobile-dialog .form-group input[type=text],.mobile-dialog .form-group input[type=url],.mobile-dialog .form-group textarea{width:100%;padding:0.75rem;border:1px solid var(--border-color);border-radius:var(--input-border-radius);font-size:0.9rem;color:var(--text-primary);background-color:white;outline:none;box-sizing:border-box}.mobile-dialog .form-group input[type=text]:focus,.mobile-dialog .form-group input[type=url]:focus,.mobile-dialog .form-group textarea:focus{border-color:var(--primary-blue);box-shadow:0 0 0 2px rgba(114,173,243,0.2)}.mobile-dialog .form-group textarea{resize:vertical;min-height:4rem;font-family:inherit}.mobile-dialog .form-group input[type=checkbox]{margin-right:0.5rem;transform:scale(1.1)}.mobile-dialog .radio-group{display:flex;margin-top:0.5rem;border-radius:var(--element-border-radius);overflow:hidden;border:1px solid var(--border-color)}.mobile-dialog .radio-group label{flex:1;display:flex;align-items:center;justify-content:center;margin-bottom:0;font-weight:500;cursor:pointer;font-size:0.85rem;padding:0.5rem 0.75rem;background:white;color:var(--text-secondary);transition:all 0.2s ease;border-right:1px solid var(--border-color);position:relative}.mobile-dialog .radio-group label:last-child{border-right:none}.mobile-dialog .radio-group label input[type=radio]{position:absolute;opacity:0;width:0;height:0}.mobile-dialog .radio-group label:has(input[type=radio]:checked){background:var(--primary-blue);color:white;font-weight:600}.mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:var(--ultra-light-blue);color:var(--primary-blue)}.mobile-dialog .image-options{background:var(--ultra-light-blue);padding:0.75rem;border-radius:var(--element-border-radius);margin-top:0.5rem;border:1px solid var(--border-color)}.mobile-dialog .image-options .form-group{margin-bottom:0.5rem}.mobile-dialog .image-options .form-group:last-child{margin-bottom:0}.mobile-dialog .description-group{background:var(--ultra-light-blue);padding:0.75rem;border-radius:var(--element-border-radius);margin-top:0.5rem;border:1px solid var(--border-color)}.mobile-dialog .description-group .form-group{margin-bottom:0}.mobile-dialog .dialog-btn{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.mobile-dialog .dialog-btn:not(:last-child){border-right:1px solid var(--border-color)}.mobile-dialog .dialog-btn:hover{background-color:var(--ultra-light-blue)}.mobile-dialog .dialog-btn:active{background-color:var(--soft-blue)}.mobile-dialog .dialog-btn.dialog-btn-cancel,.mobile-dialog .dialog-btn.dialog-btn-confirm{border-radius:0}.mobile-dialog .dialog-btn:last-child{border-bottom-right-radius:1rem}.mobile-dialog .dialog-btn:first-child{border-bottom-left-radius:1rem}.mobile-dialog.dialog-closing{animation:dialogSlideOut 0.3s ease forwards}body.dark-mode .mobile-dialog{background:linear-gradient(135deg,#2c2c2c 0%,#1a1a1a 100%);border-color:#3c3c3c;box-shadow:0 8px 24px rgba(0,0,0,0.4),0 4px 12px rgba(0,0,0,0.3)}body.dark-mode .mobile-dialog .dialog-header{background:linear-gradient(135deg,#2c2c2c 0%,#1a1a1a 100%);border-bottom-color:#3c3c3c}body.dark-mode .mobile-dialog .dialog-header h3{color:#e0e0e0}body.dark-mode .mobile-dialog .dialog-body{color:#c0c0c0}body.dark-mode .mobile-dialog .form-group label{color:#c0c0c0}body.dark-mode .mobile-dialog .form-group input[type=text],body.dark-mode .mobile-dialog .form-group input[type=url],body.dark-mode .mobile-dialog .form-group textarea{background-color:#2a2a2a;border-color:#3c3c3c;color:#e0e0e0}body.dark-mode .mobile-dialog .form-group input[type=text]:focus,body.dark-mode .mobile-dialog .form-group input[type=url]:focus,body.dark-mode .mobile-dialog .form-group textarea:focus{border-color:var(--primary-blue);box-shadow:0 0 0 2px rgba(114,173,243,0.3)}body.dark-mode .mobile-dialog .form-group input[type=text]::placeholder,body.dark-mode .mobile-dialog .form-group input[type=url]::placeholder,body.dark-mode .mobile-dialog .form-group textarea::placeholder{color:#888888}body.dark-mode .mobile-dialog .image-options,body.dark-mode .mobile-dialog .description-group{background:#1a1a1a;border-color:#3c3c3c}body.dark-mode .mobile-dialog .radio-group{border-color:#3c3c3c}body.dark-mode .mobile-dialog .radio-group label{background:#2a2a2a;color:#a0a0a0;border-right-color:#3c3c3c}body.dark-mode .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:var(--primary-blue);color:white}body.dark-mode .mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:#3c3c3c;color:#c0c0c0}body.dark-mode .mobile-dialog .dialog-btn{color:var(--primary-blue)}body.dark-mode .mobile-dialog .dialog-btn:hover{background-color:#3c3c3c}body.dark-mode .mobile-dialog .dialog-btn:active{background-color:#505050}body[data-theme=pink] .mobile-dialog .dialog-header h3{color:#d63384}body[data-theme=pink] .mobile-dialog .image-options,body[data-theme=pink] .mobile-dialog .description-group{background:#fdf2f8;border-color:#f8bbd9}body[data-theme=pink] .mobile-dialog .dialog-body{color:#333333}body[data-theme=pink] .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:#d63384;color:white}body[data-theme=pink] .mobile-dialog .btn-primary{background:#d63384;border-color:#d63384}body[data-theme=pink] .mobile-dialog .btn-primary:hover{background:rgb(178.187755102,35.812244898,106.5632653061);border-color:rgb(178.187755102,35.812244898,106.5632653061)}body[data-theme=pink] .mobile-dialog .input-field:focus{border-color:#d63384;box-shadow:0 0 0 2px rgba(214,51,132,0.2)}body[data-theme=pink] .mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:#fdf2f8;color:#d63384}body[data-theme=white] .mobile-dialog .dialog-header h3{color:#333333}body[data-theme=white] .mobile-dialog .image-options,body[data-theme=white] .mobile-dialog .description-group{background:#f8f8f8;border-color:#e0e0e0}body[data-theme=white] .mobile-dialog .dialog-body{color:#333333}body[data-theme=white] .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:#333333;color:white}body[data-theme=white] .mobile-dialog .btn-primary{background:#333333;border-color:#333333}body[data-theme=white] .mobile-dialog .btn-primary:hover{background:rgb(25.5,25.5,25.5);border-color:rgb(25.5,25.5,25.5)}body[data-theme=white] .mobile-dialog .input-field:focus{border-color:#a0e75a;box-shadow:0 0 0 2px rgba(160,231,90,0.2)}body[data-theme=white] .mobile-dialog .form-group label{color:#333333}body[data-theme=white] .mobile-dialog .form-group input[type=text],body[data-theme=white] .mobile-dialog .form-group input[type=url],body[data-theme=white] .mobile-dialog .form-group textarea{background:#ffffff;border:1px solid #e0e0e0}body[data-theme=white] .mobile-dialog .form-group input[type=text]:focus,body[data-theme=white] .mobile-dialog .form-group input[type=url]:focus,body[data-theme=white] .mobile-dialog .form-group textarea:focus{border-color:#a0e75a;box-shadow:0 0 0 2px rgba(160,231,90,0.2);outline:none}body[data-theme=white] .mobile-dialog .form-group input[type=text]::placeholder,body[data-theme=white] .mobile-dialog .form-group input[type=url]::placeholder,body[data-theme=white] .mobile-dialog .form-group textarea::placeholder{color:white}body[data-theme=white] .mobile-dialog .form-group input[type=text],body[data-theme=white] .mobile-dialog .form-group input[type=url],body[data-theme=white] .mobile-dialog .form-group textarea{color:#333333}body[data-theme=white] .mobile-dialog .form-group input[type=text]::placeholder,body[data-theme=white] .mobile-dialog .form-group input[type=url]::placeholder,body[data-theme=white] .mobile-dialog .form-group textarea::placeholder{color:#999999}body[data-theme=white] .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:#a0e75a;color:#333333}body[data-theme=white] .mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:#f8f8f8;color:#666666}body[data-theme=custom] .mobile-dialog .image-options,body[data-theme=custom] .mobile-dialog .description-group{background:var(--settings-card-bg-color);border-color:var(--border-color)}body[data-theme=custom] .mobile-dialog .radio-group{border-color:var(--border-color)}body[data-theme=custom] .mobile-dialog .radio-group label{background:var(--settings-card-bg-color);color:var(--text-primary);border-right-color:var(--border-color)}body[data-theme=custom] .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:var(--primary-blue);color:white}body[data-theme=custom] .mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:var(--ultra-light-blue);color:var(--primary-blue)}body[data-theme=custom] .mobile-dialog .dialog-btn{color:var(--primary-blue)}body[data-theme=custom] .mobile-dialog .dialog-btn:hover{background-color:var(--ultra-light-blue)}body[data-theme=custom] .mobile-dialog .dialog-btn:active{background-color:var(--light-blue)}body.dark-mode[data-theme=custom] .mobile-dialog .image-options,body.dark-mode[data-theme=custom] .mobile-dialog .description-group{background:var(--settings-card-bg-color);border-color:var(--border-color)}body.dark-mode[data-theme=custom] .mobile-dialog .radio-group{border-color:var(--border-color)}body.dark-mode[data-theme=custom] .mobile-dialog .radio-group label{background:var(--settings-card-bg-color);color:var(--text-primary);border-right-color:var(--border-color)}body.dark-mode[data-theme=custom] .mobile-dialog .radio-group label:has(input[type=radio]:checked){background:var(--primary-blue);color:white}body.dark-mode[data-theme=custom] .mobile-dialog .radio-group label:hover:not(:has(input[type=radio]:checked)){background:var(--ultra-light-blue);color:var(--primary-blue)}body.dark-mode[data-theme=custom] .mobile-dialog .dialog-btn{color:var(--primary-blue)}body.dark-mode[data-theme=custom] .mobile-dialog .dialog-btn:hover{background-color:var(--ultra-light-blue)}body.dark-mode[data-theme=custom] .mobile-dialog .dialog-btn:active{background-color:var(--light-blue)}@media (prefers-contrast:high){.mobile-dialog{border-width:2px}.mobile-dialog .dialog-btn{border:1px solid var(--border-color)}.mobile-dialog .dialog-btn:focus{outline:2px solid var(--primary-blue);outline-offset:2px}.mobile-dialog .form-group input[type=text],.mobile-dialog .form-group textarea{border-width:2px}.mobile-dialog .radio-group{border-width:2px}.mobile-dialog .radio-group label{border-right-width:2px}}@media (prefers-reduced-motion:reduce){.mobile-dialog{animation:none}.mobile-dialog .dialog-btn,.mobile-dialog .form-group input,.mobile-dialog .form-group textarea,.mobile-dialog .radio-group label{transition:none}.mobile-dialog.dialog-closing{animation:none}}.mobile-dialog .dialog-header h3{text-shadow:0 1px 2px rgba(0,0,0,0.1)}.mobile-dialog .dialog-body{background:rgba(255,255,255,0.02);backdrop-filter:blur(1px)}.mobile-dialog .dialog-btn{backdrop-filter:blur(2px)}.mobile-dialog .dialog-btn:hover{backdrop-filter:blur(4px)}.mobile-dialog .form-group input[type=text],.mobile-dialog .form-group textarea{backdrop-filter:blur(1px)}.mobile-dialog .form-group input[type=text]:focus,.mobile-dialog .form-group textarea:focus{backdrop-filter:blur(2px)}@media (max-height:600px){.mobile-dialog{max-height:90% !important}.mobile-dialog .dialog-body{padding:12px 16px}.mobile-dialog .form-group{margin-bottom:10px}}.transfer-dialog .form-group,.red-packet-dialog .form-group,.gift-dialog .form-group,.comment-dialog .form-group{position:relative}.transfer-dialog .form-group label,.red-packet-dialog .form-group label,.gift-dialog .form-group label,.comment-dialog .form-group label{display:block;margin-bottom:0.5rem;font-weight:600;color:var(--text-primary);font-size:0.9rem}.transfer-dialog .form-group input,.transfer-dialog .form-group textarea,.red-packet-dialog .form-group input,.red-packet-dialog .form-group textarea,.gift-dialog .form-group input,.gift-dialog .form-group textarea,.comment-dialog .form-group input,.comment-dialog .form-group textarea{width:100%;padding:0.75rem 1rem;border:2px solid var(--border-color);border-radius:var(--input-border-radius);font-size:1rem;color:var(--text-primary);background-color:var(--input-bg);transition:all 0.2s ease;box-sizing:border-box;font-family:inherit}.transfer-dialog .form-group input:focus,.transfer-dialog .form-group textarea:focus,.red-packet-dialog .form-group input:focus,.red-packet-dialog .form-group textarea:focus,.gift-dialog .form-group input:focus,.gift-dialog .form-group textarea:focus,.comment-dialog .form-group input:focus,.comment-dialog .form-group textarea:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.1);background-color:white}.transfer-dialog .form-group input::placeholder,.transfer-dialog .form-group textarea::placeholder,.red-packet-dialog .form-group input::placeholder,.red-packet-dialog .form-group textarea::placeholder,.gift-dialog .form-group input::placeholder,.gift-dialog .form-group textarea::placeholder,.comment-dialog .form-group input::placeholder,.comment-dialog .form-group textarea::placeholder{color:var(--text-secondary);opacity:0.7}.transfer-dialog .form-group input[type=url],.red-packet-dialog .form-group input[type=url],.gift-dialog .form-group input[type=url],.comment-dialog .form-group input[type=url]{font-family:"Consolas","Monaco","Courier New",monospace;font-size:0.9rem;background:linear-gradient(135deg,#f8faff 0%,#eef4ff 100%);border:2px solid #e3f2fd}.transfer-dialog .form-group input[type=url]:focus,.red-packet-dialog .form-group input[type=url]:focus,.gift-dialog .form-group input[type=url]:focus,.comment-dialog .form-group input[type=url]:focus{background:white;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.1)}.transfer-dialog .form-group input[type=url]::placeholder,.red-packet-dialog .form-group input[type=url]::placeholder,.gift-dialog .form-group input[type=url]::placeholder,.comment-dialog .form-group input[type=url]::placeholder{color:#90a4ae;font-style:italic}.transfer-dialog .form-group input[type=number],.transfer-dialog .form-group input[type=text],.transfer-dialog .form-group input[type=email],.transfer-dialog .form-group input[type=url],.red-packet-dialog .form-group input[type=number],.red-packet-dialog .form-group input[type=text],.red-packet-dialog .form-group input[type=email],.red-packet-dialog .form-group input[type=url],.gift-dialog .form-group input[type=number],.gift-dialog .form-group input[type=text],.gift-dialog .form-group input[type=email],.gift-dialog .form-group input[type=url],.comment-dialog .form-group input[type=number],.comment-dialog .form-group input[type=text],.comment-dialog .form-group input[type=email],.comment-dialog .form-group input[type=url]{-webkit-appearance:none;appearance:none}.transfer-dialog .form-group input[type=number]::-webkit-outer-spin-button,.transfer-dialog .form-group input[type=number]::-webkit-inner-spin-button,.transfer-dialog .form-group input[type=text]::-webkit-outer-spin-button,.transfer-dialog .form-group input[type=text]::-webkit-inner-spin-button,.transfer-dialog .form-group input[type=email]::-webkit-outer-spin-button,.transfer-dialog .form-group input[type=email]::-webkit-inner-spin-button,.transfer-dialog .form-group input[type=url]::-webkit-outer-spin-button,.transfer-dialog .form-group input[type=url]::-webkit-inner-spin-button,.red-packet-dialog .form-group input[type=number]::-webkit-outer-spin-button,.red-packet-dialog .form-group input[type=number]::-webkit-inner-spin-button,.red-packet-dialog .form-group input[type=text]::-webkit-outer-spin-button,.red-packet-dialog .form-group input[type=text]::-webkit-inner-spin-button,.red-packet-dialog .form-group input[type=email]::-webkit-outer-spin-button,.red-packet-dialog .form-group input[type=email]::-webkit-inner-spin-button,.red-packet-dialog .form-group input[type=url]::-webkit-outer-spin-button,.red-packet-dialog .form-group input[type=url]::-webkit-inner-spin-button,.gift-dialog .form-group input[type=number]::-webkit-outer-spin-button,.gift-dialog .form-group input[type=number]::-webkit-inner-spin-button,.gift-dialog .form-group input[type=text]::-webkit-outer-spin-button,.gift-dialog .form-group input[type=text]::-webkit-inner-spin-button,.gift-dialog .form-group input[type=email]::-webkit-outer-spin-button,.gift-dialog .form-group input[type=email]::-webkit-inner-spin-button,.gift-dialog .form-group input[type=url]::-webkit-outer-spin-button,.gift-dialog .form-group input[type=url]::-webkit-inner-spin-button,.comment-dialog .form-group input[type=number]::-webkit-outer-spin-button,.comment-dialog .form-group input[type=number]::-webkit-inner-spin-button,.comment-dialog .form-group input[type=text]::-webkit-outer-spin-button,.comment-dialog .form-group input[type=text]::-webkit-inner-spin-button,.comment-dialog .form-group input[type=email]::-webkit-outer-spin-button,.comment-dialog .form-group input[type=email]::-webkit-inner-spin-button,.comment-dialog .form-group input[type=url]::-webkit-outer-spin-button,.comment-dialog .form-group input[type=url]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.transfer-dialog .form-group label:has(+input[required])::after,.transfer-dialog .form-group label:has(+textarea[required])::after,.red-packet-dialog .form-group label:has(+input[required])::after,.red-packet-dialog .form-group label:has(+textarea[required])::after,.gift-dialog .form-group label:has(+input[required])::after,.gift-dialog .form-group label:has(+textarea[required])::after,.comment-dialog .form-group label:has(+input[required])::after,.comment-dialog .form-group label:has(+textarea[required])::after{content:" *";color:#e74c3c;font-weight:bold}.transfer-dialog .dialog-body,.red-packet-dialog .dialog-body,.gift-dialog .dialog-body,.comment-dialog .dialog-body{padding:1.5rem 1.25rem}.comment-dialog{width:92%;max-width:22rem}.comment-dialog textarea{min-height:4rem;resize:vertical;font-family:inherit;line-height:1.4}.transfer-dialog{width:90%;max-width:20rem}.transfer-dialog .form-group{margin-bottom:1rem}.transfer-dialog .form-group:last-child{margin-bottom:0}.transfer-dialog input[type=number]{font-size:1.1rem;font-weight:600;text-align:center}.transfer-dialog input[type=number]:focus{color:var(--primary-blue)}.transfer-dialog input[type=text]{font-size:0.95rem}.user-profile-dialog .dialog-input-container{margin-bottom:0.75rem}.user-profile-dialog .dialog-input-container:last-child{margin-bottom:0}.user-profile-dialog .dialog-input-container input[type=url]{font-family:monospace;font-size:0.85rem}.red-packet-dialog{width:90%;max-width:20rem}.red-packet-dialog .dialog-header h3{color:#e74c3c}.red-packet-dialog .form-group{margin-bottom:1rem}.red-packet-dialog .form-group:last-child{margin-bottom:0}.red-packet-dialog input[type=number]{font-size:1.1rem;font-weight:600;text-align:center;color:#e74c3c}.red-packet-dialog input[type=number]:focus{border-color:#e74c3c;box-shadow:0 0 0 2px rgba(231,76,60,0.2)}.red-packet-dialog input[type=text]{font-size:0.95rem;text-align:center}.gift-dialog{width:90%;max-width:20rem}.gift-dialog .form-group{margin-bottom:1rem}.gift-dialog .form-group:last-child{margin-bottom:0}.gift-dialog input[type=text]{font-size:1rem;font-weight:500}.gift-dialog input[type=number]{font-size:1rem;text-align:center}.comment-dialog .dialog-footer{display:flex;border-top:1px solid var(--border-color)}.comment-dialog .dialog-button{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.comment-dialog .dialog-button:not(:last-child){border-right:1px solid var(--border-color)}.comment-dialog .dialog-button:hover{background-color:var(--ultra-light-blue)}.comment-dialog .dialog-button:active{background-color:var(--soft-blue)}body.dark-mode .transfer-dialog .form-group input,body.dark-mode .transfer-dialog .form-group textarea,body.dark-mode .red-packet-dialog .form-group input,body.dark-mode .red-packet-dialog .form-group textarea,body.dark-mode .gift-dialog .form-group input,body.dark-mode .gift-dialog .form-group textarea,body.dark-mode .comment-dialog .form-group input,body.dark-mode .comment-dialog .form-group textarea{background-color:#2a2a2a;border-color:#3c3c3c;color:#e0e0e0}body.dark-mode .transfer-dialog .form-group input:focus,body.dark-mode .transfer-dialog .form-group textarea:focus,body.dark-mode .red-packet-dialog .form-group input:focus,body.dark-mode .red-packet-dialog .form-group textarea:focus,body.dark-mode .gift-dialog .form-group input:focus,body.dark-mode .gift-dialog .form-group textarea:focus,body.dark-mode .comment-dialog .form-group input:focus,body.dark-mode .comment-dialog .form-group textarea:focus{background-color:#333333;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.2)}body.dark-mode .transfer-dialog .form-group input::placeholder,body.dark-mode .transfer-dialog .form-group textarea::placeholder,body.dark-mode .red-packet-dialog .form-group input::placeholder,body.dark-mode .red-packet-dialog .form-group textarea::placeholder,body.dark-mode .gift-dialog .form-group input::placeholder,body.dark-mode .gift-dialog .form-group textarea::placeholder,body.dark-mode .comment-dialog .form-group input::placeholder,body.dark-mode .comment-dialog .form-group textarea::placeholder{color:#888888}body.dark-mode .transfer-dialog .form-group input[type=url],body.dark-mode .red-packet-dialog .form-group input[type=url],body.dark-mode .gift-dialog .form-group input[type=url],body.dark-mode .comment-dialog .form-group input[type=url]{background:#1a1a1a;border-color:#3c3c3c;color:#e0e0e0}body.dark-mode .transfer-dialog .form-group input[type=url]:focus,body.dark-mode .red-packet-dialog .form-group input[type=url]:focus,body.dark-mode .gift-dialog .form-group input[type=url]:focus,body.dark-mode .comment-dialog .form-group input[type=url]:focus{background:#2a2a2a;border-color:var(--primary-blue)}body.dark-mode .transfer-dialog .form-group input[type=url]::placeholder,body.dark-mode .red-packet-dialog .form-group input[type=url]::placeholder,body.dark-mode .gift-dialog .form-group input[type=url]::placeholder,body.dark-mode .comment-dialog .form-group input[type=url]::placeholder{color:#888888}body.dark-mode .red-packet-dialog input[type=number]:focus{border-color:#e74c3c;box-shadow:0 0 0 3px rgba(231,76,60,0.2)}body[data-theme=pink] .transfer-dialog input[type=number]:focus{color:#d63384;border-color:#d63384;box-shadow:0 0 0 3px rgba(216,51,132,0.1)}body[data-theme=pink] .red-packet-dialog .dialog-header h3{color:#d63384}body[data-theme=pink] .input-dialog input[type=url]{background:linear-gradient(135deg,#fdf2f8 0%,#fce7f3 100%);border-color:#f8bbd9}body[data-theme=pink] .input-dialog input[type=url]:focus{border-color:#d63384;box-shadow:0 0 0 3px rgba(216,51,132,0.1)}body[data-theme=white] .transfer-dialog input[type=number]:focus{color:#689f38;border-color:#689f38;box-shadow:0 0 0 3px rgba(104,159,56,0.1)}body[data-theme=white] .red-packet-dialog .dialog-header h3{color:#f44336}body[data-theme=white] .input-dialog input[type=url]{background:linear-gradient(135deg,#f8f8f8 0%,#f0f0f0 100%);border-color:#e0e0e0;color:#333333}body[data-theme=white] .input-dialog input[type=url]:focus{border-color:#689f38;box-shadow:0 0 0 3px rgba(104,159,56,0.1)}body[data-theme=white] .input-dialog input[type=url]::placeholder{color:#999999}.input-dialog{width:90%;max-width:20rem}.voice-dialog{width:90%;max-width:22rem}.voice-dialog .dialog-header h3{display:flex;align-items:center;justify-content:center;gap:0.5rem}.voice-dialog .form-group{margin-bottom:1rem}.voice-dialog .form-group:last-child{margin-bottom:0}.voice-dialog .form-group label{display:block;margin-bottom:0.5rem;font-weight:600;color:var(--text-primary);font-size:0.9rem}.voice-dialog .form-group textarea{width:100%;min-height:80px;padding:0.75rem 1rem;border:2px solid var(--border-color);border-radius:var(--input-border-radius);font-size:1rem;color:var(--text-primary);background-color:var(--input-bg);transition:all 0.2s ease;box-sizing:border-box;font-family:inherit;resize:vertical}.voice-dialog .form-group textarea:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.1);background-color:white}.voice-dialog .form-group textarea::placeholder{color:var(--text-secondary);opacity:0.7}.voice-dialog .form-group input[type=number]{width:100%;padding:0.75rem 1rem;border:2px solid var(--border-color);border-radius:var(--input-border-radius);font-size:1rem;color:var(--text-primary);background-color:var(--input-bg);transition:all 0.2s ease;box-sizing:border-box;font-family:inherit}.voice-dialog .form-group input[type=number]:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.1);background-color:white}.voice-dialog .form-group input[type=number]::placeholder{color:var(--text-secondary);opacity:0.7}.voice-dialog .form-group input[type=number]::-webkit-outer-spin-button,.voice-dialog .form-group input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.voice-dialog .form-group input[type=number]{-webkit-appearance:none;appearance:none}.receive-dialog{width:85%;max-width:18rem}.receive-dialog .receive-content{display:flex;align-items:center;gap:1rem;padding:0.5rem 0}.receive-dialog .receive-icon{font-size:2.5rem;flex-shrink:0}.receive-dialog .receive-info{flex:1}.receive-dialog .receive-title{font-size:1rem;font-weight:500;color:var(--text-primary);margin-bottom:0.25rem}.receive-dialog .receive-price{font-size:1.2rem;font-weight:600;color:var(--primary-blue);margin-bottom:0.25rem}.receive-dialog .receive-note{font-size:0.85rem;color:var(--text-secondary);font-style:italic}.receive-dialog .dialog-footer{display:flex;border-top:1px solid var(--border-color)}.receive-dialog .dialog-footer .dialog-button{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.receive-dialog .dialog-footer .dialog-button:not(:last-child){border-right:1px solid var(--border-color)}.receive-dialog .dialog-footer .dialog-button:hover{background-color:var(--ultra-light-blue)}.receive-dialog .dialog-footer .dialog-button:active{background-color:var(--soft-blue)}.sticker-manager-modal{position:fixed;top:0;left:0;right:0;bottom:0;background-color:transparent;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn 0.2s ease}.sticker-manager-container{background:var(--header-bg);border-radius:var(--dialog-border-radius);box-shadow:0 35px 70px rgba(0,0,0,0.35),0 25px 50px rgba(0,0,0,0.25),0 15px 30px rgba(0,0,0,0.2),0 8px 16px rgba(0,0,0,0.15);width:90%;max-width:28rem;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;animation:dialogSlideIn 0.3s ease;border:1px solid var(--border-color)}.sticker-manager-container h2{margin:0;padding:1rem;text-align:center;border-bottom:1px solid var(--border-color);background:var(--header-bg);font-size:1.1rem;font-weight:600;color:var(--text-primary)}.sticker-manager-container .sticker-manager-tabs{display:flex;border-bottom:1px solid var(--border-color);background:var(--header-bg)}.sticker-manager-container .sticker-manager-tabs .tab-button{flex:1;padding:0.75rem 1rem;text-align:center;cursor:pointer;font-size:0.9rem;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;transition:all 0.2s ease}.sticker-manager-container .sticker-manager-tabs .tab-button:hover{background-color:var(--ultra-light-blue);color:var(--text-primary)}.sticker-manager-container .sticker-manager-tabs .tab-button.active{color:var(--primary-blue);border-bottom-color:var(--primary-blue);font-weight:600}.sticker-manager-container .sticker-manager-tabs .tab-button:not(:last-child){border-right:1px solid var(--border-color)}.sticker-manager-container .sticker-manager-content{overflow-y:auto;flex:1}.sticker-manager-container .sticker-manager-content .tab-content{display:none;padding:1.5rem 1.25rem}.sticker-manager-container .sticker-manager-content .tab-content.active{display:block}.sticker-manager-container .sticker-manager-content .form-group{display:flex;flex-direction:column;gap:0.5rem;margin-bottom:1rem}.sticker-manager-container .sticker-manager-content .form-group label{font-size:0.9rem;font-weight:500;color:var(--text-primary)}.sticker-manager-container .sticker-manager-content .form-group input,.sticker-manager-container .sticker-manager-content .form-group textarea{width:100%;padding:0.75rem 1rem;border:2px solid var(--border-color);border-radius:var(--input-border-radius);font-size:1rem;color:var(--text-primary);background-color:var(--input-bg);transition:all 0.2s ease;box-sizing:border-box}.sticker-manager-container .sticker-manager-content .form-group input:focus,.sticker-manager-container .sticker-manager-content .form-group textarea:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px rgba(114,173,243,0.1);background-color:white}.sticker-manager-container .sticker-manager-content .form-group input::placeholder,.sticker-manager-container .sticker-manager-content .form-group textarea::placeholder{color:var(--text-secondary);opacity:0.7}.sticker-manager-container .sticker-manager-content .form-group textarea{min-height:120px;resize:vertical;font-family:inherit}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form{display:flex;flex-direction:column;gap:1rem}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .preview-container{display:flex;flex-direction:column;align-items:center;gap:0.5rem;margin:1rem 0}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .preview-container .preview-label{font-size:0.9rem;color:var(--text-secondary)}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .preview-container .preview-img{max-width:150px;max-height:150px;border:1px dashed var(--border-color);padding:0.5rem;border-radius:var(--element-border-radius);background:var(--input-bg)}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .add-sticker-btn{padding:0.75rem 1.5rem;background:var(--primary-blue);color:white;border:none;border-radius:var(--button-border-radius);font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.2s ease}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .add-sticker-btn:hover{background:var(--soft-blue)}.sticker-manager-container .sticker-manager-content .add-sticker-section .add-sticker-form .add-sticker-btn:active{transform:translateY(1px)}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions{margin-bottom:1rem;padding:1rem;background:var(--input-bg);border-radius:var(--element-border-radius);border-left:4px solid var(--primary-blue)}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions p{margin:0 0 0.5rem 0;font-size:0.9rem;font-weight:600;color:var(--text-primary)}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions ul{margin:0;padding-left:1.5rem}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions ul li{font-size:0.85rem;color:var(--text-secondary);line-height:1.4;margin-bottom:0.25rem}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions ul li strong{color:var(--text-primary)}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-instructions ul li code{background:rgba(114,173,243,0.1);padding:0.2rem 0.4rem;border-radius:var(--small-border-radius);font-family:"Consolas","Monaco","Courier New",monospace;font-size:0.8rem}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-add-btn{width:100%;padding:0.75rem;background:var(--primary-blue);color:white;border:none;border-radius:var(--button-border-radius);font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.2s ease}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-add-btn:hover{background:var(--soft-blue)}.sticker-manager-container .sticker-manager-content .batch-add-section .batch-add-btn:active{transform:translateY(1px)}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar .selection-controls{display:flex;gap:0.5rem}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar .selection-controls button{padding:0.5rem 0.75rem;background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--element-border-radius);font-size:0.85rem;cursor:pointer;transition:all 0.2s ease;color:var(--text-primary)}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar .selection-controls button:hover{background:var(--ultra-light-blue);border-color:var(--primary-blue)}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar .delete-selected-btn{padding:0.5rem 0.75rem;background:#e74c3c;color:white;border:none;border-radius:var(--button-border-radius);font-size:0.85rem;cursor:pointer;transition:all 0.2s ease}.sticker-manager-container .sticker-manager-content .delete-manage-section .control-bar .delete-selected-btn:hover{background:#c0392b}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container{max-height:400px;overflow-y:auto;border:1px solid var(--border-color);border-radius:var(--element-border-radius);padding:1rem;background:var(--input-bg)}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:1rem}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item{display:flex;flex-direction:column;align-items:center;padding:0.75rem;border:1px solid var(--border-color);border-radius:var(--element-border-radius);background:white;transition:all 0.2s ease;position:relative}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item:hover{border-color:var(--primary-blue);box-shadow:0 2px 8px rgba(114,173,243,0.2)}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item:has(.sticker-checkbox:checked){border:2px solid var(--checkbox-border-checked);box-shadow:0 0 0 2px var(--shadow-color-rgba);background:var(--checkbox-hover-bg)}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item:has(.sticker-checkbox:checked) .sticker-label{color:var(--checkbox-border-checked);font-weight:600}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item:has(.sticker-checkbox:checked) .sticker-preview{opacity:0.8}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-checkbox{position:absolute;opacity:0;width:0;height:0;pointer-events:none}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-checkbox-button{position:absolute;top:0.5rem;right:0.5rem;width:1.25rem;height:1.25rem;border:1px solid var(--checkbox-border-unchecked);border-radius:var(--small-border-radius);background:var(--checkbox-bg-unchecked);cursor:pointer;transition:all 0.2s ease;z-index:10}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-checkbox-button.checked{border:2px solid var(--checkbox-border-checked)}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-checkbox-button.checked::after{content:"✓";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:0.7rem;font-weight:bold;color:var(--checkbox-border-checked)}@media (hover:hover){.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-checkbox-button:hover{border-color:var(--checkbox-border-checked);background:var(--checkbox-hover-bg)}}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-preview{width:60px;height:60px;object-fit:contain;margin-bottom:0.5rem}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .sticker-item .sticker-label{font-size:0.8rem;color:var(--text-secondary);text-align:center;word-break:break-all;line-height:1.2}.sticker-manager-container .sticker-manager-content .delete-manage-section .sticker-list-container .sticker-grid .no-stickers-msg{grid-column:1/-1;text-align:center;color:var(--text-secondary);padding:2rem;font-style:italic}.sticker-manager-container .sticker-manager-footer{display:flex;border-top:1px solid var(--border-color)}.sticker-manager-container .sticker-manager-footer .dialog-button{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.sticker-manager-container .sticker-manager-footer .dialog-button:hover{background-color:var(--ultra-light-blue)}.sticker-manager-container .sticker-manager-footer .dialog-button:active{background-color:var(--soft-blue)}.scrollable-text-dialog{width:85%;max-width:18rem;max-height:70vh}.scrollable-text-dialog .dialog-header{padding:1.2rem 1rem 1rem;text-align:center;border-bottom:1px solid var(--border-color);background:var(--header-bg)}.scrollable-text-dialog .dialog-header h3{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary);letter-spacing:0.3px}.scrollable-text-dialog .dialog-body.scrollable-content{max-height:50vh;overflow-y:auto;padding:1.25rem 1rem;color:var(--text-primary);font-size:0.9rem;line-height:1.5;background:transparent}.scrollable-text-dialog .dialog-body.scrollable-content .scrollable-text{margin:0;padding:0;font-family:"Consolas","Monaco","Courier New",monospace;font-size:0.8rem;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;color:var(--text-primary);background:transparent;border:none}.scrollable-text-dialog .dialog-footer{display:flex;border-top:1px solid var(--border-color)}.scrollable-text-dialog .dialog-footer .dialog-button{flex:1;padding:0.875rem;border:none;background:transparent;font-size:0.95rem;font-weight:500;cursor:pointer;transition:background-color 0.2s ease;color:var(--primary-blue)}.scrollable-text-dialog .dialog-footer .dialog-button:hover{background:var(--ultra-light-blue)}.scrollable-text-dialog .dialog-footer .dialog-button:active{background:var(--light-blue)}.scrollable-text-dialog .dialog-footer .dialog-button:not(:last-child){border-right:1px solid var(--border-color)}.scrollable-text-dialog .dialog-footer .dialog-button:first-child{border-bottom-left-radius:1rem}.scrollable-text-dialog .dialog-footer .dialog-button:last-child{border-bottom-right-radius:1rem}.scrollable-text-dialog .dialog-footer .dialog-button.copy-btn{color:var(--text-secondary)}.scrollable-text-dialog .dialog-footer .dialog-button.primary-button{color:var(--primary-blue);font-weight:600}input[type=checkbox]{position:absolute;opacity:0;width:0;height:0;pointer-events:none}.checkbox-button{display:inline-flex;align-items:center;justify-content:center;min-height:44px;padding:0.75rem 1.25rem;margin:0.25rem;border:1px solid var(--checkbox-border-unchecked);border-radius:var(--dialog-border-radius);background:var(--checkbox-bg-unchecked);color:var(--checkbox-text-unchecked);font-size:0.9rem;font-weight:500;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all 0.2s ease;box-shadow:var(--checkbox-shadow-unchecked);position:relative}@media (hover:hover){.checkbox-button:hover{background:var(--checkbox-hover-bg);border-color:var(--primary-blue);transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,0.15)}}.checkbox-button.checked{background:var(--checkbox-bg-unchecked);border:2px solid var(--checkbox-border-checked);color:var(--checkbox-border-checked);box-shadow:var(--checkbox-shadow-checked);font-weight:600}@media (hover:hover){.checkbox-button.checked:hover{background:var(--checkbox-hover-bg);border-color:var(--checkbox-border-checked);transform:translateY(-1px);box-shadow:0 6px 16px var(--checkbox-shadow-checked)}}.checkbox-button.checked::after{content:"✓";position:absolute;right:0.5rem;top:50%;transform:translateY(-50%);font-size:0.9rem;font-weight:bold;color:var(--checkbox-border-checked);opacity:1}.checkbox-button:disabled,.checkbox-button.disabled{opacity:0.5;cursor:not-allowed;pointer-events:none}.checkbox-button:focus-within{outline:2px solid var(--primary-blue);outline-offset:2px}.checkbox-button.size-small{min-height:36px;padding:0.5rem 1rem;font-size:0.8rem;border-radius:var(--element-border-radius)}.checkbox-button.size-large{min-height:52px;padding:1rem 1.5rem;font-size:1rem;border-radius:var(--dialog-border-radius)}.checkbox-button.full-width{width:100%;margin:0.25rem 0}.checkbox-group{display:flex;flex-wrap:wrap;gap:0.5rem;margin:0.5rem 0}.checkbox-group.vertical{flex-direction:column}.checkbox-group.vertical .checkbox-button{margin:0.25rem 0}.checkbox-group.horizontal{flex-direction:row}.checkbox-group.horizontal .checkbox-button{flex:1;min-width:0}.checkbox-group.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:0.5rem}body[data-theme=pink] .checkbox-button{--checkbox-border-checked:#f372ad;--checkbox-text-unchecked:rgb(186,139,162);--checkbox-border-unchecked:#e1cbd5;--checkbox-hover-bg:#fde8f4;--checkbox-shadow-checked:0 4px 12px rgba(226,74,144,0.3)}body[data-theme=white] .checkbox-button{--checkbox-border-checked:#666666;--checkbox-text-unchecked:#333333;--checkbox-border-unchecked:#e0e0e0;--checkbox-hover-bg:#f8f8f8;--checkbox-shadow-checked:0 4px 12px rgba(102,102,102,0.3)}body[data-theme=custom] .checkbox-button{--checkbox-border-checked:var(--primary-blue);--checkbox-text-unchecked:var(--text-primary);--checkbox-border-unchecked:var(--border-color);--checkbox-hover-bg:var(--ultra-light-blue);--checkbox-shadow-checked:0 4px 12px var(--shadow-color-rgba)}body.dark-mode .checkbox-button{--checkbox-bg-unchecked:#374151;--checkbox-border-unchecked:#6b7280;--checkbox-text-unchecked:#d1d5db;--checkbox-hover-bg:#4b5563;--checkbox-shadow-unchecked:0 2px 4px rgba(0,0,0,0.3)}@media (prefers-color-scheme:dark){.checkbox-button{--checkbox-bg-unchecked:#374151;--checkbox-border-unchecked:#6b7280;--checkbox-text-unchecked:#d1d5db;--checkbox-hover-bg:#4b5563;--checkbox-shadow-unchecked:0 2px 4px rgba(0,0,0,0.3)}}body.dark-mode[data-theme=pink] .checkbox-button{--checkbox-bg-unchecked:#4c1d3d;--checkbox-border-unchecked:#8b647a;--checkbox-border-checked:#f372ad;--checkbox-text-unchecked:#f3d5e7;--checkbox-hover-bg:#5d2449}body.dark-mode[data-theme=white] .checkbox-button{--checkbox-bg-unchecked:#2a2a2a;--checkbox-border-unchecked:#3c3c3c;--checkbox-border-checked:#cccccc;--checkbox-text-unchecked:#e0e0e0;--checkbox-hover-bg:#3c3c3c}.sticker-checkbox-button{border:1px solid var(--checkbox-border-unchecked,#e0e0e0);border-radius:var(--element-border-radius);background:var(--checkbox-bg-unchecked,#ffffff);cursor:pointer;transition:all 0.2s ease;display:inline-block;pointer-events:auto;-webkit-user-select:none;user-select:none}body[data-theme=white] .sticker-checkbox-button{--checkbox-border-checked:#666666;--checkbox-border-unchecked:#e0e0e0;--checkbox-bg-unchecked:#ffffff;--checkbox-hover-bg:#f8f8f8}body[data-theme=pink] .sticker-checkbox-button{--checkbox-border-checked:#f372ad;--checkbox-border-unchecked:#e1cbd5;--checkbox-bg-unchecked:#ffffff;--checkbox-hover-bg:#fde8f4}body[data-theme=custom] .sticker-checkbox-button{--checkbox-border-checked:var(--primary-blue);--checkbox-border-unchecked:var(--border-color);--checkbox-bg-unchecked:#ffffff;--checkbox-hover-bg:var(--ultra-light-blue)}.sticker-checkbox-button.checked{border:2px solid var(--checkbox-border-checked,#007aff);background:var(--checkbox-bg-unchecked,#ffffff)}.sticker-checkbox-button.checked::after{content:"✓";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:0.75rem;font-weight:bold;color:var(--checkbox-border-checked,#007aff)}@media (hover:hover){.sticker-checkbox-button:hover{border-color:var(--checkbox-border-checked);background:var(--checkbox-hover-bg)}}.feature-item:has(.sticker-checkbox:checked),.sticker-item:has(.sticker-checkbox:checked){border-color:var(--checkbox-border-checked);box-shadow:0 0 0 2px var(--shadow-color-rgba);background:var(--checkbox-hover-bg)}.feature-item:has(.sticker-checkbox:checked) .feature-label,.feature-item:has(.sticker-checkbox:checked) .sticker-label,.sticker-item:has(.sticker-checkbox:checked) .feature-label,.sticker-item:has(.sticker-checkbox:checked) .sticker-label{color:var(--checkbox-border-checked)}@media (max-width:768px){.checkbox-button{min-height:48px;padding:0.875rem 1.5rem;font-size:0.95rem}.checkbox-group.horizontal{flex-direction:column}.checkbox-group.horizontal .checkbox-button{width:100%}.sticker-checkbox-button{width:1.75rem;height:1.75rem;top:0.125rem;right:0.125rem}}*{box-sizing:border-box}*{transition-timing-function:ease}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:2px}::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.wechat-body::-webkit-scrollbar,.moments-body::-webkit-scrollbar,.settings-body::-webkit-scrollbar,.panel-view::-webkit-scrollbar,.app-screen::-webkit-scrollbar,.file-content::-webkit-scrollbar,.message-bubble::-webkit-scrollbar,.voice-text-content::-webkit-scrollbar,.image-desc-content::-webkit-scrollbar,.event-description::-webkit-scrollbar,.recall-content::-webkit-scrollbar{display:none}.wechat-body,.moments-body,.settings-body,.panel-view,.app-screen,.file-content,.message-bubble,.voice-text-content,.image-desc-content,.event-description,.recall-content{scrollbar-width:none}::selection{background:var(--primary-blue);color:white}::-moz-selection{background:var(--primary-blue);color:white}:focus{outline:none}.no-select{-webkit-user-select:none;user-select:none}@media (max-width:360px){body{padding:0.5rem}.phone-frame{max-width:100%;width:100%}.wechat-body,.settings-body,.moments-body,.app-screen{-webkit-overflow-scrolling:touch}input,textarea{font-size:16px}}
</style></head>
  <body>
    <div class="phone-frame">
      <div class="phone-screen">
        <div id="delete-mode-trigger"></div>
        <div id="hidden-send-trigger"></div>

        <!-- Status Bar (Added from original theme) -->
        <div class="phone-status-bar">
          <div class="status-left">
            <span id="current-time">00:00</span>
            <i class="fas fa-moon moon-icon"></i>
          </div>
          <div class="status-right">
            <div class="signal-bars">
              <i class="fas fa-signal"></i>
            </div>
            <i class="fas fa-wifi wifi-icon"></i>
            <i class="fas fa-battery-three-quarters battery-icon"></i>
          </div>
        </div>

        <div class="dynamic-island"></div>

        <!-- 主屏幕：应用列表 -->
        <div class="app-view app-screen active" id="app-homescreen">
          <div class="app-grid">
            <div class="app-icon" id="app-wechat">
              <div class="icon-image icon-wechat"><i class="fab fa-weixin"></i></div>
              <span class="app-name">WeChat</span>
            </div>
            <div class="app-icon" id="app-settings">
              <div class="icon-image icon-settings"><i class="fas fa-cog"></i></div>
              <span class="app-name">设置</span>
            </div>
          </div>
        </div>

        <!-- 微信主界面（列表 + 底栏） -->
        <div class="app-view" id="wechat-home">
          <header class="wechat-home-header">
            <i class="fas fa-chevron-left wechat-home-back" id="wechat-home-back"></i>
            <div class="wechat-home-title">微信</div>
            <div class="wechat-home-actions">
              <i class="fas fa-search"></i>
              <i class="fas fa-plus"></i>
            </div>
          </header>
          <main class="wechat-home-body">
            <section class="wechat-home-section active" id="wechat-tab-conv">
              <ul id="conversation-list" class="conversation-list">
                <li class="conv-item placeholder">暂无会话，后续展示单聊/群聊/公众号</li>
              </ul>
            </section>
            <section class="wechat-home-section" id="wechat-tab-contacts">
              <div class="shortcut-item">添加朋友（占位）</div>
              <div class="shortcut-item">群聊列表（占位）</div>
              <ul id="contacts-list" class="contacts-list">
                <li class="contact-item placeholder">联系人列表占位</li>
              </ul>
            </section>
            <section class="wechat-home-section" id="wechat-tab-discover">
              <p class="placeholder">发现/朋友圈已在现有界面实现，点击右上角或后续入口进入。</p>
            </section>
            <section class="wechat-home-section" id="wechat-tab-me">
              <div class="profile-card">
                <div class="profile-avatar" id="profile-avatar"></div>
                <div class="profile-info">
                  <div class="profile-name" id="profile-name">用户昵称</div>
                  <div class="profile-signature" id="profile-signature">个性签名占位</div>
                </div>
              </div>
            </section>
          </main>
          <nav class="wechat-home-tabbar">
            <button class="wechat-tab-btn active" data-target="conv">
              <span class="tab-icon tab-icon-wechat"></span>
              <span class="tab-label">微信</span>
            </button>
            <button class="wechat-tab-btn" data-target="contacts">
              <span class="tab-icon tab-icon-contacts"></span>
              <span class="tab-label">通讯录</span>
            </button>
            <button class="wechat-tab-btn" data-target="discover">
              <span class="tab-icon tab-icon-discover"></span>
              <span class="tab-label">发现</span>
            </button>
            <button class="wechat-tab-btn" data-target="me">
              <span class="tab-icon tab-icon-me"></span>
              <span class="tab-label">我</span>
            </button>
          </nav>
        </div>

        <!-- 微信聊天界面 -->
        <div class="app-view" id="wechat-view">
          <div class="wechat-header">
            <i class="fas fa-chevron-left back-btn" id="wechat-back-btn-dummy"></i>
            <span class="contact-name" id="contact-name-header">Character</span>
            <i class="fas fa-ellipsis-h options-btn" id="wechat-options-btn">
              <div class="notification-dot" id="moments-notification" style="display: none"></div>
            </i>
          </div>

          <div class="wechat-body" id="wechat-body">
            <!-- 消息内容将通过JavaScript动态生成 -->
          </div>

          <div class="wechat-input-area">
            <footer class="wechat-footer">
              <i id="microphone-btn" class="fas fa-microphone footer-icon"></i>
              <input
                type="text"
                id="wechat-input-field"
                class="text-input"
                placeholder="发送信息"
                autocomplete="off"
                autocapitalize="off"
                spellcheck="false"
              />
              <i id="smile-btn" class="far fa-smile footer-icon"></i>
              <i id="plus-btn" class="fas fa-plus-circle footer-icon"></i>
              <button id="send-btn" class="send-btn"><i class="fas fa-paper-plane"></i></button>
            </footer>
            <div id="panel-container" class="panel-container">
              <div id="sticker-panel" class="panel-view"><div id="sticker-grid" class="features-grid"></div></div>
              <div id="char-sticker-panel" class="panel-view">
                <div id="char-sticker-grid" class="features-grid"></div>
              </div>
              <div id="plus-panel" class="panel-view"><div id="plus-grid" class="features-grid"></div></div>
            </div>
          </div>
        </div>

        <!-- 设置视图 -->
        <div id="settings-view" class="app-view">
          <header class="settings-header">
            <i class="fas fa-chevron-left back-btn" id="settings-back-btn"></i>
            <span class="title">关于</span>
          </header>
          <main class="settings-body">
            <div class="settings-card">
              <p>
                本同层手机<span class="highlight">【免费】</span>发布于discord的尾巴镇社区和旅程社区，作者：<span
                  class="highlight"
                  >暴力美学BLMX</span
                >，点击即可跳转到社区
                <a href="https://discord.com/channels/1379304008157499423/1388180976873766973" target="_blank"
                  >https://discord.com/...</a
                >。<a href="https://discord.com/channels/1291925535324110879/1388182155707814009" target="_blank"
                  >https://discord.com/...</a
                >。
              </p>
              <p>
                如果你是通过任何<span class="highlight">付费途径</span>获取，请带着购买记录来找作者，<span
                  class="highlight"
                  >重重有赏</span
                >。抵制任何窃取创作者劳动成果的商业化行为，从你我做起TvT
              </p>
              <p>
                <span class="highlight">禁止</span>在酒馆以外的平台使用！<span class="highlight">禁止</span
                >未经授权的二传二改！<span class="highlight">禁止</span>任何行为的倒卖和商业化行为！
              </p>
              <p>
                后续更新内容也会发在discord的尾巴镇社区和旅程社区，有问题欢迎来提问哦！有想玩的功能、想提出的建议也可以在帖子下评论。
              </p>
            </div>
            <div class="settings-card" style="margin-top: 1rem; padding: 0">
              <ul style="list-style: none; margin: 0; padding: 0">
                <li style="border-bottom: 1px solid #efefef">
                  <a
                    href="#"
                    id="change-chat-wallpaper-btn"
                    style="
                      text-decoration: none;
                      color: #8ba2ba;
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                      padding: 1rem;
                    "
                  >
                    <span>更换聊天壁纸</span>
                    <i class="fas fa-chevron-right"></i>
                  </a>
                </li>
                <li style="border-bottom: 1px solid #efefef">
                  <a
                    href="#"
                    id="change-home-wallpaper-btn"
                    style="
                      text-decoration: none;
                      color: #8ba2ba;
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                      padding: 1rem;
                    "
                  >
                    <span>更换主屏幕壁纸</span>
                    <i class="fas fa-chevron-right"></i>
                  </a>
                </li>
                <li>
                  <a
                    href="#"
                    id="change-settings-wallpaper-btn"
                    style="
                      text-decoration: none;
                      color: #8ba2ba;
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                      padding: 1rem;
                    "
                  >
                    <span>更换设置壁纸</span>
                    <i class="fas fa-chevron-right"></i>
                  </a>
                </li>
              </ul>
            </div>

            <!-- 新增主题配色设置卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 0">
              <div style="padding: 1rem; border-bottom: 1px solid #efefef">
                <h3 style="margin: 0; font-size: 1rem; color: var(--text-primary)">主题配色</h3>
              </div>
              <div
                class="theme-options"
                style="padding: 1rem; display: flex; flex-wrap: wrap; gap: 1rem; justify-content: space-between"
              >
                <!-- 主题选项将通过JS动态生成 -->
              </div>
              <div style="padding: 1rem; border-top: 1px solid #efefef">
                <button
                  id="custom-theme-btn"
                  style="
                    width: 100%;
                    padding: 0.75rem;
                    background: var(--primary-blue);
                    color: white;
                    border: none;
                    border-radius: 0.5rem;
                    font-weight: 500;
                    cursor: pointer;
                  "
                >
                  自定义主题
                </button>
              </div>
            </div>

            <!-- 使用说明卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 0">
              <div style="padding: 1rem; border-bottom: 1px solid #efefef">
                <h3 style="margin: 0; font-size: 1rem; color: var(--text-primary)">💡 使用说明</h3>
              </div>
              <div style="padding: 1rem">
                <div style="margin-bottom: 0.75rem">
                  <h4 style="margin: 0 0 0.5rem 0; font-size: 0.9rem; color: var(--text-primary); font-weight: 600">
                    📱 消息撤回功能
                  </h4>
                  <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary); line-height: 1.4">
                    <strong>长按撤回：</strong>长按自己发送的消息气泡600毫秒即可撤回<br />
                    <strong>双击撤回：</strong>快速双击自己的消息气泡也可以撤回（全屏模式推荐）<br />
                    <span style="color: var(--primary-blue)">💡 提示：全屏模式下长按可能失效，建议使用双击撤回</span>
                  </p>
                </div>
                <div style="margin-bottom: 0.75rem">
                  <h4 style="margin: 0 0 0.5rem 0; font-size: 0.9rem; color: var(--text-primary); font-weight: 600">
                    🎨 主题自定义
                  </h4>
                  <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary); line-height: 1.4">
                    选择预设主题后点击"自定义主题"按钮，可以基于当前主题进行个性化调整
                  </p>
                </div>
              </div>
            </div>

            <div class="settings-card" style="margin-top: 1rem; padding: 1rem">
              <p style="font-weight: 500; margin: 0 0 0.75rem 0.25rem; color: var(--text-primary); font-size: 0.9em">
                调试工具
              </p>
              <ul style="list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 0.5rem">
                <li>
                  <a
                    href="#"
                    id="show-last-ai-response-btn"
                    style="
                      text-decoration: none;
                      display: block;
                      text-align: center;
                      background-color: #eef4fd;
                      padding: 0.6rem 1rem;
                      border-radius: 0.6rem;
                      color: var(--text-primary);
                      font-weight: 500;
                    "
                  >
                    <span>显示AI最新原始回复</span>
                  </a>
                </li>
                <li>
                  <a
                    href="#"
                    id="show-last-sent-prompt-btn"
                    style="
                      text-decoration: none;
                      display: block;
                      text-align: center;
                      background-color: #eef4fd;
                      padding: 0.6rem 1rem;
                      border-radius: 0.6rem;
                      color: var(--text-primary);
                      font-weight: 500;
                    "
                  >
                    <span>显示发送给AI的提示</span>
                  </a>
                </li>
              </ul>
            </div>

            <!-- 手机尺寸调整设置卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 1rem">
              <p style="font-weight: 500; margin: 0 0 0.75rem 0.25rem; color: var(--text-primary); font-size: 0.9em">
                手机尺寸调整
              </p>
              <div style="display: flex; flex-direction: column; gap: 0.75rem">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 0.5rem">
                  <button id="phone-size-default" class="phone-size-btn phone-size-active">
                    <span class="size-icon" style="height: 24px"></span>
                    <span class="size-label">默认尺寸</span>
                  </button>
                  <button id="phone-size-medium" class="phone-size-btn">
                    <span class="size-icon" style="height: 20px"></span>
                    <span class="size-label">中等尺寸</span>
                  </button>
                  <button id="phone-size-small" class="phone-size-btn">
                    <span class="size-icon" style="height: 16px"></span>
                    <span class="size-label">小尺寸</span>
                  </button>
                </div>
                <div style="font-size: 0.8em; color: var(--text-secondary); text-align: center">
                  调整手机屏幕的高度大小
                </div>
              </div>
            </div>

            <!-- 全屏模式手机大小设置卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 1rem">
              <p style="font-weight: 500; margin: 0 0 0.75rem 0.25rem; color: var(--text-primary); font-size: 0.9em">
                全屏模式手机大小
              </p>
              <div style="display: flex; flex-direction: column; gap: 0.75rem">
                <!-- 滑块和数字输入 -->
                <div style="display: flex; flex-direction: column; gap: 0.5rem">
                  <div style="display: flex; justify-content: space-between; align-items: center">
                    <span style="font-size: 0.9em; color: var(--text-secondary)">小</span>
                    <input
                      type="range"
                      id="fullscreen-size-slider"
                      min="50"
                      max="200"
                      step="5"
                      value="100"
                      style="flex-grow: 1; margin: 0 10px; accent-color: var(--primary-blue)"
                    />
                    <span style="font-size: 0.9em; color: var(--text-secondary)">大</span>
                  </div>
                  <div style="display: flex; justify-content: center; align-items: center; gap: 0.5rem">
                    <input
                      type="number"
                      id="fullscreen-size-input"
                      value="100"
                      min="50"
                      max="200"
                      step="5"
                      style="
                        width: 70px;
                        padding: 0.25rem 0.5rem;
                        border: 1px solid var(--border-color);
                        border-radius: var(--element-border-radius);
                        text-align: center;
                        font-size: 0.85em;
                        background: var(--settings-card-bg-color);
                        color: var(--text-primary);
                      "
                    />
                    <span style="font-size: 0.85em; color: var(--text-secondary)">%</span>
                  </div>
                </div>

                <!-- 预设按钮 -->
                <div style="display: flex; justify-content: space-between; gap: 0.5rem; margin-top: 0.5rem">
                  <button id="fullscreen-size-default" class="fullscreen-size-btn fullscreen-size-active">
                    <span class="fullscreen-size-icon">📲</span>
                    <span class="fullscreen-size-label">默认 (100%)</span>
                  </button>
                  <button id="fullscreen-size-large" class="fullscreen-size-btn">
                    <span class="fullscreen-size-icon">📺</span>
                    <span class="fullscreen-size-label">大 (130%)</span>
                  </button>
                  <button id="fullscreen-size-xlarge" class="fullscreen-size-btn">
                    <span class="fullscreen-size-icon">🖥️</span>
                    <span class="fullscreen-size-label">超大 (160%)</span>
                  </button>
                </div>

                <div style="font-size: 0.8em; color: var(--text-secondary); text-align: center">
                  调整全屏模式下手机的显示大小
                </div>
              </div>
            </div>

            <!-- 字体设置卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 1rem">
              <p style="font-weight: 500; margin: 0 0 0.75rem 0.25rem; color: var(--text-primary); font-size: 0.9em">
                字体设置
              </p>
              <div style="display: flex; flex-direction: column; gap: 0.75rem">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 0.5rem">
                  <button id="font-default" class="font-btn font-active">
                    <span class="font-icon">🎨</span>
                    <span class="font-label">自定义字体</span>
                  </button>
                  <button id="font-system" class="font-btn">
                    <span class="font-icon">📱</span>
                    <span class="font-label">系统字体</span>
                  </button>
                </div>
                <div style="font-size: 0.8rem; color: var(--text-secondary); text-align: center; margin-top: 0.25rem">
                  选择应用使用的字体样式
                </div>
              </div>
            </div>

            <!-- 新增表情大小调整卡片 -->
            <div class="settings-card" style="margin-top: 1rem; padding: 1rem">
              <p style="font-weight: 500; margin: 0 0 0.75rem 0.25rem; color: var(--text-primary); font-size: 0.9em">
                表情包大小设置
              </p>
              <div style="display: flex; flex-direction: column; gap: 0.75rem">
                <!-- 滑块区域 -->
                <div style="display: flex; flex-direction: column; gap: 0.5rem">
                  <div style="display: flex; justify-content: space-between; align-items: center">
                    <span style="font-size: 0.9em; color: var(--text-secondary)">小</span>
                    <input
                      type="range"
                      id="sticker-size-slider"
                      min="40"
                      step="5"
                      max="200"
                      value="120"
                      style="flex-grow: 1; margin: 0 10px; accent-color: var(--primary-blue)"
                    />
                    <span style="font-size: 0.9em; color: var(--text-secondary)">大</span>
                  </div>
                  <div style="display: flex; justify-content: center; align-items: center; gap: 0.5rem">
                    <input
                      type="number"
                      id="sticker-size-input"
                      value="120"
                      min="40"
                      max="200"
                      step="5"
                      style="
                        width: 70px;
                        padding: 0.25rem 0.5rem;
                        border: 1px solid var(--border-color);
                        border-radius: var(--element-border-radius);
                        text-align: center;
                        font-size: 0.85em;
                        background: var(--settings-card-bg-color);
                        color: var(--text-primary);
                      "
                    />
                    <span style="font-size: 0.9em; color: var(--text-secondary)">像素</span>
                  </div>
                </div>

                <!-- 预设按钮 -->
                <div style="display: flex; justify-content: space-between; gap: 0.5rem; margin-top: 0.5rem">
                  <button id="sticker-size-small" class="sticker-size-btn">
                    <span class="sticker-size-icon" style="height: 16px"></span>
                    <span class="sticker-size-label">小 (80px)</span>
                  </button>
                  <button id="sticker-size-medium" class="sticker-size-btn sticker-size-active">
                    <span class="sticker-size-icon" style="height: 20px"></span>
                    <span class="sticker-size-label">中 (120px)</span>
                  </button>
                </div>

                <div style="font-size: 0.8em; color: var(--text-secondary); text-align: center">
                  调整聊天中表情包的显示大小
                </div>
              </div>
            </div>
          </main>
        </div>

        <!-- 朋友圈视图 -->
        <div id="moments-view" class="app-view">
          <header class="moments-header">
            <i class="fas fa-chevron-left header-action" id="moments-back-btn"></i>
            <span class="title">朋友圈</span>
            <i class="fas fa-camera header-action" id="post-moment-btn"></i>
          </header>
          <main class="moments-body">
            <div class="moments-feed-header">
              <img
                src="https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/wallpaper/白色_1.jpg"
                alt="朋友圈封面"
                class="moments-cover-photo"
                id="moments-cover-photo"
              />
              <div class="moments-user-info">
                <span class="moments-user-name" id="moments-user-name">用户名</span>
                <img
                  src="https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/素材/头像/默认头像.jpg"
                  alt="用户头像"
                  class="moments-user-avatar"
                  id="moments-user-avatar"
                />
              </div>
              <div class="user-signature" id="user-signature-display">这里是个性签名...</div>
            </div>
            <ul class="moments-feed-list" id="moments-feed-list"></ul>
          </main>
        </div>
      </div>
    </div>

    <input type="file" id="image-upload-input" accept="image/*" style="display: none" />

    <!-- 自定义主题编辑器模态框 -->
    <div
      id="theme-editor-modal"
      class="modal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        overflow-y: auto;
      "
    >
      <div
        class="modal-content"
        style="
          background-color: white;
          margin: 10% auto;
          padding: 20px;
          width: 80%;
          max-width: 500px;
          border-radius: 10px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        "
      >
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px">
          <h2 style="margin: 0; color: var(--text-primary); font-size: 1.2rem">自定义主题</h2>
          <button
            id="close-theme-editor"
            style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary)"
          >
            &times;
          </button>
        </div>

        <div style="margin-bottom: 15px">
          <label style="display: block; margin-bottom: 5px; color: var(--text-primary); font-weight: 500"
            >主题名称</label
          >
          <input
            type="text"
            id="theme-name-input"
            style="
              width: 100%;
              padding: 8px;
              border: 1px solid var(--border-color);
              border-radius: 5px;
              box-sizing: border-box;
            "
            placeholder="我的自定义主题"
          />
        </div>

        <div style="max-height: 400px; overflow-y: auto; padding-right: 10px">
          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">主题色</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >主色调</label
                >
                <input
                  type="color"
                  id="primary-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >次要强调色</label
                >
                <input
                  type="color"
                  id="light-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px">
              主题色用于按钮、图标、链接等交互元素
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">背景色</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >应用背景色</label
                >
                <input
                  type="color"
                  id="ultra-light-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >卡片背景色</label
                >
                <input
                  type="color"
                  id="deep-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">文字颜色</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >主要文字</label
                >
                <input
                  type="color"
                  id="text-primary-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >次要文字</label
                >
                <input
                  type="color"
                  id="text-secondary-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">边框与阴影</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >边框颜色</label
                >
                <input
                  type="color"
                  id="border-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >阴影颜色</label
                >
                <input
                  type="color"
                  id="shadow-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">状态栏与灵动岛</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >状态栏颜色</label
                >
                <input
                  type="color"
                  id="status-bar-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >灵动岛颜色</label
                >
                <input
                  type="color"
                  id="dynamic-island-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">我的消息气泡</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >背景颜色</label
                >
                <input
                  type="color"
                  id="bubble-me-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >文字颜色</label
                >
                <input
                  type="color"
                  id="bubble-me-text-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">AI消息气泡</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px">
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >背景颜色</label
                >
                <input
                  type="color"
                  id="bubble-them-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >文字颜色</label
                >
                <input
                  type="color"
                  id="bubble-them-text-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">手机边框</h3>
            <div style="display: flex; gap: 10px; margin-bottom: 10px">
              <div style="flex: 1">
                <label style="display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text-secondary)"
                  >边框颜色</label
                >
                <input
                  type="color"
                  id="phone-frame-color"
                  style="width: 100%; height: 40px; border: none; border-radius: 5px; cursor: pointer"
                />
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">主题模式</h3>
            <div style="display: flex; align-items: center; position: relative">
              <input
                type="checkbox"
                id="dark-mode-toggle"
                class="sticker-checkbox"
                style="position: absolute; opacity: 0; width: 0; height: 0; pointer-events: none"
              />
              <div
                class="sticker-checkbox-button"
                id="dark-mode-checkbox-button"
                style="
                  position: relative;
                  width: 18px;
                  height: 18px;
                  margin-left: 2px;
                  margin-right: 12px;
                  display: block;
                  border: 1px solid #ccc;
                  background: white;
                  cursor: pointer;
                "
              ></div>
              <label for="dark-mode-toggle" style="color: var(--text-primary); font-size: 0.9rem">启用夜间模式</label>
            </div>
            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px">
              夜间模式会将应用背景、设置页面和卡片等元素变为深色
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h3 style="margin: 0 0 10px 0; color: var(--text-primary); font-size: 1rem">图标样式</h3>
            <div style="display: flex; align-items: center; position: relative">
              <input
                type="checkbox"
                id="single-color-icons-toggle"
                class="sticker-checkbox"
                style="position: absolute; opacity: 0; width: 0; height: 0; pointer-events: none"
              />
              <div
                class="sticker-checkbox-button"
                id="single-color-icons-checkbox-button"
                style="
                  position: relative;
                  width: 18px;
                  height: 18px;
                  margin-left: 2px;
                  margin-right: 12px;
                  display: block;
                  border: 1px solid #ccc;
                  background: white;
                  cursor: pointer;
                "
              ></div>
              <label for="single-color-icons-toggle" style="color: var(--text-primary); font-size: 0.9rem"
                >使用单一颜色图标</label
              >
            </div>
            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px">
              启用后，微信图标和设置图标将使用主题色，而不是默认的绿色和灰色
            </div>
          </div>
        </div>

        <!-- 导入导出按钮组 -->
        <div
          style="
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
          "
        >
          <button
            id="import-theme-btn"
            style="
              padding: 10px 20px;
              background: var(--primary-blue);
              color: white;
              border: none;
              border-radius: 5px;
              cursor: pointer;
              font-weight: 500;
            "
            title="导入JSON主题文件"
          >
            导入
          </button>
          <button
            id="export-json-btn"
            style="
              padding: 10px 20px;
              background: var(--primary-blue);
              color: white;
              border: none;
              border-radius: 5px;
              cursor: pointer;
              font-weight: 500;
            "
            title="导出为JSON格式"
          >
            导出
          </button>
        </div>

        <div style="display: flex; justify-content: space-between; margin-top: 20px">
          <button
            id="reset-theme-btn"
            style="
              padding: 10px 15px;
              background: #f1f5f9;
              color: var(--text-primary);
              border: none;
              border-radius: 5px;
              cursor: pointer;
              font-weight: 500;
            "
          >
            重置
          </button>
          <button
            id="save-theme-btn"
            style="
              padding: 10px 20px;
              background: var(--primary-blue);
              color: white;
              border: none;
              border-radius: 5px;
              cursor: pointer;
              font-weight: 500;
            "
          >
            保存主题
          </button>
        </div>
      </div>
    </div>
  </body>
</html>
