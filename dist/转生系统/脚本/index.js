import{registerMvuSchema as t}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';import{compare as r}from'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';import'https://testingcf.jsdelivr.net/npm/json5/+esm';import'https://testingcf.jsdelivr.net/npm/jsonrepair/+esm';import'https://testingcf.jsdelivr.net/npm/zod/v4/core/+esm';const e=z,s=e.z.object({世界:e.z.object({当前时间:e.z.string(),当前地点:e.z.string()}),主角:e.z.object({姓名:e.z.string(),性别:e.z.string(),年龄:e.z.coerce.number().or(e.z.templateLiteral([e.z.coerce.number(),e.z.literal('岁')]).transform(t=>parseInt(t))).or(e.z.literal('待初始化')),外貌:e.z.object({描述:e.z.string(),主角评价:e.z.string()}),能力面板:e.z.record(e.z.enum(['力量','敏捷','体质','感知','意志','魅力']),e.z.object({数值:e.z.coerce.number().or(e.z.literal('待初始化')),主角评价:e.z.string()})),装备栏:e.z.record(e.z.enum(['主手','副手','防具','饰品']),e.z.object({装备:e.z.string(),主角评价:e.z.string()})),物品栏:e.z.record(e.z.string(),e.z.object({描述:e.z.string(),主角评价:e.z.string()})),持有能力:e.z.record(e.z.string(),e.z.object({描述:e.z.string(),主角评价:e.z.string()})),当前状态:e.z.record(e.z.string(),e.z.object({类型:e.z.enum(['增益','减益']),持续时间:e.z.string(),触发条件:e.z.string(),描述:e.z.string(),主角评价:e.z.string()}))}),系统状态:e.z.object({可用积分:e.z.coerce.number().or(e.z.literal('待初始化')),对主角可见形象:e.z.string(),玩家ID:e.z.string(),玩家本轮操作日志:e.z.array(e.z.string())}),商品列表:e.z.record(e.z.string(),e.z.object({描述:e.z.string(),主角评价:e.z.string(),积分价格:e.z.coerce.number().or(e.z.literal('待初始化'))})),任务列表:e.z.record(e.z.string(),e.z.object({类型:e.z.enum(['主线','支线','每日','临危受命']),说明:e.z.string(),目标:e.z.string(),奖励:e.z.string(),惩罚:e.z.string()}))});$(()=>{t(s)}),$(async()=>{await async function(t,e,s){const n=(await getCharacter(t)).version.trim()||'0.0.0';r(n,e,'>=')||(await importRawCharacter(t,await fetch(s).then(t=>t.blob())),replaceCharacter(t,{version:e}),toastr.success(`角色卡已自动更新到 '${e.startsWith('v')?e:`v${e}`}'`,t))}('作为异世界的系统',await fetch('https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/转生系统/index.yaml').then(t=>t.text()).then(t=>_.get(YAML.parse(t),'版本','0.0.0')).catch(()=>'0.0.0'),'https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/转生系统/作为异世界的系统.png')});
//# sourceMappingURL=index.js.map