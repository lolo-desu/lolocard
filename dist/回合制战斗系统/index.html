<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>回合制战斗界面</title>
  <script type="module">var __webpack_modules__ = {
  "./src/回合制战斗系统/index.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui_battle_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/battle-interface */ \"./src/回合制战斗系统/ui/battle-interface.ts\");\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/main.scss */ \"./src/回合制战斗系统/styles/main.scss\");\n// 主入口文件，用于 Webpack 打包\n// 导入 UI 模块，确保其代码被包含在打包结果中\n\n// 导入样式文件，Webpack 会处理 SCSS 编译和打包\n\n// 后续可以从这里导出模块的主要功能或类\n// export { BattleManager } from './core/battle-manager';\n// 也可以在这里执行一些全局初始化操作（如果需要）\nconsole.log('回合制战斗系统组件已加载');\n// TODO:\n// 1. 实现核心战斗逻辑 (core/)\n// 2. 定义数据模型 (models/)\n// 3. 实现与 SillyTavern 的通信 (communication/)\n// 4. 将 battle-interface.ts 中的模拟数据替换为真实数据流\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Zue5ZCI5Yi25oiY5paX57O757ufL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLHNCQUFzQjtBQUV0QiwwQkFBMEI7QUFDSztBQUUvQixnQ0FBZ0M7QUFDSjtBQUU1QixxQkFBcUI7QUFDckIseURBQXlEO0FBRXpELDBCQUEwQjtBQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBRTVCLFFBQVE7QUFDUixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLDBDQUEwQztBQUMxQywwQ0FBMEMiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+WbnuWQiOWItuaImOaWl+ezu+e7ny9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDkuLvlhaXlj6Pmlofku7bvvIznlKjkuo4gV2VicGFjayDmiZPljIVcblxuLy8g5a+85YWlIFVJIOaooeWdl++8jOehruS/neWFtuS7o+eggeiiq+WMheWQq+WcqOaJk+WMhee7k+aenOS4rVxuaW1wb3J0ICcuL3VpL2JhdHRsZS1pbnRlcmZhY2UnO1xuXG4vLyDlr7zlhaXmoLflvI/mlofku7bvvIxXZWJwYWNrIOS8muWkhOeQhiBTQ1NTIOe8luivkeWSjOaJk+WMhVxuaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG4vLyDlkI7nu63lj6/ku6Xku47ov5nph4zlr7zlh7rmqKHlnZfnmoTkuLvopoHlip/og73miJbnsbtcbi8vIGV4cG9ydCB7IEJhdHRsZU1hbmFnZXIgfSBmcm9tICcuL2NvcmUvYmF0dGxlLW1hbmFnZXInO1xuXG4vLyDkuZ/lj6/ku6XlnKjov5nph4zmiafooYzkuIDkupvlhajlsYDliJ3lp4vljJbmk43kvZzvvIjlpoLmnpzpnIDopoHvvIlcbmNvbnNvbGUubG9nKCflm57lkIjliLbmiJjmlpfns7vnu5/nu4Tku7blt7LliqDovb0nKTtcblxuLy8gVE9ETzpcbi8vIDEuIOWunueOsOaguOW/g+aImOaWl+mAu+i+kSAoY29yZS8pXG4vLyAyLiDlrprkuYnmlbDmja7mqKHlnosgKG1vZGVscy8pXG4vLyAzLiDlrp7njrDkuI4gU2lsbHlUYXZlcm4g55qE6YCa5L+hIChjb21tdW5pY2F0aW9uLylcbi8vIDQuIOWwhiBiYXR0bGUtaW50ZXJmYWNlLnRzIOS4reeahOaooeaLn+aVsOaNruabv+aNouS4uuecn+WunuaVsOaNrua1gVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/回合制战斗系统/index.ts\n\n}");
  },
  "./src/回合制战斗系统/styles/main.scss"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Zue5ZCI5Yi25oiY5paX57O757ufL3N0eWxlcy9tYWluLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5Zue5ZCI5Yi25oiY5paX57O757ufL3N0eWxlcy9tYWluLnNjc3M/NGJjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/回合制战斗系统/styles/main.scss\n\n}");
  },
  "./src/回合制战斗系统/ui/battle-interface.ts"(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
    eval("{__webpack_require__.r(__webpack_exports__);\n/**\n * 更新角色信息的显示\n * @param type 'player' 或 'enemy'\n * @param character 角色数据\n */\nfunction updateCharacterInfo(type, character) {\n    const infoDiv = $(`#${type}-info`);\n    if (infoDiv.length === 0)\n        return;\n    const attributes = character.attributes;\n    const statusNames = character.status.map(s => s.name).join(', ');\n    infoDiv.html(`\n        <h3>${character.name}</h3>\n        <div class=\"status-bar hp\">\n            <div class=\"bar-fill\" style=\"width: ${(attributes.hp / attributes.maxHp) * 100}%;\"></div>\n        </div>\n        <span>HP: ${attributes.hp} / ${attributes.maxHp}</span>\n        <div class=\"status-bar mp\">\n            <div class=\"bar-fill\" style=\"width: ${(attributes.mp / attributes.maxMp) * 100}%;\"></div>\n        </div>\n        <span>MP: ${attributes.mp} / ${attributes.maxMp}</span>\n        <div class=\"status-effects\">\n            状态: ${statusNames || '无'}\n        </div>\n    `);\n}\n/**\n * 向战斗日志添加条目\n * @param logEntry 日志条目数据\n */\nfunction addLogEntry(logEntry) {\n    const battleLog = $('#battle-log');\n    if (battleLog.length === 0)\n        return;\n    let entryClass = 'log-entry';\n    if (logEntry.actionType === 'system') {\n        entryClass += ' system-message';\n    }\n    else if (logEntry.actorId === 'player') {\n        // 假设玩家 ID 固定为 'player'\n        entryClass += ' player-action';\n    }\n    else {\n        entryClass += ' enemy-action';\n    }\n    // 使用 description 作为基础，可以根据结构化数据进一步丰富显示\n    let messageHtml = `[回合 ${logEntry.turn}] ${logEntry.description}`;\n    // 示例：为伤害、治疗、暴击添加样式\n    if (logEntry.damageDealt) {\n        messageHtml = messageHtml.replace(logEntry.damageDealt.toString(), `<span class=\"damage\">${logEntry.damageDealt}</span>`);\n    }\n    if (logEntry.healingDone) {\n        messageHtml = messageHtml.replace(logEntry.healingDone.toString(), `<span class=\"heal\">${logEntry.healingDone}</span>`);\n    }\n    if (logEntry.isCritical) {\n        // 假设描述中包含能标识暴击的词\n        messageHtml = messageHtml.replace('暴击', '<span class=\"critical\">暴击</span>');\n    }\n    const entry = $(`<div class=\"${entryClass}\"></div>`).html(messageHtml);\n    battleLog.append(entry);\n    battleLog.scrollTop(battleLog[0].scrollHeight);\n}\n/**\n * 更新技能列表\n * @param skills 技能数组\n */\nfunction updateSkillList(skills) {\n    const skillListDiv = $('#skill-list');\n    if (skillListDiv.length === 0)\n        return;\n    skillListDiv.empty();\n    skills.forEach(skill => {\n        const skillButton = $(`<button class=\"skill-button\" data-skill-id=\"${skill.id}\">${skill.name} (MP: ${skill.mpCost})</button>`);\n        skillListDiv.append(skillButton);\n    });\n}\n/**\n * 显示战斗结果\n * @param message 结果消息\n */\nfunction showBattleResult(message) {\n    const battleResultDiv = $('#battle-result');\n    if (battleResultDiv.length === 0)\n        return;\n    battleResultDiv.html(`<h2>${message}</h2><button id=\"continue-plot-button\">继续剧情</button>`);\n    battleResultDiv.show();\n    $('.battle-controls').hide();\n}\n// --- 示例数据和初始化 --- (后续会由战斗引擎和通信模块驱动)\nconst samplePlayerStatus = [{ id: 's001', name: '力量提升', description: '攻击力少量上升', duration: 3 }];\nconst sampleEnemyStatus = [{ id: 's002', name: '中毒', description: '每回合损失少量HP', duration: 5 }];\nconst samplePlayerSkills = [\n    {\n        id: 'sk001',\n        name: '火焰球',\n        description: '造成少量火属性伤害',\n        mpCost: 10,\n        type: 'attack',\n        targetType: 'single',\n        effects: [{ type: 'damage', value: 15 }],\n    },\n    {\n        id: 'sk002',\n        name: '治疗术',\n        description: '恢复少量HP',\n        mpCost: 15,\n        type: 'heal',\n        targetType: 'single',\n        effects: [{ type: 'heal', value: 20 }],\n    },\n    {\n        id: 'sk003',\n        name: '英勇打击',\n        description: '造成物理伤害',\n        mpCost: 5,\n        type: 'attack',\n        targetType: 'single',\n        effects: [{ type: 'damage', value: 10 }],\n    },\n];\nconst samplePlayer = {\n    id: 'player',\n    name: '英雄',\n    type: 'player',\n    attributes: { hp: 85, maxHp: 100, mp: 40, maxMp: 50, strength: 12, defense: 8, speed: 10, intelligence: 9 },\n    skills: samplePlayerSkills,\n    status: samplePlayerStatus,\n};\nconst sampleEnemy = {\n    id: 'enemy01',\n    name: '史莱姆王',\n    type: 'enemy',\n    attributes: { hp: 120, maxHp: 120, mp: 20, maxMp: 20, strength: 10, defense: 10, speed: 5, intelligence: 3 },\n    skills: [], // 敌人技能暂不在此示例中处理\n    status: sampleEnemyStatus,\n};\nconst sampleLog = [\n    { turn: 1, actorId: 'system', actorName: '系统', actionType: 'system', description: '战斗开始！史莱姆王出现了！' },\n    {\n        turn: 1,\n        actorId: 'player',\n        actorName: '英雄',\n        actionType: 'skill',\n        skillName: '火焰球',\n        targetId: 'enemy01',\n        targetName: '史莱姆王',\n        description: '英雄对史莱姆王使用了火焰球，造成 15 点伤害。',\n        damageDealt: 15,\n    },\n    {\n        turn: 1,\n        actorId: 'enemy01',\n        actorName: '史莱姆王',\n        actionType: 'attack',\n        targetId: 'player',\n        targetName: '英雄',\n        description: '史莱姆王撞向英雄，造成 8 点伤害。',\n        damageDealt: 8,\n    },\n    {\n        turn: 2,\n        actorId: 'player',\n        actorName: '英雄',\n        actionType: 'attack',\n        targetId: 'enemy01',\n        targetName: '史莱姆王',\n        description: '英雄发动了攻击，造成 18 点<span class=\"critical\">暴击</span>伤害！',\n        damageDealt: 18,\n        isCritical: true,\n    },\n    {\n        turn: 2,\n        actorId: 'enemy01',\n        actorName: '史莱姆王',\n        actionType: 'system',\n        description: '史莱姆王因为中毒，受到了 5 点伤害。',\n        damageDealt: 5,\n    }, // 状态伤害\n    {\n        turn: 2,\n        actorId: 'player',\n        actorName: '英雄',\n        actionType: 'skill',\n        skillName: '治疗术',\n        targetId: 'player',\n        targetName: '英雄',\n        description: '英雄对自己使用了治疗术，恢复了 20 点HP。',\n        healingDone: 20,\n    },\n];\n$(document).ready(() => {\n    updateCharacterInfo('player', samplePlayer);\n    updateCharacterInfo('enemy', sampleEnemy);\n    updateSkillList(samplePlayerSkills);\n    // 显示示例日志\n    sampleLog.forEach(log => addLogEntry(log));\n    // 绑定事件监听 (这里的逻辑后续会被战斗引擎接管)\n    $('.battle-controls').on('click', '.action-button', function () {\n        const action = $(this).data('action');\n        const log = {\n            turn: 3, // 假设是第3回合\n            actorId: 'player',\n            actorName: '英雄',\n            actionType: action,\n            description: `英雄选择了 ${$(this).text()}`,\n        };\n        addLogEntry(log);\n        // 模拟敌人回合和战斗结束\n        setTimeout(() => {\n            const enemyLog = {\n                turn: 3,\n                actorId: 'enemy01',\n                actorName: '史莱姆王',\n                actionType: 'attack',\n                targetId: 'player',\n                targetName: '英雄',\n                description: '史莱姆王发动了最终一击！',\n                damageDealt: 50, // 假设高伤害\n                isCritical: true, // 假设暴击\n            };\n            addLogEntry(enemyLog);\n            if (Math.random() > 0.3) {\n                showBattleResult('胜利！');\n            }\n            else {\n                showBattleResult('失败...');\n            }\n        }, 1000);\n    });\n    $('.battle-controls').on('click', '.skill-button', function () {\n        const skillId = $(this).data('skill-id');\n        const skill = samplePlayerSkills.find(s => s.id === skillId);\n        if (!skill)\n            return;\n        const log = {\n            turn: 3, // 假设是第3回合\n            actorId: 'player',\n            actorName: '英雄',\n            actionType: 'skill',\n            skillName: skill.name,\n            description: `英雄使用了技能：${skill.name}`,\n        };\n        addLogEntry(log);\n        // 模拟敌人回合和战斗结束\n        setTimeout(() => {\n            const enemyLog = {\n                turn: 3,\n                actorId: 'enemy01',\n                actorName: '史莱姆王',\n                actionType: 'attack',\n                targetId: 'player',\n                targetName: '英雄',\n                description: '史莱姆王发动了反击！',\n                damageDealt: 12,\n            };\n            addLogEntry(enemyLog);\n            showBattleResult('战斗结束！');\n        }, 1000);\n    });\n    $('#battle-result').on('click', '#continue-plot-button', function () {\n        toastr.info('继续剧情...（此处将与SillyTavern交互）');\n        // TODO: 实现与SillyTavern的交互逻辑\n        $('#battle-container').hide(); // 隐藏战斗界面\n    });\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Zue5ZCI5Yi25oiY5paX57O757ufL3VpL2JhdHRsZS1pbnRlcmZhY2UudHMiLCJtYXBwaW5ncyI6IjtBQUlBOzs7O0dBSUc7QUFDSCxTQUFTLG1CQUFtQixDQUFDLElBQXdCLEVBQUUsU0FBb0I7SUFDekUsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsQ0FBQztJQUNuQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQztRQUFFLE9BQU87SUFFakMsTUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQztJQUN4QyxNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFakUsT0FBTyxDQUFDLElBQUksQ0FBQztjQUNELFNBQVMsQ0FBQyxJQUFJOztrREFFc0IsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHOztvQkFFdEUsVUFBVSxDQUFDLEVBQUUsTUFBTSxVQUFVLENBQUMsS0FBSzs7a0RBRUwsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHOztvQkFFdEUsVUFBVSxDQUFDLEVBQUUsTUFBTSxVQUFVLENBQUMsS0FBSzs7a0JBRXJDLFdBQVcsSUFBSSxHQUFHOztLQUUvQixDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxXQUFXLENBQUMsUUFBd0I7SUFDM0MsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ25DLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTztJQUVuQyxJQUFJLFVBQVUsR0FBRyxXQUFXLENBQUM7SUFDN0IsSUFBSSxRQUFRLENBQUMsVUFBVSxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLFVBQVUsSUFBSSxpQkFBaUIsQ0FBQztJQUNsQyxDQUFDO1NBQU0sSUFBSSxRQUFRLENBQUMsT0FBTyxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ3pDLHVCQUF1QjtRQUN2QixVQUFVLElBQUksZ0JBQWdCLENBQUM7SUFDakMsQ0FBQztTQUFNLENBQUM7UUFDTixVQUFVLElBQUksZUFBZSxDQUFDO0lBQ2hDLENBQUM7SUFFRCx1Q0FBdUM7SUFDdkMsSUFBSSxXQUFXLEdBQUcsT0FBTyxRQUFRLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsRSxtQkFBbUI7SUFDbkIsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDekIsV0FBVyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQy9CLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLEVBQy9CLHdCQUF3QixRQUFRLENBQUMsV0FBVyxTQUFTLENBQ3RELENBQUM7SUFDSixDQUFDO0lBQ0QsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDekIsV0FBVyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQy9CLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLEVBQy9CLHNCQUFzQixRQUFRLENBQUMsV0FBVyxTQUFTLENBQ3BELENBQUM7SUFDSixDQUFDO0lBQ0QsSUFBSSxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDeEIsaUJBQWlCO1FBQ2pCLFdBQVcsR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFRCxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsZUFBZSxVQUFVLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2RSxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLFNBQVMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ2pELENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLGVBQWUsQ0FBQyxNQUFlO0lBQ3RDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN0QyxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQztRQUFFLE9BQU87SUFFdEMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDckIsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUNuQiwrQ0FBK0MsS0FBSyxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsSUFBSSxTQUFTLEtBQUssQ0FBQyxNQUFNLFlBQVksQ0FDeEcsQ0FBQztRQUNGLFlBQVksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDbkMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxnQkFBZ0IsQ0FBQyxPQUFlO0lBQ3ZDLE1BQU0sZUFBZSxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVDLElBQUksZUFBZSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTztJQUV6QyxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sT0FBTyxzREFBc0QsQ0FBQyxDQUFDO0lBQzNGLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN2QixDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMvQixDQUFDO0FBRUQscUNBQXFDO0FBQ3JDLE1BQU0sa0JBQWtCLEdBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pHLE1BQU0saUJBQWlCLEdBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRXhHLE1BQU0sa0JBQWtCLEdBQVk7SUFDbEM7UUFDRSxFQUFFLEVBQUUsT0FBTztRQUNYLElBQUksRUFBRSxLQUFLO1FBQ1gsV0FBVyxFQUFFLFdBQVc7UUFDeEIsTUFBTSxFQUFFLEVBQUU7UUFDVixJQUFJLEVBQUUsUUFBUTtRQUNkLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLE9BQU8sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUM7S0FDekM7SUFDRDtRQUNFLEVBQUUsRUFBRSxPQUFPO1FBQ1gsSUFBSSxFQUFFLEtBQUs7UUFDWCxXQUFXLEVBQUUsUUFBUTtRQUNyQixNQUFNLEVBQUUsRUFBRTtRQUNWLElBQUksRUFBRSxNQUFNO1FBQ1osVUFBVSxFQUFFLFFBQVE7UUFDcEIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQztLQUN2QztJQUNEO1FBQ0UsRUFBRSxFQUFFLE9BQU87UUFDWCxJQUFJLEVBQUUsTUFBTTtRQUNaLFdBQVcsRUFBRSxRQUFRO1FBQ3JCLE1BQU0sRUFBRSxDQUFDO1FBQ1QsSUFBSSxFQUFFLFFBQVE7UUFDZCxVQUFVLEVBQUUsUUFBUTtRQUNwQixPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDO0tBQ3pDO0NBQ0YsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFjO0lBQzlCLEVBQUUsRUFBRSxRQUFRO0lBQ1osSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUUsUUFBUTtJQUNkLFVBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRTtJQUMzRyxNQUFNLEVBQUUsa0JBQWtCO0lBQzFCLE1BQU0sRUFBRSxrQkFBa0I7Q0FDM0IsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFjO0lBQzdCLEVBQUUsRUFBRSxTQUFTO0lBQ2IsSUFBSSxFQUFFLE1BQU07SUFDWixJQUFJLEVBQUUsT0FBTztJQUNiLFVBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRTtJQUM1RyxNQUFNLEVBQUUsRUFBRSxFQUFFLGdCQUFnQjtJQUM1QixNQUFNLEVBQUUsaUJBQWlCO0NBQzFCLENBQUM7QUFFRixNQUFNLFNBQVMsR0FBcUI7SUFDbEMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUU7SUFDbkc7UUFDRSxJQUFJLEVBQUUsQ0FBQztRQUNQLE9BQU8sRUFBRSxRQUFRO1FBQ2pCLFNBQVMsRUFBRSxJQUFJO1FBQ2YsVUFBVSxFQUFFLE9BQU87UUFDbkIsU0FBUyxFQUFFLEtBQUs7UUFDaEIsUUFBUSxFQUFFLFNBQVM7UUFDbkIsVUFBVSxFQUFFLE1BQU07UUFDbEIsV0FBVyxFQUFFLDBCQUEwQjtRQUN2QyxXQUFXLEVBQUUsRUFBRTtLQUNoQjtJQUNEO1FBQ0UsSUFBSSxFQUFFLENBQUM7UUFDUCxPQUFPLEVBQUUsU0FBUztRQUNsQixTQUFTLEVBQUUsTUFBTTtRQUNqQixVQUFVLEVBQUUsUUFBUTtRQUNwQixRQUFRLEVBQUUsUUFBUTtRQUNsQixVQUFVLEVBQUUsSUFBSTtRQUNoQixXQUFXLEVBQUUsb0JBQW9CO1FBQ2pDLFdBQVcsRUFBRSxDQUFDO0tBQ2Y7SUFDRDtRQUNFLElBQUksRUFBRSxDQUFDO1FBQ1AsT0FBTyxFQUFFLFFBQVE7UUFDakIsU0FBUyxFQUFFLElBQUk7UUFDZixVQUFVLEVBQUUsUUFBUTtRQUNwQixRQUFRLEVBQUUsU0FBUztRQUNuQixVQUFVLEVBQUUsTUFBTTtRQUNsQixXQUFXLEVBQUUsb0RBQW9EO1FBQ2pFLFdBQVcsRUFBRSxFQUFFO1FBQ2YsVUFBVSxFQUFFLElBQUk7S0FDakI7SUFDRDtRQUNFLElBQUksRUFBRSxDQUFDO1FBQ1AsT0FBTyxFQUFFLFNBQVM7UUFDbEIsU0FBUyxFQUFFLE1BQU07UUFDakIsVUFBVSxFQUFFLFFBQVE7UUFDcEIsV0FBVyxFQUFFLHFCQUFxQjtRQUNsQyxXQUFXLEVBQUUsQ0FBQztLQUNmLEVBQUUsT0FBTztJQUNWO1FBQ0UsSUFBSSxFQUFFLENBQUM7UUFDUCxPQUFPLEVBQUUsUUFBUTtRQUNqQixTQUFTLEVBQUUsSUFBSTtRQUNmLFVBQVUsRUFBRSxPQUFPO1FBQ25CLFNBQVMsRUFBRSxLQUFLO1FBQ2hCLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLFVBQVUsRUFBRSxJQUFJO1FBQ2hCLFdBQVcsRUFBRSx5QkFBeUI7UUFDdEMsV0FBVyxFQUFFLEVBQUU7S0FDaEI7Q0FDRixDQUFDO0FBRUYsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDckIsbUJBQW1CLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzVDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMxQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUVwQyxTQUFTO0lBQ1QsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRTNDLDJCQUEyQjtJQUMzQixDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFO1FBQ2xELE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsTUFBTSxHQUFHLEdBQW1CO1lBQzFCLElBQUksRUFBRSxDQUFDLEVBQUUsVUFBVTtZQUNuQixPQUFPLEVBQUUsUUFBUTtZQUNqQixTQUFTLEVBQUUsSUFBSTtZQUNmLFVBQVUsRUFBRSxNQUFNO1lBQ2xCLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtTQUN2QyxDQUFDO1FBQ0YsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLGNBQWM7UUFDZCxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxRQUFRLEdBQW1CO2dCQUMvQixJQUFJLEVBQUUsQ0FBQztnQkFDUCxPQUFPLEVBQUUsU0FBUztnQkFDbEIsU0FBUyxFQUFFLE1BQU07Z0JBQ2pCLFVBQVUsRUFBRSxRQUFRO2dCQUNwQixRQUFRLEVBQUUsUUFBUTtnQkFDbEIsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFdBQVcsRUFBRSxjQUFjO2dCQUMzQixXQUFXLEVBQUUsRUFBRSxFQUFFLFFBQVE7Z0JBQ3pCLFVBQVUsRUFBRSxJQUFJLEVBQUUsT0FBTzthQUMxQixDQUFDO1lBQ0YsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDO2dCQUN4QixnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxQixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNILENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUU7UUFDakQsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QyxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLE9BQU8sQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTztRQUVuQixNQUFNLEdBQUcsR0FBbUI7WUFDMUIsSUFBSSxFQUFFLENBQUMsRUFBRSxVQUFVO1lBQ25CLE9BQU8sRUFBRSxRQUFRO1lBQ2pCLFNBQVMsRUFBRSxJQUFJO1lBQ2YsVUFBVSxFQUFFLE9BQU87WUFDbkIsU0FBUyxFQUFFLEtBQUssQ0FBQyxJQUFJO1lBQ3JCLFdBQVcsRUFBRSxXQUFXLEtBQUssQ0FBQyxJQUFJLEVBQUU7U0FDckMsQ0FBQztRQUNGLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVqQixjQUFjO1FBQ2QsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLE1BQU0sUUFBUSxHQUFtQjtnQkFDL0IsSUFBSSxFQUFFLENBQUM7Z0JBQ1AsT0FBTyxFQUFFLFNBQVM7Z0JBQ2xCLFNBQVMsRUFBRSxNQUFNO2dCQUNqQixVQUFVLEVBQUUsUUFBUTtnQkFDcEIsUUFBUSxFQUFFLFFBQVE7Z0JBQ2xCLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixXQUFXLEVBQUUsWUFBWTtnQkFDekIsV0FBVyxFQUFFLEVBQUU7YUFDaEIsQ0FBQztZQUNGLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN0QixnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDWCxDQUFDLENBQUMsQ0FBQztJQUVILENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUU7UUFDdkQsTUFBTSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQzFDLDRCQUE0QjtRQUM1QixDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLFNBQVM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMv5Zue5ZCI5Yi25oiY5paX57O757ufL3VpL2JhdHRsZS1pbnRlcmZhY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmF0dGxlTG9nRW50cnkgfSBmcm9tICcuLi9tb2RlbHMvYmF0dGxlJzsgLy8g5a+85YWl5qih5Z6LXG5pbXBvcnQgeyBDaGFyYWN0ZXIsIFN0YXR1cyB9IGZyb20gJy4uL21vZGVscy9jaGFyYWN0ZXInOyAvLyDlr7zlhaXmqKHlnotcbmltcG9ydCB7IFNraWxsIH0gZnJvbSAnLi4vbW9kZWxzL3NraWxsJzsgLy8g5a+85YWl5qih5Z6LXG5cbi8qKlxuICog5pu05paw6KeS6Imy5L+h5oGv55qE5pi+56S6XG4gKiBAcGFyYW0gdHlwZSAncGxheWVyJyDmiJYgJ2VuZW15J1xuICogQHBhcmFtIGNoYXJhY3RlciDop5LoibLmlbDmja5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ2hhcmFjdGVySW5mbyh0eXBlOiAncGxheWVyJyB8ICdlbmVteScsIGNoYXJhY3RlcjogQ2hhcmFjdGVyKTogdm9pZCB7XG4gIGNvbnN0IGluZm9EaXYgPSAkKGAjJHt0eXBlfS1pbmZvYCk7XG4gIGlmIChpbmZvRGl2Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBjaGFyYWN0ZXIuYXR0cmlidXRlcztcbiAgY29uc3Qgc3RhdHVzTmFtZXMgPSBjaGFyYWN0ZXIuc3RhdHVzLm1hcChzID0+IHMubmFtZSkuam9pbignLCAnKTtcblxuICBpbmZvRGl2Lmh0bWwoYFxuICAgICAgICA8aDM+JHtjaGFyYWN0ZXIubmFtZX08L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzLWJhciBocFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJhci1maWxsXCIgc3R5bGU9XCJ3aWR0aDogJHsoYXR0cmlidXRlcy5ocCAvIGF0dHJpYnV0ZXMubWF4SHApICogMTAwfSU7XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3Bhbj5IUDogJHthdHRyaWJ1dGVzLmhwfSAvICR7YXR0cmlidXRlcy5tYXhIcH08L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0dXMtYmFyIG1wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAkeyhhdHRyaWJ1dGVzLm1wIC8gYXR0cmlidXRlcy5tYXhNcCkgKiAxMDB9JTtcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuPk1QOiAke2F0dHJpYnV0ZXMubXB9IC8gJHthdHRyaWJ1dGVzLm1heE1wfTwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXR1cy1lZmZlY3RzXCI+XG4gICAgICAgICAgICDnirbmgIE6ICR7c3RhdHVzTmFtZXMgfHwgJ+aXoCd9XG4gICAgICAgIDwvZGl2PlxuICAgIGApO1xufVxuXG4vKipcbiAqIOWQkeaImOaWl+aXpeW/l+a3u+WKoOadoeebrlxuICogQHBhcmFtIGxvZ0VudHJ5IOaXpeW/l+adoeebruaVsOaNrlxuICovXG5mdW5jdGlvbiBhZGRMb2dFbnRyeShsb2dFbnRyeTogQmF0dGxlTG9nRW50cnkpOiB2b2lkIHtcbiAgY29uc3QgYmF0dGxlTG9nID0gJCgnI2JhdHRsZS1sb2cnKTtcbiAgaWYgKGJhdHRsZUxvZy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICBsZXQgZW50cnlDbGFzcyA9ICdsb2ctZW50cnknO1xuICBpZiAobG9nRW50cnkuYWN0aW9uVHlwZSA9PT0gJ3N5c3RlbScpIHtcbiAgICBlbnRyeUNsYXNzICs9ICcgc3lzdGVtLW1lc3NhZ2UnO1xuICB9IGVsc2UgaWYgKGxvZ0VudHJ5LmFjdG9ySWQgPT09ICdwbGF5ZXInKSB7XG4gICAgLy8g5YGH6K6+546p5a62IElEIOWbuuWumuS4uiAncGxheWVyJ1xuICAgIGVudHJ5Q2xhc3MgKz0gJyBwbGF5ZXItYWN0aW9uJztcbiAgfSBlbHNlIHtcbiAgICBlbnRyeUNsYXNzICs9ICcgZW5lbXktYWN0aW9uJztcbiAgfVxuXG4gIC8vIOS9v+eUqCBkZXNjcmlwdGlvbiDkvZzkuLrln7rnoYDvvIzlj6/ku6XmoLnmja7nu5PmnoTljJbmlbDmja7ov5vkuIDmraXkuLDlr4zmmL7npLpcbiAgbGV0IG1lc3NhZ2VIdG1sID0gYFvlm57lkIggJHtsb2dFbnRyeS50dXJufV0gJHtsb2dFbnRyeS5kZXNjcmlwdGlvbn1gO1xuICAvLyDnpLrkvovvvJrkuLrkvKTlrrPjgIHmsrvnlpfjgIHmmrTlh7vmt7vliqDmoLflvI9cbiAgaWYgKGxvZ0VudHJ5LmRhbWFnZURlYWx0KSB7XG4gICAgbWVzc2FnZUh0bWwgPSBtZXNzYWdlSHRtbC5yZXBsYWNlKFxuICAgICAgbG9nRW50cnkuZGFtYWdlRGVhbHQudG9TdHJpbmcoKSxcbiAgICAgIGA8c3BhbiBjbGFzcz1cImRhbWFnZVwiPiR7bG9nRW50cnkuZGFtYWdlRGVhbHR9PC9zcGFuPmAsXG4gICAgKTtcbiAgfVxuICBpZiAobG9nRW50cnkuaGVhbGluZ0RvbmUpIHtcbiAgICBtZXNzYWdlSHRtbCA9IG1lc3NhZ2VIdG1sLnJlcGxhY2UoXG4gICAgICBsb2dFbnRyeS5oZWFsaW5nRG9uZS50b1N0cmluZygpLFxuICAgICAgYDxzcGFuIGNsYXNzPVwiaGVhbFwiPiR7bG9nRW50cnkuaGVhbGluZ0RvbmV9PC9zcGFuPmAsXG4gICAgKTtcbiAgfVxuICBpZiAobG9nRW50cnkuaXNDcml0aWNhbCkge1xuICAgIC8vIOWBh+iuvuaPj+i/sOS4reWMheWQq+iDveagh+ivhuaatOWHu+eahOivjVxuICAgIG1lc3NhZ2VIdG1sID0gbWVzc2FnZUh0bWwucmVwbGFjZSgn5pq05Ye7JywgJzxzcGFuIGNsYXNzPVwiY3JpdGljYWxcIj7mmrTlh7s8L3NwYW4+Jyk7XG4gIH1cblxuICBjb25zdCBlbnRyeSA9ICQoYDxkaXYgY2xhc3M9XCIke2VudHJ5Q2xhc3N9XCI+PC9kaXY+YCkuaHRtbChtZXNzYWdlSHRtbCk7XG4gIGJhdHRsZUxvZy5hcHBlbmQoZW50cnkpO1xuICBiYXR0bGVMb2cuc2Nyb2xsVG9wKGJhdHRsZUxvZ1swXS5zY3JvbGxIZWlnaHQpO1xufVxuXG4vKipcbiAqIOabtOaWsOaKgOiDveWIl+ihqFxuICogQHBhcmFtIHNraWxscyDmioDog73mlbDnu4RcbiAqL1xuZnVuY3Rpb24gdXBkYXRlU2tpbGxMaXN0KHNraWxsczogU2tpbGxbXSk6IHZvaWQge1xuICBjb25zdCBza2lsbExpc3REaXYgPSAkKCcjc2tpbGwtbGlzdCcpO1xuICBpZiAoc2tpbGxMaXN0RGl2Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIHNraWxsTGlzdERpdi5lbXB0eSgpO1xuICBza2lsbHMuZm9yRWFjaChza2lsbCA9PiB7XG4gICAgY29uc3Qgc2tpbGxCdXR0b24gPSAkKFxuICAgICAgYDxidXR0b24gY2xhc3M9XCJza2lsbC1idXR0b25cIiBkYXRhLXNraWxsLWlkPVwiJHtza2lsbC5pZH1cIj4ke3NraWxsLm5hbWV9IChNUDogJHtza2lsbC5tcENvc3R9KTwvYnV0dG9uPmAsXG4gICAgKTtcbiAgICBza2lsbExpc3REaXYuYXBwZW5kKHNraWxsQnV0dG9uKTtcbiAgfSk7XG59XG5cbi8qKlxuICog5pi+56S65oiY5paX57uT5p6cXG4gKiBAcGFyYW0gbWVzc2FnZSDnu5Pmnpzmtojmga9cbiAqL1xuZnVuY3Rpb24gc2hvd0JhdHRsZVJlc3VsdChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgYmF0dGxlUmVzdWx0RGl2ID0gJCgnI2JhdHRsZS1yZXN1bHQnKTtcbiAgaWYgKGJhdHRsZVJlc3VsdERpdi5sZW5ndGggPT09IDApIHJldHVybjtcblxuICBiYXR0bGVSZXN1bHREaXYuaHRtbChgPGgyPiR7bWVzc2FnZX08L2gyPjxidXR0b24gaWQ9XCJjb250aW51ZS1wbG90LWJ1dHRvblwiPue7p+e7reWJp+aDhTwvYnV0dG9uPmApO1xuICBiYXR0bGVSZXN1bHREaXYuc2hvdygpO1xuICAkKCcuYmF0dGxlLWNvbnRyb2xzJykuaGlkZSgpO1xufVxuXG4vLyAtLS0g56S65L6L5pWw5o2u5ZKM5Yid5aeL5YyWIC0tLSAo5ZCO57ut5Lya55Sx5oiY5paX5byV5pOO5ZKM6YCa5L+h5qih5Z2X6amx5YqoKVxuY29uc3Qgc2FtcGxlUGxheWVyU3RhdHVzOiBTdGF0dXNbXSA9IFt7IGlkOiAnczAwMScsIG5hbWU6ICflipvph4/mj5DljYcnLCBkZXNjcmlwdGlvbjogJ+aUu+WHu+WKm+WwkemHj+S4iuWNhycsIGR1cmF0aW9uOiAzIH1dO1xuY29uc3Qgc2FtcGxlRW5lbXlTdGF0dXM6IFN0YXR1c1tdID0gW3sgaWQ6ICdzMDAyJywgbmFtZTogJ+S4reavkicsIGRlc2NyaXB0aW9uOiAn5q+P5Zue5ZCI5o2f5aSx5bCR6YePSFAnLCBkdXJhdGlvbjogNSB9XTtcblxuY29uc3Qgc2FtcGxlUGxheWVyU2tpbGxzOiBTa2lsbFtdID0gW1xuICB7XG4gICAgaWQ6ICdzazAwMScsXG4gICAgbmFtZTogJ+eBq+eEsOeQgycsXG4gICAgZGVzY3JpcHRpb246ICfpgKDmiJDlsJHph4/ngavlsZ7mgKfkvKTlrrMnLFxuICAgIG1wQ29zdDogMTAsXG4gICAgdHlwZTogJ2F0dGFjaycsXG4gICAgdGFyZ2V0VHlwZTogJ3NpbmdsZScsXG4gICAgZWZmZWN0czogW3sgdHlwZTogJ2RhbWFnZScsIHZhbHVlOiAxNSB9XSxcbiAgfSxcbiAge1xuICAgIGlkOiAnc2swMDInLFxuICAgIG5hbWU6ICfmsrvnlpfmnK8nLFxuICAgIGRlc2NyaXB0aW9uOiAn5oGi5aSN5bCR6YePSFAnLFxuICAgIG1wQ29zdDogMTUsXG4gICAgdHlwZTogJ2hlYWwnLFxuICAgIHRhcmdldFR5cGU6ICdzaW5nbGUnLFxuICAgIGVmZmVjdHM6IFt7IHR5cGU6ICdoZWFsJywgdmFsdWU6IDIwIH1dLFxuICB9LFxuICB7XG4gICAgaWQ6ICdzazAwMycsXG4gICAgbmFtZTogJ+iLseWLh+aJk+WHuycsXG4gICAgZGVzY3JpcHRpb246ICfpgKDmiJDniannkIbkvKTlrrMnLFxuICAgIG1wQ29zdDogNSxcbiAgICB0eXBlOiAnYXR0YWNrJyxcbiAgICB0YXJnZXRUeXBlOiAnc2luZ2xlJyxcbiAgICBlZmZlY3RzOiBbeyB0eXBlOiAnZGFtYWdlJywgdmFsdWU6IDEwIH1dLFxuICB9LFxuXTtcblxuY29uc3Qgc2FtcGxlUGxheWVyOiBDaGFyYWN0ZXIgPSB7XG4gIGlkOiAncGxheWVyJyxcbiAgbmFtZTogJ+iLsembhCcsXG4gIHR5cGU6ICdwbGF5ZXInLFxuICBhdHRyaWJ1dGVzOiB7IGhwOiA4NSwgbWF4SHA6IDEwMCwgbXA6IDQwLCBtYXhNcDogNTAsIHN0cmVuZ3RoOiAxMiwgZGVmZW5zZTogOCwgc3BlZWQ6IDEwLCBpbnRlbGxpZ2VuY2U6IDkgfSxcbiAgc2tpbGxzOiBzYW1wbGVQbGF5ZXJTa2lsbHMsXG4gIHN0YXR1czogc2FtcGxlUGxheWVyU3RhdHVzLFxufTtcblxuY29uc3Qgc2FtcGxlRW5lbXk6IENoYXJhY3RlciA9IHtcbiAgaWQ6ICdlbmVteTAxJyxcbiAgbmFtZTogJ+WPsuiOseWnhueOiycsXG4gIHR5cGU6ICdlbmVteScsXG4gIGF0dHJpYnV0ZXM6IHsgaHA6IDEyMCwgbWF4SHA6IDEyMCwgbXA6IDIwLCBtYXhNcDogMjAsIHN0cmVuZ3RoOiAxMCwgZGVmZW5zZTogMTAsIHNwZWVkOiA1LCBpbnRlbGxpZ2VuY2U6IDMgfSxcbiAgc2tpbGxzOiBbXSwgLy8g5pWM5Lq65oqA6IO95pqC5LiN5Zyo5q2k56S65L6L5Lit5aSE55CGXG4gIHN0YXR1czogc2FtcGxlRW5lbXlTdGF0dXMsXG59O1xuXG5jb25zdCBzYW1wbGVMb2c6IEJhdHRsZUxvZ0VudHJ5W10gPSBbXG4gIHsgdHVybjogMSwgYWN0b3JJZDogJ3N5c3RlbScsIGFjdG9yTmFtZTogJ+ezu+e7nycsIGFjdGlvblR5cGU6ICdzeXN0ZW0nLCBkZXNjcmlwdGlvbjogJ+aImOaWl+W8gOWni++8geWPsuiOseWnhueOi+WHuueOsOS6hu+8gScgfSxcbiAge1xuICAgIHR1cm46IDEsXG4gICAgYWN0b3JJZDogJ3BsYXllcicsXG4gICAgYWN0b3JOYW1lOiAn6Iux6ZuEJyxcbiAgICBhY3Rpb25UeXBlOiAnc2tpbGwnLFxuICAgIHNraWxsTmFtZTogJ+eBq+eEsOeQgycsXG4gICAgdGFyZ2V0SWQ6ICdlbmVteTAxJyxcbiAgICB0YXJnZXROYW1lOiAn5Y+y6I6x5aeG546LJyxcbiAgICBkZXNjcmlwdGlvbjogJ+iLsembhOWvueWPsuiOseWnhueOi+S9v+eUqOS6hueBq+eEsOeQg++8jOmAoOaIkCAxNSDngrnkvKTlrrPjgIInLFxuICAgIGRhbWFnZURlYWx0OiAxNSxcbiAgfSxcbiAge1xuICAgIHR1cm46IDEsXG4gICAgYWN0b3JJZDogJ2VuZW15MDEnLFxuICAgIGFjdG9yTmFtZTogJ+WPsuiOseWnhueOiycsXG4gICAgYWN0aW9uVHlwZTogJ2F0dGFjaycsXG4gICAgdGFyZ2V0SWQ6ICdwbGF5ZXInLFxuICAgIHRhcmdldE5hbWU6ICfoi7Hpm4QnLFxuICAgIGRlc2NyaXB0aW9uOiAn5Y+y6I6x5aeG546L5pKe5ZCR6Iux6ZuE77yM6YCg5oiQIDgg54K55Lyk5a6z44CCJyxcbiAgICBkYW1hZ2VEZWFsdDogOCxcbiAgfSxcbiAge1xuICAgIHR1cm46IDIsXG4gICAgYWN0b3JJZDogJ3BsYXllcicsXG4gICAgYWN0b3JOYW1lOiAn6Iux6ZuEJyxcbiAgICBhY3Rpb25UeXBlOiAnYXR0YWNrJyxcbiAgICB0YXJnZXRJZDogJ2VuZW15MDEnLFxuICAgIHRhcmdldE5hbWU6ICflj7LojrHlp4bnjosnLFxuICAgIGRlc2NyaXB0aW9uOiAn6Iux6ZuE5Y+R5Yqo5LqG5pS75Ye777yM6YCg5oiQIDE4IOeCuTxzcGFuIGNsYXNzPVwiY3JpdGljYWxcIj7mmrTlh7s8L3NwYW4+5Lyk5a6z77yBJyxcbiAgICBkYW1hZ2VEZWFsdDogMTgsXG4gICAgaXNDcml0aWNhbDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR1cm46IDIsXG4gICAgYWN0b3JJZDogJ2VuZW15MDEnLFxuICAgIGFjdG9yTmFtZTogJ+WPsuiOseWnhueOiycsXG4gICAgYWN0aW9uVHlwZTogJ3N5c3RlbScsXG4gICAgZGVzY3JpcHRpb246ICflj7LojrHlp4bnjovlm6DkuLrkuK3mr5LvvIzlj5fliLDkuoYgNSDngrnkvKTlrrPjgIInLFxuICAgIGRhbWFnZURlYWx0OiA1LFxuICB9LCAvLyDnirbmgIHkvKTlrrNcbiAge1xuICAgIHR1cm46IDIsXG4gICAgYWN0b3JJZDogJ3BsYXllcicsXG4gICAgYWN0b3JOYW1lOiAn6Iux6ZuEJyxcbiAgICBhY3Rpb25UeXBlOiAnc2tpbGwnLFxuICAgIHNraWxsTmFtZTogJ+ayu+eWl+acrycsXG4gICAgdGFyZ2V0SWQ6ICdwbGF5ZXInLFxuICAgIHRhcmdldE5hbWU6ICfoi7Hpm4QnLFxuICAgIGRlc2NyaXB0aW9uOiAn6Iux6ZuE5a+56Ieq5bex5L2/55So5LqG5rK755aX5pyv77yM5oGi5aSN5LqGIDIwIOeCuUhQ44CCJyxcbiAgICBoZWFsaW5nRG9uZTogMjAsXG4gIH0sXG5dO1xuXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gIHVwZGF0ZUNoYXJhY3RlckluZm8oJ3BsYXllcicsIHNhbXBsZVBsYXllcik7XG4gIHVwZGF0ZUNoYXJhY3RlckluZm8oJ2VuZW15Jywgc2FtcGxlRW5lbXkpO1xuICB1cGRhdGVTa2lsbExpc3Qoc2FtcGxlUGxheWVyU2tpbGxzKTtcblxuICAvLyDmmL7npLrnpLrkvovml6Xlv5dcbiAgc2FtcGxlTG9nLmZvckVhY2gobG9nID0+IGFkZExvZ0VudHJ5KGxvZykpO1xuXG4gIC8vIOe7keWumuS6i+S7tuebkeWQrCAo6L+Z6YeM55qE6YC76L6R5ZCO57ut5Lya6KKr5oiY5paX5byV5pOO5o6l566hKVxuICAkKCcuYmF0dGxlLWNvbnRyb2xzJykub24oJ2NsaWNrJywgJy5hY3Rpb24tYnV0dG9uJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFjdGlvbiA9ICQodGhpcykuZGF0YSgnYWN0aW9uJyk7XG4gICAgY29uc3QgbG9nOiBCYXR0bGVMb2dFbnRyeSA9IHtcbiAgICAgIHR1cm46IDMsIC8vIOWBh+iuvuaYr+esrDPlm57lkIhcbiAgICAgIGFjdG9ySWQ6ICdwbGF5ZXInLFxuICAgICAgYWN0b3JOYW1lOiAn6Iux6ZuEJyxcbiAgICAgIGFjdGlvblR5cGU6IGFjdGlvbixcbiAgICAgIGRlc2NyaXB0aW9uOiBg6Iux6ZuE6YCJ5oup5LqGICR7JCh0aGlzKS50ZXh0KCl9YCxcbiAgICB9O1xuICAgIGFkZExvZ0VudHJ5KGxvZyk7XG5cbiAgICAvLyDmqKHmi5/mlYzkurrlm57lkIjlkozmiJjmlpfnu5PmnZ9cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVuZW15TG9nOiBCYXR0bGVMb2dFbnRyeSA9IHtcbiAgICAgICAgdHVybjogMyxcbiAgICAgICAgYWN0b3JJZDogJ2VuZW15MDEnLFxuICAgICAgICBhY3Rvck5hbWU6ICflj7LojrHlp4bnjosnLFxuICAgICAgICBhY3Rpb25UeXBlOiAnYXR0YWNrJyxcbiAgICAgICAgdGFyZ2V0SWQ6ICdwbGF5ZXInLFxuICAgICAgICB0YXJnZXROYW1lOiAn6Iux6ZuEJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICflj7LojrHlp4bnjovlj5HliqjkuobmnIDnu4jkuIDlh7vvvIEnLFxuICAgICAgICBkYW1hZ2VEZWFsdDogNTAsIC8vIOWBh+iuvumrmOS8pOWus1xuICAgICAgICBpc0NyaXRpY2FsOiB0cnVlLCAvLyDlgYforr7mmrTlh7tcbiAgICAgIH07XG4gICAgICBhZGRMb2dFbnRyeShlbmVteUxvZyk7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMykge1xuICAgICAgICBzaG93QmF0dGxlUmVzdWx0KCfog5zliKnvvIEnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3dCYXR0bGVSZXN1bHQoJ+Wksei0pS4uLicpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9KTtcblxuICAkKCcuYmF0dGxlLWNvbnRyb2xzJykub24oJ2NsaWNrJywgJy5za2lsbC1idXR0b24nLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2tpbGxJZCA9ICQodGhpcykuZGF0YSgnc2tpbGwtaWQnKTtcbiAgICBjb25zdCBza2lsbCA9IHNhbXBsZVBsYXllclNraWxscy5maW5kKHMgPT4gcy5pZCA9PT0gc2tpbGxJZCk7XG4gICAgaWYgKCFza2lsbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbG9nOiBCYXR0bGVMb2dFbnRyeSA9IHtcbiAgICAgIHR1cm46IDMsIC8vIOWBh+iuvuaYr+esrDPlm57lkIhcbiAgICAgIGFjdG9ySWQ6ICdwbGF5ZXInLFxuICAgICAgYWN0b3JOYW1lOiAn6Iux6ZuEJyxcbiAgICAgIGFjdGlvblR5cGU6ICdza2lsbCcsXG4gICAgICBza2lsbE5hbWU6IHNraWxsLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogYOiLsembhOS9v+eUqOS6huaKgOiDve+8miR7c2tpbGwubmFtZX1gLFxuICAgIH07XG4gICAgYWRkTG9nRW50cnkobG9nKTtcblxuICAgIC8vIOaooeaLn+aVjOS6uuWbnuWQiOWSjOaImOaWl+e7k+adn1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZW5lbXlMb2c6IEJhdHRsZUxvZ0VudHJ5ID0ge1xuICAgICAgICB0dXJuOiAzLFxuICAgICAgICBhY3RvcklkOiAnZW5lbXkwMScsXG4gICAgICAgIGFjdG9yTmFtZTogJ+WPsuiOseWnhueOiycsXG4gICAgICAgIGFjdGlvblR5cGU6ICdhdHRhY2snLFxuICAgICAgICB0YXJnZXRJZDogJ3BsYXllcicsXG4gICAgICAgIHRhcmdldE5hbWU6ICfoi7Hpm4QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ+WPsuiOseWnhueOi+WPkeWKqOS6huWPjeWHu++8gScsXG4gICAgICAgIGRhbWFnZURlYWx0OiAxMixcbiAgICAgIH07XG4gICAgICBhZGRMb2dFbnRyeShlbmVteUxvZyk7XG4gICAgICBzaG93QmF0dGxlUmVzdWx0KCfmiJjmlpfnu5PmnZ/vvIEnKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG5cbiAgJCgnI2JhdHRsZS1yZXN1bHQnKS5vbignY2xpY2snLCAnI2NvbnRpbnVlLXBsb3QtYnV0dG9uJywgZnVuY3Rpb24gKCkge1xuICAgIHRvYXN0ci5pbmZvKCfnu6fnu63liafmg4UuLi7vvIjmraTlpITlsIbkuI5TaWxseVRhdmVybuS6pOS6ku+8iScpO1xuICAgIC8vIFRPRE86IOWunueOsOS4jlNpbGx5VGF2ZXJu55qE5Lqk5LqS6YC76L6RXG4gICAgJCgnI2JhdHRsZS1jb250YWluZXInKS5oaWRlKCk7IC8vIOmakOiXj+aImOaWl+eVjOmdolxuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/回合制战斗系统/ui/battle-interface.ts\n\n}");
  }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  var cachedModule = __webpack_module_cache__[moduleId];
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  if (__webpack_modules__[moduleId] === undefined) {
    var e = new Error("Cannot find module '" + moduleId + "'");
    e.code = "MODULE_NOT_FOUND";
    throw e;
  }
  var module = __webpack_module_cache__[moduleId] = {
    exports: {}
  };
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  return module.exports;
}

(() => {
  __webpack_require__.r = exports => {
    if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module"
      });
    }
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
  };
})();

var __webpack_exports__ = __webpack_require__("./src/回合制战斗系统/index.ts");</script><style>/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-519.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.104.1/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.2_webpack@5.104.1/node_modules/sass-loader/dist/cjs.js!./src/回合制战斗系统/styles/main.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.battle-container{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;background-color:#252526;color:#e0e0e0;padding:10px;border:1px solid #404040;border-radius:4px;max-width:600px;margin:auto;display:flex;flex-direction:column;gap:10px}.battle-container .battle-scene{display:flex;justify-content:space-around;gap:10px}.battle-container .battle-scene .character-area{flex:1;padding:10px;border:1px solid #404040;border-radius:4px;min-height:100px}.battle-container .battle-scene .character-info h3{margin-top:0;margin-bottom:5px;font-size:16.8px}.battle-container .battle-scene .character-info .status-bar{width:100%;background-color:rgb(89.5,89.5,89.5);border-radius:2px;margin-bottom:5px;height:10px;overflow:hidden}.battle-container .battle-scene .character-info .status-bar .bar-fill{height:100%;transition:width 0.3s ease-in-out}.battle-container .battle-scene .character-info .status-bar.hp .bar-fill{background-color:#4caf50}.battle-container .battle-scene .character-info .status-bar.mp .bar-fill{background-color:#2196f3}.battle-container .battle-scene .character-info .status-effects{font-size:12.6px;color:#b0b0b0}.battle-container .battle-log-container{border:1px solid #404040;border-radius:4px;padding:10px;height:150px;overflow-y:auto;background-color:rgb(49.58,49.58,50.92)}.battle-container .battle-log-container .battle-log .log-entry{padding:5px 0;border-bottom:1px dashed rgb(51.25,51.25,51.25)}.battle-container .battle-log-container .battle-log .log-entry:last-child{border-bottom:none}.battle-container .battle-log-container .battle-log .log-entry.player-action{color:#64b5f6}.battle-container .battle-log-container .battle-log .log-entry.enemy-action{color:#e57373}.battle-container .battle-log-container .battle-log .log-entry.system-message{color:#ffd54f;font-style:italic}.battle-container .battle-log-container .battle-log .log-entry .damage{color:#f44336;font-weight:bold}.battle-container .battle-log-container .battle-log .log-entry .heal{color:#81c784;font-weight:bold}.battle-container .battle-log-container .battle-log .log-entry .critical{color:gold;font-weight:bold;animation:flash 0.5s infinite alternate}.battle-container .battle-controls{display:flex;flex-direction:column;gap:10px}.battle-container .battle-controls .skill-list{display:flex;flex-wrap:wrap;gap:5px}.battle-container .battle-controls .action-buttons{display:flex;justify-content:center;gap:5px}.battle-container .battle-controls .action-button,.battle-container .battle-controls .skill-button{padding:6.6666666667px 10px;background-color:rgb(62.16,62.16,63.84);border:1px solid #404040;color:#e0e0e0;border-radius:4px;cursor:pointer;transition:background-color 0.2s ease}.battle-container .battle-controls .action-button:hover,.battle-container .battle-controls .skill-button:hover{background-color:rgb(87.32,87.32,89.68)}.battle-container .battle-controls .action-button:active,.battle-container .battle-controls .skill-button:active{background-color:rgb(24.42,24.42,25.08)}.battle-container .battle-result{padding:10px;text-align:center;border:1px solid #404040;border-radius:4px}.battle-container .battle-result h2{margin-top:0}.battle-container .battle-result #continue-plot-button{padding:6.6666666667px 10px;background-color:#64b5f6;border:1px solid rgb(51.7987804878,157.987804878,243.2012195122);color:white;border-radius:4px;cursor:pointer;transition:background-color 0.2s ease;font-size:15.4px;margin-top:10px}.battle-container .battle-result #continue-plot-button:hover{background-color:rgb(148.2012195122,204.012195122,248.7987804878)}@keyframes flash{0%{opacity:1}50%{opacity:0.6}100%{opacity:1}}
</style></head>
  <body>
    <!-- 战斗界面的容器将由 battle-interface.html 的内容填充 -->
    <div id="battle-root">
      <!-- 这里的内容将在 JS 加载后由 battle-interface.html 替换或填充 -->
      <!-- 或者直接将 battle-interface.html 的内容放在这里 -->
      <div id="battle-container" class="battle-container">
        <div class="battle-scene">
          <div class="character-area player-area">
            <div class="character-info" id="player-info">
              <!-- 玩家信息 -->
            </div>
          </div>
          <div class="character-area enemy-area">
            <div class="character-info" id="enemy-info">
              <!-- 敌人信息 -->
            </div>
          </div>
        </div>
        <div class="battle-log-container">
          <div class="battle-log" id="battle-log">
            <!-- 战斗日志 -->
          </div>
        </div>
        <div class="battle-controls">
          <div class="skill-list" id="skill-list">
            <!-- 技能按钮 -->
          </div>
          <div class="action-buttons">
            <button class="action-button" data-action="attack">攻击</button>
            <button class="action-button" data-action="defend">防御</button>
            <button class="action-button" data-action="escape">逃跑</button>
            <!-- 可能有道具按钮 -->
          </div>
        </div>
        <div class="battle-result" id="battle-result" style="display: none">
          <!-- 战斗结果 -->
          <button id="continue-plot-button">继续剧情</button>
        </div>
      </div>
    </div>
  </body>
</html>
