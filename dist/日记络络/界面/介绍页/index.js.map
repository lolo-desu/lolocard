{"version":3,"file":"index.js","mappings":"AAEAA,EAAE,KAEAA,EAAE,kBAAkBC,KAAK,CAACC,EAAQC,KAChC,MAAMC,EAAUJ,EAAEG,GACZE,EAAWD,EAAQE,KAAK,uBAE9BD,EAASE,YAAY,WAAYH,EAAQI,SAAS,aAClDJ,EAAQK,GAAG,QAAS,KAClB,MAAMC,EAAQN,EAAQI,SAAS,YAC/BJ,EAAQG,YAAY,YAAaG,GACjCL,EAASE,YAAY,YAAaG,OAKtCV,EAAE,kBAAkBS,GAAG,QAAS,WAC9B,MAAME,EAAsBC,OAC1BZ,EAAEa,MACCC,KAAK,QACLC,OACAC,MAAM,aAAa,IAExBC,gBAAgB,CAAC,CAAEC,WAAY,EAAGC,SAAUR,IAC9C,GAEAX,EAAE,gBAAgBS,GAAG,QAAS,WAC5B,MAAMW,EAAapB,EAAEa,MAAMQ,KAAK,aAChCC,UAAUC,UACPC,UAAUJ,GACVK,KAAK,KAEJ,MAAMC,EAAkB1B,EAAE,SAAS2B,SAAS,gBAAgBZ,KAAK,aACjEW,EAAgBE,SAAS,QAGzB,MAAMC,EAAe7B,EAAEa,MAAME,OAC7Bf,EAAEa,MAAME,KAAK,QACbf,EAAEa,MAAMiB,IAAI,aAAc,WAG1BC,WAAW,KACTL,EAAgBI,IAAI,CAClBE,QAAS,EACTC,UAAW,oCAEZ,IAGHF,WAAW,KACTL,EAAgBI,IAAI,CAClBE,QAAS,EACTC,UAAW,uCAEbjC,EAAEa,MAAME,KAAKc,GACb7B,EAAEa,MAAMiB,IAAI,aAAc,IAE1BC,WAAW,KACTL,EAAgBQ,UACf,MACF,OAEJC,MAAMC,IACLC,QAAQC,MAAM,SAAUF,GACxBG,MAAM,iBAEZ","sources":["src://tavern_helper_template/src/日记络络/界面/介绍页/index.ts"],"sourcesContent":["import './index.css';\n\n$(() => {\n  // 展开/折叠功能\n  $('.expand-button').each((_index, button) => {\n    const $button = $(button);\n    const $section = $button.next('.expandable-section');\n\n    $section.toggleClass('expanded', $button.hasClass('expanded'));\n    $button.on('click', () => {\n      const state = $button.hasClass('expanded');\n      $button.toggleClass('expanded', !state);\n      $section.toggleClass('expanded', !state);\n    });\n  });\n\n  // 选择开局功能\n  $('.option-button').on('click', function (this: HTMLButtonElement) {\n    const first_message_index = Number(\n      $(this)\n        .find('span')\n        .text()\n        .match(/开局(\\d+)/)?.[1],\n    );\n    setChatMessages([{ message_id: 0, swipe_id: first_message_index }]);\n  });\n\n  $('.copy-button').on('click', function (this: HTMLButtonElement) {\n    const textToCopy = $(this).attr('data-copy') as string;\n    navigator.clipboard\n      .writeText(textToCopy)\n      .then(() => {\n        // 创建成功提示\n        const $successMessage = $('<div>').addClass('copy-success').text('链接已复制到剪贴板');\n        $successMessage.appendTo('body');\n\n        // 临时改变按钮文字\n        const originalText = $(this).text();\n        $(this).text('已复制!');\n        $(this).css('background', '#e6f2ff');\n\n        // 显示提示\n        setTimeout(() => {\n          $successMessage.css({\n            opacity: 1,\n            transform: 'translateX(-50%) translateY(0)',\n          });\n        }, 10);\n\n        // 一段时间后隐藏并移除提示\n        setTimeout(() => {\n          $successMessage.css({\n            opacity: 0,\n            transform: 'translateX(-50%) translateY(-10px)',\n          });\n          $(this).text(originalText);\n          $(this).css('background', '');\n\n          setTimeout(() => {\n            $successMessage.remove();\n          }, 300);\n        }, 2000);\n      })\n      .catch(err => {\n        console.error('复制失败: ', err);\n        alert('复制失败，请手动复制链接');\n      });\n  });\n});\n"],"names":["$","each","_index","button","$button","$section","next","toggleClass","hasClass","on","state","first_message_index","Number","this","find","text","match","setChatMessages","message_id","swipe_id","textToCopy","attr","navigator","clipboard","writeText","then","$successMessage","addClass","appendTo","originalText","css","setTimeout","opacity","transform","remove","catch","err","console","error","alert"],"sourceRoot":""}