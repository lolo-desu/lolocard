import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import'https://testingcf.jsdelivr.net/gh/MagicalAstrogy/MagVarUpdate/artifact/bundle.js';import{registerMvuSchema as t}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';import{compare as p}from'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';import{createPinia as n,defineStore as o,getActivePinia as a,setActivePinia as r}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{klona as i}from'https://testingcf.jsdelivr.net/npm/klona/+esm';const g=z,s=g.z.object({ä¸‹ä¸€å›åˆç•Œé¢é€‰æ‹©:g.z.enum(['çº¯æ–‡å­—å°¾é™„ç«‹ç»˜','å±•ç¤ºæ—¥è®°','galgameSFW','galgameNSFW']).prefault('çº¯æ–‡å­—å°¾é™„ç«‹ç»˜'),ä¸–ç•Œ:g.z.object({å½“å‰æ—¶é—´:g.z.templateLiteral([g.z.coerce.number(),':',g.z.coerce.number()]),_å½“å‰æ—¶é—´é˜¶æ®µ:g.z.enum(['å‡Œæ™¨','æ—©æ™¨','ä¸Šåˆ','ä¸­åˆ','ä¸‹åˆ','æ™šä¸Š','æ·±å¤œ']).optional(),å½“å‰æ—¥æœŸ:g.z.string(),å½“å‰æ˜ŸæœŸ:g.z.templateLiteral([g.z.literal('æ˜ŸæœŸ'),g.z.enum(['ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','æ—¥'])]),æ˜¯å¦éœ€è¦ä¸Šå­¦:g.z.boolean().prefault(!0)}).transform(e=>{const t=e.å½“å‰æ—¶é—´.split(':').map(Number).reduce((e,t)=>60*e+t,0);return e._å½“å‰æ—¶é—´é˜¶æ®µ=t<300?'å‡Œæ™¨':t<360?'æ—©æ™¨':t<720?'ä¸Šåˆ':t<840?'ä¸­åˆ':t<1020?'ä¸‹åˆ':t<1200?'æ™šä¸Š':'æ·±å¤œ','æ˜ŸæœŸå…­'!==e.å½“å‰æ˜ŸæœŸ&&'æ˜ŸæœŸæ—¥'!==e.å½“å‰æ˜ŸæœŸ||(e.æ˜¯å¦éœ€è¦ä¸Šå­¦=!1),e}),ä¸»çº¿äº‹ä»¶:g.z.discriminatedUnion('å½“å‰çŠ¶æ€',[g.z.object({å½“å‰çŠ¶æ€:g.z.literal('æ— æ³•è§¦å‘')}),g.z.object({å½“å‰çŠ¶æ€:g.z.literal('å†·å´ä¸­'),å‰©ä½™å†·å´å›åˆæ•°:g.z.coerce.number().nonnegative().prefault(20)}),g.z.object({å½“å‰çŠ¶æ€:g.z.literal('è¿›è¡Œä¸­'),å½“å‰é˜¶æ®µ:g.z.enum(['å¼•å…¥','å‘å±•','é«˜æ½®','ç»“å±€']).prefault('å¼•å…¥'),ä¸»é¢˜:g.z.string(),æè¿°:g.z.string(),å¤§çº²:g.z.object({å¼•å…¥:g.z.string(),å‘å±•:g.z.string(),é«˜æ½®:g.z.string(),ç»“å±€:g.z.string()})})]).prefault({å½“å‰çŠ¶æ€:'æ— æ³•è§¦å‘'}),ç»œç»œ:g.z.object({äº²å¯†åº¦:g.z.coerce.number().transform(e=>_.clamp(e,0,100)),é˜…è¯»æ—¥è®°æ•°é‡:g.z.coerce.number().nonnegative().prefault(0),æ‹¥æœ‰è”ç³»æ–¹å¼:g.z.boolean().prefault(!1)})}).transform(e=>(e.ç»œç»œ.äº²å¯†åº¦<50?e.ä¸»çº¿äº‹ä»¶.å½“å‰çŠ¶æ€='æ— æ³•è§¦å‘':'æ— æ³•è§¦å‘'===e.ä¸»çº¿äº‹ä»¶.å½“å‰çŠ¶æ€&&(e.ä¸»çº¿äº‹ä»¶={å½“å‰çŠ¶æ€:'å†·å´ä¸­',å‰©ä½™å†·å´å›åˆæ•°:0}),e));$(()=>{t(s)});const l=[{name:'ğŸ•›åº¦è¿‡',function:async()=>{const e={æ™¨é—´:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªæ™¨é—´\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 1);\n</UpdateVariable>',è¯¾ä¸Š:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªè¯¾ä¸Š\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 18);\n</UpdateVariable>',åˆä¼‘:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªåˆä¼‘\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 32);\n</UpdateVariable>',æ”¾å­¦å:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªæ”¾å­¦å\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 49);\n</UpdateVariable>',å¤œé—´:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªå¤œé—´\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 66);\n</UpdateVariable>',å‡æ—¥:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªå‡æ—¥\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 83);\n</UpdateVariable>',ç¬¬äºŒå¤©:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ç¬¬äºŒå¤©ï¼Œå¹¶è°ƒæ•´å½“å‰æ—¶é—´é˜¶æ®µå˜é‡åˆ°æ¥ä¸‹æ¥æ•…äº‹æƒ…èŠ‚æœ€æœ‰æ„ä¹‰çš„æ—¶é—´ï¼Œä¸‹ä¸€æ¬¡å“åº”çš„æ—¶é—´é˜¶æ®µå˜é‡è°ƒæ•´æ²¡æœ‰ä»»ä½•é™åˆ¶\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 1);\n</UpdateVariable>'},t=await triggerSlash(`/buttons labels=${JSON.stringify(Object.keys(e))} æ—¶é—´æ¥åˆ°äº†...`);_.has(e,t)&&await triggerSlash(`/send ${e[t]} || /trigger`)}},{name:'ğŸ—ºï¸åœ°ç‚¹',function:async()=>{const e={ä½å®…:{æ—ç™½:'å›å®¶ï¼',åœ°ç‚¹:['ä½æ‰€ç„å…³','ä½æ‰€å®¢å…','æˆ¿é—´']},å­¦æ ¡:{æ—ç™½:'å»å­¦æ ¡å—...',åœ°ç‚¹:['ä¸Šå­¦è·¯ä¸Š','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰','æ•™å®¤','å­¦æ ¡ä¸­åº­','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯','å­¦æ ¡å±‹é¡¶']},åŸé•‡ä¸è¡—é“:{æ—ç™½:'å»é€›é€›å‘¢...',åœ°ç‚¹:['åŸé•‡è¡—é“ä¸Š','ä½å®…è¡—','å•†åº—è¡—','æ‹±å»Šå•†åº—è¡—','ç¹åå•†ä¸šè¡—','åŸå¸‚ä¸­çš„é“è·¯é“å£']},å•†ä¸šè®¾æ–½:{æ—ç™½:'å»çº¦ä¼šå—w...',åœ°ç‚¹:['ä¾¿åˆ©åº—å†…','ä¹¦åº—å†…','å’–å•¡å…','å®¶åº­é¤å…','è´­ç‰©ä¸­å¿ƒ','è´­ç‰©ä¸­å¿ƒäºŒå±‚','ç¾æœ¯é¦†','åœ°é“ç«™å†…','åœ°é“å†…','åº™ä¼šå°åƒè¡—']},æˆ·å¤–:{æ—ç™½:'é”»ç‚¼èº«ä½“...?',åœ°ç‚¹:['å…¬å›­','å…¬å›­å‡‰äº­','å…¬å›­å•†åº—äº­','æ²³æ—','æµ·æ»©']}},t=await triggerSlash(`/buttons labels=${JSON.stringify(Object.keys(e))} {{user}}å°†åŠ¨èº«å‰å¾€...`);if(!_.has(e,t))return;const{æ—ç™½:p,åœ°ç‚¹:n}=e[t],o=await triggerSlash(`/buttons labels=${JSON.stringify(n)} <small>${p}<small>`);n.includes(o)&&triggerSlash(`/send \x3c!--äºæœ¬æ¬¡å“åº”éœ€è¦æå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å†™å‡ºç†ç”±å‰å¾€ä¸‹ä¸€ä¸ªåœ°ç‚¹--\x3e[ç§»åŠ¨] {{user}}å‰å¾€äº†${o}\n<UpdateVariable>\n_.set('ä¸–ç•Œ.ä¸‹æ¬¡å“åº”ç•Œé¢é€‰æ‹©åˆ¤æ–­', 0);\n</UpdateVariable> || /trigger`)}}];function d(){return async function(){const e='çº¯ç™½è‰²çš„å›å“';JSON.parse(await triggerSlash('/qr-set-list')).includes(e)&&triggerSlash(`/qr-set-delete ${e}`)}(),l.forEach(e=>eventOn(getButtonEvent(e.name),e.function)),appendInexistentScriptButtons(l.map(e=>({name:e.name,visible:!0}))),{destroy:()=>replaceScriptButtons(getScriptButtons().filter(e=>l.some(t=>t.name===e.name)))}}const c='ä¸Šé”çš„æ—¥è®°æœ¬';const j=['CG/å‚æ™šæˆ·å¤–æµ·è¾¹å ¤åä¸Šç«™ç€è„¸çº¢çœ‹å‘æ—è¾¹.jpg','CG/å¤œæ™šæˆ·å¤–æ‹¿å†°å¯ä¹è§¦ç¢°ç»œç»œè„¸é¢Šå¬‰ç¬‘.jpg','CG/å¤œæ™šæˆ·å¤–æ—é—´ç«™ç€æŠ¬å¤´çœ‹å¤œç©º.jpg','CG/ç™½å¤©å®¤å†…å®¢å…åç€è¢«ä¸»è§†è§’å–‚é£Ÿè„¸çº¢åœ°çœ‹ç€å‰æ–¹.jpg','CG/ç™½å¤©å®¤å†…æ•™å®¤é‡Œååœ¨é’¢ç´å‰çœ‹å‘æ—è¾¹è¡¨æƒ…å¹³é™åŒ…å«å¹»æƒ³å‡ºçš„é²¸é±¼ä¸äº‘æœµ.jpg','CG/ç™½å¤©å®¤å†…é¤å…ååœ¨æ¡Œå­å‰ç”¨å‹ºå­åƒé¥­.jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡å¤©å°çœºæœ›ç­‰å¾….jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡èµ°å»Šç«™ç€æ‹¿ç€ä¹¦åŒ…å›å¤´è„¸çº¢å¾®ç¬‘.jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡é“è·¯ä¸Šè„¸çº¢å›å¤´çœ‹.jpg','CG/ç™½å¤©æˆ·å¤–æµ·è¾¹ååœ¨é˜²æ³¢å ¤ä¸Šçœ‹ç€çŒ«å’ªè¡¨æƒ…æ¸©æŸ”.jpg','CG/ç™½å¤©æˆ·å¤–æµ·è¾¹æµ·é¸¥åŒæ‰‹åˆåçœºæœ›è¿œæ–¹.jpg','CG/ç™½å¤©æˆ·å¤–è¡—é“ä¸ŠåŒæ‰‹é è¿‘è„¸é¢Šè„¸çº¢å¾®ç¬‘.jpg','CG/ç™½å¤©æˆ·å¤–èººåœ¨èŠ±æµ·å¾®ç¬‘.jpg','CG/ç®€å•èƒŒæ™¯åŒæ‰‹å¼ å¼€æŠ¬å¤´ç­‰å¾…äº²å»æ‹¥æŠ±.jpg','CG/é»„æ˜æˆ·å¤–æ—¥è½æµ·è¾¹ç«™ç«‹è„¸çº¢ç›´è§†ç©å®¶.jpg','NSFWCG/å§å®¤åºŠä¸Šå£äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨POVè§†è§’.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå£äº¤é¢„å¤‡å¾®å¾®åç¬‘.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå±•ç¤ºå°ç©´è¶³äº¤.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå±•ç¤ºå°ç©´è¶³äº¤å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰‘å€’ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰¶è…¿æ’å…¥å›å¤´æœ›.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰¶è…¿æ’å…¥å›å¤´æœ›å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨2.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢å£äº¤é¢„å¤‡å«ç¾å¾®ç¬‘è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢å£äº¤é¢„å¤‡æ„‰æ‚¦è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿2.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿å°„ç²¾æ„‰æ‚¦è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥å‰å€¾Må­—è…¿é€†æ¨å¥³ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥å‰å€¾Må­—è…¿é€†æ¨å¥³ä¸»åŠ¨è„¸çº¢å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒå¯¹é«˜ä¸¾å±è‚¡è„¸ä¸‹è¶´å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒèº«æ’…å±è‚¡åå…¥.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒèº«æ’…å±è‚¡åå…¥å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šè¶´ç”·èº«ä¸Šå£äº¤æ·±å–‰.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šè¶´ç”·èº«ä¸Šå£äº¤æ·±å–‰å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡äº¤ç»œç»œç«™ç«‹ä¸»è§’ååºŠä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡æ•™ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤ç»œç»œæ‰¶å¢™è‡ªæ…°.jpg','NSFWCG/å¤œæ™šå­¦æ ¡äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å¤©å°äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å®¤å†…äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶æ‰¶è…¿æ’å…¥å›å¤´æœ›.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥å°„ç²¾.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥å°„ç²¾è„¸çº¢.jpg','NSFWCG/å¤œæ™šæˆ·å¤–äº²å».jpg','NSFWCG/å¤œæ™šæˆ·å¤–æ€è£™æŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šä¸‹åŠèº«è£¸Må­—è…¿åç”·ä¸Šæœªæ€§äº¤.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå…¨è£¸åå…¥1.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå…¨è£¸åå…¥2.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤æ·±å–‰é—­çœ¼.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº1.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº2.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº3.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šåå…¥åŒæ‰‹æŠ“èƒ³è†Š.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šåå…¥å¥³è¶´.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨POVè§†è§’.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šæ­£é¢Mè…¿.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šæ­£é¢Vè…¿.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šè¶³äº¤.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šéª‘ä¹˜å‰æˆ.jpg','NSFWCG/ç™½å¤©å§å®¤æ€§çˆ±åæ‹¥æŠ±.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å¤©å°æŒ‡æ•™ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶æ­£é¢ç«™ç«‹.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶è¶´å›´æ åå…¥1.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶è¶´å›´æ åå…¥2.jpg','NSFWCG/ç™½å¤©å®¤å†…æ³•å¼èˆŒå».jpg','NSFWCG/ç™½å¤©å··å­å…¨è£¸æ­£é¢Mè…¿.jpg','NSFWCG/ç™½å¤©å··å­åå…¥æ‰¯èƒ³è†Šè·ªåœ°.jpg','NSFWCG/ç™½å¤©å··å­åå…¥ç‰µæ‰‹.jpg','NSFWCG/ç™½å¤©å··å­æ‰¶å¢™åå…¥1.jpg','NSFWCG/ç™½å¤©å··å­æ‰¶å¢™åå…¥2.jpg','NSFWCG/ç™½å¤©å··å­æ­£é¢Mè…¿èººåœ°.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥Mè…¿æ‰¶æ¡Œ.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥æ‰¶å¢™.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥æ‰¶æ¡Œ.jpg','NSFWCG/ç™½å¤©æ•™å®¤åæ¡Œæ‰¶å•è…¿æ­£é¢.jpg','NSFWCG/ç™½å¤©æ•™å®¤æ­£é¢Vè…¿.jpg','NSFWCG/ç™½å¤©æ•™å®¤æ­£é¢å.jpg','NSFWCG/ç™½å¤©æ— äººæ²™æ»©å•è…¿ç«™ç«‹.jpg','NSFWCG/ç™½å¤©æ²™æ»©åŒè…¿ç«–ç›´å‘ä¸Šæ­£é¢.jpg','NSFWCG/ç™½å¤©æ²™æ»©å²©çŸ³æ‰¶è…¿æ­£é¢.jpg','NSFWCG/ç™½å¤©æ²™æ»©æ­£é¢æ€è£™.jpg','ä¸Šå­¦è·¯ä¸Š/å¤œæ™šå…³ç¯.jpg','ä¸Šå­¦è·¯ä¸Š/å¤œæ™šå¼€ç¯.jpg','ä¸Šå­¦è·¯ä¸Š/ç™½å¤©.jpg','ä¸Šå­¦è·¯ä¸Š/é»„æ˜.jpg','ä¹¦åº—.jpg','ä¹¦åº—å†….jpg','ä¹¦åº—å†…/ä¹¦åº—.jpg','ä¹¦åº—å†…/ä¹¦åº—å†….jpg','ä½å®…è¡—/å¤œæ™šå…³ç¯.jpg','ä½å®…è¡—/å¤œæ™šå¼€ç¯.jpg','ä½å®…è¡—/ç™½å¤©.jpg','ä½å®…è¡—/é»„æ˜.jpg','ä½æ‰€å®¢å…/å¤œæ™šå…³ç¯.jpg','ä½æ‰€å®¢å…/å¤œæ™šå¼€ç¯.jpg','ä½æ‰€å®¢å…/ç™½å¤©.jpg','ä½æ‰€å®¢å…/é»„æ˜.jpg','ä½æ‰€ç„å…³/å¤œæ™šå…³ç¯.jpg','ä½æ‰€ç„å…³/å¤œæ™šå¤œç¯.jpg','ä½æ‰€ç„å…³/å¤œæ™šå¼€ç¯.jpg','ä½æ‰€ç„å…³/ç™½å¤©.jpg','ä½æ‰€ç„å…³/é»„æ˜.jpg','ä¾¿åˆ©åº—å†….jpg','ä¾¿åˆ©åº—å†…/ä¾¿åˆ©åº—.jpg','ä¾¿åˆ©åº—å†…/ä¾¿åˆ©åº—å†….jpg','å…¬å›­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­/ç™½å¤©.jpg','å…¬å›­/é»„æ˜.jpg','å…¬å›­å‡‰äº­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­å‡‰äº­/ç™½å¤©.jpg','å…¬å›­å‡‰äº­/é»„æ˜.jpg','å…¬å›­å•†åº—äº­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­å•†åº—äº­/ç™½å¤©.jpg','å…¬å›­å•†åº—äº­/é»„æ˜.jpg','å’–å•¡å…/å¤œæ™šå¼€ç¯.jpg','å’–å•¡å…/ç™½å¤©.jpg','å’–å•¡å…/é»„æ˜.jpg','å•†åº—è¡—/å¤œæ™šå¼€ç¯.jpg','å•†åº—è¡—/ç™½å¤©.jpg','å•†åº—è¡—/é»„æ˜.jpg','å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†/å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†/å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†/æ™šä¸Š.jpg','å›¾ä¹¦é¦†/ç™½å¤©.jpg','å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†å†…/å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†å†…/å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†å†…/æ™šä¸Š.jpg','å›¾ä¹¦é¦†å†…/ç™½å¤©.jpg','åœ°é“å†…/å¤œæ™šå¼€ç¯.jpg','åœ°é“å†…/ç™½å¤©.jpg','åœ°é“å†…/é»„æ˜.jpg','åœ°é“ç«™.jpg','åœ°é“ç«™å†….jpg','åœ°é“ç«™å†…/åœ°é“ç«™.jpg','åœ°é“ç«™å†…/åœ°é“ç«™å†….jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/å¤œæ™šå¼€ç¯.jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/ç™½å¤©.jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/é»„æ˜.jpg','åŸé•‡è¡—é“ä¸Š/å¤œæ™šå…³ç¯.jpg','åŸé•‡è¡—é“ä¸Š/å¤œæ™šå¼€ç¯.jpg','åŸé•‡è¡—é“ä¸Š/ç™½å¤©.jpg','åŸé•‡è¡—é“ä¸Š/é»„æ˜.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå…³ç¯.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå¤œç¯.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå¼€ç¯.jpg','å¥³ç”Ÿæˆ¿é—´/ç™½å¤©.jpg','å¥³ç”Ÿæˆ¿é—´/é»„æ˜.jpg','å­¦æ ¡ä¸­åº­/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡ä¸­åº­/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡ä¸­åº­/ç™½å¤©.jpg','å­¦æ ¡ä¸­åº­/é»„æ˜.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/ç™½å¤©.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/é»„æ˜.jpg','å­¦æ ¡å¤©å°/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å¤©å°/ç™½å¤©.jpg','å­¦æ ¡å¤©å°/é»„æ˜.jpg','å­¦æ ¡å±‹é¡¶/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å±‹é¡¶/ç™½å¤©.jpg','å­¦æ ¡å±‹é¡¶/é»„æ˜.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/ç™½å¤©.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/é»„æ˜.jpg','å­¦æ ¡æ•™å®¤/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ•™å®¤/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ•™å®¤/ç™½å¤©.jpg','å­¦æ ¡æ•™å®¤/é»„æ˜.jpg','å­¦æ ¡æ¥¼æ¢¯/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ¥¼æ¢¯/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ¥¼æ¢¯/ç™½å¤©.jpg','å­¦æ ¡æ¥¼æ¢¯/é»„æ˜.jpg','å­¦æ ¡æ­£é—¨å‰/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ­£é—¨å‰/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ­£é—¨å‰/ç™½å¤©.jpg','å­¦æ ¡æ­£é—¨å‰/é»„æ˜.jpg','åº™ä¼šå°åƒè¡—/å¤œæ™šå¼€ç¯.jpg','åº™ä¼šå°åƒè¡—/ç™½å¤©.jpg','åº™ä¼šå°åƒè¡—/é»„æ˜.jpg','æ‹±å»Šå•†åº—è¡—/å¤œæ™šå¼€ç¯.jpg','æ‹±å»Šå•†åº—è¡—/ç™½å¤©.jpg','æ‹±å»Šå•†åº—è¡—/é»„æ˜.jpg','æ•™å®¤/å¤œæ™šå…³ç¯.jpg','æ•™å®¤/å¤œæ™šå¼€ç¯.jpg','æ•™å®¤/ç™½å¤©.jpg','æ•™å®¤/é»„æ˜.jpg','æ²³æ—/å¤œæ™šå…³ç¯.jpg','æ²³æ—/ç™½å¤©.jpg','æ²³æ—/é»„æ˜.jpg','æµ·æ»©/å¤œæ™šå…³ç¯.jpg','æµ·æ»©/ç™½å¤©.jpg','æµ·æ»©/é»„æ˜.jpg','ç”·ç”Ÿæˆ¿é—´/å¤œæ™šå…³ç¯.jpg','ç”·ç”Ÿæˆ¿é—´/å¤œæ™šå¼€ç¯.jpg','ç”·ç”Ÿæˆ¿é—´/ç™½å¤©.jpg','ç”·ç”Ÿæˆ¿é—´/é»„æ˜.jpg','ç¹åå•†ä¸šè¡—/å¤œæ™šå¼€ç¯.jpg','ç¹åå•†ä¸šè¡—/ç™½å¤©.jpg','ç¹åå•†ä¸šè¡—/é»„æ˜.jpg','ç¾æœ¯é¦†/å¤œæ™šå…³ç¯.jpg','ç¾æœ¯é¦†/ç™½å¤©.jpg','è´­ç‰©ä¸­å¿ƒ/å¤œæ™šå…³ç¯.jpg','è´­ç‰©ä¸­å¿ƒ/ç™½å¤©.jpg','è´­ç‰©ä¸­å¿ƒ/é»„æ˜.jpg','è´­ç‰©ä¸­å¿ƒäºŒå±‚/è´­ç‰©ä¸­å¿ƒäºŒå±‚.jpg','é¤é¦†/å¤œæ™šå¼€ç¯.jpg','é¤é¦†/ç™½å¤©.jpg','é¤é¦†/é»„æ˜.jpg'],m=['æ— äºº.png','å¼€è¡«/æ— äºº.png','å¼€è¡«/æ“¦çœ¼æ³ª.png','å¼€è¡«/å¾®ç¬‘.png','å¼€è¡«/ç¨å¾®è„¸çº¢.png','å¼€è¡«/é‚ªæ¶çš„ç¬‘å®¹.png','å¼€è¡«/ç­‰å¾…å».png','å¼€è¡«/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','å¼€è¡«/å“­æ³£.png','å¼€è¡«/æµ…ç¬‘.png','å¼€è¡«/æµå£æ°´.png','å¼€è¡«/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','å¼€è¡«/æ˜Ÿæ˜Ÿçœ¼.png','å¼€è¡«/çŒ«çˆªç”Ÿæ°”.png','å¼€è¡«/æ— è¡¨æƒ….png','å¼€è¡«/å®³ç¾.png','å¼€è¡«/æ™•æ™•çœ¼.png','å¼€è¡«/æƒŠè®¶.png','å¼€è¡«/æ€§é«˜æ½®.png','å¼€è¡«/ç”Ÿæ°”.png','æ°´æ‰‹æœ/æ— äºº.png','æ°´æ‰‹æœ/æ“¦çœ¼æ³ª.png','æ°´æ‰‹æœ/å¾®ç¬‘.png','æ°´æ‰‹æœ/ç¨å¾®è„¸çº¢.png','æ°´æ‰‹æœ/ç­‰å¾…å».png','æ°´æ‰‹æœ/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','æ°´æ‰‹æœ/å“­æ³£.png','æ°´æ‰‹æœ/æµ…ç¬‘.png','æ°´æ‰‹æœ/æµå£æ°´.png','æ°´æ‰‹æœ/é‚ªæ¶çš„åç¬‘.png','æ°´æ‰‹æœ/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','æ°´æ‰‹æœ/æ˜Ÿæ˜Ÿçœ¼.png','æ°´æ‰‹æœ/çŒ«çˆªç”Ÿæ°”.png','æ°´æ‰‹æœ/æ— è¡¨æƒ….png','æ°´æ‰‹æœ/å®³ç¾.png','æ°´æ‰‹æœ/æ™•æ™•çœ¼.png','æ°´æ‰‹æœ/æƒŠè®¶.png','æ°´æ‰‹æœ/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','æ°´æ‰‹æœ/æ€§é«˜æ½®.png','æ°´æ‰‹æœ/ç”Ÿæ°”.png','æ ¼çº¹è¡«/æ— äºº.png','æ ¼çº¹è¡«/æ“¦çœ¼æ³ª.png','æ ¼çº¹è¡«/å¾®ç¬‘.png','æ ¼çº¹è¡«/ç¨å¾®è„¸çº¢.png','æ ¼çº¹è¡«/ç­‰å¾…å».png','æ ¼çº¹è¡«/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','æ ¼çº¹è¡«/å“­æ³£.png','æ ¼çº¹è¡«/æµ…ç¬‘.png','æ ¼çº¹è¡«/æµå£æ°´.png','æ ¼çº¹è¡«/é‚ªæ¶çš„åç¬‘.png','æ ¼çº¹è¡«/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','æ ¼çº¹è¡«/æ˜Ÿæ˜Ÿçœ¼.png','æ ¼çº¹è¡«/çŒ«çˆªç”Ÿæ°”.png','æ ¼çº¹è¡«/å®³ç¾.png','æ ¼çº¹è¡«/æ™•æ™•çœ¼.png','æ ¼çº¹è¡«/æƒŠè®¶.png','æ ¼çº¹è¡«/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','æ ¼çº¹è¡«/æ€§é«˜æ½®.png','æ ¼çº¹è¡«/ç”Ÿæ°”.png','ç¡è¡£/æ— äºº.png','ç¡è¡£/å¾®ç¬‘.png','ç¡è¡£/ç¨å¾®è„¸çº¢.png','ç¡è¡£/ç­‰å¾…å».png','ç¡è¡£/å“­æ³£.png','ç¡è¡£/æµ…ç¬‘.png','ç¡è¡£/æµå£æ°´.png','ç¡è¡£/é‚ªæ¶çš„åç¬‘.png','ç¡è¡£/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','ç¡è¡£/æ˜Ÿæ˜Ÿçœ¼.png','ç¡è¡£/çŒ«çˆªç”Ÿæ°”.png','ç¡è¡£/å®³ç¾.png','ç¡è¡£/æ™•æ™•çœ¼.png','ç¡è¡£/æƒŠè®¶.png','ç¡è¡£/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','ç¡è¡£/æ€§é«˜æ½®.png','ç¡è¡£/ç”Ÿæ°”.png','å…¨è£¸/æ— äºº.png','å…¨è£¸/åç¬‘.png','å…¨è£¸/ç¨å¾®è„¸çº¢.png','å…¨è£¸/å“­æ³£.png','å…¨è£¸/æµ…ç¬‘.png','å…¨è£¸/æµå£æ°´.png','å…¨è£¸/é‚ªæ¶çš„åç¬‘.png','å…¨è£¸/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','å…¨è£¸/æ˜Ÿæ˜Ÿçœ¼.png','å…¨è£¸/ç­‰å¾…æ¥å».png','å…¨è£¸/å®³ç¾.png','å…¨è£¸/æ™•æ™•çœ¼.png','å…¨è£¸/æƒŠè®¶.png','å…¨è£¸/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','å…¨è£¸/æ€§é«˜æ½®.png','å…¨è£¸/ç”Ÿæ°”.png'];function f(){return Promise.allSettled([...j,...m].map(e=>new Promise(t=>{const p=function(e){const t='https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/å›¾ç‰‡';return m.includes(e)?`${t}/ç«‹ç»˜/${e}`:j.includes(e)?`${t}/èƒŒæ™¯/${e}`:null}(e);if(!p)return void t(null);const n=new Image;n.onload=t,n.onerror=t,n.src=p}))),{destroy:()=>{}}}const b=Vue,h=g.z.object({ä¸»è§’æ€§åˆ«:g.z.enum(['ç”·','å¥³']).prefault('ç”·'),æ ·å¼ä¸»é¢˜:g.z.enum(['æš—è‰²','äº®è‰²']).prefault('æš—è‰²'),é€‰æ‹©æ¡†è§¦å‘æ–¹å¼:g.z.enum(['ç›´æ¥å‘é€','è¦†ç›–è¾“å…¥']).prefault('ç›´æ¥å‘é€')}),u=o('config',errorCatched(()=>{const e=(0,b.ref)(h.parse({})),t=async()=>{const t=await getWorldbook(c),p=e=>t.find(t=>t.name.includes(e))?.enabled??!1,n=i(e.value),o=h.parse({ä¸»è§’æ€§åˆ«:p('ä¸»è§’æ€§åˆ«')?'ç”·':'å¥³',æ ·å¼ä¸»é¢˜:p('æ ·å¼ä¸»é¢˜')?'æš—è‰²':'äº®è‰²',é€‰æ‹©æ¡†è§¦å‘æ–¹å¼:p('é€‰æ‹©æ¡†è§¦å‘æ–¹å¼')?'ç›´æ¥å‘é€':'è¦†ç›–è¾“å…¥'});_.isEqual(o,n)||(e.value=i(o)),insertOrAssignVariables(i(o),{type:'chat'})},p=t();return eventOn(tavern_events.WORLDINFO_UPDATED,async e=>{e===c&&await t()}),eventOn(tavern_events.CHAT_CHANGED,async()=>{await t()}),{config:(0,b.readonly)(e),_wait_init:p}})),x={class:'roleplay_options'},y={class:'roleplay_options_back'},S=['onClick'],C={class:'roleplay_options_title'},G={class:'roleplay_options_content'},N=(0,b.defineComponent)({__name:'RoleplayOptions',props:{messageId:{},options:{}},setup(e){const t=e,p=u();return(n,o)=>((0,b.openBlock)(),(0,b.createElementBlock)('div',x,[(0,b.createElementVNode)('div',y,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(e.options,e=>((0,b.openBlock)(),(0,b.createElementBlock)('div',{key:e.title,class:'roleplay_options_item',tabindex:'1',onClick:n=>async function(e){if(getLastMessageId()===t.messageId)switch(p.config.é€‰æ‹©æ¡†è§¦å‘æ–¹å¼){case'ç›´æ¥å‘é€':triggerSlash(`/send ${e.content} || /trigger`);break;case'è¦†ç›–è¾“å…¥':triggerSlash(`/setinput ${e.content}`)}}(e)},[(0,b.createElementVNode)('span',C,[(0,b.createElementVNode)('strong',null,(0,b.toDisplayString)(e.title),1)]),o[0]||(o[0]=(0,b.createElementVNode)('hr',{class:'roleplay_options_hr'},null,-1)),(0,b.createElementVNode)('span',G,(0,b.toDisplayString)(e.content),1)],8,S))),128))])]))}});const W=new Map,F='<roleplay_options>',v=/<(roleplay_options)>\s*(?:```.*\n)?((?:(?!<\1>)[\s\S])*?)(?:\n```)?\s*<\/\1>/im;async function w(e){const t=getChatMessages(e);if(0===t.length)return;const p=(t[0].message??'').match(v);if(!p)return;const n=Number(e);W.get(n)?.unmount();const o=retrieveDisplayedMessage(n),r=o.find(`pre:contains("${F}")`);if(r.length>0){const e=r.parent('.TH-render');e.length>0?e.addClass('hidden!'):r.addClass('hidden!');const t=(0,b.createApp)(N,{messageId:n,options:[...p[2].matchAll(/(.+?)[:ï¼š]\s*(.+)/gm)].map(e=>({title:e[1],content:e[2].replace(/^\$\{(.+)\}$/,'$1').replace(/^ã€Œ(.+)ã€$/,'$1')}))}).use(a());W.set(n,t);const i=o.find(`div[script_id="${getScriptId()}"]`);t.mount(i.length>0?i[0]:$('<div>').attr('script_id',getScriptId()).appendTo(o)[0])}}async function k(){W.forEach(e=>{e.unmount()}),W.clear(),$('#chat').children('.mes[is_user=\'false\'][is_system=\'false\']').each((e,t)=>{const p=$(t).attr('mesid');try{p&&w(parseInt(p))}catch(e){}})}function E(){const{destroy:e}=function(){const e=u(),t=()=>'æš—è‰²'===e.config.æ ·å¼ä¸»é¢˜?'.roleplay_options_hr{display:none}.roleplay_options_back{background:#332d30;border-radius:16px;box-shadow:0 8px 20px rgba(20,18,19,0.25);padding:22px 24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;border:1px solid #4a4447;width:90%;max-width:740px;margin:24px auto}.roleplay_options_item{position:relative;background:#403a3d;border-radius:12px;box-shadow:0 5px 15px rgba(20,18,19,0.2);padding:18px 20px;cursor:default;border:1px solid #4a4447;transition:all 0.28s cubic-bezier(0.22,1,0.36,1);overflow:hidden;display:flex;flex-direction:column;z-index:1;margin:0;color:#ffd0d8;font-weight:400;line-height:1.6;height:100%;font-family:\'Microsoft YaHei\',Arial,sans-serif}.last_mes .roleplay_options_item{cursor:pointer}.last_mes .roleplay_options_item::after{content:\'\';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(140deg,transparent 0%,transparent 50%,rgba(255,204,214,0.15) 150%);opacity:0;transition:opacity 0.35s ease;z-index:-1}.last_mes .roleplay_options_item:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(20,18,19,0.3);background:#4a4447;border-color:rgba(255,204,214,0.3)}.last_mes .roleplay_options_item:hover::after{opacity:1}.last_mes .roleplay_options_item:hover .roleplay_options_content{color:#ffe5ea}.last_mes .roleplay_options_item:active{transform:translateY(-2px);box-shadow:0 4px 12px rgba(20,18,19,0.2)}.roleplay_options_item:before{content:\'\';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(0);transform-origin:0 0;transition:transform 0.35s cubic-bezier(0.4,0,0.2,1)}.last_mes .roleplay_options_item:hover:before{transform:scaleX(1)}.roleplay_options_title{font-size:0.95em;font-weight:600;color:#ffd0d8;margin-bottom:12px;letter-spacing:0.04em;text-align:left;padding-bottom:10px;border-bottom:1px solid rgba(80,74,77,0.3);text-shadow:0 1px 1px rgba(20,18,19,0.5);line-height:1.4;position:relative;display:flex;align-items:center}.roleplay_options_title::before{content:\'\';display:inline-block;width:6px;height:6px;background:#ffd0d8;border-radius:50%;margin-right:10px;box-shadow:0 0 0 2px rgba(255,204,214,0.2)}.roleplay_options_content{font-size:0.95em;line-height:1.65;color:#e0a7b5;font-weight:normal;transition:color 0.25s ease;text-align:left;flex:1;text-shadow:0 1px 1px rgba(20,18,19,0.5);letter-spacing:0.018em}.roleplay_options_item.selected{background:rgba(64,58,61,0.7);border-color:rgba(255,204,214,0.5)}.roleplay_options_item.selected:before{background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(1)}.roleplay_options_item.selected .roleplay_options_title::before{background:#ffd0d8;box-shadow:0 0 0 2px rgba(255,204,214,0.3)}@media (max-width:999px){.roleplay_options_back{padding:18px;gap:14px;grid-template-columns:1fr;width:100%;max-width:none;margin:24px 0;background:#332d30;border:1px solid #4a4447}.roleplay_options_item{padding:16px;background:#403a3d;border:1px solid #4a4447}.roleplay_options_title{font-size:0.9em;padding-bottom:8px;margin-bottom:10px}.roleplay_options_content{font-size:0.92em;line-height:1.6}}@media (prefers-reduced-motion:reduce){.roleplay_options_item,.roleplay_options_item::before,.roleplay_options_item::after,.roleplay_options_content,.roleplay_options_title{transition:none}}\n':'*{-webkit-tap-highlight-color:transparent}.roleplay_options_hr{display:none}.roleplay_options_back{background:#fff0f3;border-radius:16px;box-shadow:0 8px 20px rgba(145,125,138,0.15);padding:22px 24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;border:1px solid #ffe5ea;width:90%;max-width:740px;margin:24px auto}.roleplay_options_item{position:relative;background:#fffafb;border-radius:12px;box-shadow:0 5px 15px rgba(145,125,138,0.1);padding:18px 20px;cursor:default;border:1px solid #ffe5ea;transition:all 0.28s cubic-bezier(0.22,1,0.36,1);overflow:hidden;display:flex;flex-direction:column;z-index:1;margin:0;color:#7d6b6e;font-weight:400;line-height:1.6;height:100%;font-family:\'Microsoft YaHei\',Arial,sans-serif}.last_mes .roleplay_options_item{cursor:pointer}.last_mes .roleplay_options_item::after{content:\'\';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(140deg,transparent 0%,transparent 50%,rgba(255,204,214,0.15) 150%);opacity:0;transition:opacity 0.35s ease;z-index:-1}.last_mes .roleplay_options_item:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(145,125,138,0.2);background:#fff5f7;border-color:rgba(255,204,214,0.3)}.last_mes .roleplay_options_item:hover::after{opacity:1}.last_mes .roleplay_options_item:hover .roleplay_options_content{color:#635759}.last_mes .roleplay_options_item:active{transform:translateY(-2px);box-shadow:0 4px 12px rgba(145,125,138,0.1)}.roleplay_options_item:before{content:\'\';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(0);transform-origin:0 0;transition:transform 0.35s cubic-bezier(0.4,0,0.2,1)}.last_mes .roleplay_options_item:hover:before{transform:scaleX(1)}.roleplay_options_title{font-size:0.95em;font-weight:600;color:#7d6b6e;margin-bottom:12px;letter-spacing:0.04em;text-align:left;padding-bottom:10px;border-bottom:1px solid rgba(200,200,200,0.3);text-shadow:0 1px 1px rgba(255,255,255,0.5);line-height:1.4;position:relative;display:flex;align-items:center}.roleplay_options_title::before{content:\'\';display:inline-block;width:6px;height:6px;background:#ffd0d8;border-radius:50%;margin-right:10px;box-shadow:0 0 0 2px rgba(255,204,214,0.2)}.roleplay_options_content{font-size:0.95em;line-height:1.65;color:#8e7478;font-weight:normal;transition:color 0.25s ease;text-align:left;flex:1;text-shadow:0 1px 1px rgba(255,255,255,0.5);letter-spacing:0.018em}.roleplay_options_item.selected{background:rgba(255,235,240,0.7);border-color:rgba(255,204,214,0.5)}.roleplay_options_item.selected:before{background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(1)}.roleplay_options_item.selected .roleplay_options_title::before{background:#ffd0d8;box-shadow:0 0 0 2px rgba(255,204,214,0.3)}@media (max-width:999px){.roleplay_options_back{padding:18px;gap:14px;grid-template-columns:1fr;width:100%;max-width:none;margin:24px 0;background:#fff0f3;border:1px solid #ffe5ea}.roleplay_options_item{padding:16px;background:#fffafb;border:1px solid #ffe5ea}.roleplay_options_title{font-size:0.9em;padding-bottom:8px;margin-bottom:10px}.roleplay_options_content{font-size:0.92em;line-height:1.6}}@media (prefers-reduced-motion:reduce){.roleplay_options_item,.roleplay_options_item::before,.roleplay_options_item::after,.roleplay_options_content,.roleplay_options_title{transition:none}}\n';$('<div>').attr('script_id',getScriptId()).append(`<style roleplay_options>${t()}</style>`).appendTo('head');const p=(0,b.watch)(()=>e.config.æ ·å¼ä¸»é¢˜,()=>$(`head > div[script_id="${getScriptId()}"]`).find('style[roleplay_options]').text(t()));return{destroy:()=>{p(),$(`head > div[script_id="${getScriptId()}"]`).remove()}}}();return k(),eventOn(tavern_events.CHAT_CHANGED,errorCatched(k)),eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED,errorCatched(w)),eventOn(tavern_events.MESSAGE_UPDATED,errorCatched(w)),eventOn(tavern_events.MESSAGE_SWIPED,errorCatched(w)),eventOn(tavern_events.MESSAGE_DELETED,()=>setTimeout(errorCatched(k),1e3)),{destroy:()=>{$(`pre:contains("${F}")`).each(function(){const e=$(this).parent('.TH-render');e.length>0?e.removeClass('hidden!'):$(this).removeClass('hidden!')}),W.forEach(e=>{e?.unmount()}),e()}}}r(n()),$(async()=>{await e(()=>null!==getCharWorldbookNames('current').primary),await async function(){(await getWorldbook(c)).some(e=>e.name.includes('ä¸‹ä¸€å›åˆç•Œé¢é€‰æ‹©'))||(await importRawCharacter('ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬',await fetch('https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬.png').then(e=>e.blob())),p(getTavernVersion(),'4.3.18','<')&&SillyTavern.saveWorldInfo(c,JSON.parse(await fetch('https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/ä¸–ç•Œä¹¦/æ—¥è®°ç»œç»œ.json').then(e=>e.text())),!0),toastr.success('è§’è‰²å¡è‡ªåŠ¨æ›´æ–°æˆåŠŸ, å‡†å¤‡åˆ·æ–°é¡µé¢ä»¥ç”Ÿæ•ˆ...','ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬'),setTimeout(()=>triggerSlash('/reload-page'),3e3))}(),await u()._wait_init;const t=[];t.push(d().destroy),t.push(($('<div>').attr('script_id',getScriptId()).append($('<style>').text('@import url("https://static.zeoseven.com/zsft/510/main/result.css");:root{--lolo-font:"PING FANG SAN SHENG"}')).appendTo('head'),{destroy:()=>$(`head > div[script_id=${getScriptId()}]`).remove()}).destroy),t.push(f().destroy),t.push(E().destroy),$(window).on('pagehide',()=>t.forEach(e=>e()))});
//# sourceMappingURL=index.js.map