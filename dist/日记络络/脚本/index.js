import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{partialParse as t}from'https://testingcf.jsdelivr.net/npm/openai-partial-json-parser/+esm';import{createPinia as n,defineStore as a,getActivePinia as r,setActivePinia as o}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{gsap as s}from'https://testingcf.jsdelivr.net/npm/gsap/+esm';import{SplitText as i}from'https://testingcf.jsdelivr.net/npm/gsap/SplitText/+esm';import'https://testingcf.jsdelivr.net/gh/MagicalAstrogy/MagVarUpdate/artifact/bundle.js';import{registerMvuSchema as p}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';import{klona as l}from'https://testingcf.jsdelivr.net/npm/klona/+esm';import{compare as c}from'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';var d={324(e,t,n){var a=n(396);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('4faf3044',a,!1,{ssrId:!0})},396(e,t,n){n.r(t),n.d(t,{default:()=>i});var a=n(492),r=n.n(a),o=n(748),s=n.n(o)()(r());s.push([e.id,'.bg-instant-enter-active[data-v-e2db30e0],.bg-instant-leave-active[data-v-e2db30e0]{transition:none}.bg-instant-enter-from[data-v-e2db30e0],.bg-instant-enter-to[data-v-e2db30e0],.bg-instant-leave-from[data-v-e2db30e0],.bg-instant-leave-to[data-v-e2db30e0]{opacity:1}.bg-fade-enter-active[data-v-e2db30e0],.bg-fade-leave-active[data-v-e2db30e0]{transition:opacity 1.2s ease-in-out}.bg-fade-enter-from[data-v-e2db30e0],.bg-fade-leave-to[data-v-e2db30e0]{opacity:0}.bg-fade-enter-to[data-v-e2db30e0],.bg-fade-leave-from[data-v-e2db30e0]{opacity:1}\n','',{version:3,sources:['webpack://./src/æ—¥è®°ç»œç»œ/è„šæœ¬/galgame/components/SceneStage.vue'],names:[],mappings:'AA6BA,oFAEE,eACF,CAEA,4JAIE,SACF,CAEA,8EAEE,mCACF,CAEA,wEAEE,SACF,CAEA,wEAEE,SACF',sourcesContent:['<template>\n  <div class="absolute inset-0">\n    <Transition :name="store.current_index > 0 ? \'bg-fade\' : \'bg-instant\'">\n      <img\n        v-if="background_url"\n        :key="background_id"\n        :src="background_url"\n        class="absolute inset-0 h-full w-full object-cover"\n      />\n    </Transition>\n\n    <div class="pointer-events-none absolute inset-0">\n      <CharacterLayer />\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { getImageUrl } from \'../../../image\';\nimport { useGalgameStore } from \'../store\';\nimport CharacterLayer from \'./CharacterLayer.vue\';\n\nconst store = useGalgameStore();\n\nconst background_id = computed(() => store.current_dialog.background);\nconst background_url = computed(() => getImageUrl(background_id.value) ?? \'\');\n<\/script>\n\n<style scoped>\n.bg-instant-enter-active,\n.bg-instant-leave-active {\n  transition: none;\n}\n\n.bg-instant-enter-from,\n.bg-instant-enter-to,\n.bg-instant-leave-from,\n.bg-instant-leave-to {\n  opacity: 1;\n}\n\n.bg-fade-enter-active,\n.bg-fade-leave-active {\n  transition: opacity 1.2s ease-in-out;\n}\n\n.bg-fade-enter-from,\n.bg-fade-leave-to {\n  opacity: 0;\n}\n\n.bg-fade-enter-to,\n.bg-fade-leave-from {\n  opacity: 1;\n}\n</style>\n'],sourceRoot:''}]);const i=s},424(e,t,n){function a(e,t){for(var n=[],a={},r=0;r<t.length;r++){var o=t[r],s=o[0],i={id:e+':'+r,css:o[1],media:o[2],sourceMap:o[3]};a[s]?a[s].parts.push(i):n.push(a[s]={id:s,parts:[i]})}return n}n.d(t,{A:()=>u});var r='undefined'!=typeof document;if('undefined'!=typeof DEBUG&&DEBUG&&!r)throw new Error('vue-style-loader cannot be used in a non-browser environment. Use { target: \'node\' } in your Webpack config to indicate a server-rendering environment.');var o={},s=r&&(document.head||document.getElementsByTagName('head')[0]),i=null,p=0,l=!1,c=function(){},d=null,g='data-vue-ssr-id',f='undefined'!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,t,n,r){l=n,d=r||{};var s=a(e,t);return m(s),function(t){for(var n=[],r=0;r<s.length;r++){var i=s[r];(p=o[i.id]).refs--,n.push(p)}t?m(s=a(e,t)):s=[];for(r=0;r<n.length;r++){var p;if(0===(p=n[r]).refs){for(var l=0;l<p.parts.length;l++)p.parts[l]();delete o[p.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(h(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(h(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:s}}}}function b(){var e=document.createElement('style');return e.type='text/css',s.appendChild(e),e}function h(e){var t,n,a=document.querySelector('style['+g+'~="'+e.id+'"]');if(a){if(l)return c;a.parentNode.removeChild(a)}if(f){var r=p++;a=i||(i=b()),t=j.bind(null,a,r,!1),n=j.bind(null,a,r,!0)}else a=b(),t=y.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var v,x=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join('\n')});function j(e,t,n,a){var r=n?'':a.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function y(e,t){var n=t.css,a=t.media,r=t.sourceMap;if(a&&e.setAttribute('media',a),d.ssrId&&e.setAttribute(g,t.id),r&&(n+='\n/*# sourceURL='+r.sources[0]+' */',n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+' */'),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},455(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},492(e){e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if('function'==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r='sourceMappingURL=data:application/json;charset=utf-8;base64,'.concat(a),o='/*# '.concat(r,' */');return[t].concat([o]).join('\n')}return[t].join('\n')}},748(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n='',a=void 0!==t[5];return t[4]&&(n+='@supports ('.concat(t[4],') {')),t[2]&&(n+='@media '.concat(t[2],' {')),a&&(n+='@layer'.concat(t[5].length>0?' '.concat(t[5]):'',' {')),n+=e(t),a&&(n+='}'),t[2]&&(n+='}'),t[4]&&(n+='}'),n}).join('')},t.i=function(e,n,a,r,o){'string'==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var i=0;i<this.length;i++){var p=this[i][0];null!=p&&(s[p]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]='@layer'.concat(c[5].length>0?' '.concat(c[5]):'',' {').concat(c[1],'}')),c[5]=o),n&&(c[2]?(c[1]='@media '.concat(c[2],' {').concat(c[1],'}'),c[2]=n):c[2]=n),r&&(c[4]?(c[1]='@supports ('.concat(c[4],') {').concat(c[1],'}'),c[4]=r):c[4]=''.concat(r)),t.push(c))}},t}}},g={};function f(e){var t=g[e];if(void 0!==t)return t.exports;var n=g[e]={id:e,exports:{}};return d[e](n,n.exports,f),n.exports}f.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return f.d(t,{a:t}),t},f.d=(e,t)=>{for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})};const u=Vue,m=z,b=m.z.object({id:m.z.string(),tachie:m.z.string()}),h=m.z.object({speaker:m.z.string(),speech:m.z.string(),background:m.z.string(),tachie:m.z.string()}).transform(e=>({..._.omit(e,'tachie'),characters:[{id:'ç»œç»œ',tachie:e.tachie}]})),v=m.z.union([h,m.z.object({speaker:m.z.string(),speech:m.z.string(),background:m.z.string(),characters:m.z.array(b).prefault([]).catch([])})]).transform(e=>('ç‹¬ç™½'===e.speaker&&(e.speech=`ï¼ˆ${e.speech}ï¼‰`),'ç‹¬ç™½'!==e.speaker&&'æ—ç™½'!==e.speaker||(e.speaker=''),e)),x=/<(galgame)>(?!.*<\/\1>)\s*(?:```[^\n]*\n)?(.*?)\s*(?:```.*)?$/is,j=/<(galgame)>\s*(?:```.*\n)?((?:(?!<\1>)[\s\S])*?)(?:\n```)?\s*<\/\1>/im;const y=a('galgame',()=>{const e=(0,u.ref)([{speaker:'ç³»ç»Ÿæç¤º',speech:'å°šæœªåŠ è½½æ¶ˆæ¯',background:'',characters:[]}]),n=(0,u.ref)(0),a=(0,u.ref)(!1),r=(0,u.ref)(!1),o=(0,u.computed)(()=>e.value[n.value]),s=(0,u.computed)(()=>e.value.slice(0,n.value+1)),i=(0,u.ref)(!0),p=(0,u.ref)(!1);return{dialogs:e,loadDialogs:n=>{const r=function(e){e=e.replace('<StatusPlaceHolderImpl/>','');const n=e.match(j)?.[2]??e.match(x)?.[2]??'';let a;try{a=t(n)}catch(e){try{a=YAML.parse(n)}catch(t){return[{speaker:'ç³»ç»Ÿæç¤º',speech:`æ•°æ®è§£æå¤±è´¥: æ—¢ä¸æ˜¯æœ‰æ•ˆçš„ JSON ä¹Ÿä¸æ˜¯æœ‰æ•ˆçš„ YAML.\nå†…å®¹: ${n}\nJSON é”™è¯¯: ${e instanceof Error?e.message:String(e)}\nYAML é”™è¯¯: ${t instanceof Error?t.message:String(t)}`,background:'',characters:[]}]}}try{return m.z.array(v.or(m.z.literal('failed')).catch('failed')).min(1).parse(a,{reportInput:!0}).filter(e=>'failed'!==e)}catch(e){return[{speaker:'ç³»ç»Ÿæç¤º',speech:`åŠ è½½å¯¹è¯æ•°æ®å¤±è´¥ï¼š${e instanceof Error?e.message:String(e)}`,background:'',characters:[]}]}}(n);a.value&&1===r.length&&'ç³»ç»Ÿæç¤º'===r[0].speaker||(e.value=r)},current_index:n,during_streaming:a,has_ended:r,current_dialog:o,history_dialogs:s,advance:function(){if(r.value)return;const t=n.value+1;t>=e.value.length?a.value||(r.value=!0):n.value=t},restart:function(){n.value=0,r.value=!1},dialog_opened:i,history_opened:p}});const C='undefined'!=typeof window&&'undefined'!=typeof document;'undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;function S(e){const t=Object.create(null);return n=>t[n]||(t[n]=e(n))}const w=/\B([A-Z])/g,N=(S(e=>e.replace(w,'-$1').toLowerCase()),/-(\w)/g),k=S(e=>e.replace(N,(_,e)=>e?e.toUpperCase():''));function E(e,t,n){return(0,u.watch)(e,t,{...n,immediate:!0})}function G(e={}){const{inheritAttrs:t=!0}=e,n=(0,u.shallowRef)(),a=(0,u.defineComponent)({setup:(_,{slots:e})=>()=>{n.value=e.default}}),r=(0,u.defineComponent)({inheritAttrs:t,props:e.props,setup:(a,{attrs:r,slots:o})=>()=>{var s;n.value;const i=null==(s=n.value)?void 0:s.call(n,{...null==e.props?F(r):a,$slots:o});return t&&1===(null==i?void 0:i.length)?i[0]:i}});return function(e,t){if('undefined'!=typeof Symbol){const n={...e};return Object.defineProperty(n,Symbol.iterator,{enumerable:!1,value(){let e=0;return{next:()=>({value:t[e++],done:e>t.length})}}}),n}return Object.assign([...t],e)}({define:a,reuse:r},[a,r])}function F(e){const t={};for(const n in e)t[k(n)]=e[n];return t}C&&window,C&&window.document,C&&window.navigator,C&&window.location;Symbol('vueuse-ssr-width');'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof self&&self;Number.POSITIVE_INFINITY;const W={type:'button',class:'text-16px rounded-lg border border-white/70 bg-white/85 px-3 py-1.5 font-bold tracking-[0.15em] text-[#7d5b65] shadow-[0_6px_16px_rgba(0,0,0,0.10)] transition-[transform,opacity,background-color] duration-200 hover:-translate-y-0.5 hover:bg-white/95 active:translate-y-0'},A=(0,u.defineComponent)({__name:'ControlBar',setup(e){const[t,n]=G(),a=y();return(e,r)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',{class:'absolute top-4 right-4 z-40 flex items-center gap-2',onClick:r[3]||(r[3]=(0,u.withModifiers)(()=>{},['stop']))},[(0,u.createVNode)((0,u.unref)(t),null,{default:(0,u.withCtx)(({text:e})=>[(0,u.createElementVNode)('button',W,(0,u.toDisplayString)(e),1)]),_:1}),(0,u.createVNode)((0,u.unref)(n),{text:(0,u.unref)(a).has_ended?'é‡æ’­':`${(0,u.unref)(a).current_index+1}/${(0,u.unref)(a).dialogs.length}${(0,u.unref)(a).during_streaming?'?':''}`,onClick:r[0]||(r[0]=(0,u.withModifiers)(e=>(0,u.unref)(a).restart(),['stop']))},null,8,['text']),(0,u.createVNode)((0,u.unref)(n),{text:'æ—¥å¿—',onClick:r[1]||(r[1]=(0,u.withModifiers)(e=>(0,u.unref)(a).history_opened=!0,['stop']))}),(0,u.createVNode)((0,u.unref)(n),{text:(0,u.unref)(a).dialog_opened?'éšè—UI':'æ˜¾ç¤ºUI',onClick:r[2]||(r[2]=(0,u.withModifiers)(e=>(0,u.unref)(a).dialog_opened=!(0,u.unref)(a).dialog_opened,['stop']))},null,8,['text'])]))}}),V={class:'absolute inset-x-0 bottom-0 z-30 w-full'},M={class:'relative px-[6%] pt-[44px] pb-[4%]'},T={class:'flex items-end justify-between'},B={class:'min-h-[33px] text-[22px] font-extrabold tracking-[0.08em] text-[#4d2b35] [text-shadow:0_1px_1px_rgba(255,255,255,0.92),0_3px_10px_rgba(0,0,0,0.08)]'},O=(0,u.defineComponent)({__name:'DialogBox',setup(e,{expose:t}){const n=y(),a=(0,u.useTemplateRef)('box'),r=(0,u.useTemplateRef)('content'),o=(0,u.ref)(38);function p(){if(!a.value||!r.value)return;const e=a.value.getBoundingClientRect(),t=r.value.getBoundingClientRect();o.value=Math.max(0,Math.round(t.top-e.top))}(0,u.watch)(()=>n.current_index,p);const l=new ResizeObserver(p);(0,u.onMounted)(()=>{p(),a.value&&l.observe(a.value),r.value&&l.observe(r.value)}),(0,u.onBeforeUnmount)(()=>{l.disconnect()});const c=(0,u.ref)(!1);let d,g;async function f(){m(),await(0,u.nextTick)(),c.value=!0,d=i.create(r.value,{type:'chars'}),g=s.from(d.chars,{opacity:0,duration:.1,ease:'power4',stagger:.04,onComplete:()=>{c.value=!1}})}function m(){c.value=!1,d?.revert(),d?.kill(),g?.revert(),g?.kill()}return s.registerPlugin(i),(0,u.watch)(()=>n.current_index,f),(0,u.onMounted)(()=>{f()}),t({is_typing:c,stopTyping:m}),(e,t)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',V,[(0,u.createElementVNode)('div',{ref:'box',class:'relative w-full',style:(0,u.normalizeStyle)({'--dialog-fade-end':`${(0,u.unref)(o)}px`})},[t[1]||(t[1]=(0,u.createElementVNode)('div',{class:'absolute inset-0 bg-[linear-gradient(to_bottom,rgba(255,240,245,0)_0px,rgba(255,240,245,0.93)_var(--dialog-fade-end,38px),rgba(255,240,245,0.93)_100%)]'},null,-1)),(0,u.createElementVNode)('div',M,[(0,u.createElementVNode)('div',T,[(0,u.createElementVNode)('div',B,(0,u.toDisplayString)((0,u.unref)(n).current_dialog.speaker),1)]),t[0]||(t[0]=(0,u.createElementVNode)('div',{class:'mt-2 mb-3 h-px w-full bg-[#c18e98]/70'},null,-1)),(0,u.createElementVNode)('div',{ref:'content',class:'relative min-h-[3.5em] text-[16px] leading-[1.65] tracking-[0.25px] text-[#4d2b35] [text-shadow:0_1px_1px_rgba(255,255,255,0.92)]'},(0,u.toDisplayString)((0,u.unref)(n).current_dialog.speech),513)])],4)]))}}),I={class:'flex items-center justify-between border-b border-white/50 bg-linear-to-r from-[#ffd0d8]/80 to-[#ffbbc8]/80 px-5 py-3 font-bold text-[#7d5b65] [text-shadow:0_1px_1px_rgba(255,255,255,0.6)]'},D={ref:'content',class:'flex-1 overflow-y-auto p-5 text-[#4d2b35]'},U={key:0,class:'py-5 text-center text-[#7d5b65]'},R={key:0,class:'mb-2 inline-flex items-center gap-1 font-bold text-[#c18e98]'},L={class:'text-[18px]'},P={class:'text-[16px] leading-6 tracking-[0.3px] wrap-anywhere text-[#4d2b35]'},H=(0,u.defineComponent)({__name:'HistoryPanel',setup(e){const t=y(),n=(0,u.useTemplateRef)('content');return(0,u.onMounted)(()=>{n.value&&$(n.value).scrollTop($(n.value).prop('scrollHeight'))}),(e,n)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',{class:'fixed top-[5%] left-[5%] z-1000 flex h-[90%] w-[90%] flex-col overflow-hidden rounded-[15px] border border-white/80 bg-linear-to-br from-rose-50/95 to-rose-100/95 shadow-[0_8px_30px_rgba(145,125,138,0.25),0_0_0_1px_rgba(255,255,255,0.6)_inset] backdrop-blur-lg',onClick:n[1]||(n[1]=(0,u.withModifiers)(()=>{},['stop']))},[(0,u.createElementVNode)('div',I,[n[2]||(n[2]=(0,u.createElementVNode)('h3',{class:'m-0 text-base'},'ğ•ƒğ•†ğ”¾',-1)),(0,u.createElementVNode)('button',{type:'button',class:'text-2xl text-[#c18e98] transition-transform hover:scale-110 hover:text-[#a16e78]',onClick:n[0]||(n[0]=(0,u.withModifiers)(e=>(0,u.unref)(t).history_opened=!1,['stop']))},' âŠ— ')]),(0,u.createElementVNode)('div',D,[0===(0,u.unref)(t).history_dialogs.length?((0,u.openBlock)(),(0,u.createElementBlock)('div',U,'æš‚æ— å¯¹è¯å†å²')):(0,u.createCommentVNode)('v-if',!0),((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)((0,u.unref)(t).history_dialogs,(e,t)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',{key:t,class:'mb-4 rounded-xl bg-white/60 p-4 shadow-[0_2px_8px_rgba(0,0,0,0.05),0_0_0_1px_rgba(255,255,255,0.7)_inset] transition-transform duration-200 hover:-translate-y-0.5'},[e.speaker?((0,u.openBlock)(),(0,u.createElementBlock)('div',R,[n[3]||(n[3]=(0,u.createElementVNode)('span',{class:'text-sm text-[#ffb0c0]'},'â€',-1)),(0,u.createElementVNode)('span',L,(0,u.toDisplayString)(e.speaker),1)])):(0,u.createCommentVNode)('v-if',!0),(0,u.createElementVNode)('div',P,(0,u.toDisplayString)(e.speech),1)]))),128))],512)]))}}),J=['CG/å‚æ™šæˆ·å¤–æµ·è¾¹å ¤åä¸Šç«™ç€è„¸çº¢çœ‹å‘æ—è¾¹.jpg','CG/å¤œæ™šæˆ·å¤–æ‹¿å†°å¯ä¹è§¦ç¢°ç»œç»œè„¸é¢Šå¬‰ç¬‘.jpg','CG/å¤œæ™šæˆ·å¤–æ—é—´ç«™ç€æŠ¬å¤´çœ‹å¤œç©º.jpg','CG/ç™½å¤©å®¤å†…å®¢å…åç€è¢«ä¸»è§†è§’å–‚é£Ÿè„¸çº¢åœ°çœ‹ç€å‰æ–¹.jpg','CG/ç™½å¤©å®¤å†…æ•™å®¤é‡Œååœ¨é’¢ç´å‰çœ‹å‘æ—è¾¹è¡¨æƒ…å¹³é™åŒ…å«å¹»æƒ³å‡ºçš„é²¸é±¼ä¸äº‘æœµ.jpg','CG/ç™½å¤©å®¤å†…é¤å…ååœ¨æ¡Œå­å‰ç”¨å‹ºå­åƒé¥­.jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡å¤©å°çœºæœ›ç­‰å¾….jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡èµ°å»Šç«™ç€æ‹¿ç€ä¹¦åŒ…å›å¤´è„¸çº¢å¾®ç¬‘.jpg','CG/ç™½å¤©æˆ·å¤–å­¦æ ¡é“è·¯ä¸Šè„¸çº¢å›å¤´çœ‹.jpg','CG/ç™½å¤©æˆ·å¤–æµ·è¾¹ååœ¨é˜²æ³¢å ¤ä¸Šçœ‹ç€çŒ«å’ªè¡¨æƒ…æ¸©æŸ”.jpg','CG/ç™½å¤©æˆ·å¤–æµ·è¾¹æµ·é¸¥åŒæ‰‹åˆåçœºæœ›è¿œæ–¹.jpg','CG/ç™½å¤©æˆ·å¤–è¡—é“ä¸ŠåŒæ‰‹é è¿‘è„¸é¢Šè„¸çº¢å¾®ç¬‘.jpg','CG/ç™½å¤©æˆ·å¤–èººåœ¨èŠ±æµ·å¾®ç¬‘.jpg','CG/ç®€å•èƒŒæ™¯åŒæ‰‹å¼ å¼€æŠ¬å¤´ç­‰å¾…äº²å»æ‹¥æŠ±.jpg','CG/é»„æ˜æˆ·å¤–æ—¥è½æµ·è¾¹ç«™ç«‹è„¸çº¢ç›´è§†ç©å®¶.jpg','NSFWCG/å§å®¤åºŠä¸Šå£äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨POVè§†è§’.jpg','NSFWCG/å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå£äº¤é¢„å¤‡å¾®å¾®åç¬‘.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå±•ç¤ºå°ç©´è¶³äº¤.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šå±•ç¤ºå°ç©´è¶³äº¤å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰‘å€’ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰¶è…¿æ’å…¥å›å¤´æœ›.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ‰¶è…¿æ’å…¥å›å¤´æœ›å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨2.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢å£äº¤é¢„å¤‡å«ç¾å¾®ç¬‘è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢å£äº¤é¢„å¤‡æ„‰æ‚¦è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿2.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥Må­—è…¿å°„ç²¾æ„‰æ‚¦è„¸.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥å‰å€¾Må­—è…¿é€†æ¨å¥³ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šæ­£é¢æ’å…¥å‰å€¾Må­—è…¿é€†æ¨å¥³ä¸»åŠ¨è„¸çº¢å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒå¯¹é«˜ä¸¾å±è‚¡è„¸ä¸‹è¶´å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒèº«æ’…å±è‚¡åå…¥.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸ŠèƒŒèº«æ’…å±è‚¡åå…¥å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šè¶´ç”·èº«ä¸Šå£äº¤æ·±å–‰.jpg','NSFWCG/å¤œæ™šå§å®¤åºŠä¸Šè¶´ç”·èº«ä¸Šå£äº¤æ·±å–‰å°„ç²¾.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡äº¤ç»œç»œç«™ç«‹ä¸»è§’ååºŠä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤æŒ‡æ•™ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/å¤œæ™šå§å®¤ç»œç»œæ‰¶å¢™è‡ªæ…°.jpg','NSFWCG/å¤œæ™šå­¦æ ¡äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å¤©å°äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å®¤å†…äº²å».jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶æ‰¶è…¿æ’å…¥å›å¤´æœ›.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥å°„ç²¾.jpg','NSFWCG/å¤œæ™šå­¦æ ¡å±‹é¡¶è¶´æ æ†åå…¥å°„ç²¾è„¸çº¢.jpg','NSFWCG/å¤œæ™šæˆ·å¤–äº²å».jpg','NSFWCG/å¤œæ™šæˆ·å¤–æ€è£™æŒ‡äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šä¸‹åŠèº«è£¸Må­—è…¿åç”·ä¸Šæœªæ€§äº¤.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå…¨è£¸åå…¥1.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå…¨è£¸åå…¥2.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤æ·±å–‰é—­çœ¼.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº1.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº2.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šå£äº¤ç”·èºº3.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šåå…¥åŒæ‰‹æŠ“èƒ³è†Š.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šåå…¥å¥³è¶´.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ä¸»è§’ä¸»åŠ¨POVè§†è§’.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸Šä½ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸ŠæŒ‡äº¤ç»œç»œä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šæ­£é¢Mè…¿.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šæ­£é¢Vè…¿.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šè¶³äº¤.jpg','NSFWCG/ç™½å¤©å§å®¤åºŠä¸Šéª‘ä¹˜å‰æˆ.jpg','NSFWCG/ç™½å¤©å§å®¤æ€§çˆ±åæ‹¥æŠ±.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å¤©å°æŒ‡æ•™ä¸»è§’ä¸»åŠ¨.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶æ­£é¢ç«™ç«‹.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶è¶´å›´æ åå…¥1.jpg','NSFWCG/ç™½å¤©å­¦æ ¡å±‹é¡¶è¶´å›´æ åå…¥2.jpg','NSFWCG/ç™½å¤©å®¤å†…æ³•å¼èˆŒå».jpg','NSFWCG/ç™½å¤©å··å­å…¨è£¸æ­£é¢Mè…¿.jpg','NSFWCG/ç™½å¤©å··å­åå…¥æ‰¯èƒ³è†Šè·ªåœ°.jpg','NSFWCG/ç™½å¤©å··å­åå…¥ç‰µæ‰‹.jpg','NSFWCG/ç™½å¤©å··å­æ‰¶å¢™åå…¥1.jpg','NSFWCG/ç™½å¤©å··å­æ‰¶å¢™åå…¥2.jpg','NSFWCG/ç™½å¤©å··å­æ­£é¢Mè…¿èººåœ°.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥Mè…¿æ‰¶æ¡Œ.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥æ‰¶å¢™.jpg','NSFWCG/ç™½å¤©æ•™å®¤åå…¥æ‰¶æ¡Œ.jpg','NSFWCG/ç™½å¤©æ•™å®¤åæ¡Œæ‰¶å•è…¿æ­£é¢.jpg','NSFWCG/ç™½å¤©æ•™å®¤æ­£é¢Vè…¿.jpg','NSFWCG/ç™½å¤©æ•™å®¤æ­£é¢å.jpg','NSFWCG/ç™½å¤©æ— äººæ²™æ»©å•è…¿ç«™ç«‹.jpg','NSFWCG/ç™½å¤©æ²™æ»©åŒè…¿ç«–ç›´å‘ä¸Šæ­£é¢.jpg','NSFWCG/ç™½å¤©æ²™æ»©å²©çŸ³æ‰¶è…¿æ­£é¢.jpg','NSFWCG/ç™½å¤©æ²™æ»©æ­£é¢æ€è£™.jpg','ä¸Šå­¦è·¯ä¸Š/å¤œæ™šå…³ç¯.jpg','ä¸Šå­¦è·¯ä¸Š/å¤œæ™šå¼€ç¯.jpg','ä¸Šå­¦è·¯ä¸Š/ç™½å¤©.jpg','ä¸Šå­¦è·¯ä¸Š/é»„æ˜.jpg','ä¹¦åº—.jpg','ä¹¦åº—å†….jpg','ä¹¦åº—å†…/ä¹¦åº—.jpg','ä¹¦åº—å†…/ä¹¦åº—å†….jpg','ä½å®…è¡—/å¤œæ™šå…³ç¯.jpg','ä½å®…è¡—/å¤œæ™šå¼€ç¯.jpg','ä½å®…è¡—/ç™½å¤©.jpg','ä½å®…è¡—/é»„æ˜.jpg','ä½æ‰€å®¢å…/å¤œæ™šå…³ç¯.jpg','ä½æ‰€å®¢å…/å¤œæ™šå¼€ç¯.jpg','ä½æ‰€å®¢å…/ç™½å¤©.jpg','ä½æ‰€å®¢å…/é»„æ˜.jpg','ä½æ‰€ç„å…³/å¤œæ™šå…³ç¯.jpg','ä½æ‰€ç„å…³/å¤œæ™šå¤œç¯.jpg','ä½æ‰€ç„å…³/å¤œæ™šå¼€ç¯.jpg','ä½æ‰€ç„å…³/ç™½å¤©.jpg','ä½æ‰€ç„å…³/é»„æ˜.jpg','ä¾¿åˆ©åº—å†….jpg','ä¾¿åˆ©åº—å†…/ä¾¿åˆ©åº—.jpg','ä¾¿åˆ©åº—å†…/ä¾¿åˆ©åº—å†….jpg','å…¬å›­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­/ç™½å¤©.jpg','å…¬å›­/é»„æ˜.jpg','å…¬å›­å‡‰äº­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­å‡‰äº­/ç™½å¤©.jpg','å…¬å›­å‡‰äº­/é»„æ˜.jpg','å…¬å›­å•†åº—äº­/å¤œæ™šå¼€ç¯.jpg','å…¬å›­å•†åº—äº­/ç™½å¤©.jpg','å…¬å›­å•†åº—äº­/é»„æ˜.jpg','å’–å•¡å…/å¤œæ™šå¼€ç¯.jpg','å’–å•¡å…/ç™½å¤©.jpg','å’–å•¡å…/é»„æ˜.jpg','å•†åº—è¡—/å¤œæ™šå¼€ç¯.jpg','å•†åº—è¡—/ç™½å¤©.jpg','å•†åº—è¡—/é»„æ˜.jpg','å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†/å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†/å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†/æ™šä¸Š.jpg','å›¾ä¹¦é¦†/ç™½å¤©.jpg','å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†å†…/å›¾ä¹¦é¦†.jpg','å›¾ä¹¦é¦†å†…/å›¾ä¹¦é¦†å†….jpg','å›¾ä¹¦é¦†å†…/æ™šä¸Š.jpg','å›¾ä¹¦é¦†å†…/ç™½å¤©.jpg','åœ°é“å†…/å¤œæ™šå¼€ç¯.jpg','åœ°é“å†…/ç™½å¤©.jpg','åœ°é“å†…/é»„æ˜.jpg','åœ°é“ç«™.jpg','åœ°é“ç«™å†….jpg','åœ°é“ç«™å†…/åœ°é“ç«™.jpg','åœ°é“ç«™å†…/åœ°é“ç«™å†….jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/å¤œæ™šå¼€ç¯.jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/ç™½å¤©.jpg','åŸå¸‚ä¸­çš„é“è·¯é“å£/é»„æ˜.jpg','åŸé•‡è¡—é“ä¸Š/å¤œæ™šå…³ç¯.jpg','åŸé•‡è¡—é“ä¸Š/å¤œæ™šå¼€ç¯.jpg','åŸé•‡è¡—é“ä¸Š/ç™½å¤©.jpg','åŸé•‡è¡—é“ä¸Š/é»„æ˜.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå…³ç¯.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå¤œç¯.jpg','å¥³ç”Ÿæˆ¿é—´/å¤œæ™šå¼€ç¯.jpg','å¥³ç”Ÿæˆ¿é—´/ç™½å¤©.jpg','å¥³ç”Ÿæˆ¿é—´/é»„æ˜.jpg','å­¦æ ¡ä¸­åº­/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡ä¸­åº­/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡ä¸­åº­/ç™½å¤©.jpg','å­¦æ ¡ä¸­åº­/é»„æ˜.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/ç™½å¤©.jpg','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯/é»„æ˜.jpg','å­¦æ ¡å¤©å°/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å¤©å°/ç™½å¤©.jpg','å­¦æ ¡å¤©å°/é»„æ˜.jpg','å­¦æ ¡å±‹é¡¶/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡å±‹é¡¶/ç™½å¤©.jpg','å­¦æ ¡å±‹é¡¶/é»„æ˜.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/ç™½å¤©.jpg','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰/é»„æ˜.jpg','å­¦æ ¡æ•™å®¤/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ•™å®¤/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ•™å®¤/ç™½å¤©.jpg','å­¦æ ¡æ•™å®¤/é»„æ˜.jpg','å­¦æ ¡æ¥¼æ¢¯/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ¥¼æ¢¯/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ¥¼æ¢¯/ç™½å¤©.jpg','å­¦æ ¡æ¥¼æ¢¯/é»„æ˜.jpg','å­¦æ ¡æ­£é—¨å‰/å¤œæ™šå…³ç¯.jpg','å­¦æ ¡æ­£é—¨å‰/å¤œæ™šå¼€ç¯.jpg','å­¦æ ¡æ­£é—¨å‰/ç™½å¤©.jpg','å­¦æ ¡æ­£é—¨å‰/é»„æ˜.jpg','åº™ä¼šå°åƒè¡—/å¤œæ™šå¼€ç¯.jpg','åº™ä¼šå°åƒè¡—/ç™½å¤©.jpg','åº™ä¼šå°åƒè¡—/é»„æ˜.jpg','æ‹±å»Šå•†åº—è¡—/å¤œæ™šå¼€ç¯.jpg','æ‹±å»Šå•†åº—è¡—/ç™½å¤©.jpg','æ‹±å»Šå•†åº—è¡—/é»„æ˜.jpg','æ•™å®¤/å¤œæ™šå…³ç¯.jpg','æ•™å®¤/å¤œæ™šå¼€ç¯.jpg','æ•™å®¤/ç™½å¤©.jpg','æ•™å®¤/é»„æ˜.jpg','æ²³æ—/å¤œæ™šå…³ç¯.jpg','æ²³æ—/ç™½å¤©.jpg','æ²³æ—/é»„æ˜.jpg','æµ·æ»©/å¤œæ™šå…³ç¯.jpg','æµ·æ»©/ç™½å¤©.jpg','æµ·æ»©/é»„æ˜.jpg','ç”·ç”Ÿæˆ¿é—´/å¤œæ™šå…³ç¯.jpg','ç”·ç”Ÿæˆ¿é—´/å¤œæ™šå¼€ç¯.jpg','ç”·ç”Ÿæˆ¿é—´/ç™½å¤©.jpg','ç”·ç”Ÿæˆ¿é—´/é»„æ˜.jpg','ç¹åå•†ä¸šè¡—/å¤œæ™šå¼€ç¯.jpg','ç¹åå•†ä¸šè¡—/ç™½å¤©.jpg','ç¹åå•†ä¸šè¡—/é»„æ˜.jpg','ç¾æœ¯é¦†/å¤œæ™šå…³ç¯.jpg','ç¾æœ¯é¦†/ç™½å¤©.jpg','è´­ç‰©ä¸­å¿ƒ/å¤œæ™šå…³ç¯.jpg','è´­ç‰©ä¸­å¿ƒ/ç™½å¤©.jpg','è´­ç‰©ä¸­å¿ƒ/é»„æ˜.jpg','è´­ç‰©ä¸­å¿ƒäºŒå±‚/è´­ç‰©ä¸­å¿ƒäºŒå±‚.jpg','é¤é¦†/å¤œæ™šå¼€ç¯.jpg','é¤é¦†/ç™½å¤©.jpg','é¤é¦†/é»„æ˜.jpg'],Y=['æ— äºº.png','å¼€è¡«/æ— äºº.png','å¼€è¡«/æ“¦çœ¼æ³ª.png','å¼€è¡«/å¾®ç¬‘.png','å¼€è¡«/ç¨å¾®è„¸çº¢.png','å¼€è¡«/é‚ªæ¶çš„ç¬‘å®¹.png','å¼€è¡«/ç­‰å¾…å».png','å¼€è¡«/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','å¼€è¡«/å“­æ³£.png','å¼€è¡«/æµ…ç¬‘.png','å¼€è¡«/æµå£æ°´.png','å¼€è¡«/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','å¼€è¡«/æ˜Ÿæ˜Ÿçœ¼.png','å¼€è¡«/çŒ«çˆªç”Ÿæ°”.png','å¼€è¡«/æ— è¡¨æƒ….png','å¼€è¡«/å®³ç¾.png','å¼€è¡«/æ™•æ™•çœ¼.png','å¼€è¡«/æƒŠè®¶.png','å¼€è¡«/æ€§é«˜æ½®.png','å¼€è¡«/ç”Ÿæ°”.png','æ°´æ‰‹æœ/æ— äºº.png','æ°´æ‰‹æœ/æ“¦çœ¼æ³ª.png','æ°´æ‰‹æœ/å¾®ç¬‘.png','æ°´æ‰‹æœ/ç¨å¾®è„¸çº¢.png','æ°´æ‰‹æœ/ç­‰å¾…å».png','æ°´æ‰‹æœ/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','æ°´æ‰‹æœ/å“­æ³£.png','æ°´æ‰‹æœ/æµ…ç¬‘.png','æ°´æ‰‹æœ/æµå£æ°´.png','æ°´æ‰‹æœ/é‚ªæ¶çš„åç¬‘.png','æ°´æ‰‹æœ/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','æ°´æ‰‹æœ/æ˜Ÿæ˜Ÿçœ¼.png','æ°´æ‰‹æœ/çŒ«çˆªç”Ÿæ°”.png','æ°´æ‰‹æœ/æ— è¡¨æƒ….png','æ°´æ‰‹æœ/å®³ç¾.png','æ°´æ‰‹æœ/æ™•æ™•çœ¼.png','æ°´æ‰‹æœ/æƒŠè®¶.png','æ°´æ‰‹æœ/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','æ°´æ‰‹æœ/æ€§é«˜æ½®.png','æ°´æ‰‹æœ/ç”Ÿæ°”.png','æ ¼çº¹è¡«/æ— äºº.png','æ ¼çº¹è¡«/æ“¦çœ¼æ³ª.png','æ ¼çº¹è¡«/å¾®ç¬‘.png','æ ¼çº¹è¡«/ç¨å¾®è„¸çº¢.png','æ ¼çº¹è¡«/ç­‰å¾…å».png','æ ¼çº¹è¡«/æ‰‹æ‰˜ä¸‹å·´æ€è€ƒ.png','æ ¼çº¹è¡«/å“­æ³£.png','æ ¼çº¹è¡«/æµ…ç¬‘.png','æ ¼çº¹è¡«/æµå£æ°´.png','æ ¼çº¹è¡«/é‚ªæ¶çš„åç¬‘.png','æ ¼çº¹è¡«/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','æ ¼çº¹è¡«/æ˜Ÿæ˜Ÿçœ¼.png','æ ¼çº¹è¡«/çŒ«çˆªç”Ÿæ°”.png','æ ¼çº¹è¡«/å®³ç¾.png','æ ¼çº¹è¡«/æ™•æ™•çœ¼.png','æ ¼çº¹è¡«/æƒŠè®¶.png','æ ¼çº¹è¡«/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','æ ¼çº¹è¡«/æ€§é«˜æ½®.png','æ ¼çº¹è¡«/ç”Ÿæ°”.png','ç¡è¡£/æ— äºº.png','ç¡è¡£/å¾®ç¬‘.png','ç¡è¡£/ç¨å¾®è„¸çº¢.png','ç¡è¡£/ç­‰å¾…å».png','ç¡è¡£/å“­æ³£.png','ç¡è¡£/æµ…ç¬‘.png','ç¡è¡£/æµå£æ°´.png','ç¡è¡£/é‚ªæ¶çš„åç¬‘.png','ç¡è¡£/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','ç¡è¡£/æ˜Ÿæ˜Ÿçœ¼.png','ç¡è¡£/çŒ«çˆªç”Ÿæ°”.png','ç¡è¡£/å®³ç¾.png','ç¡è¡£/æ™•æ™•çœ¼.png','ç¡è¡£/æƒŠè®¶.png','ç¡è¡£/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','ç¡è¡£/æ€§é«˜æ½®.png','ç¡è¡£/ç”Ÿæ°”.png','å…¨è£¸/æ— äºº.png','å…¨è£¸/åç¬‘.png','å…¨è£¸/ç¨å¾®è„¸çº¢.png','å…¨è£¸/å“­æ³£.png','å…¨è£¸/æµ…ç¬‘.png','å…¨è£¸/æµå£æ°´.png','å…¨è£¸/é‚ªæ¶çš„åç¬‘.png','å…¨è£¸/çœ‹é€ä¸€åˆ‡çš„åç¬‘.png','å…¨è£¸/æ˜Ÿæ˜Ÿçœ¼.png','å…¨è£¸/ç­‰å¾…æ¥å».png','å…¨è£¸/å®³ç¾.png','å…¨è£¸/æ™•æ™•çœ¼.png','å…¨è£¸/æƒŠè®¶.png','å…¨è£¸/çœ¼ç¥ç©ºæ´çš„å‚¬çœ çŠ¶æ€.png','å…¨è£¸/æ€§é«˜æ½®.png','å…¨è£¸/ç”Ÿæ°”.png'];function X(e){const t='https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/å›¾ç‰‡';return Y.includes(e)?`${t}/ç«‹ç»˜/${e}`:J.includes(e)?`${t}/èƒŒæ™¯/${e}`:null}const q=['src'],K=(0,u.defineComponent)({__name:'CharacterLayer',setup(e){const t=y(),n=(0,u.computed)(()=>{const e=t.current_dialog.characters;return e.map((n,a)=>({id:n.id,url:X(n.tachie)??'',is_speaking:t.current_dialog.speaker===n.id,position:`${Math.round((a+1)/(e.length+1)*100)}%`})).filter(e=>e.url)});return(e,t)=>((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)((0,u.unref)(n),e=>((0,u.openBlock)(),(0,u.createElementBlock)('img',{key:e.id,class:(0,u.normalizeClass)(['absolute bottom-0 h-[95%] max-h-[95%] w-auto -translate-x-1/2 object-contain drop-shadow-[0_0_5px_rgba(0,0,0,0.2)] transition-[opacity,transform,filter,left,right] duration-500 ease-out',[{'brightness-[0.85] contrast-[0.95]':!e.is_speaking},`left-[${e.position}]`]]),src:e.url},null,10,q))),128))}}),Z=K,Q={class:'absolute inset-0'},ee=['src'],te={class:'pointer-events-none absolute inset-0'},ne=(0,u.defineComponent)({__name:'SceneStage',setup(e){const t=y(),n=(0,u.computed)(()=>t.current_dialog.background),a=(0,u.computed)(()=>X(n.value)??'');return(e,r)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',Q,[(0,u.createVNode)(u.Transition,{name:(0,u.unref)(t).current_index>0?'bg-fade':'bg-instant'},{default:(0,u.withCtx)(()=>[(0,u.unref)(a)?((0,u.openBlock)(),(0,u.createElementBlock)('img',{key:(0,u.unref)(n),src:(0,u.unref)(a),class:'absolute inset-0 h-full w-full object-cover'},null,8,ee)):(0,u.createCommentVNode)('v-if',!0)]),_:1},8,['name']),(0,u.createElementVNode)('div',te,[(0,u.createVNode)(Z)])]))}});f(324);const ae=(0,f(455).A)(ne,[['__scopeId','data-v-e2db30e0']]),re={class:'relative flex h-full w-full flex-col overflow-hidden rounded-xl'},oe={class:'relative flex flex-1 flex-col overflow-hidden rounded-lg bg-white'},se={class:'relative flex-1 overflow-hidden bg-black'},ie=(0,u.defineComponent)({__name:'App',setup(e){const t=(0,u.inject)('data',{message:'',duringStreaming:!1}),n=y();E(()=>t.duringStreaming,e=>{n.during_streaming=e}),E(()=>t.message,e=>{n.loadDialogs(e)});const a=(0,u.useTemplateRef)('dialog_box');function r(){n.history_opened||n.has_ended||(a.value?.is_typing?a.value.stopTyping():n.advance())}return(e,t)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',{class:'mx-auto aspect-video w-full max-w-[1200px] select-none max-md:aspect-3/4',onClick:r},[(0,u.createElementVNode)('div',re,[(0,u.createElementVNode)('div',oe,[t[3]||(t[3]=(0,u.createElementVNode)('div',{class:'relative flex h-[5.5%] items-center justify-center rounded-t-lg bg-linear-to-r from-[#ffd0d8] to-[#ffbbc8] text-[clamp(10px,1.5vw,16px)] font-bold text-[#7d6b6e] [text-shadow:0px_1px_1px_rgba(255,255,255,0.5)] max-md:h-5'},[(0,u.createElementVNode)('span',{class:'absolute left-4 text-[18px] text-[#c18e98]'},'â€'),(0,u.createTextVNode)(' ã€âºâŠ¹ğ’ğ’¢ğ’¯ğ’¾ğ“‚â„¯Êšà·†Éâ‚Šã€ '),(0,u.createElementVNode)('span',{class:'absolute right-4 text-[14px] text-[#c18e98]'},'âœ§*:ï½¥ï¾Ÿâœ§')],-1)),(0,u.createElementVNode)('div',se,[(0,u.createVNode)(ae),t[1]||(t[1]=(0,u.createElementVNode)('div',{class:'pointer-events-none absolute top-4 right-4 z-20 hidden h-12 w-12 items-center justify-center text-2xl text-[#ffb0c0] opacity-80 md:flex'},' â™¡ ',-1)),t[2]||(t[2]=(0,u.createElementVNode)('div',{class:'pointer-events-none absolute bottom-20 left-4 z-20 hidden h-12 w-12 items-center justify-center text-2xl text-[#ffb0c0] opacity-80 md:flex'},' âœ¿ ',-1)),(0,u.withDirectives)((0,u.createVNode)(O,{ref:'dialog_box'},null,512),[[u.vShow,(0,u.unref)(n).dialog_opened]]),(0,u.unref)(n).history_opened?((0,u.openBlock)(),(0,u.createElementBlock)(u.Fragment,{key:0},[(0,u.createElementVNode)('div',{class:'fixed inset-0 z-900 bg-black/35 transition-opacity duration-200',onClick:t[0]||(t[0]=(0,u.withModifiers)(()=>{},['stop']))}),(0,u.createVNode)(H)],64)):(0,u.createCommentVNode)('v-if',!0),(0,u.createVNode)(A)])])])]))}}),pe=new Map,le='mes_galgame';async function ce(e,t){const a=$(`.mes[mesid='${e}']`),r=Number(a.attr('mesid'));r>getLastMessageId()&&(pe.get(r)?.destroy(),pe.delete(r));const o=t??getChatMessages(r)[0].message??'';if(!o.match(/<galgame>\s*```/im))return;const s=a.find('.mes_text');s.addClass('hidden!');let i=a.find(`.${le}`);if(i.length>0){const e=pe.get(r);if(e)return i.removeClass('hidden!'),e.data.duringStreaming=Boolean(t),void(e.data.message=o)}pe.get(r)?.destroy(),pe.delete(r),i.remove(),i=$(`<iframe class="${le} w-full">`).attr({id:`stream-${r}`,frameborder:0,srcdoc:'<head>\n<link rel="stylesheet" href="https://testingcf.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"></link>\n<script src="https://testingcf.jsdelivr.net/gh/n0vi028/JS-Slash-Runner/lib/tailwindcss.min.js"><\/script>\n<script src="https://testingcf.jsdelivr.net/npm/jquery"><\/script>\n<script src="https://testingcf.jsdelivr.net/npm/lodash"><\/script>\n<script src="/scripts/extensions/third-party/JS-Slash-Runner/src/iframe/adjust_iframe_height.js"><\/script>\n<style>\n*,*::before,*::after{box-sizing:border-box;}\nhtml,body{margin:0!important;padding:0;overflow:hidden!important;max-width:100%!important;}\n</style>\n</head>'}).insertAfter(s);const p=(0,u.reactive)({message:o,duringStreaming:Boolean(t)}),l=(0,u.createApp)(ie).provide('data',p).use(n());i.on('load',function(){const e=this.contentDocument;l.mount(e.body)});const c=new MutationObserver(()=>{$('#curEditTextarea').parent().is(s)&&(s.removeClass('hidden!'),i.addClass('hidden!'))});c.observe(s[0],{childList:!0,subtree:!0,characterData:!0}),pe.set(r,{app:l,data:p,destroy:()=>{s.removeClass('hidden!'),l.unmount(),i.remove(),c.disconnect()}})}async function de(){!function(){const e=getLastMessageId(),t=pe.entries().filter(([t])=>t>e);t.forEach(([,{destroy:e}])=>e()),t.forEach(([e])=>pe.delete(e))}(),$('#chat').children('.mes[is_user=\'false\'][is_system=\'false\']').each((e,t)=>{const n=$(t).attr('mesid');try{n&&ce(parseInt(n))}catch(e){}})}const ge=m.z.object({ä¸–ç•Œ:m.z.object({å½“å‰æ—¶é—´:m.z.templateLiteral([m.z.coerce.number(),':',m.z.coerce.number()]),_å½“å‰æ—¶é—´é˜¶æ®µ:m.z.enum(['å‡Œæ™¨','æ—©æ™¨','ä¸Šåˆ','ä¸­åˆ','ä¸‹åˆ','æ™šä¸Š','æ·±å¤œ']).optional(),å½“å‰æ—¥æœŸ:m.z.string(),å½“å‰æ˜ŸæœŸ:m.z.templateLiteral([m.z.literal('æ˜ŸæœŸ'),m.z.enum(['ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','æ—¥'])]),æ˜¯å¦éœ€è¦ä¸Šå­¦:m.z.boolean().prefault(!0),æ˜¯å¦å¤„äºNSFWåœºæ™¯:m.z.boolean().prefault(!1),ä¸‹ä¸€å›åˆç•Œé¢é€‰æ‹©:m.z.enum(['çº¯æ–‡å­—å°¾é™„ç«‹ç»˜','å±•ç¤ºæ—¥è®°','galgame']).prefault('çº¯æ–‡å­—å°¾é™„ç«‹ç»˜')}).transform(e=>{const t=e.å½“å‰æ—¶é—´.split(':').map(Number).reduce((e,t)=>60*e+t,0);return e._å½“å‰æ—¶é—´é˜¶æ®µ=t<300?'å‡Œæ™¨':t<360?'æ—©æ™¨':t<720?'ä¸Šåˆ':t<840?'ä¸­åˆ':t<1020?'ä¸‹åˆ':t<1200?'æ™šä¸Š':'æ·±å¤œ','æ˜ŸæœŸå…­'!==e.å½“å‰æ˜ŸæœŸ&&'æ˜ŸæœŸæ—¥'!==e.å½“å‰æ˜ŸæœŸ||(e.æ˜¯å¦éœ€è¦ä¸Šå­¦=!1),e}),ä¸»çº¿äº‹ä»¶:m.z.discriminatedUnion('å½“å‰çŠ¶æ€',[m.z.object({å½“å‰çŠ¶æ€:m.z.literal('æ— æ³•è§¦å‘')}),m.z.object({å½“å‰çŠ¶æ€:m.z.literal('å†·å´ä¸­'),å‰©ä½™å†·å´å›åˆæ•°:m.z.coerce.number().nonnegative().prefault(20)}),m.z.object({å½“å‰çŠ¶æ€:m.z.literal('è¿›è¡Œä¸­'),å½“å‰é˜¶æ®µ:m.z.enum(['å¼•å…¥','å‘å±•','é«˜æ½®','ç»“å±€']).prefault('å¼•å…¥'),ä¸»é¢˜:m.z.string(),æè¿°:m.z.string(),å¤§çº²:m.z.object({å¼•å…¥:m.z.string(),å‘å±•:m.z.string(),é«˜æ½®:m.z.string(),ç»“å±€:m.z.string()})})]).prefault({å½“å‰çŠ¶æ€:'æ— æ³•è§¦å‘'}),ç»œç»œ:m.z.object({äº²å¯†åº¦:m.z.coerce.number().transform(e=>_.clamp(e,0,100)),é˜…è¯»æ—¥è®°æ•°é‡:m.z.coerce.number().nonnegative().prefault(0),æ‹¥æœ‰è”ç³»æ–¹å¼:m.z.boolean().prefault(!1)})}).transform(e=>(e.ç»œç»œ.äº²å¯†åº¦<50?e.ä¸»çº¿äº‹ä»¶.å½“å‰çŠ¶æ€='æ— æ³•è§¦å‘':'æ— æ³•è§¦å‘'===e.ä¸»çº¿äº‹ä»¶.å½“å‰çŠ¶æ€&&(e.ä¸»çº¿äº‹ä»¶={å½“å‰çŠ¶æ€:'å†·å´ä¸­',å‰©ä½™å†·å´å›åˆæ•°:0}),e));$(()=>{p(ge)});const fe='ä¸Šé”çš„æ—¥è®°æœ¬',ue=m.z.object({ä¸»è§’æ€§åˆ«:m.z.enum(['ç”·','å¥³']).prefault('ç”·'),æ ·å¼ä¸»é¢˜:m.z.enum(['æš—è‰²','äº®è‰²']).prefault('æš—è‰²'),é€‰æ‹©æ¡†è§¦å‘æ–¹å¼:m.z.enum(['ç›´æ¥å‘é€','è¦†ç›–è¾“å…¥']).prefault('ç›´æ¥å‘é€'),å§‹ç»ˆå¯ç”¨galgameç•Œé¢:m.z.boolean().prefault(!1)}),me=a('config',errorCatched(()=>{const e=(0,u.ref)(ue.parse({})),t=async()=>{const t=await getWorldbook(fe),n=e=>t.find(t=>t.name.includes(e))?.enabled??!1,a=l(e.value),r=ue.parse({ä¸»è§’æ€§åˆ«:n('ä¸»è§’æ€§åˆ«')?'ç”·':'å¥³',æ ·å¼ä¸»é¢˜:n('æ ·å¼ä¸»é¢˜')?'æš—è‰²':'äº®è‰²',é€‰æ‹©æ¡†è§¦å‘æ–¹å¼:n('é€‰æ‹©æ¡†è§¦å‘æ–¹å¼')?'ç›´æ¥å‘é€':'è¦†ç›–è¾“å…¥',å§‹ç»ˆå¯ç”¨galgameç•Œé¢:!!n('å§‹ç»ˆå¯ç”¨galgameç•Œé¢')});_.isEqual(r,a)||(e.value=l(r)),insertOrAssignVariables(l(r),{type:'chat'})},n=t();return eventOn(tavern_events.WORLDINFO_UPDATED,async e=>{e===fe&&await t()}),eventOn(tavern_events.CHAT_CHANGED,async()=>{await t()}),{config:(0,u.readonly)(e),_wait_init:n}}));const be=[{name:'ğŸ•›åº¦è¿‡',function:async()=>{const e={æ™¨é—´:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªæ™¨é—´\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 1);\n</UpdateVariable>',è¯¾ä¸Š:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªè¯¾ä¸Š\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 18);\n</UpdateVariable>',åˆä¼‘:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªåˆä¼‘\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 32);\n</UpdateVariable>',æ”¾å­¦å:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªæ”¾å­¦å\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 49);\n</UpdateVariable>',å¤œé—´:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªå¤œé—´\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 66);\n</UpdateVariable>',å‡æ—¥:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ä¸‹ä¸ªå‡æ—¥\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 83);\n</UpdateVariable>',ç¬¬äºŒå¤©:'å…ˆæå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å¿«é€Ÿå°†æ—¶é—´è°ƒæ•´åˆ°ç¬¬äºŒå¤©ï¼Œå¹¶è°ƒæ•´å½“å‰æ—¶é—´é˜¶æ®µå˜é‡åˆ°æ¥ä¸‹æ¥æ•…äº‹æƒ…èŠ‚æœ€æœ‰æ„ä¹‰çš„æ—¶é—´ï¼Œä¸‹ä¸€æ¬¡å“åº”çš„æ—¶é—´é˜¶æ®µå˜é‡è°ƒæ•´æ²¡æœ‰ä»»ä½•é™åˆ¶\n<UpdateVariable>\n_.set(\'ä¸–ç•Œ.å½“å‰æ—¶é—´é˜¶æ®µ\', 1);\n</UpdateVariable>'},t=await triggerSlash(`/buttons labels=${JSON.stringify(Object.keys(e))} æ—¶é—´æ¥åˆ°äº†...`);_.has(e,t)&&await triggerSlash(`/send ${e[t]} || /trigger`)}},{name:'ğŸ—ºï¸åœ°ç‚¹',function:async()=>{const e={ä½å®…:{æ—ç™½:'å›å®¶ï¼',åœ°ç‚¹:['ä½æ‰€ç„å…³','ä½æ‰€å®¢å…','æˆ¿é—´']},å­¦æ ¡:{æ—ç™½:'å»å­¦æ ¡å—...',åœ°ç‚¹:['ä¸Šå­¦è·¯ä¸Š','å­¦æ ¡æ•™å­¦æ¥¼æ­£é—¨å‰','æ•™å®¤','å­¦æ ¡ä¸­åº­','å­¦æ ¡å¤–ä¾§æ¥¼æ¢¯','å­¦æ ¡å±‹é¡¶']},åŸé•‡ä¸è¡—é“:{æ—ç™½:'å»é€›é€›å‘¢...',åœ°ç‚¹:['åŸé•‡è¡—é“ä¸Š','ä½å®…è¡—','å•†åº—è¡—','æ‹±å»Šå•†åº—è¡—','ç¹åå•†ä¸šè¡—','åŸå¸‚ä¸­çš„é“è·¯é“å£']},å•†ä¸šè®¾æ–½:{æ—ç™½:'å»çº¦ä¼šå—w...',åœ°ç‚¹:['ä¾¿åˆ©åº—å†…','ä¹¦åº—å†…','å’–å•¡å…','å®¶åº­é¤å…','è´­ç‰©ä¸­å¿ƒ','è´­ç‰©ä¸­å¿ƒäºŒå±‚','ç¾æœ¯é¦†','åœ°é“ç«™å†…','åœ°é“å†…','åº™ä¼šå°åƒè¡—']},æˆ·å¤–:{æ—ç™½:'é”»ç‚¼èº«ä½“...?',åœ°ç‚¹:['å…¬å›­','å…¬å›­å‡‰äº­','å…¬å›­å•†åº—äº­','æ²³æ—','æµ·æ»©']}},t=await triggerSlash(`/buttons labels=${JSON.stringify(Object.keys(e))} {{user}}å°†åŠ¨èº«å‰å¾€...`);if(!_.has(e,t))return;const{æ—ç™½:n,åœ°ç‚¹:a}=e[t],r=await triggerSlash(`/buttons labels=${JSON.stringify(a)} <small>${n}<small>`);a.includes(r)&&triggerSlash(`/send \x3c!--äºæœ¬æ¬¡å“åº”éœ€è¦æå†™ç»“æŸå½“å‰åœºæ™¯çš„å‰§æƒ…å†å†™å‡ºç†ç”±å‰å¾€ä¸‹ä¸€ä¸ªåœ°ç‚¹--\x3e[ç§»åŠ¨] {{user}}å‰å¾€äº†${r}\n<UpdateVariable>\n_.set('ä¸–ç•Œ.ä¸‹æ¬¡å“åº”ç•Œé¢é€‰æ‹©åˆ¤æ–­', 0);\n</UpdateVariable> || /trigger`)}}];function he(){return async function(){const e='çº¯ç™½è‰²çš„å›å“';JSON.parse(await triggerSlash('/qr-set-list')).includes(e)&&triggerSlash(`/qr-set-delete ${e}`)}(),be.forEach(e=>eventOn(getButtonEvent(e.name),e.function)),appendInexistentScriptButtons(be.map(e=>({name:e.name,visible:!0}))),{destroy:()=>replaceScriptButtons(getScriptButtons().filter(e=>be.some(t=>t.name===e.name)))}}const ve={class:'roleplay_options'},_e={class:'roleplay_options_back'},xe=['onClick'],je={class:'roleplay_options_title'},ye={class:'roleplay_options_content'},Ce=(0,u.defineComponent)({__name:'App',props:{messageId:{},options:{}},setup(e){const t=e,n=me();return(a,r)=>((0,u.openBlock)(),(0,u.createElementBlock)('div',ve,[(0,u.createElementVNode)('div',_e,[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(e.options,e=>((0,u.openBlock)(),(0,u.createElementBlock)('div',{key:e.title,class:'roleplay_options_item',tabindex:'1',onClick:a=>async function(e){if(getLastMessageId()===t.messageId)switch(n.config.é€‰æ‹©æ¡†è§¦å‘æ–¹å¼){case'ç›´æ¥å‘é€':triggerSlash(`/send ${e.content} || /trigger`);break;case'è¦†ç›–è¾“å…¥':triggerSlash(`/setinput ${e.content}`)}}(e)},[(0,u.createElementVNode)('span',je,[(0,u.createElementVNode)('strong',null,(0,u.toDisplayString)(e.title),1)]),r[0]||(r[0]=(0,u.createElementVNode)('hr',{class:'roleplay_options_hr'},null,-1)),(0,u.createElementVNode)('span',ye,(0,u.toDisplayString)(e.content),1)],8,xe))),128))])]))}});const Se=new Map,we='<roleplay_options>',Ne=/<(roleplay_options)>\s*(?:```.*\n)?((?:(?!<\1>)[\s\S])*?)(?:\n```)?\s*<\/\1>/im;async function ke(e){const t=getChatMessages(e);if(0===t.length)return;const n=(t[0].message??'').match(Ne);if(!n)return;const a=Number(e);Se.get(a)?.unmount(),Se.delete(a);const o=retrieveDisplayedMessage(a),s=o.find(`pre:contains("${we}")`);if(s.length>0){const e=s.parent('.TH-render');e.length>0?e.addClass('hidden!'):s.addClass('hidden!');const t=(0,u.createApp)(Ce,{messageId:a,options:[...n[2].matchAll(/(.+?)[:ï¼š]\s*(.+)/gm)].map(e=>({title:e[1],content:e[2].replace(/^\$\{(.+)\}$/,'$1').replace(/^ã€Œ(.+)ã€$/,'$1')}))}).use(r());Se.set(a,t);const i=o.find(`div[script_id="${getScriptId()}"]`);t.mount(i.length>0?i[0]:$('<div>').attr('script_id',getScriptId()).appendTo(o)[0])}}async function Ee(){Se.forEach(e=>{e.unmount()}),Se.clear(),$('#chat').children('.mes[is_user=\'false\'][is_system=\'false\']').each((e,t)=>{const n=$(t).attr('mesid');try{n&&ke(parseInt(n))}catch(e){}})}function Ge(){const{destroy:e}=function(){const e=me(),t=()=>'æš—è‰²'===e.config.æ ·å¼ä¸»é¢˜?'.roleplay_options_hr{display:none}.roleplay_options_back{background:#332d30;border-radius:16px;box-shadow:0 8px 20px rgba(20,18,19,0.25);padding:22px 24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;border:1px solid #4a4447;width:90%;max-width:740px;margin:24px auto}.roleplay_options_item{position:relative;background:#403a3d;border-radius:12px;box-shadow:0 5px 15px rgba(20,18,19,0.2);padding:18px 20px;cursor:default;border:1px solid #4a4447;transition:all 0.28s cubic-bezier(0.22,1,0.36,1);overflow:hidden;display:flex;flex-direction:column;z-index:1;margin:0;color:#ffd0d8;font-weight:400;line-height:1.6;height:100%;font-family:\'Microsoft YaHei\',Arial,sans-serif}.last_mes .roleplay_options_item{cursor:pointer}.last_mes .roleplay_options_item::after{content:\'\';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(140deg,transparent 0%,transparent 50%,rgba(255,204,214,0.15) 150%);opacity:0;transition:opacity 0.35s ease;z-index:-1}.last_mes .roleplay_options_item:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(20,18,19,0.3);background:#4a4447;border-color:rgba(255,204,214,0.3)}.last_mes .roleplay_options_item:hover::after{opacity:1}.last_mes .roleplay_options_item:hover .roleplay_options_content{color:#ffe5ea}.last_mes .roleplay_options_item:active{transform:translateY(-2px);box-shadow:0 4px 12px rgba(20,18,19,0.2)}.roleplay_options_item:before{content:\'\';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(0);transform-origin:0 0;transition:transform 0.35s cubic-bezier(0.4,0,0.2,1)}.last_mes .roleplay_options_item:hover:before{transform:scaleX(1)}.roleplay_options_title{font-size:0.95em;font-weight:600;color:#ffd0d8;margin-bottom:12px;letter-spacing:0.04em;text-align:left;padding-bottom:10px;border-bottom:1px solid rgba(80,74,77,0.3);text-shadow:0 1px 1px rgba(20,18,19,0.5);line-height:1.4;position:relative;display:flex;align-items:center}.roleplay_options_title::before{content:\'\';display:inline-block;width:6px;height:6px;background:#ffd0d8;border-radius:50%;margin-right:10px;box-shadow:0 0 0 2px rgba(255,204,214,0.2)}.roleplay_options_content{font-size:0.95em;line-height:1.65;color:#e0a7b5;font-weight:normal;transition:color 0.25s ease;text-align:left;flex:1;text-shadow:0 1px 1px rgba(20,18,19,0.5);letter-spacing:0.018em}.roleplay_options_item.selected{background:rgba(64,58,61,0.7);border-color:rgba(255,204,214,0.5)}.roleplay_options_item.selected:before{background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(1)}.roleplay_options_item.selected .roleplay_options_title::before{background:#ffd0d8;box-shadow:0 0 0 2px rgba(255,204,214,0.3)}@media (max-width:999px){.roleplay_options_back{padding:18px;gap:14px;grid-template-columns:1fr;width:100%;max-width:none;margin:24px 0;background:#332d30;border:1px solid #4a4447}.roleplay_options_item{padding:16px;background:#403a3d;border:1px solid #4a4447}.roleplay_options_title{font-size:0.9em;padding-bottom:8px;margin-bottom:10px}.roleplay_options_content{font-size:0.92em;line-height:1.6}}@media (prefers-reduced-motion:reduce){.roleplay_options_item,.roleplay_options_item::before,.roleplay_options_item::after,.roleplay_options_content,.roleplay_options_title{transition:none}}\n':'*{-webkit-tap-highlight-color:transparent}.roleplay_options_hr{display:none}.roleplay_options_back{background:#fff0f3;border-radius:16px;box-shadow:0 8px 20px rgba(145,125,138,0.15);padding:22px 24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;border:1px solid #ffe5ea;width:90%;max-width:740px;margin:24px auto}.roleplay_options_item{position:relative;background:#fffafb;border-radius:12px;box-shadow:0 5px 15px rgba(145,125,138,0.1);padding:18px 20px;cursor:default;border:1px solid #ffe5ea;transition:all 0.28s cubic-bezier(0.22,1,0.36,1);overflow:hidden;display:flex;flex-direction:column;z-index:1;margin:0;color:#7d6b6e;font-weight:400;line-height:1.6;height:100%;font-family:\'Microsoft YaHei\',Arial,sans-serif}.last_mes .roleplay_options_item{cursor:pointer}.last_mes .roleplay_options_item::after{content:\'\';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(140deg,transparent 0%,transparent 50%,rgba(255,204,214,0.15) 150%);opacity:0;transition:opacity 0.35s ease;z-index:-1}.last_mes .roleplay_options_item:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(145,125,138,0.2);background:#fff5f7;border-color:rgba(255,204,214,0.3)}.last_mes .roleplay_options_item:hover::after{opacity:1}.last_mes .roleplay_options_item:hover .roleplay_options_content{color:#635759}.last_mes .roleplay_options_item:active{transform:translateY(-2px);box-shadow:0 4px 12px rgba(145,125,138,0.1)}.roleplay_options_item:before{content:\'\';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(0);transform-origin:0 0;transition:transform 0.35s cubic-bezier(0.4,0,0.2,1)}.last_mes .roleplay_options_item:hover:before{transform:scaleX(1)}.roleplay_options_title{font-size:0.95em;font-weight:600;color:#7d6b6e;margin-bottom:12px;letter-spacing:0.04em;text-align:left;padding-bottom:10px;border-bottom:1px solid rgba(200,200,200,0.3);text-shadow:0 1px 1px rgba(255,255,255,0.5);line-height:1.4;position:relative;display:flex;align-items:center}.roleplay_options_title::before{content:\'\';display:inline-block;width:6px;height:6px;background:#ffd0d8;border-radius:50%;margin-right:10px;box-shadow:0 0 0 2px rgba(255,204,214,0.2)}.roleplay_options_content{font-size:0.95em;line-height:1.65;color:#8e7478;font-weight:normal;transition:color 0.25s ease;text-align:left;flex:1;text-shadow:0 1px 1px rgba(255,255,255,0.5);letter-spacing:0.018em}.roleplay_options_item.selected{background:rgba(255,235,240,0.7);border-color:rgba(255,204,214,0.5)}.roleplay_options_item.selected:before{background:linear-gradient(90deg,#ffd0d8,#ffbbc8);transform:scaleX(1)}.roleplay_options_item.selected .roleplay_options_title::before{background:#ffd0d8;box-shadow:0 0 0 2px rgba(255,204,214,0.3)}@media (max-width:999px){.roleplay_options_back{padding:18px;gap:14px;grid-template-columns:1fr;width:100%;max-width:none;margin:24px 0;background:#fff0f3;border:1px solid #ffe5ea}.roleplay_options_item{padding:16px;background:#fffafb;border:1px solid #ffe5ea}.roleplay_options_title{font-size:0.9em;padding-bottom:8px;margin-bottom:10px}.roleplay_options_content{font-size:0.92em;line-height:1.6}}@media (prefers-reduced-motion:reduce){.roleplay_options_item,.roleplay_options_item::before,.roleplay_options_item::after,.roleplay_options_content,.roleplay_options_title{transition:none}}\n';$('<div>').attr('script_id',getScriptId()).append(`<style roleplay_options>${t()}</style>`).appendTo('head');const n=(0,u.watch)(()=>e.config.æ ·å¼ä¸»é¢˜,()=>$(`head > div[script_id="${getScriptId()}"]`).find('style[roleplay_options]').text(t()));return{destroy:()=>{n(),$(`head > div[script_id="${getScriptId()}"]`).remove()}}}();return Ee(),eventOn(tavern_events.CHAT_CHANGED,errorCatched(Ee)),eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED,errorCatched(ke)),eventOn(tavern_events.MESSAGE_UPDATED,errorCatched(ke)),eventOn(tavern_events.MESSAGE_SWIPED,errorCatched(ke)),eventOn(tavern_events.MESSAGE_DELETED,()=>setTimeout(errorCatched(Ee),1e3)),{destroy:()=>{$(`pre:contains("${we}")`).each(function(){const e=$(this).parent('.TH-render');e.length>0?e.removeClass('hidden!'):$(this).removeClass('hidden!')}),Se.forEach(e=>{e?.unmount()}),Se.clear(),e()}}}o(n()),$(async()=>{await e(()=>null!==getCharWorldbookNames('current').primary),await async function(){(await getWorldbook(fe)).some(e=>e.name.includes('å§‹ç»ˆå¯ç”¨galgameç•Œé¢'))||(await importRawCharacter('ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬',await fetch('https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬.png').then(e=>e.blob())),c(getTavernVersion(),'4.3.18','<')&&SillyTavern.saveWorldInfo(fe,JSON.parse(await fetch('https://testingcf.jsdelivr.net/gh/lolo-desu/lolocard/src/æ—¥è®°ç»œç»œ/ä¸–ç•Œä¹¦/æ—¥è®°ç»œç»œ.json').then(e=>e.text())),!0),toastr.success('è§’è‰²å¡è‡ªåŠ¨æ›´æ–°æˆåŠŸ, å‡†å¤‡åˆ·æ–°é¡µé¢ä»¥ç”Ÿæ•ˆ...','ç™½åŒ–è“æŸ“çš„æ—¥è®°æœ¬'),setTimeout(()=>triggerSlash('/reload-page'),3e3))}(),await me()._wait_init;const t=[];t.push((de(),eventOn(tavern_events.CHAT_CHANGED,errorCatched(de)),eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED,errorCatched(ce)),eventOn(tavern_events.MESSAGE_UPDATED,errorCatched(ce)),eventOn(tavern_events.MESSAGE_SWIPED,errorCatched(e=>{const t=Number(e);pe.get(t)?.destroy(),pe.delete(t),ce(t)})),eventOn(tavern_events.MESSAGE_DELETED,()=>setTimeout(errorCatched(de),1e3)),eventOn(tavern_events.STREAM_TOKEN_RECEIVED,errorCatched(e=>{const t=$('#chat').children('.mes.last_mes').attr('mesid');try{t&&ce(parseInt(t),e)}catch(e){}})),{destroy:()=>{$('.mes_text').removeClass('hidden!'),pe.forEach(({destroy:e})=>e()),pe.clear(),$(`.${le}`).remove()}}).destroy),t.push((waitGlobalInitialized('Mvu').then(()=>{eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,e=>{me().config.å§‹ç»ˆå¯ç”¨galgameç•Œé¢&&_.set(e,'stat_data.ä¸–ç•Œ.ä¸‹ä¸€å›åˆç•Œé¢é€‰æ‹©','galgame')})}),{destroy:()=>{}}).destroy),t.push(he().destroy),t.push(($('<div>').attr('script_id',getScriptId()).append($('<style>').text('@import url("https://static.zeoseven.com/zsft/510/main/result.css");:root{--lolo-font:"PING FANG SAN SHENG"}')).appendTo('head'),{destroy:()=>$(`head > div[script_id=${getScriptId()}]`).remove()}).destroy),t.push((Promise.allSettled([...J,...Y].map(e=>new Promise(t=>{const n=X(e);if(!n)return void t(null);const a=new Image;a.onload=t,a.onerror=t,a.src=n}))),{destroy:()=>{}}).destroy),t.push(Ge().destroy),$(window).on('pagehide',()=>t.forEach(e=>e()))});
//# sourceMappingURL=index.js.map