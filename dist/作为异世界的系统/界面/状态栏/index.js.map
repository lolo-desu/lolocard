{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.24_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/composables/useAvatarManager.ts","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/作为异世界的系统/schema.ts","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/store.ts","webpack://tavern_helper_template/./src/作为异世界的系统/界面/状态栏/components/ActionModal.vue?b208","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/components/ActionModal.vue?283e","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/AutoTask.vue","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/AutoTask.vue?04c4","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/CreateShopItem.vue","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/CreateShopItem.vue?1154","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/GrantReward.vue","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/GrantReward.vue?01b3","webpack://tavern_helper_template/./src/作为异世界的系统/界面/状态栏/view/Shop.vue?10ce","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/Shop.vue?4122","webpack://tavern_helper_template/./src/作为异世界的系统/界面/状态栏/view/TaskList.vue?d9b4","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/view/TaskList.vue?1453","webpack://tavern_helper_template/./src/作为异世界的系统/界面/状态栏/App.vue?d738","webpack://tavern_helper_template/src/作为异世界的系统/界面/状态栏/App.vue?f0e7","src://tavern_helper_template/src/作为异世界的系统/界面/状态栏/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { ref } from 'vue';\n\nconst AVATAR_WORLDBOOK_NAME = '转生系统的头像文件！';\nconst MAX_IMAGE_SIZE = 500; // 压缩后的最大尺寸\n\n/**\n * 压缩图片并转换为 base64\n */\nasync function compressImage(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        let width = img.width;\n        let height = img.height;\n\n        // 计算压缩后的尺寸，保持宽高比\n        if (width > height && width > MAX_IMAGE_SIZE) {\n          height = (height * MAX_IMAGE_SIZE) / width;\n          width = MAX_IMAGE_SIZE;\n        } else if (height >= width && height > MAX_IMAGE_SIZE) {\n          width = (width * MAX_IMAGE_SIZE) / height;\n          height = MAX_IMAGE_SIZE;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          reject(new Error('无法获取 canvas context'));\n          return;\n        }\n\n        ctx.drawImage(img, 0, 0, width, height);\n        \n        // 转换为 base64，使用 JPEG 格式压缩\n        const base64 = canvas.toDataURL('image/jpeg', 0.8);\n        resolve(base64);\n      };\n      img.onerror = () => reject(new Error('图片加载失败'));\n      img.src = e.target?.result as string;\n    };\n    reader.onerror = () => reject(new Error('文件读取失败'));\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * 获取或创建头像世界书\n */\nasync function ensureAvatarWorldbook(): Promise<void> {\n  const worldbooks = getWorldbookNames();\n  if (!worldbooks.includes(AVATAR_WORLDBOOK_NAME)) {\n    await createWorldbook(AVATAR_WORLDBOOK_NAME, []);\n    // 绑定到当前聊天\n    await rebindChatWorldbook('current', AVATAR_WORLDBOOK_NAME);\n  }\n}\n\n/**\n * 保存头像到聊天知识书\n */\nasync function saveAvatar(characterName: string, base64: string): Promise<void> {\n  await ensureAvatarWorldbook();\n  \n  const worldbook = await getWorldbook(AVATAR_WORLDBOOK_NAME);\n  \n  // 查找是否已存在该角色的头像条目\n  const existingEntryIndex = worldbook.findIndex(\n    entry => entry.strategy.keys.includes(characterName)\n  );\n  \n  const entryData = {\n    name: `${characterName}的头像`,\n    enabled: true,\n    strategy: {\n      type: 'selective' as const,\n      keys: [characterName],\n      keys_secondary: { logic: 'and_any' as const, keys: [] },\n      scan_depth: 1,\n    },\n    position: {\n      type: 'after_character_definition' as const,\n      role: 'system' as const,\n      depth: 0,\n      order: 999,\n    },\n    content: JSON.stringify({\n      角色名称: characterName,\n      头像数据: base64,\n      更新时间: new Date().toISOString(),\n    }),\n    probability: 100,\n    recursion: {\n      prevent_incoming: true,\n      prevent_outgoing: true,\n      delay_until: null,\n    },\n    effect: {\n      sticky: null,\n      cooldown: null,\n      delay: null,\n    },\n  };\n  \n  if (existingEntryIndex >= 0) {\n    // 更新现有条目\n    worldbook[existingEntryIndex] = {\n      ...worldbook[existingEntryIndex],\n      ...entryData,\n    };\n    await replaceWorldbook(AVATAR_WORLDBOOK_NAME, worldbook);\n  } else {\n    // 创建新条目\n    await createWorldbookEntries(AVATAR_WORLDBOOK_NAME, [entryData]);\n  }\n}\n\n/**\n * 读取角色头像\n */\nasync function loadAvatar(characterName: string): Promise<string | null> {\n  try {\n    const worldbooks = getWorldbookNames();\n    if (!worldbooks.includes(AVATAR_WORLDBOOK_NAME)) {\n      return null;\n    }\n    \n    const worldbook = await getWorldbook(AVATAR_WORLDBOOK_NAME);\n    const entry = worldbook.find(\n      e => e.strategy.keys.includes(characterName)\n    );\n    \n    if (!entry) {\n      return null;\n    }\n    \n    const data = JSON.parse(entry.content);\n    return data.头像数据 || null;\n  } catch (err) {\n    console.error('[头像管理] 读取头像失败', err);\n    return null;\n  }\n}\n\nexport function useAvatarManager() {\n  const uploading = ref(false);\n  const avatarUrl = ref<string | null>(null);\n  \n  /**\n   * 上传头像\n   */\n  const uploadAvatar = async (characterName: string): Promise<void> => {\n    if (!characterName || characterName === '角色名称') {\n      toastr?.warning?.('请先设置角色名称', '头像上传');\n      return;\n    }\n    \n    // 创建文件选择器\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    \n    input.onchange = async (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0];\n      if (!file) {\n        return;\n      }\n      \n      // 验证文件类型\n      if (!file.type.startsWith('image/')) {\n        toastr?.error?.('请选择图片文件', '头像上传');\n        return;\n      }\n      \n      // 验证文件大小（最大 5MB）\n      if (file.size > 5 * 1024 * 1024) {\n        toastr?.error?.('图片文件过大，请选择小于 5MB 的图片', '头像上传');\n        return;\n      }\n      \n      uploading.value = true;\n      \n      try {\n        // 压缩并转换为 base64\n        const base64 = await compressImage(file);\n        \n        // 保存到聊天知识书\n        await saveAvatar(characterName, base64);\n        \n        // 更新显示\n        avatarUrl.value = base64;\n        \n        toastr?.success?.('头像上传成功', '头像上传');\n      } catch (err) {\n        console.error('[头像上传] 失败', err);\n        toastr?.error?.('头像上传失败：' + (err as Error).message, '头像上传');\n      } finally {\n        uploading.value = false;\n      }\n    };\n    \n    input.click();\n  };\n  \n  /**\n   * 加载头像\n   */\n  const loadAvatarForCharacter = async (characterName: string): Promise<void> => {\n    if (!characterName || characterName === '角色名称') {\n      avatarUrl.value = null;\n      return;\n    }\n    \n    try {\n      const url = await loadAvatar(characterName);\n      avatarUrl.value = url;\n    } catch (err) {\n      console.error('[头像加载] 失败', err);\n      avatarUrl.value = null;\n    }\n  };\n  \n  return {\n    uploading,\n    avatarUrl,\n    uploadAvatar,\n    loadAvatarForCharacter,\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { z } from 'zod';\n\nexport const Schema = z.object({\n  世界: z.object({\n    当前时间: z.coerce.string(),\n    当前地点: z.coerce.string(),\n  }),\n\n  主角: z.object({\n    姓名: z.coerce.string(),\n    性别: z.coerce.string(),\n    年龄: z.union([z.coerce.number(), z.literal('待初始化')]),\n    外貌: z.object({\n      描述: z.coerce.string(),\n      主角评价: z.coerce.string(),\n    }),\n    能力面板: z.object({\n      力量: z\n        .object({\n          数值: z.union([z.union([z.coerce.number(), z.literal('待初始化')]), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('体能与攻击能力，决定近战输出与负重'),\n      敏捷: z\n        .object({\n          数值: z.union([z.coerce.number(), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('移动、闪避与反应速度，影响先手与命中'),\n      体质: z\n        .object({\n          数值: z.union([z.coerce.number(), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('生命力与耐久度，决定抗性与恢复速度'),\n      感知: z\n        .object({\n          数值: z.union([z.coerce.number(), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('观察与洞察能力，影响侦查与魔力控制'),\n      意志: z\n        .object({\n          数值: z.union([z.coerce.number(), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('精神力与抗干扰能力，决定技能稳定性'),\n      魅力: z\n        .object({\n          数值: z.union([z.coerce.number(), z.literal('待初始化')]),\n          主角评价: z.coerce.string(),\n        })\n        .describe('影响交涉、统御与社交反馈的综合指标'),\n    }),\n    装备栏: z.object({\n      主手: z.object({\n        装备: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n      副手: z.object({\n        装备: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n      防具: z.object({\n        装备: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n      饰品: z.object({\n        装备: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n    }),\n    物品栏: z.record(\n      z.coerce.string<string | number>().describe('物品名'),\n      z.object({\n        描述: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n    ),\n    持有能力: z.record(\n      z.coerce.string<string | number>().describe('物品名'),\n      z.object({\n        描述: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n    ),\n    当前状态: z.record(\n      z.coerce.string<string | number>().describe('状态名'),\n      z.object({\n        类型: z.enum(['增益', '减益']),\n        持续时间: z.union([z.literal('永久'), z.coerce.string()]),\n        触发条件: z.coerce.string(),\n        描述: z.coerce.string(),\n        主角评价: z.coerce.string(),\n      }),\n    ),\n  }),\n\n  系统状态: z.object({\n    可用积分: z.union([z.coerce.number(), z.literal('待初始化')]),\n    对主角可见形象: z.coerce.string(),\n    玩家ID: z.coerce.string(),\n  }),\n\n  商品列表: z.record(\n    z.coerce.string<string | number>().describe('商品名'),\n    z.object({\n      描述: z.coerce.string(),\n      主角评价: z.coerce.string(),\n      积分价格: z.union([z.coerce.number(), z.literal('待初始化')]),\n    }),\n  ),\n\n  任务列表: z.record(\n    z.coerce.string<string | number>().describe('任务名'),\n    z.object({\n      类型: z.enum(['主线', '支线', '每日', '临危受命']),\n      说明: z.coerce.string(),\n      目标: z.coerce.string(),\n      奖励: z.coerce.string(),\n      惩罚: z.coerce.string(),\n    }),\n  ),\n});\nexport type Schema = z.output<typeof Schema>;\nexport const TASK_TYPES = ['主线', '支线', '每日', '临危受命'] as const;\n","import { Schema } from '../../schema';\nexport const useDataStore = defineStore('data', () => {\n    const data = ref(Schema.parse(_.get(getVariables({ type: 'message', message_id: getCurrentMessageId() }), 'stat_data', {})));\n    watchEffect(() => {\n        updateVariablesWith(variables => {\n            _.set(variables, 'stat_data', klona(data.value));\n            return variables;\n        }, { type: 'message', message_id: getCurrentMessageId() });\n    });\n    return { data };\n});\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, Teleport as _Teleport, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"pixel-modal\" };\nconst _hoisted_2 = { class: \"pixel-modal__panel\" };\nconst _hoisted_3 = { class: \"pixel-modal__header\" };\nconst _hoisted_4 = { class: \"pixel-modal__title\" };\nconst _hoisted_5 = { class: \"pixel-modal__scroll\" };\nconst _hoisted_6 = {\n    key: 0,\n    class: \"pixel-modal__description\"\n};\nconst _hoisted_7 = { class: \"pixel-modal__body\" };\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ActionModal',\n    props: {\n        title: {},\n        description: {}\n    },\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", {\n                        class: \"pixel-modal__backdrop\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => (emit('close')))\n                    }),\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"header\", _hoisted_3, [\n                            _createElementVNode(\"h3\", _hoisted_4, _toDisplayString(__props.title), 1 /* TEXT */),\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"pixel-modal__close\",\n                                \"aria-label\": \"关闭\",\n                                onClick: _cache[1] || (_cache[1] = ($event) => (emit('close')))\n                            }, \"×\")\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            (__props.description)\n                                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString(__props.description), 1 /* TEXT */))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"section\", _hoisted_7, [\n                                _renderSlot(_ctx.$slots, \"default\")\n                            ])\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ActionModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ActionModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ActionModal.vue?vue&type=style&index=0&id=c2011d9a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.24_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c2011d9a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"form-grid\" };\nconst _hoisted_2 = [\"value\"];\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = { class: \"form-grid__checkbox\" };\nconst _hoisted_6 = { class: \"form-actions\" };\nimport { Schema, TASK_TYPES } from '../../../schema';\nimport ActionModal from '../components/ActionModal.vue';\n\nimport { z } from 'zod';\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'AutoTask',\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const DIFFICULTIES = ['简单', '普通', '困难'];\n        const REWARDS = ['微薄', '一般', '丰厚'];\n        const TaskForm = z.object({\n            类型: Schema.shape.任务列表.valueType.shape.类型,\n            难度: z.enum(DIFFICULTIES),\n            奖励: z.enum(REWARDS),\n            是否色情: z.coerce.boolean(),\n        });\n        const task_form = ref({\n            类型: '主线',\n            难度: '简单',\n            奖励: '微薄',\n            是否色情: true,\n        });\n        async function handleSubmit() {\n            const message = `【<user>发布了一个${task_form.value.难度}的${task_form.value.类型}任务，奖励${task_form.value.奖励}，本次任务${task_form.value.是否色情 ? '必须' : '禁止'}包含色情内容】<!--必须立即根据剧情生成合适的任务-->`;\n            await createChatMessages([{ role: 'user', message }]);\n            await triggerSlash('/trigger');\n            toastr.success('已触发自动任务生成');\n            emit('close');\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(ActionModal, {\n                title: \"自动发布任务\",\n                onClose: _cache[5] || (_cache[5] = ($event) => (emit('close')))\n            }, {\n                default: _withCtx(() => [\n                    _createElementVNode(\"form\", _hoisted_1, [\n                        _createElementVNode(\"label\", null, [\n                            _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"任务类型\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"select\", {\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((_unref(task_form).类型) = $event))\n                            }, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(TASK_TYPES), (type) => {\n                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                        key: type,\n                                        value: type\n                                    }, _toDisplayString(type), 9 /* TEXT, PROPS */, _hoisted_2));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ], 512 /* NEED_PATCH */), [\n                                [_vModelSelect, _unref(task_form).类型]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"难度\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"select\", {\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((_unref(task_form).难度) = $event))\n                            }, [\n                                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(DIFFICULTIES, (difficulty) => {\n                                    return _createElementVNode(\"option\", {\n                                        key: difficulty,\n                                        value: difficulty\n                                    }, _toDisplayString(difficulty), 9 /* TEXT, PROPS */, _hoisted_3);\n                                }), 64 /* STABLE_FRAGMENT */))\n                            ], 512 /* NEED_PATCH */), [\n                                [_vModelSelect, _unref(task_form).难度]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"奖励丰厚程度\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"select\", {\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(task_form).奖励) = $event))\n                            }, [\n                                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(REWARDS, (reward) => {\n                                    return _createElementVNode(\"option\", {\n                                        key: reward,\n                                        value: reward\n                                    }, _toDisplayString(reward), 9 /* TEXT, PROPS */, _hoisted_4);\n                                }), 64 /* STABLE_FRAGMENT */))\n                            ], 512 /* NEED_PATCH */), [\n                                [_vModelSelect, _unref(task_form).奖励]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", _hoisted_5, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((_unref(task_form).是否色情) = $event)),\n                                type: \"checkbox\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelCheckbox, _unref(task_form).是否色情]\n                            ]),\n                            _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"包含色情内容\", -1 /* CACHED */))\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"ghost\",\n                                onClick: _cache[4] || (_cache[4] = ($event) => (emit('close')))\n                            }, \"取消\"),\n                            _createElementVNode(\"button\", {\n                                type: \"submit\",\n                                class: \"primary\",\n                                onClick: handleSubmit\n                            }, \"生成\")\n                        ])\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./AutoTask.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AutoTask.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, vModelText as _vModelText, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"form-grid\" };\nconst _hoisted_2 = { class: \"form-actions\" };\nimport { Schema } from '../../../schema';\nimport ActionModal from '../components/ActionModal.vue';\nimport { useDataStore } from '../store';\n\nimport { z } from 'zod';\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'CreateShopItem',\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const ShopItemForm = z\n            .object({\n            名称: z.coerce.string(),\n        })\n            .extend(Schema.shape.商品列表.valueType.shape);\n        const shop_item_form = ref({\n            名称: '',\n            描述: '',\n            主角评价: '',\n            积分价格: 0,\n        });\n        function handleSubmit() {\n            const result = ShopItemForm.safeParse(shop_item_form.value);\n            if (result.error) {\n                toastr.success('填写商品时出错');\n                emit('close');\n                return;\n            }\n            const data = result.data;\n            const store = useDataStore();\n            if (data.名称) {\n                _.set(store.data.商品列表, data.名称, Schema.shape.商品列表.valueType.parse(data));\n            }\n            toastr.success('已增加商品');\n            emit('close');\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(ActionModal, {\n                title: \"创建商城条目\",\n                description: \"为商城上架新商品，供主角在系统界面中兑换。\",\n                onClose: _cache[4] || (_cache[4] = ($event) => (emit('close')))\n            }, {\n                default: _withCtx(() => [\n                    _createElementVNode(\"form\", _hoisted_1, [\n                        _createElementVNode(\"label\", null, [\n                            _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"物品名称\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((_unref(shop_item_form).名称) = $event)),\n                                required: \"\",\n                                placeholder: \"例如：星辉精粹\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _unref(shop_item_form).名称]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"描述\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"textarea\", {\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((_unref(shop_item_form).描述) = $event)),\n                                placeholder: \"简述功效与限制\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _unref(shop_item_form).描述]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"价格(积分)\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(shop_item_form).积分价格) = $event)),\n                                type: \"number\",\n                                min: \"0\",\n                                required: \"\",\n                                placeholder: \"所需积分数\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [\n                                    _vModelText,\n                                    _unref(shop_item_form).积分价格,\n                                    void 0,\n                                    { number: true }\n                                ]\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_2, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"ghost\",\n                                onClick: _cache[3] || (_cache[3] = ($event) => (emit('close')))\n                            }, \"取消\"),\n                            _createElementVNode(\"button\", {\n                                type: \"submit\",\n                                class: \"primary\",\n                                onClick: handleSubmit\n                            }, \"上架\")\n                        ])\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./CreateShopItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CreateShopItem.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"form-grid\" };\nconst _hoisted_2 = { class: \"form-grid__checkbox\" };\nconst _hoisted_3 = { class: \"form-actions\" };\nimport { Schema } from '../../../schema';\nimport ActionModal from '../components/ActionModal.vue';\nimport { useDataStore } from '../store';\n\nimport { z } from 'zod';\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'GrantReward',\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const RewardForm = z\n            .object({\n            名称: z.coerce.string(),\n            增加积分: z.coerce.number(),\n            写入背包: z.coerce.boolean(),\n        })\n            .extend(Schema.shape.主角.shape.物品栏.valueType.shape);\n        const reward_form = ref({\n            名称: '',\n            描述: '',\n            主角评价: '',\n            增加积分: 0,\n            写入背包: true,\n        });\n        function handleSubmit() {\n            const result = RewardForm.safeParse(reward_form.value);\n            if (result.error) {\n                toastr.success('填写奖励时出错');\n                emit('close');\n                return;\n            }\n            const data = result.data;\n            const store = useDataStore();\n            if (data.写入背包 === true && data.名称) {\n                _.set(store.data.主角.物品栏, data.名称, Schema.shape.主角.shape.物品栏.valueType.parse(data));\n            }\n            if (data.增加积分 > 0) {\n                if (typeof store.data.系统状态.可用积分 === 'string') {\n                    store.data.系统状态.可用积分 = 0;\n                }\n                store.data.系统状态.可用积分 += data.增加积分;\n            }\n            toastr.success('已发放奖励');\n            emit('close');\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(ActionModal, {\n                title: \"发布奖励\",\n                description: \"将奖励发放到主角物品栏，或直接调整系统积分。\",\n                onClose: _cache[6] || (_cache[6] = ($event) => (emit('close')))\n            }, {\n                default: _withCtx(() => [\n                    _createElementVNode(\"form\", _hoisted_1, [\n                        _createElementVNode(\"label\", null, [\n                            _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"奖励名称\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((_unref(reward_form).名称) = $event)),\n                                required: \"\",\n                                placeholder: \"例如：龙鳞护符\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _unref(reward_form).名称]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"描述\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"textarea\", {\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((_unref(reward_form).描述) = $event)),\n                                placeholder: \"效果、来历等\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _unref(reward_form).描述]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"主角评价\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"textarea\", {\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(reward_form).主角评价) = $event)),\n                                placeholder: \"展示给主角的文案\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _unref(reward_form).主角评价]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", null, [\n                            _cache[10] || (_cache[10] = _createElementVNode(\"span\", null, \"增加积分\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((_unref(reward_form).增加积分) = $event)),\n                                type: \"number\",\n                                min: \"0\",\n                                placeholder: \"可选，输入数字则增加积分\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [\n                                    _vModelText,\n                                    _unref(reward_form).增加积分,\n                                    void 0,\n                                    { number: true }\n                                ]\n                            ])\n                        ]),\n                        _createElementVNode(\"label\", _hoisted_2, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => ((_unref(reward_form).写入背包) = $event)),\n                                type: \"checkbox\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelCheckbox, _unref(reward_form).写入背包]\n                            ]),\n                            _cache[11] || (_cache[11] = _createElementVNode(\"span\", null, \"写入主角物品栏\", -1 /* CACHED */))\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"ghost\",\n                                onClick: _cache[5] || (_cache[5] = ($event) => (emit('close')))\n                            }, \"取消\"),\n                            _createElementVNode(\"button\", {\n                                type: \"submit\",\n                                class: \"primary\",\n                                onClick: handleSubmit\n                            }, \"发放\")\n                        ])\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./GrantReward.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GrantReward.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"shop-overlay\" };\nconst _hoisted_2 = { class: \"shop-container\" };\nconst _hoisted_3 = { class: \"shop-header\" };\nconst _hoisted_4 = { class: \"shop-info\" };\nconst _hoisted_5 = { class: \"shop-balance\" };\nconst _hoisted_6 = { class: \"balance-value\" };\nconst _hoisted_7 = { class: \"shop-content\" };\nconst _hoisted_8 = {\n    key: 0,\n    class: \"shop-empty\"\n};\nconst _hoisted_9 = {\n    key: 1,\n    class: \"shop-grid\"\n};\nconst _hoisted_10 = { class: \"item-header\" };\nconst _hoisted_11 = { class: \"item-name\" };\nconst _hoisted_12 = { class: \"item-price\" };\nconst _hoisted_13 = { class: \"price-value\" };\nconst _hoisted_14 = { class: \"item-description\" };\nconst _hoisted_15 = { class: \"item-evaluation\" };\nconst _hoisted_16 = { class: \"eval-text\" };\nimport { useDataStore } from '../store';\n\nimport { toRef } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'Shop',\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const store = useDataStore();\n        const shop = toRef(store.data, '商品列表');\n        const available_points = toRef(store.data.系统状态, '可用积分');\n        const emit = __emit;\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"header\", _hoisted_3, [\n                        _cache[1] || (_cache[1] = _createElementVNode(\"h2\", { class: \"shop-title\" }, \"系统商城\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            class: \"shop-close\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (emit('close')))\n                        }, \"×\")\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _cache[2] || (_cache[2] = _createElementVNode(\"span\", { class: \"balance-label\" }, \"主角可用积分:\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_unref(available_points)), 1 /* TEXT */)\n                        ]),\n                        _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"shop-hint\" }, \"仅供查看当前上架商品，购买需主角自行决定\", -1 /* CACHED */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        (Object.keys(_unref(shop)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [...(_cache[4] || (_cache[4] = [\n                                    _createElementVNode(\"div\", { class: \"empty-icon\" }, \"🏪\", -1 /* CACHED */),\n                                    _createElementVNode(\"p\", null, \"商城暂无商品\", -1 /* CACHED */),\n                                    _createElementVNode(\"p\", { class: \"empty-hint\" }, \"系统管理员可通过\\\"创建商城\\\"按钮上架商品\", -1 /* CACHED */)\n                                ]))]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(shop), (item, name) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: name,\n                                        class: _normalizeClass([\"shop-item\", { affordable: _unref(available_points) >= item.积分价格 }])\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_10, [\n                                            _createElementVNode(\"div\", _hoisted_11, _toDisplayString(name), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_12, [\n                                                _createElementVNode(\"span\", _hoisted_13, _toDisplayString(item.积分价格), 1 /* TEXT */),\n                                                _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"price-unit\" }, \"积分\", -1 /* CACHED */))\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_14, _toDisplayString(item.描述), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_15, [\n                                            _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"eval-label\" }, \"主角评价:\", -1 /* CACHED */)),\n                                            _createElementVNode(\"span\", _hoisted_16, _toDisplayString(item.主角评价), 1 /* TEXT */)\n                                        ])\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./Shop.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Shop.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=5b9cfad8&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.24_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5b9cfad8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"task-overlay\" };\nconst _hoisted_2 = { class: \"task-container\" };\nconst _hoisted_3 = { class: \"task-header\" };\nconst _hoisted_4 = { class: \"task-content\" };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"task-empty\"\n};\nconst _hoisted_6 = {\n    key: 1,\n    class: \"task-list\"\n};\nconst _hoisted_7 = { class: \"task-item-header\" };\nconst _hoisted_8 = { class: \"task-name\" };\nconst _hoisted_9 = { class: \"task-type-badge\" };\nconst _hoisted_10 = { class: \"task-section\" };\nconst _hoisted_11 = { class: \"task-section-content\" };\nconst _hoisted_12 = { class: \"task-section\" };\nconst _hoisted_13 = { class: \"task-section-content\" };\nconst _hoisted_14 = { class: \"task-footer\" };\nconst _hoisted_15 = { class: \"task-reward\" };\nconst _hoisted_16 = { class: \"reward-text\" };\nconst _hoisted_17 = { class: \"task-penalty\" };\nconst _hoisted_18 = { class: \"penalty-text\" };\nimport { useDataStore } from '../store';\n\nimport { toRef } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'TaskList',\n    emits: [\"close\"],\n    setup(__props, { emit: __emit }) {\n        const tasks = toRef(useDataStore().data, '任务列表');\n        const emit = __emit;\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"header\", _hoisted_3, [\n                        _cache[1] || (_cache[1] = _createElementVNode(\"h2\", { class: \"task-title\" }, \"任务列表\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            class: \"task-close\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (emit('close')))\n                        }, \"×\")\n                    ]),\n                    _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"task-info\" }, [\n                        _createElementVNode(\"div\", { class: \"task-hint\" }, \"主角当前接受的所有任务\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        (Object.keys(_unref(tasks)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [...(_cache[2] || (_cache[2] = [\n                                    _createElementVNode(\"div\", { class: \"empty-icon\" }, \"📝\", -1 /* CACHED */),\n                                    _createElementVNode(\"p\", null, \"暂无任务\", -1 /* CACHED */),\n                                    _createElementVNode(\"p\", { class: \"empty-hint\" }, \"系统管理员可通过\\\"发布任务\\\"按钮发布新任务\", -1 /* CACHED */)\n                                ]))]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tasks), (item, name) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: name,\n                                        class: _normalizeClass([\"task-item\", `task-type-${item.类型}`])\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_7, [\n                                            _createElementVNode(\"div\", _hoisted_8, _toDisplayString(name), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_9, _toDisplayString(item.类型), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_10, [\n                                            _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"task-section-title\" }, \"任务说明\", -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_11, _toDisplayString(item.说明), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_12, [\n                                            _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"task-section-title\" }, \"任务目标\", -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_13, _toDisplayString(item.目标), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_14, [\n                                            _createElementVNode(\"div\", _hoisted_15, [\n                                                _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"reward-label\" }, \"奖励:\", -1 /* CACHED */)),\n                                                _createElementVNode(\"span\", _hoisted_16, _toDisplayString(item.奖励), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_17, [\n                                                _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"penalty-label\" }, \"惩罚:\", -1 /* CACHED */)),\n                                                _createElementVNode(\"span\", _hoisted_18, _toDisplayString(item.惩罚), 1 /* TEXT */)\n                                            ])\n                                        ])\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./TaskList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TaskList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TaskList.vue?vue&type=style&index=0&id=0d671f20&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.24_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d671f20\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"status-system-wrapper\" };\nconst _hoisted_2 = { class: \"status-system\" };\nconst _hoisted_3 = { class: \"top-info-bar\" };\nconst _hoisted_4 = { class: \"info-left\" };\nconst _hoisted_5 = { class: \"info-right\" };\nconst _hoisted_6 = { class: \"status-badge\" };\nconst _hoisted_7 = { class: \"main-content\" };\nconst _hoisted_8 = { class: \"character-panel\" };\nconst _hoisted_9 = { class: \"mobile-section\" };\nconst _hoisted_10 = [\"aria-expanded\"];\nconst _hoisted_11 = { class: \"chevron\" };\nconst _hoisted_12 = { class: \"mobile-section__body\" };\nconst _hoisted_13 = { class: \"character-info-card\" };\nconst _hoisted_14 = { class: \"character-header\" };\nconst _hoisted_15 = [\"title\"];\nconst _hoisted_16 = {\n    key: 0,\n    class: \"avatar-placeholder\"\n};\nconst _hoisted_17 = {\n    key: 1,\n    class: \"avatar-loading\"\n};\nconst _hoisted_18 = { class: \"character-basic-info\" };\nconst _hoisted_19 = { class: \"character-name\" };\nconst _hoisted_20 = { class: \"character-stats\" };\nconst _hoisted_21 = { class: \"stat-item\" };\nconst _hoisted_22 = { class: \"stat-value\" };\nconst _hoisted_23 = { class: \"stat-item\" };\nconst _hoisted_24 = { class: \"stat-value\" };\nconst _hoisted_25 = { class: \"character-description-section\" };\nconst _hoisted_26 = { class: \"appearance-description\" };\nconst _hoisted_27 = { class: \"self-evaluation\" };\nconst _hoisted_28 = { class: \"mobile-section\" };\nconst _hoisted_29 = [\"aria-expanded\"];\nconst _hoisted_30 = { class: \"chevron\" };\nconst _hoisted_31 = { class: \"mobile-section__body\" };\nconst _hoisted_32 = { class: \"abilities-panel\" };\nconst _hoisted_33 = [\"onClick\"];\nconst _hoisted_34 = { class: \"ability-item__name\" };\nconst _hoisted_35 = { class: \"ability-item__value\" };\nconst _hoisted_36 = { class: \"ability-item__desc\" };\nconst _hoisted_37 = {\n    key: 0,\n    class: \"ability-bubble\"\n};\nconst _hoisted_38 = { class: \"mobile-section status-effects-mobile-only\" };\nconst _hoisted_39 = [\"aria-expanded\"];\nconst _hoisted_40 = { class: \"chevron\" };\nconst _hoisted_41 = { class: \"mobile-section__body\" };\nconst _hoisted_42 = { class: \"status-effects-panel\" };\nconst _hoisted_43 = {\n    key: 0,\n    class: \"status-effects-group\"\n};\nconst _hoisted_44 = { class: \"status-effects-title\" };\nconst _hoisted_45 = { class: \"status-effects-list\" };\nconst _hoisted_46 = { class: \"status-effect-name\" };\nconst _hoisted_47 = { class: \"status-effect-desc\" };\nconst _hoisted_48 = {\n    key: 0,\n    class: \"status-effect-eval\"\n};\nconst _hoisted_49 = {\n    key: 1,\n    class: \"status-effect-meta\"\n};\nconst _hoisted_50 = {\n    key: 1,\n    class: \"status-effects-group\"\n};\nconst _hoisted_51 = { class: \"status-effects-title\" };\nconst _hoisted_52 = { class: \"status-effects-list\" };\nconst _hoisted_53 = { class: \"status-effect-name\" };\nconst _hoisted_54 = { class: \"status-effect-desc\" };\nconst _hoisted_55 = {\n    key: 0,\n    class: \"status-effect-eval\"\n};\nconst _hoisted_56 = {\n    key: 1,\n    class: \"status-effect-meta\"\n};\nconst _hoisted_57 = {\n    key: 2,\n    class: \"status-effects-empty\"\n};\nconst _hoisted_58 = { class: \"right-panel\" };\nconst _hoisted_59 = { class: \"mobile-section\" };\nconst _hoisted_60 = [\"aria-expanded\"];\nconst _hoisted_61 = { class: \"chevron\" };\nconst _hoisted_62 = { class: \"mobile-section__body\" };\nconst _hoisted_63 = { class: \"equipment-section\" };\nconst _hoisted_64 = { class: \"equipment-grid\" };\nconst _hoisted_65 = [\"onClick\"];\nconst _hoisted_66 = { class: \"slot-name\" };\nconst _hoisted_67 = { class: \"slot-item\" };\nconst _hoisted_68 = {\n    key: 0,\n    class: \"info-bubble equipment-bubble\"\n};\nconst _hoisted_69 = { class: \"mobile-section\" };\nconst _hoisted_70 = [\"aria-expanded\"];\nconst _hoisted_71 = { class: \"chevron\" };\nconst _hoisted_72 = { class: \"mobile-section__body\" };\nconst _hoisted_73 = { class: \"inventory-section\" };\nconst _hoisted_74 = { class: \"inventory-container\" };\nconst _hoisted_75 = { class: \"inventory-grid\" };\nconst _hoisted_76 = [\"onClick\"];\nconst _hoisted_77 = { class: \"item-name\" };\nconst _hoisted_78 = { class: \"item-description\" };\nconst _hoisted_79 = {\n    key: 0,\n    class: \"info-bubble inventory-bubble\"\n};\nconst _hoisted_80 = { class: \"inventory-pagination\" };\nconst _hoisted_81 = [\"disabled\"];\nconst _hoisted_82 = { class: \"page-info\" };\nconst _hoisted_83 = [\"disabled\"];\nconst _hoisted_84 = { class: \"bottom-bar\" };\nconst _hoisted_85 = { class: \"bottom-left\" };\nconst _hoisted_86 = { class: \"status-effects-trigger\" };\nconst _hoisted_87 = {\n    key: 0,\n    class: \"status-effects-popover\"\n};\nconst _hoisted_88 = { class: \"status-effects-content\" };\nconst _hoisted_89 = {\n    key: 0,\n    class: \"status-effects-empty popover-empty\"\n};\nconst _hoisted_90 = {\n    key: 1,\n    class: \"status-effects-list\"\n};\nconst _hoisted_91 = { class: \"status-effect-name\" };\nconst _hoisted_92 = { class: \"status-effect-desc\" };\nconst _hoisted_93 = {\n    key: 0,\n    class: \"status-effect-eval\"\n};\nconst _hoisted_94 = {\n    key: 1,\n    class: \"status-effect-meta\"\n};\nconst _hoisted_95 = {\n    key: 0,\n    class: \"status-effects-empty popover-empty\"\n};\nconst _hoisted_96 = {\n    key: 1,\n    class: \"status-effects-list\"\n};\nconst _hoisted_97 = { class: \"status-effect-name\" };\nconst _hoisted_98 = { class: \"status-effect-desc\" };\nconst _hoisted_99 = {\n    key: 0,\n    class: \"status-effect-eval\"\n};\nconst _hoisted_100 = {\n    key: 1,\n    class: \"status-effect-meta\"\n};\nconst _hoisted_101 = { class: \"bottom-right\" };\nimport { computed, onBeforeUnmount, onMounted, reactive, ref, watch } from 'vue';\nimport { useAvatarManager } from './composables/useAvatarManager';\nimport { useDataStore } from './store';\nimport AutoTask from './view/AutoTask.vue';\nimport CreateShopItem from './view/CreateShopItem.vue';\nimport GrantReward from './view/GrantReward.vue';\nimport Shop from './view/Shop.vue';\nimport TaskList from './view/TaskList.vue';\n\nimport { toRef } from 'vue';\nconst itemsPerPage = 6;\nconst BASE_WIDTH = 800;\n// 等比缩放状态栏（仅桌面端）\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const show_publish_task = ref(false);\n        const show_task_list = ref(false);\n        const show_grant_reward = ref(false);\n        const show_create_shop_item = ref(false);\n        const show_shop = ref(false);\n        const showStatusPopover = ref(false);\n        const statusPopoverTab = ref('buff');\n        const activeEquipmentBubble = ref(null);\n        const activeInventoryBubble = ref(null);\n        const statData = toRef(useDataStore(), 'data');\n        const { uploading: avatarUploading, avatarUrl, uploadAvatar, loadAvatarForCharacter } = useAvatarManager();\n        const world = computed(() => statData.value.世界 ?? { 当前地点: '未知地点', 当前时间: '未知时间' });\n        const systemState = computed(() => statData.value.系统状态 ?? {});\n        const hero = computed(() => statData.value.主角 ?? {});\n        // 监听角色名称变化，自动加载头像\n        watch(() => hero.value.姓名, async (newName) => {\n            if (newName && newName !== '角色名称') {\n                await loadAvatarForCharacter(newName);\n            }\n        }, { immediate: true });\n        const abilityOrder = ['力量', '敏捷', '体质', '感知', '意志', '魅力'];\n        const abilityBaseDescriptions = {\n            力量: '体能与攻击能力，决定近战输出与负重',\n            敏捷: '移动、闪避与反应速度，影响先手与命中',\n            体质: '生命力与耐久度，决定抗性与恢复速度',\n            感知: '观察与洞察能力，影响侦查与魔力控制',\n            意志: '精神力与抗干扰能力，决定技能稳定性',\n            魅力: '影响交涉、统御与社交反馈的综合指标',\n        };\n        const orderedAbilities = computed(() => {\n            const abilities = hero.value.能力面板 ?? {};\n            return abilityOrder.map(key => ({\n                key,\n                数值: abilities[key]?.数值 ?? '--',\n                主角评价: abilities[key]?.主角评价 ?? '暂无评价',\n            }));\n        });\n        function mapStatusEntry(entry, index, prefix) {\n            if (!entry) {\n                return null;\n            }\n            if (typeof entry === 'string') {\n                return {\n                    id: `${prefix}-${index}`,\n                    name: entry,\n                    description: entry,\n                };\n            }\n            if (typeof entry === 'object') {\n                const record = entry;\n                if ('$meta' in record) {\n                    return null;\n                }\n                const name = record.状态名 || record.name || '未命名状态';\n                return {\n                    id: `${prefix}-${index}-${name}`,\n                    name,\n                    description: record.描述 || record.影响 || '暂无描述',\n                    evaluation: record.主角评价,\n                    extra: record.持续时间 || record.触发条件 || record.影响,\n                };\n            }\n            return null;\n        }\n        function normalizeStatusEntries(value, prefix) {\n            if (!value) {\n                return [];\n            }\n            const entries = [];\n            if (Array.isArray(value)) {\n                value.forEach((entry, index) => {\n                    const parsed = mapStatusEntry(entry, index, prefix);\n                    if (parsed) {\n                        entries.push(parsed);\n                    }\n                });\n                return entries;\n            }\n            if (typeof value === 'object') {\n                Object.entries(value).forEach(([key, entry], index) => {\n                    if (key === '$meta') {\n                        return;\n                    }\n                    const parsed = mapStatusEntry(entry, index, `${prefix}-${key}`);\n                    if (parsed) {\n                        entries.push(parsed);\n                    }\n                });\n            }\n            return entries;\n        }\n        const showBubble = ref(null);\n        const buffList = computed(() => normalizeStatusEntries(hero.value.Buff, 'buff'));\n        const debuffList = computed(() => normalizeStatusEntries(hero.value.Debuff, 'debuff'));\n        const statusCounts = computed(() => ({\n            buff: buffList.value.length,\n            debuff: debuffList.value.length,\n        }));\n        function toggleAbilityBubble(key) {\n            if (showBubble.value === key) {\n                showBubble.value = null;\n            }\n            else {\n                showBubble.value = key;\n            }\n        }\n        function toggleEquipmentBubble(label) {\n            activeEquipmentBubble.value = activeEquipmentBubble.value === label ? null : label;\n        }\n        function toggleInventoryBubble(id) {\n            activeInventoryBubble.value = activeInventoryBubble.value === id ? null : id;\n        }\n        const equipmentSlots = computed(() => {\n            const equipment = hero.value.装备栏 ?? {};\n            const order = ['主手', '副手', '防具', '饰品'];\n            return order.map(label => {\n                const slot = equipment[label];\n                if (slot && typeof slot === 'object') {\n                    const record = slot;\n                    return {\n                        label,\n                        item: record.装备 ?? record.名称 ?? record.value ?? '空置',\n                        evaluation: record.主角评价 ?? record.评价 ?? '',\n                    };\n                }\n                return {\n                    label,\n                    item: slot ?? '空置',\n                    evaluation: '',\n                };\n            });\n        });\n        const experienceValue = computed(() => hero.value.经验 ?? hero.value.exp ?? systemState.value?.经验 ?? 0);\n        const levelValue = computed(() => hero.value.等级 ?? hero.value.level ?? systemState.value?.等级 ?? 1);\n        const inventoryItems = computed(() => {\n            const inventory = hero.value.物品栏 ?? {};\n            if (typeof inventory !== 'object' || Array.isArray(inventory)) {\n                return [];\n            }\n            return Object.entries(inventory).map(([name, item], index) => ({\n                id: `${index}-${name}`,\n                名称: name || '未知物品',\n                描述: item?.描述 || '',\n                主角评价: item?.主角评价,\n                placeholder: false,\n            }));\n        });\n        const currentPage = ref(1);\n        const totalPages = computed(() => Math.max(1, Math.ceil(inventoryItems.value.length / itemsPerPage)));\n        const paginatedInventory = computed(() => {\n            const total = inventoryItems.value.length;\n            const slice = total === 0\n                ? []\n                : inventoryItems.value.slice((currentPage.value - 1) * itemsPerPage, (currentPage.value - 1) * itemsPerPage + itemsPerPage);\n            const filled = [...slice];\n            while (filled.length < itemsPerPage) {\n                filled.push({\n                    id: `placeholder-${currentPage.value}-${filled.length}`,\n                    名称: '—',\n                    描述: '空槽位',\n                    主角评价: '',\n                    placeholder: true,\n                });\n            }\n            return filled;\n        });\n        watch(() => inventoryItems.value.length, () => {\n            currentPage.value = 1;\n        });\n        watch(totalPages, pages => {\n            if (currentPage.value > pages) {\n                currentPage.value = pages;\n            }\n        });\n        watch(currentPage, () => {\n            activeInventoryBubble.value = null;\n        });\n        function prevPage() {\n            if (currentPage.value > 1) {\n                currentPage.value -= 1;\n            }\n        }\n        function nextPage() {\n            if (currentPage.value < totalPages.value) {\n                currentPage.value += 1;\n            }\n        }\n        const currentTimeLabel = computed(() => world.value.当前时间 || new Date().toLocaleString('zh-CN'));\n        const isMobile = ref(false);\n        const sectionState = reactive({\n            info: false,\n            abilities: false,\n            equipment: false,\n            inventory: false,\n            effects: false,\n        });\n        function sectionOpen(key) {\n            return isMobile.value ? sectionState[key] : true;\n        }\n        function toggleSection(key) {\n            if (!isMobile.value) {\n                return;\n            }\n            sectionState[key] = !sectionState[key];\n        }\n        function updateIsMobile() {\n            isMobile.value = window.matchMedia('(max-width: 768px)').matches;\n        }\n        // 设计基准宽度\n        function updateScale() {\n            const wrapper = document.querySelector('.status-system-wrapper');\n            const statusSystem = document.querySelector('.status-system');\n            if (!wrapper || !statusSystem)\n                return;\n            // 移动端不进行缩放，保持原样\n            if (isMobile.value) {\n                statusSystem.style.transform = '';\n                statusSystem.style.width = '';\n                wrapper.style.height = '';\n                return;\n            }\n            // 桌面端进行等比缩放\n            const wrapperWidth = wrapper.clientWidth;\n            const scale = wrapperWidth / BASE_WIDTH;\n            // 应用缩放\n            statusSystem.style.transform = `scale(${scale})`;\n            statusSystem.style.transformOrigin = 'top left';\n            statusSystem.style.width = `${BASE_WIDTH}px`;\n            // 调整容器高度以适应缩放后的内容\n            const scaledHeight = statusSystem.offsetHeight * scale;\n            wrapper.style.height = `${scaledHeight}px`;\n        }\n        // 通知父窗口调整iframe高度\n        function updateIframeHeight() {\n            if (window.frameElement) {\n                const height = document.documentElement.scrollHeight;\n                window.frameElement.style.height = `${height}px`;\n            }\n        }\n        // 使用ResizeObserver监听高度变化\n        let resizeObserver = null;\n        onMounted(() => {\n            updateIsMobile();\n            window.addEventListener('resize', updateIsMobile);\n            window.addEventListener('resize', updateScale);\n            // 初始缩放和高度调整\n            setTimeout(() => {\n                updateScale();\n                updateIframeHeight();\n            }, 0);\n            // 监听内容高度变化\n            resizeObserver = new ResizeObserver(() => {\n                updateScale();\n                updateIframeHeight();\n            });\n            const statusSystem = document.querySelector('.status-system');\n            if (statusSystem) {\n                resizeObserver.observe(statusSystem);\n            }\n        });\n        onBeforeUnmount(() => {\n            window.removeEventListener('resize', updateIsMobile);\n            window.removeEventListener('resize', updateScale);\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n        watch(isMobile, value => {\n            if (!value) {\n                Object.keys(sectionState).forEach(key => {\n                    sectionState[key] = true;\n                });\n            }\n            else {\n                showStatusPopover.value = false;\n            }\n            // 切换移动端/桌面端时重新计算缩放\n            updateScale();\n        });\n        function toggleStatusPopover(tab) {\n            if (showStatusPopover.value && statusPopoverTab.value === tab) {\n                showStatusPopover.value = false;\n                return;\n            }\n            statusPopoverTab.value = tab;\n            showStatusPopover.value = true;\n        }\n        function closeStatusPopover() {\n            showStatusPopover.value = false;\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"section\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n                                class: \"status-indicator online\",\n                                \"aria-hidden\": \"true\"\n                            }, null, -1 /* CACHED */)),\n                            _createElementVNode(\"span\", null, _toDisplayString(currentTimeLabel.value), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_unref(statData).世界.当前地点), 1 /* TEXT */)\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        _createElementVNode(\"div\", _hoisted_8, [\n                            _createElementVNode(\"div\", _hoisted_9, [\n                                _createElementVNode(\"button\", {\n                                    class: \"collapse-toggle\",\n                                    \"aria-expanded\": sectionOpen('info'),\n                                    onClick: _cache[0] || (_cache[0] = ($event) => (toggleSection('info')))\n                                }, [\n                                    _cache[19] || (_cache[19] = _createElementVNode(\"span\", null, \"角色信息\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_11, _toDisplayString(sectionOpen('info') ? '−' : '+'), 1 /* TEXT */)\n                                ], 8 /* PROPS */, _hoisted_10),\n                                _withDirectives(_createElementVNode(\"div\", _hoisted_12, [\n                                    _createElementVNode(\"div\", _hoisted_13, [\n                                        _createElementVNode(\"div\", _hoisted_14, [\n                                            _createElementVNode(\"div\", {\n                                                class: _normalizeClass([\"character-avatar\", { 'has-avatar': _unref(avatarUrl), uploading: _unref(avatarUploading) }]),\n                                                style: _normalizeStyle(_unref(avatarUrl) ? { backgroundImage: `url(${_unref(avatarUrl)})` } : {}),\n                                                title: _unref(avatarUploading) ? '上传中...' : '点击上传头像',\n                                                onClick: _cache[1] || (_cache[1] = ($event) => (_unref(uploadAvatar)(hero.value.姓名)))\n                                            }, [\n                                                (!_unref(avatarUrl) && !_unref(avatarUploading))\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [...(_cache[20] || (_cache[20] = [\n                                                            _createElementVNode(\"span\", null, \"+\", -1 /* CACHED */)\n                                                        ]))]))\n                                                    : _createCommentVNode(\"v-if\", true),\n                                                (_unref(avatarUploading))\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [...(_cache[21] || (_cache[21] = [\n                                                            _createElementVNode(\"span\", null, \"...\", -1 /* CACHED */)\n                                                        ]))]))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ], 14 /* CLASS, STYLE, PROPS */, _hoisted_15),\n                                            _createElementVNode(\"div\", _hoisted_18, [\n                                                _createElementVNode(\"div\", _hoisted_19, _toDisplayString(_unref(statData).主角.姓名), 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_20, [\n                                                    _createElementVNode(\"div\", _hoisted_21, [\n                                                        _cache[22] || (_cache[22] = _createElementVNode(\"span\", { class: \"stat-label\" }, \"性别:\", -1 /* CACHED */)),\n                                                        _createElementVNode(\"span\", _hoisted_22, _toDisplayString(_unref(statData).主角.性别), 1 /* TEXT */)\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_23, [\n                                                        _cache[23] || (_cache[23] = _createElementVNode(\"span\", { class: \"stat-label\" }, \"年龄:\", -1 /* CACHED */)),\n                                                        _createElementVNode(\"span\", _hoisted_24, _toDisplayString(_unref(statData).主角.年龄), 1 /* TEXT */)\n                                                    ])\n                                                ])\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_25, [\n                                            _createElementVNode(\"div\", _hoisted_26, _toDisplayString(hero.value.外貌.描述), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_27, _toDisplayString(hero.value.外貌.主角评价), 1 /* TEXT */)\n                                        ])\n                                    ])\n                                ], 512 /* NEED_PATCH */), [\n                                    [_vShow, sectionOpen('info')]\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_28, [\n                                _createElementVNode(\"button\", {\n                                    class: \"collapse-toggle\",\n                                    \"aria-expanded\": sectionOpen('abilities'),\n                                    onClick: _cache[2] || (_cache[2] = ($event) => (toggleSection('abilities')))\n                                }, [\n                                    _cache[24] || (_cache[24] = _createElementVNode(\"span\", null, \"能力面板\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_30, _toDisplayString(sectionOpen('abilities') ? '−' : '+'), 1 /* TEXT */)\n                                ], 8 /* PROPS */, _hoisted_29),\n                                _withDirectives(_createElementVNode(\"div\", _hoisted_31, [\n                                    _createElementVNode(\"div\", _hoisted_32, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orderedAbilities.value, (ability) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: ability.key,\n                                                class: _normalizeClass([\"ability-item\", { active: showBubble.value === ability.key }]),\n                                                onClick: ($event) => (toggleAbilityBubble(ability.key))\n                                            }, [\n                                                _createElementVNode(\"div\", _hoisted_34, _toDisplayString(ability.key), 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_35, _toDisplayString(ability.数值), 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_36, _toDisplayString(abilityBaseDescriptions[ability.key]), 1 /* TEXT */),\n                                                (showBubble.value === ability.key)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, _toDisplayString(ability.主角评价), 1 /* TEXT */))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ], 10 /* CLASS, PROPS */, _hoisted_33));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ])\n                                ], 512 /* NEED_PATCH */), [\n                                    [_vShow, sectionOpen('abilities')]\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_38, [\n                                _createElementVNode(\"button\", {\n                                    class: \"collapse-toggle\",\n                                    \"aria-expanded\": sectionOpen('effects'),\n                                    onClick: _cache[3] || (_cache[3] = ($event) => (toggleSection('effects')))\n                                }, [\n                                    _cache[25] || (_cache[25] = _createElementVNode(\"span\", null, \"状态效果\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_40, _toDisplayString(sectionOpen('effects') ? '−' : '+'), 1 /* TEXT */)\n                                ], 8 /* PROPS */, _hoisted_39),\n                                _withDirectives(_createElementVNode(\"div\", _hoisted_41, [\n                                    _createElementVNode(\"div\", _hoisted_42, [\n                                        (buffList.value.length)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_43, [\n                                                _createElementVNode(\"div\", _hoisted_44, \"增益状态 (\" + _toDisplayString(buffList.value.length) + \")\", 1 /* TEXT */),\n                                                _createElementVNode(\"ul\", _hoisted_45, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(buffList.value, (buff) => {\n                                                        return (_openBlock(), _createElementBlock(\"li\", {\n                                                            key: buff.id,\n                                                            class: \"status-effect-item\"\n                                                        }, [\n                                                            _createElementVNode(\"div\", _hoisted_46, _toDisplayString(buff.name), 1 /* TEXT */),\n                                                            _createElementVNode(\"p\", _hoisted_47, _toDisplayString(buff.description), 1 /* TEXT */),\n                                                            (buff.evaluation)\n                                                                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_48, \"「\" + _toDisplayString(buff.evaluation) + \"」\", 1 /* TEXT */))\n                                                                : _createCommentVNode(\"v-if\", true),\n                                                            (buff.extra)\n                                                                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_49, _toDisplayString(buff.extra), 1 /* TEXT */))\n                                                                : _createCommentVNode(\"v-if\", true)\n                                                        ]));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ])\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (debuffList.value.length)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_50, [\n                                                _createElementVNode(\"div\", _hoisted_51, \"减益状态 (\" + _toDisplayString(debuffList.value.length) + \")\", 1 /* TEXT */),\n                                                _createElementVNode(\"ul\", _hoisted_52, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(debuffList.value, (debuff) => {\n                                                        return (_openBlock(), _createElementBlock(\"li\", {\n                                                            key: debuff.id,\n                                                            class: \"status-effect-item\"\n                                                        }, [\n                                                            _createElementVNode(\"div\", _hoisted_53, _toDisplayString(debuff.name), 1 /* TEXT */),\n                                                            _createElementVNode(\"p\", _hoisted_54, _toDisplayString(debuff.description), 1 /* TEXT */),\n                                                            (debuff.evaluation)\n                                                                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_55, \"「\" + _toDisplayString(debuff.evaluation) + \"」\", 1 /* TEXT */))\n                                                                : _createCommentVNode(\"v-if\", true),\n                                                            (debuff.extra)\n                                                                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_56, _toDisplayString(debuff.extra), 1 /* TEXT */))\n                                                                : _createCommentVNode(\"v-if\", true)\n                                                        ]));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ])\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (!buffList.value.length && !debuffList.value.length)\n                                            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_57, \"暂无状态效果\"))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ])\n                                ], 512 /* NEED_PATCH */), [\n                                    [_vShow, sectionOpen('effects')]\n                                ])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_58, [\n                            _createElementVNode(\"div\", _hoisted_59, [\n                                _createElementVNode(\"button\", {\n                                    class: \"collapse-toggle\",\n                                    \"aria-expanded\": sectionOpen('equipment'),\n                                    onClick: _cache[4] || (_cache[4] = ($event) => (toggleSection('equipment')))\n                                }, [\n                                    _cache[26] || (_cache[26] = _createElementVNode(\"span\", null, \"装备栏\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_61, _toDisplayString(sectionOpen('equipment') ? '−' : '+'), 1 /* TEXT */)\n                                ], 8 /* PROPS */, _hoisted_60),\n                                _withDirectives(_createElementVNode(\"div\", _hoisted_62, [\n                                    _createElementVNode(\"div\", _hoisted_63, [\n                                        _cache[27] || (_cache[27] = _createElementVNode(\"div\", { class: \"section-title\" }, \"装备栏\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_64, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(equipmentSlots.value, (slot) => {\n                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                    key: slot.label,\n                                                    class: _normalizeClass([\"equipment-slot\", { active: activeEquipmentBubble.value === slot.label }]),\n                                                    onClick: ($event) => (toggleEquipmentBubble(slot.label))\n                                                }, [\n                                                    _createElementVNode(\"div\", _hoisted_66, _toDisplayString(slot.label), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_67, _toDisplayString(slot.item || '空置'), 1 /* TEXT */),\n                                                    (activeEquipmentBubble.value === slot.label)\n                                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_68, _toDisplayString(slot.evaluation || '暂无评价'), 1 /* TEXT */))\n                                                        : _createCommentVNode(\"v-if\", true)\n                                                ], 10 /* CLASS, PROPS */, _hoisted_65));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ])\n                                    ])\n                                ], 512 /* NEED_PATCH */), [\n                                    [_vShow, sectionOpen('equipment')]\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_69, [\n                                _createElementVNode(\"button\", {\n                                    class: \"collapse-toggle\",\n                                    \"aria-expanded\": sectionOpen('inventory'),\n                                    onClick: _cache[5] || (_cache[5] = ($event) => (toggleSection('inventory')))\n                                }, [\n                                    _cache[28] || (_cache[28] = _createElementVNode(\"span\", null, \"物品栏\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_71, _toDisplayString(sectionOpen('inventory') ? '−' : '+'), 1 /* TEXT */)\n                                ], 8 /* PROPS */, _hoisted_70),\n                                _withDirectives(_createElementVNode(\"div\", _hoisted_72, [\n                                    _createElementVNode(\"div\", _hoisted_73, [\n                                        _cache[29] || (_cache[29] = _createElementVNode(\"div\", { class: \"inventory-title\" }, \"物品栏\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_74, [\n                                            _createElementVNode(\"div\", _hoisted_75, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(paginatedInventory.value, (item) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: item.id,\n                                                        class: _normalizeClass([\"inventory-item\", { placeholder: item.placeholder, active: activeInventoryBubble.value === item.id }]),\n                                                        onClick: ($event) => (!item.placeholder && toggleInventoryBubble(item.id))\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_77, _toDisplayString(item.名称), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_78, _toDisplayString(item.描述 || item.主角评价 || '空槽位'), 1 /* TEXT */),\n                                                        (!item.placeholder && activeInventoryBubble.value === item.id)\n                                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_79, _toDisplayString(item.主角评价 || item.描述 || '暂无评价'), 1 /* TEXT */))\n                                                            : _createCommentVNode(\"v-if\", true)\n                                                    ], 10 /* CLASS, PROPS */, _hoisted_76));\n                                                }), 128 /* KEYED_FRAGMENT */))\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_80, [\n                                                _createElementVNode(\"button\", {\n                                                    class: \"page-button\",\n                                                    disabled: currentPage.value === 1,\n                                                    onClick: prevPage\n                                                }, \"上一页\", 8 /* PROPS */, _hoisted_81),\n                                                _createElementVNode(\"span\", _hoisted_82, _toDisplayString(currentPage.value) + \"/\" + _toDisplayString(totalPages.value), 1 /* TEXT */),\n                                                _createElementVNode(\"button\", {\n                                                    class: \"page-button\",\n                                                    disabled: currentPage.value === totalPages.value,\n                                                    onClick: nextPage\n                                                }, \"下一页\", 8 /* PROPS */, _hoisted_83)\n                                            ])\n                                        ])\n                                    ])\n                                ], 512 /* NEED_PATCH */), [\n                                    [_vShow, sectionOpen('inventory')]\n                                ])\n                            ])\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_84, [\n                        _createElementVNode(\"div\", _hoisted_85, [\n                            _createElementVNode(\"div\", _hoisted_86, [\n                                _createElementVNode(\"button\", {\n                                    class: _normalizeClass([\"status-tab-button positive\", { active: statusPopoverTab.value === 'buff' && showStatusPopover.value }]),\n                                    type: \"button\",\n                                    onClick: _cache[6] || (_cache[6] = ($event) => (toggleStatusPopover('buff')))\n                                }, \" Buff (\" + _toDisplayString(statusCounts.value.buff) + \") \", 3 /* TEXT, CLASS */),\n                                _createElementVNode(\"button\", {\n                                    class: _normalizeClass([\"status-tab-button negative\", { active: statusPopoverTab.value === 'debuff' && showStatusPopover.value }]),\n                                    type: \"button\",\n                                    onClick: _cache[7] || (_cache[7] = ($event) => (toggleStatusPopover('debuff')))\n                                }, \" Debuff (\" + _toDisplayString(statusCounts.value.debuff) + \") \", 3 /* TEXT, CLASS */),\n                                (showStatusPopover.value)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_87, [\n                                        _createElementVNode(\"div\", { class: \"popover-header\" }, [\n                                            _cache[30] || (_cache[30] = _createElementVNode(\"span\", null, \"状态概览\", -1 /* CACHED */)),\n                                            _createElementVNode(\"button\", {\n                                                class: \"popover-close\",\n                                                type: \"button\",\n                                                \"aria-label\": \"关闭状态概览\",\n                                                onClick: closeStatusPopover\n                                            }, \" × \")\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_88, [\n                                            (statusPopoverTab.value === 'buff')\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                                    (!buffList.value.length)\n                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_89, \"暂无增益状态\"))\n                                                        : (_openBlock(), _createElementBlock(\"ul\", _hoisted_90, [\n                                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(buffList.value, (buff) => {\n                                                                return (_openBlock(), _createElementBlock(\"li\", {\n                                                                    key: buff.id,\n                                                                    class: \"status-effect-item\"\n                                                                }, [\n                                                                    _createElementVNode(\"div\", _hoisted_91, _toDisplayString(buff.name), 1 /* TEXT */),\n                                                                    _createElementVNode(\"p\", _hoisted_92, _toDisplayString(buff.description), 1 /* TEXT */),\n                                                                    (buff.evaluation)\n                                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_93, \"「\" + _toDisplayString(buff.evaluation) + \"」\", 1 /* TEXT */))\n                                                                        : _createCommentVNode(\"v-if\", true),\n                                                                    (buff.extra)\n                                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_94, _toDisplayString(buff.extra), 1 /* TEXT */))\n                                                                        : _createCommentVNode(\"v-if\", true)\n                                                                ]));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                        ]))\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                                : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                    (!debuffList.value.length)\n                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_95, \"暂无减益状态\"))\n                                                        : (_openBlock(), _createElementBlock(\"ul\", _hoisted_96, [\n                                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(debuffList.value, (debuff) => {\n                                                                return (_openBlock(), _createElementBlock(\"li\", {\n                                                                    key: debuff.id,\n                                                                    class: \"status-effect-item\"\n                                                                }, [\n                                                                    _createElementVNode(\"div\", _hoisted_97, _toDisplayString(debuff.name), 1 /* TEXT */),\n                                                                    _createElementVNode(\"p\", _hoisted_98, _toDisplayString(debuff.description), 1 /* TEXT */),\n                                                                    (debuff.evaluation)\n                                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_99, \"「\" + _toDisplayString(debuff.evaluation) + \"」\", 1 /* TEXT */))\n                                                                        : _createCommentVNode(\"v-if\", true),\n                                                                    (debuff.extra)\n                                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_100, _toDisplayString(debuff.extra), 1 /* TEXT */))\n                                                                        : _createCommentVNode(\"v-if\", true)\n                                                                ]));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                        ]))\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                        ])\n                                    ]))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_101, [\n                            _createElementVNode(\"button\", {\n                                class: \"action-button\",\n                                type: \"button\",\n                                onClick: _cache[8] || (_cache[8] = ($event) => (show_publish_task.value = true))\n                            }, \"发布任务\"),\n                            _createElementVNode(\"button\", {\n                                class: \"action-button\",\n                                type: \"button\",\n                                onClick: _cache[9] || (_cache[9] = ($event) => (show_task_list.value = true))\n                            }, \"查看任务\"),\n                            _createElementVNode(\"button\", {\n                                class: \"action-button\",\n                                type: \"button\",\n                                onClick: _cache[10] || (_cache[10] = ($event) => (show_grant_reward.value = true))\n                            }, \"发布奖励\"),\n                            _createElementVNode(\"button\", {\n                                class: \"action-button\",\n                                type: \"button\",\n                                onClick: _cache[11] || (_cache[11] = ($event) => (show_create_shop_item.value = true))\n                            }, \"创建商品\"),\n                            _createElementVNode(\"button\", {\n                                class: \"action-button\",\n                                type: \"button\",\n                                onClick: _cache[12] || (_cache[12] = ($event) => (show_shop.value = true))\n                            }, \"查看商城\")\n                        ])\n                    ])\n                ]),\n                (show_publish_task.value)\n                    ? (_openBlock(), _createBlock(AutoTask, {\n                        key: 0,\n                        onClose: _cache[13] || (_cache[13] = ($event) => (show_publish_task.value = false))\n                    }))\n                    : _createCommentVNode(\"v-if\", true),\n                (show_grant_reward.value)\n                    ? (_openBlock(), _createBlock(GrantReward, {\n                        key: 1,\n                        onClose: _cache[14] || (_cache[14] = ($event) => (show_grant_reward.value = false))\n                    }))\n                    : _createCommentVNode(\"v-if\", true),\n                (show_create_shop_item.value)\n                    ? (_openBlock(), _createBlock(CreateShopItem, {\n                        key: 2,\n                        onClose: _cache[15] || (_cache[15] = ($event) => (show_create_shop_item.value = false))\n                    }))\n                    : _createCommentVNode(\"v-if\", true),\n                (show_shop.value)\n                    ? (_openBlock(), _createBlock(Shop, {\n                        key: 3,\n                        onClose: _cache[16] || (_cache[16] = ($event) => (show_shop.value = false))\n                    }))\n                    : _createCommentVNode(\"v-if\", true),\n                (show_task_list.value)\n                    ? (_openBlock(), _createBlock(TaskList, {\n                        key: 4,\n                        onClose: _cache[17] || (_cache[17] = ($event) => (show_task_list.value = false))\n                    }))\n                    : _createCommentVNode(\"v-if\", true)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=225b7c6d&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\n$(async () => {\n    await waitGlobalInitialized('Mvu');\n    const app = createApp(App);\n    app.use(createPinia());\n    app.mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","Vue","AVATAR_WORLDBOOK_NAME","MAX_IMAGE_SIZE","async","saveAvatar","characterName","base64","getWorldbookNames","includes","createWorldbook","rebindChatWorldbook","ensureAvatarWorldbook","worldbook","getWorldbook","existingEntryIndex","findIndex","entry","strategy","keys","entryData","name","enabled","type","keys_secondary","logic","scan_depth","position","role","depth","order","content","JSON","stringify","Date","toISOString","probability","recursion","prevent_incoming","prevent_outgoing","delay_until","effect","sticky","cooldown","delay","replaceWorldbook","createWorldbookEntries","useAvatarManager","uploading","ref","avatarUrl","uploadAvatar","toastr","warning","input","document","createElement","accept","onchange","e","file","files","startsWith","size","error","value","Promise","resolve","reject","reader","FileReader","onload","img","Image","canvas","width","height","ctx","getContext","Error","drawImage","toDataURL","onerror","src","result","readAsDataURL","compressImage","success","err","console","message","click","loadAvatarForCharacter","url","find","parse","loadAvatar","z","Schema","object","coerce","string","union","number","literal","describe","record","enum","TASK_TYPES","useDataStore","data","_","get","getVariables","message_id","getCurrentMessageId","watchEffect","updateVariablesWith","variables","set","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","__name","title","description","emits","setup","__props","emit","__emit","_ctx","_cache","to","onClick","$event","$slots","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","DIFFICULTIES","REWARDS","task_form","shape","valueType","boolean","handleSubmit","createChatMessages","triggerSlash","ActionModal","onClose","default","difficulty","reward","ShopItemForm","extend","shop_item_form","safeParse","store","required","placeholder","min","RewardForm","reward_form","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","shop","toRef","available_points","Object","length","item","affordable","_hoisted_17","_hoisted_18","tasks","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","show_publish_task","show_task_list","show_grant_reward","show_create_shop_item","show_shop","showStatusPopover","statusPopoverTab","activeEquipmentBubble","activeInventoryBubble","statData","avatarUploading","world","computed","systemState","hero","watch","newName","immediate","abilityOrder","abilityBaseDescriptions","orderedAbilities","abilities","map","mapStatusEntry","index","prefix","id","evaluation","extra","normalizeStatusEntries","entries","Array","isArray","forEach","parsed","push","showBubble","buffList","Buff","debuffList","Debuff","statusCounts","buff","debuff","equipmentSlots","equipment","label","slot","inventoryItems","exp","level","inventory","currentPage","totalPages","Math","max","ceil","paginatedInventory","filled","slice","prevPage","nextPage","pages","currentTimeLabel","toLocaleString","isMobile","sectionState","reactive","info","effects","sectionOpen","toggleSection","updateIsMobile","window","matchMedia","matches","updateScale","wrapper","querySelector","statusSystem","style","transform","scale","clientWidth","transformOrigin","scaledHeight","offsetHeight","updateIframeHeight","frameElement","documentElement","scrollHeight","resizeObserver","toggleStatusPopover","tab","closeStatusPopover","onMounted","addEventListener","setTimeout","ResizeObserver","observe","onBeforeUnmount","removeEventListener","disconnect","backgroundImage","ability","active","disabled","AutoTask","GrantReward","CreateShopItem","Shop","TaskList","$","waitGlobalInitialized","app","createApp","App","use","mount"],"sourceRoot":""}