<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Monastery Chronicles - ADV Test</title><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/><style>@import url(https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@400;700&display=swap);:root{--bg-color:#2a2a2a;--text-color:#d1d1d1;--text-muted-color:#888;--primary-color:#8a6d3b;--secondary-color:#5a4a2a;--border-color:#444;--container-bg:#333;--button-bg:#454545;--button-hover-bg:#555;--modal-bg:#3a3a3a;--font-heading:'Cinzel',serif;--font-body:'Lato',sans-serif}body,html{height:100%;margin:0;padding:0;font-family:var(--font-body);background-color:var(--bg-color);color:var(--text-color);font-size:16px;line-height:1.6;overflow-x:hidden}.container-fluid{display:flex;flex-direction:column;height:100%;padding:0;max-width:1200px;margin:0 auto;box-sizing:border-box}.content-area{flex-grow:1;overflow-y:auto;padding:1rem;background-color:var(--bg-color);min-height:0}.page{display:none;animation:fadeIn .5s ease}.page.active{display:block}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.nav-tabs{list-style:none;padding:0;margin:0;background-color:var(--container-bg);display:flex;border-bottom:1px solid var(--border-color);flex-shrink:0}.nav-item{margin:0}.nav-link{display:block;padding:.8rem 1.5rem;color:var(--text-muted-color);text-decoration:none;border:none;border-right:1px solid var(--border-color);transition:background-color .3s ease,color .3s ease;white-space:nowrap;cursor:pointer}.nav-link i{margin-right:.5rem}.nav-link:hover{background-color:var(--button-hover-bg);color:var(--text-color)}.nav-link.active{background-color:var(--bg-color);color:var(--primary-color);font-weight:700;border-bottom:2px solid var(--primary-color);margin-bottom:-1px}.btn{padding:.4rem .8rem;border-radius:4px;cursor:pointer;text-decoration:none;font-size:.9em;border:1px solid transparent;transition:background-color .2s ease,border-color .2s ease;display:inline-flex;align-items:center;gap:.3rem}.btn i{line-height:1}.btn-primary{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.btn-primary:hover{background-color:var(--secondary-color);border-color:var(--secondary-color)}.btn-secondary{background-color:var(--button-bg);border-color:var(--border-color);color:var(--text-color)}.btn-secondary:hover{background-color:var(--button-hover-bg)}.btn-outline-light{color:var(--text-color);border-color:var(--border-color)}.btn-outline-light:hover{background-color:var(--button-bg);color:#fff}.btn-danger{background-color:#a94442;border-color:#a94442;color:#fff}.btn-danger:hover{background-color:#8a3735;border-color:#8a3735}.btn-sm{padding:.25rem .5rem;font-size:.8em}.btn-close{background:0 0;border:none;font-size:1.5rem;color:var(--text-muted-color);cursor:pointer;padding:0}.btn-close:hover{color:var(--text-color)}.game-container{max-width:900px;margin:0 auto;background-color:var(--container-bg);border:1px solid var(--border-color);border-radius:6px;display:flex;flex-direction:column;overflow:hidden;min-height:600px;box-shadow:0 2px 10px rgba(0,0,0,.3)}.info-bar{display:flex;justify-content:space-between;align-items:center;padding:.6rem 1rem;background-color:rgba(0,0,0,.2);border-bottom:1px solid var(--border-color);flex-wrap:wrap;gap:.5rem;flex-shrink:0}.info-details{display:flex;flex-wrap:wrap;gap:.5rem 1rem;font-size:.85em;color:var(--text-muted-color);flex-grow:1}.info-details i{margin-right:.3rem;color:var(--primary-color)}.info-actions{flex-shrink:0}.vn-container{position:relative;width:100%;height:450px;min-height:300px;background-color:#000;overflow:hidden;display:flex;flex-direction:column}.scene-container{position:relative;width:100%;flex-grow:1;background-size:cover;background-position:center;background-repeat:no-repeat}.effect-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5}.character-sprite{position:absolute;bottom:0;height:80%;max-width:40%;object-fit:contain;z-index:2;filter:drop-shadow(2px 2px 4px rgba(0, 0, 0, .5))}.text-box-container{position:absolute;bottom:0;left:0;width:100%;padding:10px 15px;z-index:10;box-sizing:border-box}.name-box{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;padding:4px 12px;border-radius:4px;margin-bottom:5px;font-weight:700;font-family:var(--font-heading)}.text-box{background-color:rgba(0,0,0,.7);color:#fff;padding:10px 15px;border-radius:4px;font-size:1em;line-height:1.6;width:100%;box-sizing:border-box;max-height:150px;overflow-y:auto;margin-bottom:8px}.text-controls{display:flex;justify-content:flex-end;gap:8px;margin-top:auto}.text-btn{background-color:rgba(0,0,0,.5);border:1px solid #555;color:var(--text-muted-color);padding:4px 10px;cursor:pointer;transition:all .2s;font-size:.8em}.text-btn:hover{background-color:rgba(255,255,255,.1);color:#fff}.interaction-options{background-color:rgba(0,0,0,.2);border-top:1px solid var(--border-color);padding:1rem;flex-shrink:0}.options-header h4{margin:0 0 .8rem 0;font-family:var(--font-heading);color:var(--primary-color);font-size:1.1em;border-bottom:1px solid var(--border-color);padding-bottom:.5rem}.options-list{padding:0;margin:0;list-style:none}.btn-option{display:block;width:100%;text-align:left;background-color:var(--button-bg);color:var(--text-color);border:1px solid var(--border-color);padding:.6rem 1rem;margin-bottom:.5rem;border-radius:4px;cursor:pointer;transition:background-color .2s ease,border-color .2s ease}.btn-option:hover{background-color:var(--button-hover-bg);border-color:var(--primary-color)}.custom-option-input{margin-top:1rem}.custom-option-input label{font-size:.9em;color:var(--text-muted-color);margin-bottom:.3rem;display:block}.input-group{display:flex}.form-control{flex-grow:1;padding:.5rem;background-color:#fff;border:1px solid #ccc;color:#333;border-radius:4px 0 0 4px}.custom-option-input .btn{border-radius:0 4px 4px 0}.function-container{display:flex;gap:1rem;background-color:var(--container-bg);padding:1rem;border:1px solid var(--border-color);border-radius:6px;min-height:500px}.people-column{flex:0 0 250px;border-right:1px solid var(--border-color);padding-right:1rem}.knowledge-column h3,.people-column h3{font-family:var(--font-heading);color:var(--primary-color);margin-top:0;margin-bottom:1rem;border-bottom:1px solid var(--border-color);padding-bottom:.5rem}#peopleList{list-style:none;padding:0;margin:0;max-height:450px;overflow-y:auto}#peopleList li{padding:.6rem .8rem;cursor:pointer;border-radius:4px;margin-bottom:.3rem;transition:background-color .2s ease}#peopleList li.active,#peopleList li:hover{background-color:var(--button-bg)}.knowledge-column{flex-grow:1;overflow-y:auto}#knowledgeContent{font-size:.95em;line-height:1.7;color:var(--text-color)}#knowledgeContent h4{font-family:var(--font-heading);color:var(--primary-color);margin-top:1.5rem;margin-bottom:.5rem}.summary-container{max-width:800px;margin:0 auto;padding:1rem}.summary-container h2{font-family:var(--font-heading);color:var(--primary-color);text-align:center;margin-bottom:1.5rem;border-bottom:1px solid var(--border-color);padding-bottom:.8rem}.summary-stack{padding:0;margin:0;list-style:none}.summary-entry.card{background-color:var(--container-bg);border:1px solid var(--border-color);border-radius:4px;padding:1rem 1.5rem;margin-bottom:1rem;box-shadow:0 1px 3px rgba(0,0,0,.2)}.entry-meta{margin-bottom:.6rem;font-size:.8em;color:var(--text-muted-color);opacity:.8}.entry-id{font-weight:700;color:var(--primary-color)}.entry-content p{margin:0;line-height:1.7;color:var(--text-color)}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(3px)}.modal-dialog{max-width:500px;width:90%}.modal-content{background-color:var(--modal-bg);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 5px 15px rgba(0,0,0,.5);display:flex;flex-direction:column;max-height:80vh}.modal-header{padding:1rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.modal-title{font-family:var(--font-heading);margin:0;font-size:1.2em;color:var(--primary-color)}.modal-body{padding:1rem;overflow-y:auto}.modal-footer{padding:1rem;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:.5rem}#locationList{padding:0;margin:0;list-style:none}#locationList button.list-group-item{display:block;width:100%;text-align:left;padding:.75rem 1.25rem;margin-bottom:-1px;background-color:var(--button-bg);color:var(--text-color);border:1px solid var(--border-color);cursor:pointer;transition:background-color .2s ease}#locationList button.list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}#locationList button.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}#locationList button.list-group-item:hover{background-color:var(--button-hover-bg)}#locationList button.list-group-item.active{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.placeholder-text{color:var(--text-muted-color);font-style:italic}.placeholder-item{color:var(--text-muted-color);padding:.5rem}.ms-2{margin-left:.5rem}.ms-3{margin-left:1rem}.mt-3{margin-top:1rem}.mb-3{margin-bottom:1rem}.list-group{list-style:none;padding-left:0;margin-bottom:1rem}@media (max-width:768px){.info-bar{flex-direction:column;align-items:flex-start}.info-actions{margin-top:.5rem}.function-container{flex-direction:column}.people-column{border-right:none;border-bottom:1px solid var(--border-color);padding-right:0;margin-bottom:1rem;padding-bottom:1rem}.vn-container{height:350px}}</style><script type="module">class t{constructor(){this.currentIndex=0,this.isAnimating=!1,this.activeCharacters={},this.isTransitioning=!1,this.currentBgPath='',this.dialogHistory=[],this.dialogBox=document.getElementById('dialog-box'),this.characterName=document.getElementById('character-name'),this.dialogText=document.getElementById('dialog-text'),this.currentImage=document.getElementById('background-image-current'),this.nextImage=document.getElementById('background-image-next'),this.characterContainer=document.getElementById('character-container'),this.historyPanel=document.getElementById('history-panel'),this.historyContent=document.getElementById('history-content');this.imageBaseUrl='https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËÉåÊôØ/',this.characterSpritesBaseUrl='https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/';try{const t=SillyTavern.chat[getCurrentMessageId()].mes.match(/<Galgame>\s*```(?:json|yaml)?(.*)```\s*<\/Galgame>/s)[1];if(!t)throw new Error('Ê∏∏ÊàèÊï∞ÊçÆ <Galgame> ‰∏∫Á©∫„ÄÇ');let o=null;try{o=JSON.parse(t),console.log('Ê∏∏ÊàèÊï∞ÊçÆÂä†ËΩΩÊàêÂäü (JSON Ê†ºÂºè)')}catch(e){console.warn('JSON Ëß£ÊûêÂ§±Ë¥•ÔºåÂ∞ùËØïËß£Êûê‰∏∫ YAML:',e.message);try{o=YAML.parse(t)}catch(t){throw console.error('YAML Ëß£Êûê‰πüÂ§±Ë¥•:',t),new Error(`Êï∞ÊçÆËß£ÊûêÂ§±Ë¥•ÔºöÊó¢‰∏çÊòØÊúâÊïàÁöÑ JSON ‰πü‰∏çÊòØÊúâÊïàÁöÑ YAML„ÄÇJSON ÈîôËØØ: ${e.message} | YAML ÈîôËØØ: ${t.message}`)}}Array.isArray(o)&&0!==o.length?(this.dialogData=o,console.log('ÊúÄÁªà‰ΩøÁî®ÁöÑÊ∏∏ÊàèÊï∞ÊçÆ:',this.dialogData)):(console.warn('Âä†ËΩΩÁöÑÂØπËØùÊï∞ÊçÆ‰∏∫Á©∫ÊàñÊ†ºÂºèÊó†Êïà (È¢ÑÊúü‰∏∫ÈùûÁ©∫Êï∞ÁªÑ)ÔºåÂ∞ÜÂä†ËΩΩÈªòËÆ§ÊèêÁ§∫‰ø°ÊÅØ„ÄÇ'),this.dialogData=[{name:'Á≥ªÁªüÊèêÁ§∫',text:'Âä†ËΩΩÁöÑÂØπËØùÊï∞ÊçÆ‰∏∫Á©∫ÊàñÊ†ºÂºèÊó†Êïà„ÄÇ',characters:'narrator'}])}catch(t){console.error('Âä†ËΩΩÊàñËß£ÊûêÊ∏∏ÊàèÊï∞ÊçÆÊó∂Âá∫Èîô:',t),this.dialogData=[{name:'Á≥ªÁªüÊèêÁ§∫',text:`Âä†ËΩΩÂØπËØùÊï∞ÊçÆÂ§±Ë¥•Ôºö${t.message}`,characters:'narrator'}]}this.characterSprites={ÁªúÁªú:{Ê∞¥ÊâãÊúç:{'ÂæÆÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÂæÆÁ¨ë.png','ÊµÖÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊµÖÁ¨ë.png','ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÁîüÊ∞î.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊÉäËÆ∂.png','ÂÆ≥Áæû.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÂÆ≥Áæû.png','Á®çÂæÆËÑ∏Á∫¢.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Á®çÂæÆËÑ∏Á∫¢.png','ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png','ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png','ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png','ÊòüÊòüÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊòüÊòüÁúº.png','ÊôïÊôïÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊôïÊôïÁúº.png','Áå´Áà™ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Áå´Áà™ÁîüÊ∞î.png','ÊµÅÂè£Ê∞¥.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊµÅÂè£Ê∞¥.png','Âì≠Ê≥£.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Âì≠Ê≥£.png','Êì¶ÁúºÊ≥™.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Êì¶ÁúºÊ≥™.png','Á≠âÂæÖÂêª.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Á≠âÂæÖÂêª.png','ÊÄßÈ´òÊΩÆ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÊÄßÈ´òÊΩÆ.png','ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png','Êó†Ë°®ÊÉÖ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Êó†Ë°®ÊÉÖ.png','Êó†‰∫∫.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê∞¥ÊâãÊúç/Êó†‰∫∫.png'},Ê†ºÁ∫πË°´:{'ÂæÆÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÂæÆÁ¨ë.png','ÊµÖÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊµÖÁ¨ë.png','ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÁîüÊ∞î.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊÉäËÆ∂.png','ÂÆ≥Áæû.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÂÆ≥Áæû.png','Á®çÂæÆËÑ∏Á∫¢.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Á®çÂæÆËÑ∏Á∫¢.png','ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png','ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png','ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png','ÊòüÊòüÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊòüÊòüÁúº.png','ÊôïÊôïÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊôïÊôïÁúº.png','Áå´Áà™ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Áå´Áà™ÁîüÊ∞î.png','ÊµÅÂè£Ê∞¥.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊµÅÂè£Ê∞¥.png','Âì≠Ê≥£.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Âì≠Ê≥£.png','Êì¶ÁúºÊ≥™.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Êì¶ÁúºÊ≥™.png','Á≠âÂæÖÂêª.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Á≠âÂæÖÂêª.png','ÊÄßÈ´òÊΩÆ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÊÄßÈ´òÊΩÆ.png','ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png','Êó†‰∫∫.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Ê†ºÁ∫πË°´/Êó†‰∫∫.png'},ÂºÄË°´:{'ÂæÆÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÂæÆÁ¨ë.png','ÊµÖÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊµÖÁ¨ë.png','ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÁîüÊ∞î.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊÉäËÆ∂.png','ÂÆ≥Áæû.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÂÆ≥Áæû.png','Á®çÂæÆËÑ∏Á∫¢.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Á®çÂæÆËÑ∏Á∫¢.png','ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊâãÊâò‰∏ãÂ∑¥ÊÄùËÄÉ.png','ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png','ÈÇ™ÊÅ∂ÁöÑÁ¨ëÂÆπ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÈÇ™ÊÅ∂ÁöÑÁ¨ëÂÆπ.png','ÊòüÊòüÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊòüÊòüÁúº.png','ÊôïÊôïÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊôïÊôïÁúº.png','Áå´Áà™ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Áå´Áà™ÁîüÊ∞î.png','ÊµÅÂè£Ê∞¥.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊµÅÂè£Ê∞¥.png','Âì≠Ê≥£.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Âì≠Ê≥£.png','Êì¶ÁúºÊ≥™.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Êì¶ÁúºÊ≥™.png','Á≠âÂæÖÂêª.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Á≠âÂæÖÂêª.png','ÊÄßÈ´òÊΩÆ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/ÊÄßÈ´òÊΩÆ.png','Êó†Ë°®ÊÉÖ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Êó†Ë°®ÊÉÖ.png','Êó†‰∫∫.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂºÄË°´/Êó†‰∫∫.png'},Áù°Ë°£:{'ÂæÆÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÂæÆÁ¨ë.png','ÊµÖÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊµÖÁ¨ë.png','ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÁîüÊ∞î.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊÉäËÆ∂.png','ÂÆ≥Áæû.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÂÆ≥Áæû.png','Á®çÂæÆËÑ∏Á∫¢.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/Á®çÂæÆËÑ∏Á∫¢.png','ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png','ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png','ÊòüÊòüÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊòüÊòüÁúº.png','ÊôïÊôïÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊôïÊôïÁúº.png','Áå´Áà™ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/Áå´Áà™ÁîüÊ∞î.png','ÊµÅÂè£Ê∞¥.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊµÅÂè£Ê∞¥.png','Âì≠Ê≥£.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/Âì≠Ê≥£.png','Á≠âÂæÖÂêª.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/Á≠âÂæÖÂêª.png','ÊÄßÈ´òÊΩÆ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÊÄßÈ´òÊΩÆ.png','ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png','Êó†‰∫∫.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/Áù°Ë°£/Êó†‰∫∫.png'},ÂÖ®Ë£∏:{'ÊµÖÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÊµÖÁ¨ë.png','ÁîüÊ∞î.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÁîüÊ∞î.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÊÉäËÆ∂.png','ÂÆ≥Áæû.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÂÆ≥Áæû.png','Á®çÂæÆËÑ∏Á∫¢.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÂæÆÂæÆÂÆ≥Áæû.png','ÁúãÈÄè‰∏ÄÂàáÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÂæóÊÑèËÑ∏smug.png','ÈÇ™ÊÅ∂ÁöÑÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÈÇ™ÊÅ∂ÁöÑÁ¨ëÂÆπ.png','ÂùèÁ¨ë.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÂùèÁ¨ë.png','ÊòüÊòüÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏Èó™ËÄÄÁúº.png','ÊôïÊôïÁúº.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÊôïÁúº@_@.png','ÊµÅÂè£Ê∞¥.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏ÁúãÂà∞È£üÁâ©È¶ãÂà∞ÊµÅÂè£Ê∞¥.png','Âì≠Ê≥£.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏Âì≠Ê≥£.png','Á≠âÂæÖÂêª.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏Á≠âÂæÖÊé•Âêª.png','ÊÄßÈ´òÊΩÆ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏Ëâ≤ÊÉÖÈ´òÊΩÆÂïäÂòøÈ¢ú.png','ÁúºÁ•ûÁ©∫Ê¥ûÁöÑÂÇ¨Áú†Áä∂ÊÄÅ.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/ÂÖ®Ë£∏Ë¢´ÂÇ¨Áú†ÂèåÁúºÊó†Á•ûÁïôÂè£Ê∞¥.png','Êó†‰∫∫.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/ËßíËâ≤/ÂÖ®Ë£∏/Êó†‰∫∫.png'}},‰Ω†:{ÈªòËÆ§:{'ÈªòËÆ§.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E8%A7%92%E8%89%B2/%E6%B0%B4%E6%89%8B%E6%9C%8D/%E7%AD%89%E5%BE%85%E5%90%BB.png','ÊÉäËÆ∂.png':'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E8%A7%92%E8%89%B2/%E6%B0%B4%E6%89%8B%E6%9C%8D/%E5%93%AD%E6%B3%A3.png'}}},this.initEventListeners(),this.initializeBackground(),this.showDialog(0)}initializeBackground(){if(this.dialogData&&this.dialogData.length>0&&this.dialogData[0].background){const t=this.dialogData[0].background,o=this.getFullImageUrl(t);if(console.log('ÂàùÂßãÂåñËÉåÊôØÂõæÁâá:',o),!this.currentImage)return void console.error('ËÉåÊôØÂõæÁâáÂÖÉÁ¥†‰∏çÂ≠òÂú®!');this.currentBgPath=t,this.currentImage.src=o,this.currentImage.style.opacity='1',this.currentImage.onerror=()=>{console.error('ËÉåÊôØÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:',o),this.currentImage.src='https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E8%83%8C%E6%99%AF/%E5%95%86%E5%BA%97%E8%A1%97/%E9%BB%84%E6%98%8F.jpg'},this.currentImage.complete?console.log('ËÉåÊôØÂõæÁâáÂ∑≤Âä†ËΩΩÂÆåÊàê'):this.currentImage.onload=()=>{console.log('ËÉåÊôØÂõæÁâáÂä†ËΩΩÂÆåÊàê')}}}getFullImageUrl(t){if(!t)return'';if('ÂïÜÂ∫óË°ó/ÈªÑÊòè.jpg'===t)return'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E8%83%8C%E6%99%AF/%E5%95%86%E5%BA%97%E8%A1%97/%E9%BB%84%E6%98%8F.jpg';if('ÂïÜÂ∫óË°ó/Â§úÊôöÂºÄÁÅØ.jpg'===t)return'https://gitgud.io/lolodesu/lolobabytutorial/-/raw/master/lologame/%E8%83%8C%E6%99%AF/%E5%95%86%E5%BA%97%E8%A1%97/%E5%A4%9C%E6%99%9A%E5%BC%80%E7%81%AF.jpg';try{const o=t.split('/'),e=o.map(t=>encodeURIComponent(t)).join('/');return this.imageBaseUrl+e}catch(o){return console.error('URLÁºñÁ†ÅÂ§±Ë¥•:',o,'ÂéüÂßãË∑ØÂæÑ:',t),''}}initEventListeners(){document.addEventListener('click',()=>{this.nextDialog()}),document.addEventListener('keydown',t=>{'Space'===t.code&&(t.preventDefault(),this.nextDialog())})}showDialog(t){if(t>=this.dialogData.length)return console.log('ÂØπËØùÁªìÊùüÔºåÈáçÊñ∞ÂºÄÂßã'),this.currentIndex=0,void this.showDialog(0);this.currentIndex=t;const o=this.dialogData[t];if(!o)return void console.error('ÂØπËØùÊï∞ÊçÆ‰∏çÂ≠òÂú®:',t);const e=o.background||'',a=e&&this.currentBgPath!==e;if(console.log(`ÊòæÁ§∫ÂØπËØù #${t}`,o.name,'ÂΩìÂâçËÉåÊôØ:',this.currentBgPath||'(Êó†)','Êñ∞ËÉåÊôØ:',e||'(Êó†)','ÈúÄË¶ÅËΩ¨Âú∫:',a),a){if(console.log('ÊâßË°åËÉåÊôØËΩ¨Âú∫ - ‰ªé',this.currentBgPath||'(Êó†)','Âà∞',e),'narrator'===o.characters||'protagonist'===o.characters||!o.characters){for(const t in this.activeCharacters)this.hideCharacter(t);this.activeCharacters={}}this.currentBgPath=e,this.fadeOutIn(()=>e,o)}else this.updateDialogContent(o)}updateDialogContent(t){t?(console.log('Êõ¥Êñ∞ÂØπËØùÂÜÖÂÆπ:',t.name,t.text),this.updateCharacters(t),this.characterName.textContent=t.name,this.applyTypingEffect(t.text),this.addToHistory(t)):console.error('Êõ¥Êñ∞ÂØπËØùÂÜÖÂÆπÂ§±Ë¥•: ÂØπËØùÊï∞ÊçÆ‰∏∫Á©∫')}applyTypingEffect(t){this.isAnimating=!0,this.dialogText.textContent='',document.getElementById('next-hint').style.opacity='0';const o=Math.max(.5,Math.min(1.5,300/t.length)),e=Math.floor(30*o);let a=0;const l=()=>{if(a<t.length&&this.isAnimating){const o=t.charAt(a);this.dialogText.textContent+=o,a++,setTimeout(l,e)}else this.isAnimating=!1,document.getElementById('next-hint').style.opacity='1'};l()}updateCharacters(t){if(this.isTransitioning)return void console.log('Ê≠£Âú®ËΩ¨Âú∫‰∏≠ÔºåÂª∂ËøüÊõ¥Êñ∞ËßíËâ≤ÊòæÁ§∫');const o={};if(document.body.classList.remove('narrator-mode','protagonist-mode'),t.characters)if('narrator'!==t.characters)if('protagonist'!==t.characters){if('object'!=typeof t.characters||!t.characters.id||t.characters.left||t.characters.right){if('object'==typeof t.characters){const e=!!t.characters.left,a=!!t.characters.right;if(e&&!a){const e=t.characters.left.id,a=t.characters.left.expression||'ÈªòËÆ§.png',l=t.characters.left.costume||'Ê∞¥ÊâãÊúç';o[e]={position:'center',expression:a,costume:l},this.showCharacter(e,'center',t.name===e,a,l)}else if(!e&&a){const e=t.characters.right.id,a=t.characters.right.expression||'ÈªòËÆ§.png',l=t.characters.right.costume||'Ê∞¥ÊâãÊúç';o[e]={position:'center',expression:a,costume:l},this.showCharacter(e,'center',t.name===e,a,l)}else{if(t.characters.left&&t.characters.left.id){const e=t.characters.left.id,a=t.characters.left.expression||'ÈªòËÆ§.png',l=t.characters.left.costume||'Ê∞¥ÊâãÊúç';o[e]={position:'left',expression:a,costume:l},this.showCharacter(e,'left',t.name===e,a,l)}if(t.characters.right&&t.characters.right.id){const e=t.characters.right.id,a=t.characters.right.expression||'ÈªòËÆ§.png',l=t.characters.right.costume||'Ê∞¥ÊâãÊúç';o[e]={position:'right',expression:a,costume:l},this.showCharacter(e,'right',t.name===e,a,l)}}}}else{const e=t.characters.id,a=t.characters.expression||'ÈªòËÆ§.png',l=t.characters.costume||'Ê∞¥ÊâãÊúç';o[e]={position:'center',expression:a,costume:l},this.showCharacter(e,'center',t.name===e,a,l)}for(const t in this.activeCharacters)o[t]||this.hideCharacter(t);this.activeCharacters=o}else{document.body.classList.add('protagonist-mode');for(const t in this.activeCharacters)this.hideCharacter(t);this.activeCharacters={}}else{document.body.classList.add('narrator-mode');for(const t in this.activeCharacters)this.hideCharacter(t);this.activeCharacters={}}else{for(const t in this.activeCharacters)this.hideCharacter(t);this.activeCharacters={}}}showCharacter(t,o,e,a='ÈªòËÆ§',l='Ê∞¥ÊâãÊúç'){if(this.isTransitioning)return void console.log('Ê≠£Âú®ËΩ¨Âú∫‰∏≠ÔºåË∑≥ËøáÊòæÁ§∫ËßíËâ≤:',t);if(!this.characterSprites[t])return;const s=this.characterSprites[t];let i=l;s[i]||(i=Object.keys(s)[0]);const r=s[i];let n=a;r[n]||(n=Object.keys(r)[0]||'ÈªòËÆ§.png');const g=r[n];if(!g)return;const c=`character-${t}`,d=this.activeCharacters[t]?.position;let h=document.getElementById(c);h?(h.dataset.expression!==n&&(h.src=g,h.dataset.expression=n),h.dataset.position!==o&&setTimeout(()=>{this.isTransitioning||(h.classList.remove(`character-${h.dataset.position}`),h.classList.add(`character-${o}`),h.dataset.position=o,this.applyPositionStyle(h,o))},50)):(h=document.createElement('img'),h.id=c,h.className='character-sprite character-enter',h.src=g,h.dataset.expression=n,h.dataset.position=o,h.alt=`${t}ÁöÑÁ´ãÁªò`,d&&d!==o?h.classList.add(`character-${d}`):h.classList.add(`character-${o}`),this.characterContainer.appendChild(h),setTimeout(()=>{this.isTransitioning?h&&h.parentNode&&h.parentNode.removeChild(h):(h.classList.remove('character-enter'),h.classList.add('character-active'),d&&d!==o&&setTimeout(()=>{h.classList.remove(`character-${d}`),h.classList.add(`character-${o}`),h.dataset.position=o},50),this.applyPositionStyle(h,o))},50)),e?(h.classList.add('character-speaking'),h.classList.remove('character-dimmed'),h.style.opacity='1',h.style.zIndex='10'):(h.classList.remove('character-speaking'),h.classList.add('character-dimmed'),h.style.opacity='1',h.style.zIndex='5')}applyPositionStyle(t,o){'center'===o?(t.style.left='50%',t.style.right='auto',t.style.transform='translateX(-50%)',t.style.bottom='0',t.style.height='98%',t.style.maxHeight='98%'):'left'===o?(t.style.left='30%',t.style.right='auto',t.style.transform='translateX(-50%)',t.style.bottom='0',t.style.height='95%',t.style.maxHeight='95%'):'right'===o&&(t.style.right='30%',t.style.left='auto',t.style.transform='translateX(50%)',t.style.bottom='0',t.style.height='95%',t.style.maxHeight='95%')}hideCharacter(t){const o=document.getElementById(`character-${t}`);if(o){if(o.classList.contains('character-exit'))return;o.classList.add('character-exit'),o.classList.remove('character-active','character-speaking'),setTimeout(()=>{o&&o.parentNode&&o.parentNode.removeChild(o)},800)}}nextDialog(){if(this.isAnimating){this.isAnimating=!1;const t=this.dialogData[this.currentIndex];return this.dialogText.textContent=t.text,void(document.getElementById('next-hint').style.opacity='1')}if(this.currentIndex++,this.currentIndex>=this.dialogData.length){console.log('ÂØπËØùÂ∑≤ÂÖ®ÈÉ®Êí≠ÊîæÂÆåÊØï„ÄÇ'),this.currentIndex=this.dialogData.length-1;const t=document.getElementById('next-hint');t&&(t.style.display='none');const o=document.getElementById('restart-btn');return void(o&&(o.style.display='block'))}this.showDialog(this.currentIndex)}restartDialog(){console.log('ÈáçÊñ∞ÂºÄÂßãÂØπËØùÊí≠Êîæ'),this.currentIndex=0;for(const t in this.activeCharacters)this.hideCharacter(t);if(this.activeCharacters={},this.dialogData&&this.dialogData.length>0&&this.dialogData[0].background){this.currentBgPath=this.dialogData[0].background;const t=this.getFullImageUrl(this.currentBgPath);this.currentImage.src=t}const t=document.getElementById('next-hint');t&&(t.style.display='block',t.style.opacity='1');const o=document.getElementById('restart-btn');o&&(o.style.display='none'),this.showDialog(0)}fadeOutIn(t,o){if(this.isTransitioning)return void console.log('Â∑≤Âú®ËΩ¨Âú∫‰∏≠ÔºåÂøΩÁï•Êñ∞ÁöÑËΩ¨Âú∫ËØ∑Ê±Ç');this.isTransitioning=!0,console.log('ÂºÄÂßãËÉåÊôØËΩ¨Âú∫');const e=t();if(!e)return console.log('ËÉåÊôØË∑ØÂæÑ‰∏∫Á©∫ÔºåË∑≥ËøáËΩ¨Âú∫'),this.isTransitioning=!1,void(o&&this.updateDialogContent(o));let a=this.getFullImageUrl(e);if(console.log('ÂàáÊç¢ËÉåÊôØÂõæÁâá:',e,'->',a),!a||a===this.currentImage.src)return console.log('Ë∑≥ËøáËÉåÊôØËΩ¨Âú∫: URL‰∏∫Á©∫ÊàñÁõ∏Âêå'),this.isTransitioning=!1,void(o&&this.updateDialogContent(o));const l=()=>{console.log('ÊâßË°åËÉåÊôØËΩ¨Âú∫Âä®Áîª'),document.body.classList.add('transitioning'),this.nextImage.style.opacity='1',setTimeout(()=>{this.currentImage.src=this.nextImage.src,console.log('ËÉåÊôØËΩ¨Âú∫ÂÆåÊàêÔºåÂΩìÂâçËÉåÊôØ:',this.currentImage.src),this.nextImage.style.opacity='0',document.body.classList.remove('transitioning'),this.isTransitioning=!1,o&&(console.log('ËΩ¨Âú∫ÂÆåÊàêÔºåÊõ¥Êñ∞ÂØπËØùÂÜÖÂÆπ:',o.name),setTimeout(()=>{this.updateDialogContent(o)},50))},1200)};this.nextImage.src=a,this.nextImage.onerror=()=>{console.error('ËÉåÊôØÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:',a),this.isTransitioning=!1,o&&this.updateDialogContent(o)},this.nextImage.onload=()=>{console.log('ËÉåÊôØÂõæÁâáÂä†ËΩΩÂÆåÊàê'),l()}}addToHistory(t){this.dialogHistory.some(o=>o.name===t.name&&o.text===t.text)||(this.dialogHistory.push({name:t.name,text:t.text,background:t.background||''}),this.updateHistoryPanel())}updateHistoryPanel(){if(this.historyContent.innerHTML='',0===this.dialogHistory.length){const t=document.createElement('div');return t.textContent='ÊöÇÊó†ÂØπËØùÂéÜÂè≤',t.style.textAlign='center',t.style.color='#7D5B65',t.style.padding='20px',void this.historyContent.appendChild(t)}this.dialogHistory.forEach((t,o)=>{const e=document.createElement('div');if(e.className='history-item',e.style.marginBottom='15px',e.style.padding='15px',e.style.borderRadius='12px',e.style.background='rgba(255, 255, 255, 0.5)',e.style.boxShadow='0 2px 8px rgba(0,0,0,0.05), 0 0 0 1px rgba(255,255,255,0.7) inset',e.style.transition='transform 0.2s ease, box-shadow 0.2s ease',e.onmouseover=function(){this.style.transform='translateY(-2px)',this.style.boxShadow='0 4px 12px rgba(0,0,0,0.08), 0 0 0 1px rgba(255,255,255,0.8) inset'},e.onmouseout=function(){this.style.transform='none',this.style.boxShadow='0 2px 8px rgba(0,0,0,0.05), 0 0 0 1px rgba(255,255,255,0.7) inset'},t.name&&'ÊóÅÁôΩ'!==t.name){const o=document.createElement('div');o.className='history-name',o.textContent=t.name,o.style.fontWeight='bold',o.style.color='#C18E98',o.style.marginBottom='8px',o.style.position='relative',o.style.paddingLeft='15px';const a=document.createElement('span');a.textContent='‚ùÄ',a.style.position='absolute',a.style.left='0',a.style.top='50%',a.style.transform='translateY(-50%)',a.style.color='#FFB0C0',a.style.fontSize='12px',o.appendChild(a),e.appendChild(o)}else'ÊóÅÁôΩ'===t.name&&(e.style.fontStyle='italic',e.style.background='rgba(245, 235, 235, 0.7)',e.style.borderLeft='3px solid #FFCAD5');const a=document.createElement('div');a.className='history-text',a.textContent=t.text,a.style.color='#4D2B35',a.style.lineHeight='1.5',a.style.letterSpacing='0.3px',e.appendChild(a),this.historyContent.appendChild(e)}),setTimeout(()=>{this.historyContent.scrollTop=this.historyContent.scrollHeight},100)}toggleHistoryPanel(t){t?(this.updateHistoryPanel(),this.historyPanel.style.display='block',this.historyPanel.style.opacity='0',this.historyPanel.style.transition='opacity 0.3s ease',setTimeout(()=>{this.historyPanel.style.opacity='1'},10)):(this.historyPanel.style.opacity='0',setTimeout(()=>{this.historyPanel.style.display='none'},300))}}$(()=>{const o=new t;!function(){const t=document.getElementById('toggle-ui-btn');t&&(t.addEventListener('click',function(e){if(e.stopPropagation(),document.body.classList.toggle('ui-hidden'),document.body.classList.contains('ui-hidden')){t.textContent='üí¨',t.title='ÊòæÁ§∫ÁïåÈù¢';document.querySelectorAll('.character-sprite').forEach(t=>{t.classList.remove('character-speaking','character-dimmed')})}else t.textContent='üí≠',t.title='ÈöêËóèÁïåÈù¢',o.updateCharacters(o.dialogData[o.currentIndex])}),t.textContent='üí≠',t.title='ÈöêËóèÁïåÈù¢')}();const e=document.getElementById('history-btn'),a=document.getElementById('close-history');e&&a&&(e.addEventListener('click',function(t){t.stopPropagation(),o.toggleHistoryPanel(!0)}),a.addEventListener('click',function(t){t.stopPropagation(),o.toggleHistoryPanel(!1)}),document.getElementById('history-panel').addEventListener('click',function(t){t.stopPropagation()}),document.addEventListener('keydown',function(t){'Escape'===t.key&&'block'===o.historyPanel.style.display&&o.toggleHistoryPanel(!1)}));const l=document.getElementById('restart-btn');l&&(l.addEventListener('click',function(t){t.stopPropagation(),o.restartDialog()}),l.title='ÈáçÊñ∞ÂºÄÂßã')});</script><style>*{-webkit-tap-highlight-color:rgba(0,0,0,0);margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei","Hiragino Sans GB",sans-serif;scrollbar-width:none !important;user-select:none !important;-webkit-user-select:none !important;-moz-user-select:none !important;-ms-user-select:none !important}::-webkit-scrollbar{width:0 !important;display:none !important}body,html{width:100%;aspect-ratio:16/9;overflow:hidden;background-color:rgba(1,1,1,0);margin:0 !important;padding:0 !important;-ms-overflow-style:none !important;scrollbar-width:none !important}.main-container{width:100%;max-width:1200px;aspect-ratio:16/9;position:relative;margin:0 auto;background:linear-gradient(135deg,#fff0f3,#ffe5ea);border:1px solid #fff;border-radius:12px;box-shadow:0 0 20px rgba(145,125,138,.15);overflow:hidden;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-height:95%;display:flex;flex-direction:column;box-sizing:border-box}.main-container::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border:1px solid #fff;border-radius:12px;pointer-events:none;z-index:100;box-sizing:border-box}.inner-container{position:relative;width:97%;height:97%;margin:1.5% auto;background:#fff;border-radius:8px;box-shadow:0 5px 15px rgba(145,125,138,.15);overflow:hidden;display:flex;flex-direction:column;flex:1;box-sizing:border-box}.title-bar{position:relative;height:5.5%;background:linear-gradient(to right,#ffd0d8,#ffbbc8);display:flex;align-items:center;justify-content:center;color:#7d6b6e;font-weight:bold;font-size:clamp(10px,1.5vw,16px);text-shadow:0px 1px 1px hsla(0,0%,100%,.5);border-radius:8px 8px 0 0}.icon-left{position:absolute;left:15px;font-size:18px;color:#c18e98}.icon-right{position:absolute;right:15px;font-size:14px;color:#c18e98}.scene-area{position:relative;flex:1;overflow:hidden;background-color:#000;min-height:0}#cg-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;display:flex;align-items:center;justify-content:center}.background-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:opacity 1.2s cubic-bezier(0.4,0,0.2,1);z-index:2;background-color:#000}#background-image-current{opacity:1;z-index:3}#background-image-next{opacity:0;z-index:4}#character-container{position:absolute;width:100%;height:100%;z-index:2;pointer-events:none;overflow:hidden}.character-sprite{position:absolute;bottom:0;height:95%;max-height:95%;width:auto;object-fit:contain;transition:opacity .8s ease,transform .5s ease,filter .5s ease,left .8s ease,right .8s ease;filter:drop-shadow(0 0 5px rgba(0,0,0,0.2));transform-origin:bottom center}.character-left{left:30%;transform:translateX(-50%)}.character-right{right:30%;transform:translateX(50%)}.character-center{position:absolute;left:50%;transform:translateX(-50%);bottom:0;height:98%;max-height:98%;width:auto;object-fit:contain}.character-enter{transform:scale(0.95);filter:blur(2px)}.character-exit{transform:scale(0.9);filter:blur(3px);transition:transform .5s ease,filter .5s ease}.character-active{opacity:1;transform:scale(1)}.character-speaking{filter:drop-shadow(0 0 8px rgba(0,0,0,0.3));transform:scale(1.05);z-index:3}.character-dimmed{filter:brightness(0.85) contrast(0.95)}#dialog-box{position:absolute;bottom:4%;left:50%;transform:translateX(-50%);width:50%;max-width:600px;background:linear-gradient(135deg,rgba(255,235,240,0.8),rgba(255,202,215,0.8));backdrop-filter:blur(8px);border-radius:10px;padding:clamp(6px,1.5%,12px) clamp(10px,2%,20px);color:#7d5b65;z-index:10;box-shadow:0 4px 12px rgba(145,125,138,.15),0 0 0 1px hsla(0,0%,100%,.4) inset;border:1px solid hsla(0,0%,100%,.7);transition:transform .3s ease,opacity .3s ease}#dialog-box:hover{transform:translateX(-50%) translateY(-2px);box-shadow:0 6px 15px rgba(145,125,138,.2),0 0 0 1px hsla(0,0%,100%,.5) inset}#character-name{font-size:16px;font-weight:bold;color:#c18e98;margin-bottom:4px;text-shadow:0 0 5px hsla(0,0%,100%,.7);position:relative;display:inline-block;padding-right:16px}#character-name:after{content:"‚ùÄ";position:absolute;right:0;top:50%;transform:translateY(-50%);font-size:14px;color:#ffb0c0}#dialog-text{font-size:14px;line-height:1.4;min-height:50px;margin-bottom:8px;color:#4d2b35;text-shadow:0 1px 1px hsla(0,0%,100%,.9);letter-spacing:.2px;position:relative;padding:0 2px}#dialog-text:before,#dialog-text:after{content:"";position:absolute;height:80%;width:1px;background:linear-gradient(to bottom,rgba(255,180,190,0),rgba(255,180,190,0.5),rgba(255,180,190,0));top:10%}#dialog-text:before{left:0}#dialog-text:after{right:0}#next-hint{text-align:right;font-size:12px;color:rgba(193,142,152,.8);animation:pulse 1.5s infinite;position:relative;padding-right:16px}#next-hint:after{content:"‚úø";position:absolute;right:0;top:50%;transform:translateY(-50%) rotate(5deg);font-size:14px;animation:float 2s ease-in-out infinite}@keyframes pulse{0%{opacity:.4}50%{opacity:1}100%{opacity:.4}}@keyframes float{0%,100%{transform:translateY(-50%) rotate(5deg)}50%{transform:translateY(-65%) rotate(10deg)}}.bottom-area{position:absolute;bottom:15px;right:15px;display:flex;align-items:center;z-index:900}.sweet-memories{display:flex;align-items:center}.history-button{display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffb5c5,#ffd6e0);border:none;padding:10px;border-radius:50%;color:#7d5b65;font-size:16px;cursor:pointer;margin-right:10px;width:40px;height:40px;transition:transform .3s ease,opacity .3s ease,background .3s ease;box-shadow:0 2px 5px rgba(0,0,0,.1)}.history-button:hover{transform:scale(1.1);opacity:.9;background:linear-gradient(135deg,#ffd6e0,#ffb5c5)}.restart-button{display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffb5c5,#ffd6e0);border:none;padding:10px;border-radius:50%;color:#7d5b65;font-size:16px;cursor:pointer;margin-right:10px;width:40px;height:40px;transition:transform .3s ease,opacity .3s ease,background .3s ease;box-shadow:0 2px 5px rgba(0,0,0,.1);line-height:1;text-align:center;padding:0}.restart-button:hover{transform:scale(1.1);opacity:.9;background:linear-gradient(135deg,#ffd6e0,#ffb5c5)}#toggle-ui-btn{display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffb5c5,#ffd6e0);border:none;padding:10px;border-radius:50%;color:#7d5b65;font-size:16px;cursor:pointer;width:40px;height:40px;transition:transform .3s ease,opacity .3s ease,background .3s ease;box-shadow:0 2px 5px rgba(0,0,0,.1)}#toggle-ui-btn:hover{transform:scale(1.1);opacity:.9;background:linear-gradient(135deg,#ffd6e0,#ffb5c5)}body.ui-hidden #dialog-box{display:none !important}body.ui-hidden #toggle-ui-btn{background:linear-gradient(135deg,#ffadc0,#ff8da0) !important}body.ui-hidden .restart-button{opacity:1;visibility:visible}body.ui-hidden #character-container{z-index:3}body.ui-hidden .character-dimmed{filter:none !important}.decoration-sticker{position:absolute;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;z-index:15;opacity:.8;pointer-events:none}.sticker-1{top:15px;right:15px;transform:rotate(10deg);font-size:24px;color:#ffb0c0;display:flex;align-items:center;justify-content:center}.sticker-2{bottom:80px;left:15px;transform:rotate(-5deg);font-size:24px;color:#ffb0c0;display:flex;align-items:center;justify-content:center}body.transitioning .character-sprite{transition:opacity 1s ease,transform 1s ease,filter 1s ease,left 1s ease,right 1s ease}body.transitioning #next-hint{opacity:0;transition:opacity .6s ease}body.transitioning #dialog-box{opacity:.7;transition:opacity 1.2s ease,transform 1.2s ease}body.transitioning .decoration-sticker{opacity:.5;transition:opacity 1.2s ease}.narrator-mode #character-container,.protagonist-mode #character-container{opacity:0;pointer-events:none}.narrator-mode #dialog-box{background:linear-gradient(135deg,rgba(255,235,254,0.895),rgba(250,222,255,0.9))}.protagonist-mode #dialog-box{background:linear-gradient(135deg,rgba(245,225,235,0.9),rgba(235,215,230,0.9))}.narrator-mode #character-name{opacity:0;height:0;margin:0;overflow:hidden}@media (max-width:768px){body,html{aspect-ratio:3/4}#dialog-box{position:absolute;left:50%;bottom:-100%;width:100%;max-width:none;z-index:25;transition:none}#dialog-box:hover{box-shadow:0 4px 12px rgba(145,125,138,.15),0 0 0 1px hsla(0,0%,100%,.4) inset}body.transitioning #dialog-box{opacity:1;transition:none;transform:translateX(-50%)}.main-container{top:25%;overflow:visible}.inner-container{overflow:visible}.scene-area{overflow:visible}.title-bar{height:20px}.bottom-area{z-index:15;bottom:10px;right:10px}.decoration-sticker{display:none}#toggle-ui-btn{display:none !important}.history-button,#toggle-ui-btn{width:35px;height:35px;font-size:14px}#history-panel{width:96%;height:240% !important;max-height:300% !important;top:120% !important;border-radius:12px}#history-header{padding:12px 15px;font-size:16px;border-radius:12px 12px 0 0}#close-history{font-size:22px}#history-content::-webkit-scrollbar{width:6px !important}#history-content::-webkit-scrollbar-thumb{border:none}.history-item{padding:12px !important;margin-bottom:12px !important;border-radius:10px}.history-name{font-size:14px !important;margin-bottom:6px !important;padding-left:16px}.history-name::before{font-size:12px}.history-text{font-size:13px !important;line-height:1.5}}#history-panel{position:fixed;top:25%;left:5%;width:90%;height:90%;max-height:90%;background:linear-gradient(135deg,rgba(255,240,245,0.95),rgba(255,225,235,0.95));backdrop-filter:blur(10px);border-radius:15px;box-shadow:0 8px 30px rgba(145,125,138,.25),0 0 0 1px hsla(0,0%,100%,.6) inset;border:1px solid hsla(0,0%,100%,.8);z-index:1000;display:none;flex-direction:column;box-sizing:border-box;transform:none;margin:0;overflow:hidden}#history-header{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:linear-gradient(to right,rgba(255,208,216,0.8),rgba(255,187,200,0.8));border-bottom:1px solid hsla(0,0%,100%,.5);border-radius:15px 15px 0 0;color:#7d5b65;font-weight:bold;font-size:clamp(14px,1.8vw,18px);text-shadow:0 1px 1px hsla(0,0%,100%,.6)}#close-history{background:none;border:none;font-size:24px;color:#c18e98;cursor:pointer;padding:5px;line-height:1;transition:color .2s ease,transform .2s ease}#close-history:hover{color:#a16e78;transform:scale(1.1)}#history-content{flex-grow:1;overflow-y:auto;padding:20px;color:#4d2b35;scrollbar-width:thin;scrollbar-color:#ffb0c0 #fff0f3}#history-content::-webkit-scrollbar{width:8px !important;display:block !important}#history-content::-webkit-scrollbar-track{background:rgba(255,240,243,.5);border-radius:4px}#history-content::-webkit-scrollbar-thumb{background-color:rgba(255,176,192,.8);border-radius:4px;border:1px solid hsla(0,0%,100%,.3)}#history-content::-webkit-scrollbar-thumb:hover{background-color:#ffa0b4}.history-item{margin-bottom:15px;padding:15px;border-radius:12px;background:hsla(0,0%,100%,.6);box-shadow:0 2px 8px rgba(0,0,0,.05),0 0 0 1px hsla(0,0%,100%,.7) inset;transition:transform .2s ease,box-shadow .2s ease}.history-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08),0 0 0 1px hsla(0,0%,100%,.8) inset}.history-name{font-weight:bold;color:#c18e98;margin-bottom:8px;position:relative;padding-left:18px;font-size:15px}.history-name::before{content:"‚ùÄ";position:absolute;left:0;top:50%;transform:translateY(-50%);color:#ffb0c0;font-size:13px}.history-text{line-height:1.6;letter-spacing:.3px;font-size:14px;color:#4d2b35}.history-item.narrator{font-style:italic;background:rgba(245,235,235,.8);border-left:3px solid #ffcad5}
</style></head><body><div class="container-fluid"><ul class="nav-tabs" id="mainNav"><li class="nav-item"><a class="nav-link active" data-page="story"><i class="fas fa-book-open"></i> Ê≠£Êñá</a></li><li class="nav-item"><a class="nav-link" data-page="function"><i class="fas fa-scroll"></i> ÂäüËÉΩ</a></li><li class="nav-item"><a class="nav-link" data-page="summary"><i class="fas fa-list-alt"></i> ÊÄªÁªì</a></li></ul><div class="content-area"><div id="storyPage" class="page active"><div class="game-container"><div class="info-bar"><div class="info-details"><span id="story-date"><i class="far fa-calendar-alt"></i> Loading...</span> <span class="ms-3" id="story-location"><i class="fas fa-map-marker-alt"></i> Loading...</span> <span class="ms-3" id="story-chapter"><i class="fas fa-book"></i> Loading...</span> <span class="ms-3" id="story-resource"><i class="fas fa-coins"></i> Loading...</span></div><div class="info-actions"><button id="btn-show-locations" class="btn btn-sm btn-outline-light" title="ÂâçÂæÄ..."><i class="fas fa-route"></i> ÂâçÂæÄ</button> <button id="btn-show-history" class="btn btn-sm btn-outline-light ms-2" title="ÊïÖ‰∫ãËøõÂ±ï"><i class="fas fa-history"></i> ËøõÂ±ï</button></div></div><div class="vn-container"><div id="scene-container" class="scene-container"><div id="effect-overlay" class="effect-overlay"></div></div><div class="text-box-container"><div id="name-box" class="name-box" style="display:none"></div><div id="text-box" class="text-box"><div id="story-content">Loading story...</div></div><div class="text-controls"><button id="btn-auto" class="text-btn">Ëá™Âä®</button> <button id="btn-reset" class="text-btn">ÈáçÁúã</button> <button id="btn-load-save" class="text-btn">ËØªÊ°£</button> <button id="btn-delete-records" class="text-btn btn-danger" title="Âà†Èô§ÊâÄÊúâÊ∏∏ÊàèÊï∞ÊçÆ"><i class="fas fa-trash-alt"></i></button></div></div></div><div class="interaction-options"><div class="options-header"><h4>‰Ω†ÁöÑÈÄâÊã©ÊòØÔºü</h4></div><div class="options-list" id="story-options"><p class="placeholder-text">Loading options...</p></div><div class="custom-option-input" id="customOptionContainer" style="display:none"><label for="customOptionInput" class="form-label small">ÂÖ∂‰ªñË°åÂä®/ÊÉ≥Ê≥ïÔºö</label><div class="input-group"><input class="form-control" id="customOptionInput" placeholder="‰æãÂ¶ÇÔºö‰ªîÁªÜËßÇÂØüÂë®Âõ¥ÁöÑÁéØÂ¢É..."/> <button class="btn btn-primary" type="button" id="submitCustomOptionBtn">Á°ÆÂÆö</button></div></div></div></div></div><div id="functionPage" class="page"><div class="function-container"><div class="people-column"><h3>‰∫∫Áâ©</h3><ul id="peopleList"><li class="placeholder-item">Loading characters...</li></ul></div><div class="knowledge-column"><div id="knowledgeDisplay"><h3 id="knowledgeTitle">Áü•ËØÜÂ∫ì</h3><div id="knowledgeContent"><p class="placeholder-text">ÈÄâÊã©‰∫∫Áâ©ÊàñÁ≠âÂæÖÂèëÁé∞Áü•ËØÜÊù°ÁõÆ„ÄÇ</p></div></div></div></div></div><div id="summaryPage" class="page"><div class="summary-container"><h2>ÊïÖ‰∫ãÊÄªÁªìÂõûÈ°æ</h2><div id="storySummaryList" class="summary-stack"><p class="placeholder-text">Loading summary...</p></div></div></div></div></div><div id="locationModal" class="modal" style="display:none"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">ÈÄâÊã©ÁõÆÁöÑÂú∞</h5><button type="button" class="btn-close close-modal-btn" aria-label="Close"></button></div><div class="modal-body"><p>ÈÄâÊã©‰Ω†Êé•‰∏ãÊù•ÊÉ≥ÂéªÁöÑÂú∞ÊñπÔºö</p><ul id="locationList" class="list-group mb-3"><li class="placeholder-item">Loading locations...</li></ul><div class="mb-3"><label for="locationCustomActionInput" class="form-label">ÈôÑÂä†Ë°åÂä®/ÊÑèÂõæÔºàÂèØÈÄâÔºâÔºö</label> <input id="locationCustomActionInput" class="form-control" placeholder="‰æãÂ¶ÇÔºöÂéªÂõæ‰π¶È¶ÜÊü•ÊâæÂè§Á±ç..."/></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary close-modal-btn">ÂèñÊ∂à</button> <button type="button" class="btn btn-primary" id="btn-confirm-location">Á°ÆËÆ§ÂâçÂæÄ</button></div></div></div></div><div id="historyModal" class="modal" style="display:none"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">ÊïÖ‰∫ãËøõÂ±ï</h5><button type="button" class="btn-close close-modal-btn" aria-label="Close"></button></div><div class="modal-body"><div id="historyContent" style="max-height:400px;overflow-y:auto"><p class="placeholder-text">Loading history...</p></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary close-modal-btn">ÂÖ≥Èó≠</button></div></div></div></div><script src="35f28f8356f7e42c4f64.js"></script></body></html>