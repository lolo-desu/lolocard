{"version":3,"file":"main.css","mappings":"AAGA,MAEE,wBACA,0BACA,yBACA,wBACA,yBACA,2BACA,6BACA,+BAGA,6BACA,6BACA,6BAGA,+BACA,iCACA,iCACA,0BAGA,6BACA,+BACA,+BACA,wBACA,4BAGA,8BACA,8BAGA,qBACA,kBACA,wBACA,oBACA,iBACA,iBACA,kBACA,kBACA,kBAGA,uBACA,yBACA,uBAGA,iBACA,iBACA,eACA,cACA,aACA,eACA,aAGA,sBACA,yBACA,yBAIF,EACE,SACA,UACA,sBAGF,KACE,YAGF,OACE,eACA,oBACA,gBACA,YACA,cAEA,aACE,aAIJ,GACE,gBAGF,QACE,wBAIF,gBACE,kBACA,WACA,aACA,sBACA,gBACA,sCACA,UAIF,aACE,4BACA,gCACA,mCACA,6CACA,aACA,8BACA,mBACA,4BACA,wBAGF,2BAEE,aACA,mBACA,sBAGF,YACE,gCACA,iBACA,2BACA,8BAGF,WACE,gCACA,gBACA,kCAGF,eACE,aACA,mBACA,sBAGF,aACE,gBACA,YACA,iBACA,gCACA,eACA,aACA,mBACA,uBACA,WACA,YACA,kBACA,gFAEA,mBACE,oCAGF,mBACE,eACA,WACA,YAGF,kBACE,2BAEA,wBACE,qCAMN,iBACE,aACA,sBACA,kBACA,OACA,gBAIF,gBACE,aACA,yBACA,6BACA,mCACA,6CAGF,YACE,4BACA,YACA,aACA,mBACA,sBACA,kCACA,gCACA,sCACA,sCAEA,cACE,eAGF,kBACE,gCACA,qCAGF,mBACE,2BACA,yCAKJ,aACE,kBACA,kBACA,gBAGF,UACE,kBACA,MACA,OACA,WACA,YACA,aACA,gBACA,UAEA,iBACE,aACA,sBACA,UAKJ,WACE,kBACA,gBACA,aACA,sBAIF,sBACE,kBACA,MACA,OACA,WACA,YACA,sBACA,2BACA,4BACA,0CAIF,sBACE,kBACA,SACA,OACA,WACA,YACA,4BACA,aACA,8BAGF,iCAEE,YACA,UACA,wBACA,2BACA,4BACA,+EAGF,gBACE,6BAGF,iBACE,8BAIF,oBACE,kBACA,YACA,SACA,2BACA,UACA,gBACA,8BACA,oCACA,0BACA,kCACA,sCACA,mCACA,0BACA,aACA,sBACA,qCACA,eAGF,iBACE,aACA,8BACA,mBACA,4CACA,4CACA,gCAGF,cACE,gCACA,mBACA,2BACA,qCAGF,mBACE,aACA,sBAGF,kBACE,OACA,0BACA,gBACA,eACA,gBAGF,eACE,gCAEA,4BACE,gCAGF,6BACE,gCACA,kBAGF,6BACE,gCAGF,6BACE,gCACA,gBAKJ,mBACE,kBACA,QACA,SACA,+BACA,UACA,gBACA,oCACA,0BACA,kCACA,sCACA,mCACA,yBACA,0BACA,aACA,sBACA,sBACA,qCAGA,mCACE,UACA,gBACA,0BAKJ,gBACE,iCACA,gCACA,4CACA,aACA,8BACA,mBAEA,mBACE,gCACA,eACA,2BACA,SACA,gBAIF,iCACE,gBACA,iCAEA,oCACE,gBAKN,gBACE,aACA,sBACA,MAGF,eACE,+BACA,YACA,gBACA,4CACA,gBACA,gCACA,iBACA,gFACA,kBACA,gBAGA,uBACE,WACA,kBACA,OACA,QACA,2BACA,SACA,UACA,sCACA,yCAGF,qBACE,qCACA,2BAEA,6BACE,WAKJ,gCACE,4CAIJ,eACE,aACA,sBACA,6BACA,mBACA,YACA,yCACA,8BAGF,qBACE,OACA,qCACA,YACA,4CACA,gBACA,8BACA,gCACA,iBACA,YACA,sBACA,sCACA,kBAEA,2BACE,aACA,yCACA,qCACA,2BAGF,kCACE,kCACA,WAIF,sCACE,8BAIJ,sBACE,+BACA,kCACA,4BACA,YACA,gBACA,4CACA,sCACA,iBACA,YACA,mBACA,kBAGA,8BACE,WACA,kBACA,OACA,QACA,2BACA,SACA,UACA,sCACA,yCAGF,4BACE,qCACA,2BACA,yCAEA,oCACE,WAKJ,uCACE,4BAKJ,mCACE,WACA,YACA,kBACA,aACA,uBACA,mBACA,kCACA,gFAEA,yCACE,oCACA,gCAKJ,mBACE,aACA,sBACA,YACA,WACA,uCAGF,aACE,aACA,sBACA,0BACA,mCACA,8CAGF,kBACE,4CACA,mCACA,kCACA,sCACA,aACA,mBACA,sBAEA,oBACE,eAGF,wBACE,gCACA,qCAGF,yBACE,4BACA,oCAIJ,iBACE,OACA,0BACA,gBAGF,iBACE,aACA,YAEA,wBACE,aAKJ,oBACE,aACA,sBAGF,iBACE,UACA,aACA,sBACA,sBACA,gBAGF,gBACE,aACA,mBACA,sBACA,0BACA,yCACA,mCACA,eACA,sCAEA,sBACE,2BACA,oCAGF,uBACE,4CAIJ,kBACE,WACA,YACA,kBACA,iBACA,uCAGF,gBACE,OAGF,gBACE,iBACA,iBACA,gCAGF,gBACE,gBACA,kCAGF,mBACE,OACA,0BACA,yCACA,mCACA,aACA,sBACA,sBAIF,gBACE,0BACA,yCACA,mCAIF,mBACE,aACA,sBAGF,sBACE,UACA,aACA,sBACA,sBACA,gBAGF,oBACE,0BACA,yCACA,mCACA,eACA,sCAEA,0BACE,oCAGF,2BACE,oCACA,4CAIJ,mBACE,OACA,aACA,sBACA,sBACA,gBAGF,iBACE,0BACA,yCACA,mCAGF,iBACE,iBACA,gCACA,4BACA,gCACA,2CACA,iCAGF,mBACE,gBAIF,kBACE,aACA,sBACA,YACA,WACA,wCAGF,eACE,aACA,8BACA,mBACA,0BACA,sDACA,gCAGF,kBACE,kCACA,gCACA,aACA,mBACA,sBAGF,eACE,+CACA,WACA,4CACA,mCACA,aACA,mBACA,sBACA,mDAEA,qBACE,6CAGF,wBACE,mBAKJ,2BACE,0BACA,iCACA,4CAGF,iBACE,kBACA,aACA,mBACA,uBACA,4BACA,gBACA,qBACA,6DACA,sBACA,YAEA,oCACE,WAGF,0CACE,0BAGF,0CACE,+CACA,kBAGF,yBACE,WACA,kBACA,QACA,OACA,QACA,WACA,+CACA,UAKJ,oBACE,kBACA,WACA,YACA,kBACA,+CACA,UACA,eACA,sCACA,+BAGA,4BACE,WACA,kBACA,QACA,SACA,+BACA,UACA,YACA,+CACA,UAGF,0BACE,6CACA,qBACA,4CAGF,6BACE,+CACA,qBACA,4CACA,mCAKJ,wBACE,GACE,uCAEF,IACE,yCAEF,KACE,uCAKJ,aACE,aAGF,yBACE,OACA,aACA,sBACA,0BACA,sBACA,gBAGF,gBACE,OACA,0BACA,gCACA,+CACA,mCACA,gBACA,gBAGF,sBACE,WACA,aACA,sBACA,2BACA,mCACA,gCAGF,qBACE,gCAGF,gBACE,aACA,uBACA,sBAGF,sBACE,6CACA,WACA,4CACA,mCACA,gCACA,iBACA,aACA,mBACA,sBACA,sCAEA,wBACE,kBAGF,4BACE,+CACA,2BACA,0CAGF,+BACE,WACA,+CACA,eACA,gBACA,mBAIJ,sBACE,kBACA,kCACA,kBACA,6BAGF,uBACE,0BACA,kBACA,kCACA,kBACA,WAIF,mBACE,eACA,MACA,OACA,WACA,YACA,gCACA,uBACA,aACA,sBACA,uBACA,mBACA,sBAGF,iBACE,WACA,YACA,qCACA,kBACA,sCACA,kCAGF,gBACE,GACE,0BAIJ,cACE,gCACA,mBAIF,mBACE,eACA,MACA,OACA,WACA,YACA,cACA,aACA,uBACA,mBACA,oBAIF,gBACE,aAGF,gBACE,kBACA,uCACA,sCACA,mCACA,0BACA,YACA,cACA,UACA,qCACA,oBAGA,0CAGF,qBACE,GACE,UACA,qBAEF,KACE,UACA,oBAKJ,iBACE,gCACA,kBACA,iBACA,gBACA,WAGF,iBACE,aACA,uBACA,sBACA,6BAGF,gBACE,kBACA,mCACA,gBACA,iBACA,eACA,sCACA,+BACA,eACA,cAGA,+BAGA,uBACE,sBAIJ,aACE,sCACA,WACA,+CAEA,mBACE,+CACA,2BACA,oCAIJ,YACE,mCACA,gCACA,oCAEA,kBACE,sCACA,2BACA,oCAKJ,wBACE,eACA,sBACA,wBACA,uBACA,aACA,sBACA,sBACA,gBAGF,cACE,0BACA,mCACA,uCACA,oCACA,UACA,2BACA,wCAGF,mBACE,UACA,wBAGF,mBACE,UACA,2BAGF,mBACE,8BAGF,sBACE,8BAGF,sBACE,8BAGF,oBACE,8BAIF,yBAII,4CACE,qBAGF,sDACE,aACA,sBACA,YACA,kBAGF,mDACE,YACA,gBACA,0BACA,cACA,WAGF,uGAEE,sBAGF,kDACE,iBACA,cAGF,iDACE,gBAGF,mDACE,WACA,YACA,iBAIF,uDACE,OACA,kBACA,gBACA,aACA,sBAIF,sDACE,YACA,gBACA,cACA,UAGF,kDACE,4BACA,gBAEA,oDACE,gBAKJ,mDACE,OACA,kBACA,aACA,sBACA,gBAGF,uDACE,kBACA,YACA,aACA,sBAIF,iDACE,aACA,sBACA,kBACA,YAIF,4DACE,eACA,sCACA,OACA,WACA,eACA,UAGF,4DACE,eACA,sCACA,OACA,WACA,eACA,UAIF,0DACE,eACA,gDACA,OACA,QACA,WACA,6DACA,SACA,eACA,gBACA,eACA,gBACA,iBACA,kBACA,mBACA,0CACA,UACA,oCACA,gBACA,eAGF,uDACE,4CAGF,wDACE,0BACA,yBACA,gBACA,qBACA,uDAEA,2EACE,UAGF,iFACE,6BAGF,iFACE,sCACA,kBAIJ,oDACE,eAIF,yDACE,UACA,cACA,0BACA,UAIF,6GAEE,YACA,+BAIF,qGAEE,eACA,sCACA,OACA,WACA,mDACA,SACA,UAGF,iHAEE,UACA,YACA,WACA,gBACA,aACA,sBAIF,wDACE,wCAGF,qDACE,0BACA,sDACA,gCACA,gBACA,MACA,UAGF,wDACE,iBACA,gCAGF,qDACE,6CACA,4CACA,mCACA,gBACA,aACA,mBACA,uBACA,WAIF,iEACE,0BACA,4CACA,iCAGF,uDACE,4BACA,YACA,sBAIF,0DACE,WACA,YAEA,kEACE,YAGF,mEACE,sBACA,4CAKJ,mDACE,aAGF,mHAEE,aAIF,+DACE,OACA,0BACA,aACA,sBAGF,sDACE,OACA,0BACA,gCACA,+CACA,gBACA,iBACA,gBAGF,sDACE,4BAGF,4DACE,WACA,uBACA,0BACA,6CACA,eAGF,6DACE,0BACA,gBAIF,yDACE,uCAGF,mDACE,eACA,0BACA,8CACA,gCACA,gBACA,MACA,UAGF,wDACE,gBACA,4CACA,+BACA,gCACA,mCAGF,uDACE,OACA,0BACA,gBAGF,uDACE,yCACA,mCACA,0BACA,iCAMN,mDAEI,mDACE,qBAIF,6GAEE,qBAIF,0DACE,2BAMN,oDAEI,mDACE,qBAIF,wHAEE,YACA,sCAGF,0DACE,6CACA,0DACA,aAIF,qGAEE,sCACA,mDAIF,sHAEE,0BAGF,6GAEE,0BAGF,gHAEE,kBAMN,OACE,aAGF,qCACE,cACA,YAGF,qDACE,uCACA,gCACA,sCACA,mCACA,qCAGF,sGAEE,iCACA,4CAGF,qBACE,gCACA,WACA,0CAEA,2BACE,UAIJ,mCACE,yCACA,qCACA,gCACA,sCAEA,yCACE,uCACA,kCAKJ,gBACE,aAIF,YACE,gBACA,2BAIF,0BACE,6BACA,mDAGF,0BACE,eAMA,+BACE,gBAGF,gCACE,sCACA,2CACA,0BACA,kCAGF,+BACE,gCACA,kDAEA,4CACE,kCACA,gCACA,iBAGF,sCACE,kCACA,iBACA,WAEA,4CACE,UAKN,6BACE,0BACA,gBACA,gBACA,qBACA,yDAEA,gDACE,UAGF,sDACE,0BACA,mCAGF,sDACE,qCACA,mCAGF,4DACE,uCAIJ,+BACE,gCACA,+CAKJ,WACE,aACA,gCACA,iCACA,mCACA,UACA,gBAGF,cACE,OACA,4BACA,gBACA,YACA,kCACA,eACA,gCACA,eACA,sCACA,kBAEA,qBACE,WACA,kBACA,SACA,OACA,WACA,WACA,+BACA,mDAGF,oBACE,gCAGF,qBACE,kCACA,qCAEA,4BACE,2CAMN,kBACE,kBAGF,eACE,aACA,0BAEA,sBACE,cAIJ,kBACE,KACE,UAEF,GACE,WAKJ,WACE,gBACA,UACA,SACA,aACA,0DACA,sBAGF,WACE,qCACA,qCACA,mCACA,gBACA,iFACA,kBACA,eAEA,iBACE,yCACA,qCAGF,iBACE,iBACA,0BACA,kBACA,kCACA,eAEA,uBACE,gBACA,iCAKN,qBACE,aACA,sBACA,2BACA,4CACA,kBACA,yCAEA,4BACE,WACA,kBACA,SACA,OACA,QACA,YACA,+DAGF,sCACE,uBAIJ,kBACE,4CACA,aACA,8BACA,mBACA,gCACA,4CACA,0BACA,kCAGF,iBACE,iBACA,gCACA,eACA,kCACA,mBACA,gBACA,uBACA,cACA,wCAEA,kCACE,kCAIJ,gBACE,gBACA,kCAGF,mBACE,4CACA,gBACA,gCACA,gBACA,gBACA,uBACA,oBACA,qBACA,4BAGF,mBACE,4CACA,aACA,yBACA,gCACA,yCACA,UACA,0CAEA,0BACE,+BACA,kCACA,qCACA,kBACA,4CACA,gBACA,sCAEA,gCACE,0CACA,WACA,sCAKN,oCACE,UAIF,wBACE,2CACA,WACA,YACA,gCACA,4CACA,mCACA,qFACA,aACA,mBAEA,0BACE,+BAGF,8BACE,6CACA,WACA,oCAKJ,gCACE,oCACA,qCACA,gCAEA,sCACE,qCACA,yCAMF,8BACE,oCACA,6CACA,gCACA,mCACA,0BACA,WACA,gCAEA,oCACE,aACA,yCACA,2CAQJ,+MAME,iCAGF,8HAIE,iBAGF,oCACE,wBAOF,+MAME,iCACA,gBAGF,8HAIE,kBAGF,oCACE,wBAQF,qBACE,qBAGF,+BACE,aACA,sBACA,aACA,kBAGF,4BACE,YACA,gBACA,0BACA,cACA,WAGF,yDAEE,sBAGF,2BACE,iBACA,cAGF,0BACE,gBAGF,4BACE,WACA,YACA,iBAGF,gCACE,OACA,kBACA,gBACA,aACA,sBAGF,+BACE,YACA,gBACA,cACA,UAGF,2BACE,4BACA,gBAEA,6BACE,gBAIJ,4BACE,OACA,kBACA,aACA,sBACA,gBAGF,gCACE,kBACA,YACA,aACA,sBAGF,0BACE,aACA,sBACA,kBACA,YAGF,qCACE,eACA,sCACA,OACA,WACA,eACA,UAGF,qCACE,eACA,sCACA,OACA,WACA,eACA,UAGF,mCACE,eACA,gDACA,OACA,QACA,WACA,6DACA,SACA,eACA,gBACA,eACA,gBACA,iBACA,kBACA,mBACA,0CACA,UACA,oCACA,gBACA,eAGF,gCACE,4CAGF,iCACE,0BACA,yBACA,gBACA,qBACA,uDAEA,oDACE,UAGF,0DACE,6BAGF,0DACE,sCACA,kBAIJ,6BACE,eAGF,kCACE,UACA,cACA,0BACA,UAGF,+DAEE,YACA,+BAGF,uDAEE,eACA,sCACA,OACA,WACA,mDACA,SACA,UAGF,mEAEE,UACA,YACA,WACA,gBACA,aACA,sBAIF,iCACE,wCAGF,8BACE,0BACA,sDACA,gCACA,gBACA,MACA,UAGF,iCACE,iBACA,gCAGF,8BACE,4CACA,mCACA,gBAIF,0CACE,0BACA,4CACA,iCAGF,gCACE,4BACA,YACA,sBAIF,mCACE,WACA,YAEA,2CACE,YAGF,4CACE,sBACA,4CAKJ,wCACE,OACA,0BACA,aACA,sBAGF,+BACE,OACA,0BACA,gCACA,+CACA,gBACA,iBACA,gBAGF,+BACE,4BAGF,qCACE,WACA,uBACA,0BACA,6CACA,eAIF,kCACE,uCAGF,4BACE,eACA,0BACA,8CACA,gCACA,gBACA,MACA,UAGF,iCACE,gBACA,4CACA,+BACA,gCACA,mCAGF,gCACE,OACA,0BACA,gBAGF,gCACE,yCACA,mCACA,0BACA,gCAMJ,kBACE,gBACA,UACA,YAGF,eACE,uCACA,gCACA,sCACA,mCACA,qCAGF,cACE,gCACA,6CACA,4CAGF,aACE,2BACA,gCACA,aACA,mBACA,sBAEA,eACE,gBAIJ,YACE,0BACA,gCAGF,cACE,gCACA,0CACA,4CAIF,eACE,4CACA,mCACA,gCACA,iBACA,sCACA,aACA,mBACA,sBAEA,iBACE,cAIJ,uBACE,sCACA,kCACA,WAEA,6BACE,iEACA,6DACA,2BACA,oCAIJ,yBACE,uCACA,mCACA,WAEA,+BACE,gEACA,4DACA,2BACA,oCAIJ,sBACE,oCACA,gCACA,gCAEA,4BACE,qCACA,iCAKJ,sBACE,gCAGF,iBACE,2BACA,gCACA,gCACA,aACA,mBACA,sBAEA,mBACE,2BACA,gBAIJ,mCAEE,qCACA,qCACA,gCACA,mCACA,0BACA,sCAEA,+CACE,oCACA,kCACA,yCAIJ,qBACE,6BACA,kBACA,WAIA,8EACE,sCACA,kCAGF,wCACE,eAEA,gDACE,oCACA,iCAMN,wBACE,aACA,sBACA,sBAKA,+BACE,gBACA,UACA,YAGF,yBACE,4BACE,0BAGF,4BACE,gCAGF,sCACE,YAGF,oCACE,UAGF,+BACE,kBAGF,6BACE,0BACA,gBAGF,4BACE,gCAGF,+BACE,gBACA,4BAGF,yCACE,WACA,uBACA,gCAGF,+BACE,4CACA,eACA,uBAEA,oCACE,yBACA,OACA,gBAYN,gCACE,aACA,sBACA,aAGF,6BACE,4BACA,gCACA,4BAGF,iCACE,OACA,aACA,sBAGF,gCACE,yBACA,6BAGF,4BACE,4BACA,YACA,eAIF,6BACE,kBACA,kBACA,gBACA,UAGF,0BACE,kBACA,MACA,OACA,WACA,YAIF,4EAEE,kBACA,MACA,OACA,WACA,YAIF,oCACE,kBACA,YACA,SACA,2BACA,UACA,gBACA,8BACA,sCACA,mCACA,eAGF,iCACE,4CAGF,kCACE,0BACA,gBACA,YAIF,mCACE,kBACA,QACA,SACA,+BACA,UACA,gBACA,0BAIF,yDAEE,kBACA,MACA,OACA,WACA,YAGF,qEAEE,aACA,sBACA,YACA,WACA,UAGF,4DAEE,gBACA,0BAGF,6BACE,aACA,sBACA,iBAGF,kCACE,4CACA,SACA,eAGF,0EAEE,OACA,0BAIF,iEAEE,YACA,UACA,+BACA,eAGF,gCACE,6BAGF,iCACE,8B","sources":["src://tavern_helper_template/src/圣约与静默/游戏界面/styles/main.scss"],"sourcesContent":["/* 修道院箱庭游戏界面 - 主样式表 */\n\n/* ===== 1. CSS变量与基础设置 ===== */\n:root {\n  /* 颜色方案 */\n  --color-primary: #8a6d3b; /* 金色 - 主色调，与金色怀表相呼应 */\n  --color-secondary: #a85832; /* 褐红色 - 辅助色，用于时间旅行和特殊功能 */\n  --color-tertiary: #5d6e41; /* 橄榄绿 - 第三色调，用于其他功能区分 */\n  --color-bg-dark: #2a2a2a; /* 深灰色 - 主背景色 */\n  --color-bg-light: #333333; /* 略浅灰色 - 容器背景色 */\n  --color-bg-lighter: #3c3c3c; /* 更浅灰色 - 卡片和高亮背景 */\n  --color-text-primary: #d1d1d1; /* 浅灰色 - 主要文本颜色 */\n  --color-text-secondary: #888888; /* 中灰色 - 次要文本颜色 */\n\n  /* 对话样式颜色 */\n  --color-text-whisper: #a8c5e9; /* 淡蓝色 - 低语样式 */\n  --color-text-shocked: #e9a8a8; /* 浅红色 - 震惊样式 */\n  --color-text-special: #d6c8a4; /* 淡金色 - 特殊样式 */\n\n  /* 记忆/穿越色调 */\n  --color-memory-primary: #c99e51; /* 暖金色 - 记忆主色调 */\n  --color-memory-secondary: #9c7f46; /* 暗金色 - 记忆辅助色调 */\n  --color-memory-highlight: #e4c987; /* 亮金色 - 记忆高亮色调 */\n  --color-memory-bg: #2e2a25; /* 深褐灰色 - 记忆背景色 */\n\n  /* 存档/读档界面颜色 */\n  --color-save-primary: #9e8148; /* 暗金色 - 存档主色调 */\n  --color-save-secondary: #b29656; /* 中金色 - 存档辅助色调 */\n  --color-save-highlight: #d5b978; /* 亮金色 - 存档高亮色调 */\n  --color-save-bg: #2d2a24; /* 深褐色 - 存档背景色 */\n  --color-save-delete: #a85832; /* 褐红色 - 删除按钮 */\n\n  /* 字体设置 */\n  --font-heading: 'Cinzel', serif;\n  --font-body: 'Lato', sans-serif;\n\n  /* 尺寸与间距 */\n  --header-height: 60px;\n  --tab-height: 40px;\n  --dialogue-height: 200px;\n  --border-radius: 6px;\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 16px;\n  --spacing-lg: 24px;\n  --spacing-xl: 32px;\n\n  /* 动画时间 */\n  --transition-fast: 0.2s;\n  --transition-normal: 0.3s;\n  --transition-slow: 0.5s;\n\n  /* Z-index层级 */\n  --z-background: 1;\n  --z-characters: 2;\n  --z-dialogue: 3;\n  --z-choices: 4;\n  --z-header: 5;\n  --z-sidebar: 10;\n  --z-modal: 20;\n\n  /* 字体大小设置 */\n  --font-size-base: 1rem;\n  --font-size-small: 0.9rem;\n  --font-size-large: 1.1rem;\n}\n\n/* ===== 2. 全局重置样式 ===== */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  height: 100%;\n}\n\nbutton {\n  cursor: pointer;\n  font-family: inherit;\n  background: none;\n  border: none;\n  color: inherit;\n\n  &:focus {\n    outline: none;\n  }\n}\n\nul {\n  list-style: none;\n}\n\n.hidden {\n  display: none !important;\n}\n\n/* ===== 3. 游戏容器 ===== */\n.game-container {\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: var(--color-bg-dark);\n  z-index: 1;\n}\n\n/* ===== 4. 游戏头部 ===== */\n.game-header {\n  height: var(--header-height);\n  min-height: var(--header-height);\n  background-color: rgba(20, 20, 20, 0.9);\n  border-bottom: 1px solid var(--color-primary);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 var(--spacing-md);\n  z-index: var(--z-header);\n}\n\n.header-left,\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n.game-title {\n  font-family: var(--font-heading);\n  font-size: 1.5rem;\n  color: var(--color-primary);\n  margin-left: var(--spacing-md);\n}\n\n.game-date {\n  font-family: var(--font-heading);\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n\n.game-controls {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.icon-button {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: var(--color-text-primary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  transition: background-color var(--transition-fast), color var(--transition-fast);\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  &.small {\n    font-size: 1rem;\n    width: 28px;\n    height: 28px;\n  }\n\n  &.gold {\n    color: var(--color-primary);\n\n    &:hover {\n      background-color: rgba(138, 109, 59, 0.2);\n    }\n  }\n}\n\n/* ===== 5. 主要内容区域 ===== */\n.content-wrapper {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* 标签导航栏 */\n.tab-navigation {\n  display: flex;\n  height: var(--tab-height);\n  min-height: var(--tab-height);\n  background-color: rgba(20, 20, 20, 0.9);\n  border-bottom: 1px solid var(--color-primary);\n}\n\n.tab-button {\n  padding: 0 var(--spacing-lg);\n  height: 100%;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  color: var(--color-text-secondary);\n  font-family: var(--font-heading);\n  border-bottom: 3px solid transparent;\n  transition: all var(--transition-fast);\n\n  i {\n    font-size: 1rem;\n  }\n\n  &:hover {\n    color: var(--color-text-primary);\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n\n  &.active {\n    color: var(--color-primary);\n    border-bottom-color: var(--color-primary);\n  }\n}\n\n/* 标签内容区域 */\n.tab-content {\n  position: relative;\n  aspect-ratio: 16/9;\n  overflow: hidden;\n}\n\n.tab-pane {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: none;\n  overflow: hidden;\n  z-index: 1;\n\n  &.active {\n    display: flex;\n    flex-direction: column;\n    z-index: 2;\n  }\n}\n\n/* ===== 6. 正文标签样式 ===== */\n#story-tab {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 背景区域 */\n.background-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-position: center;\n  z-index: var(--z-background);\n  transition: opacity var(--transition-slow);\n}\n\n/* 角色立绘区域 */\n.characters-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-characters);\n  display: flex;\n  justify-content: space-between;\n}\n\n.character-left,\n.character-right {\n  height: 100%;\n  width: 40%;\n  background-size: contain;\n  background-position: bottom;\n  background-repeat: no-repeat;\n  transition: transform var(--transition-normal), opacity var(--transition-normal);\n}\n\n.character-left {\n  transform-origin: bottom left;\n}\n\n.character-right {\n  transform-origin: bottom right;\n}\n\n/* 对话框区域 */\n.dialogue-container {\n  position: absolute;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 90%;\n  max-width: 900px;\n  height: var(--dialogue-height);\n  background-color: rgba(20, 20, 20, 0.85);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  border: 1px solid var(--color-primary);\n  border-radius: var(--border-radius);\n  z-index: var(--z-dialogue);\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n}\n\n.dialogue-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-bottom: 1px solid rgba(138, 109, 59, 0.3);\n  background-color: rgba(0, 0, 0, 0.2); /* 稍微加深标题栏背景 */\n}\n\n.speaker-name {\n  font-family: var(--font-heading);\n  font-size: 1.125rem;\n  color: var(--color-primary);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); /* 增加文字阴影提高可读性 */\n}\n\n.dialogue-controls {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n.dialogue-content {\n  flex: 1;\n  padding: var(--spacing-md);\n  overflow-y: auto;\n  font-size: 1rem;\n  line-height: 1.6;\n}\n\n.dialogue-text {\n  margin-bottom: var(--spacing-md);\n\n  &.style-normal {\n    color: var(--color-text-primary);\n  }\n\n  &.style-whisper {\n    color: var(--color-text-whisper);\n    font-style: italic;\n  }\n\n  &.style-shocked {\n    color: var(--color-text-shocked);\n  }\n\n  &.style-special {\n    color: var(--color-text-special);\n    font-weight: 500;\n  }\n}\n\n/* 选择区域 - 漂浮在游戏画面中央，更加紧凑 */\n.choices-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 70%;\n  max-width: 650px;\n  background-color: rgba(20, 20, 20, 0.85);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  border: 1px solid var(--color-primary);\n  border-radius: var(--border-radius);\n  z-index: var(--z-choices);\n  padding: var(--spacing-sm);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n\n  /* 选项数量少时使用更紧凑的样式 */\n  &.compact-choices {\n    width: 60%;\n    max-width: 500px;\n    padding: var(--spacing-xs);\n  }\n}\n\n/* 选项标题样式 */\n.choices-header {\n  padding-bottom: var(--spacing-xs);\n  margin-bottom: var(--spacing-xs);\n  border-bottom: 1px solid rgba(138, 109, 59, 0.3);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  h3 {\n    font-family: var(--font-heading);\n    font-size: 1rem;\n    color: var(--color-primary);\n    margin: 0;\n    text-align: left;\n  }\n\n  /* 紧凑模式下的样式 */\n  .compact-choices & {\n    margin-bottom: 0;\n    padding-bottom: var(--spacing-xs);\n\n    h3 {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n.preset-choices {\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n}\n\n.choice-button {\n  background-color: transparent;\n  border: none;\n  border-radius: 0;\n  padding: var(--spacing-sm) var(--spacing-md);\n  text-align: left;\n  color: var(--color-text-primary);\n  font-size: 0.95rem;\n  transition: background-color var(--transition-fast), color var(--transition-fast);\n  position: relative;\n  overflow: hidden;\n\n  /* 左侧指示线 */\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    height: 0;\n    width: 3px;\n    background-color: var(--color-primary);\n    transition: height var(--transition-fast);\n  }\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n    color: var(--color-primary);\n\n    &::before {\n      height: 70%;\n    }\n  }\n\n  /* 选项数量少于等于2个时的样式 */\n  .compact-choices & {\n    padding: var(--spacing-xs) var(--spacing-md);\n  }\n}\n\n.custom-choice {\n  display: flex;\n  gap: var(--spacing-xs);\n  margin-top: var(--spacing-xs);\n  align-items: center;\n  height: 32px;\n  border-top: 1px solid rgba(138, 109, 59, 0.2);\n  padding-top: var(--spacing-xs);\n}\n\n.custom-choice input {\n  flex: 1;\n  background-color: rgba(255, 255, 255, 0.03);\n  border: none;\n  border-bottom: 1px solid rgba(138, 109, 59, 0.3);\n  border-radius: 0;\n  padding: 4px var(--spacing-sm);\n  color: var(--color-text-primary);\n  font-size: 0.95rem;\n  height: 100%;\n  box-sizing: border-box;\n  transition: all var(--transition-fast);\n  position: relative;\n\n  &:focus {\n    outline: none;\n    border-bottom-color: var(--color-primary);\n    background-color: rgba(255, 255, 255, 0.05);\n    color: var(--color-primary);\n  }\n\n  &::placeholder {\n    color: var(--color-text-secondary);\n    opacity: 0.7;\n  }\n\n  /* 选项数量少时的样式 */\n  .compact-choices & {\n    padding: 2px var(--spacing-sm);\n  }\n}\n\n.custom-choice button {\n  background-color: transparent;\n  color: var(--color-text-secondary);\n  padding: 0 var(--spacing-md);\n  border: none;\n  border-radius: 0;\n  border-bottom: 1px solid rgba(138, 109, 59, 0.3);\n  transition: all var(--transition-fast);\n  font-size: 0.95rem;\n  height: 100%;\n  white-space: nowrap;\n  position: relative;\n\n  /* 左侧指示线 */\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    height: 0;\n    width: 2px;\n    background-color: var(--color-primary);\n    transition: height var(--transition-fast);\n  }\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n    color: var(--color-primary);\n    border-bottom-color: var(--color-primary);\n\n    &::before {\n      height: 70%;\n    }\n  }\n\n  /* 选项数量少时的样式 */\n  .compact-choices & {\n    padding: 0 var(--spacing-sm);\n  }\n}\n\n/* 修复icon-button在选项头部的样式 */\n.choices-header .icon-button.small {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--color-text-secondary);\n  transition: background-color var(--transition-fast), color var(--transition-fast);\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n    color: var(--color-text-primary);\n  }\n}\n\n/* ===== 7. 日记标签样式 ===== */\n.journal-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  background-color: var(--color-bg-light);\n}\n\n.journal-nav {\n  display: flex;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background-color: rgba(20, 20, 20, 0.8);\n  border-bottom: 1px solid var(--color-tertiary);\n}\n\n.journal-nav-item {\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius);\n  color: var(--color-text-secondary);\n  transition: all var(--transition-fast);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n\n  i {\n    font-size: 1rem;\n  }\n\n  &:hover {\n    color: var(--color-text-primary);\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n\n  &.active {\n    color: var(--color-tertiary);\n    background-color: rgba(93, 110, 65, 0.2);\n  }\n}\n\n.journal-content {\n  flex: 1;\n  padding: var(--spacing-md);\n  overflow-y: auto;\n}\n\n.journal-section {\n  display: none;\n  height: 100%;\n\n  &.active {\n    display: flex;\n  }\n}\n\n/* 角色信息部分 */\n#characters-section {\n  display: flex;\n  gap: var(--spacing-lg);\n}\n\n.character-cards {\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  overflow-y: auto;\n}\n\n.character-card {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background-color: var(--color-bg-lighter);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n\n  &.active {\n    border-left: 3px solid var(--color-tertiary);\n  }\n}\n\n.character-avatar {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid var(--color-tertiary);\n}\n\n.character-info {\n  flex: 1;\n}\n\n.character-name {\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin-bottom: var(--spacing-xs);\n}\n\n.character-role {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n\n.character-details {\n  flex: 1;\n  padding: var(--spacing-lg);\n  background-color: var(--color-bg-lighter);\n  border-radius: var(--border-radius);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-lg);\n}\n\n/* 修道院状态部分 */\n.monastery-info {\n  padding: var(--spacing-lg);\n  background-color: var(--color-bg-lighter);\n  border-radius: var(--border-radius);\n}\n\n/* 知识库部分 */\n#knowledge-section {\n  display: flex;\n  gap: var(--spacing-lg);\n}\n\n.knowledge-categories {\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n  overflow-y: auto;\n}\n\n.knowledge-category {\n  padding: var(--spacing-md);\n  background-color: var(--color-bg-lighter);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n\n  &:hover {\n    background-color: rgba(93, 110, 65, 0.2);\n  }\n\n  &.active {\n    background-color: rgba(93, 110, 65, 0.3);\n    border-left: 3px solid var(--color-tertiary);\n  }\n}\n\n.knowledge-entries {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  overflow-y: auto;\n}\n\n.knowledge-entry {\n  padding: var(--spacing-lg);\n  background-color: var(--color-bg-lighter);\n  border-radius: var(--border-radius);\n}\n\n.knowledge-title {\n  font-size: 1.2rem;\n  font-family: var(--font-heading);\n  color: var(--color-tertiary);\n  margin-bottom: var(--spacing-md);\n  border-bottom: 1px solid rgba(93, 110, 65, 0.3);\n  padding-bottom: var(--spacing-sm);\n}\n\n.knowledge-content {\n  line-height: 1.6;\n}\n\n/* ===== 8. 记忆标签样式 ===== */\n.memory-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  background-color: var(--color-memory-bg);\n}\n\n.memory-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--color-memory-secondary);\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n.memory-header h2 {\n  color: var(--color-memory-primary);\n  font-family: var(--font-heading);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.memory-button {\n  background-color: var(--color-memory-secondary);\n  color: #fff;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  transition: background-color var(--transition-fast);\n\n  &:hover {\n    background-color: var(--color-memory-primary);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n}\n\n/* 全新设计的时间轴容器 */\n.memory-timeline-container {\n  padding: var(--spacing-md);\n  background-color: rgba(0, 0, 0, 0.15);\n  border-bottom: 1px solid rgba(158, 129, 72, 0.3);\n}\n\n.memory-timeline {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-sm) 0;\n  overflow-x: auto;\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-memory-secondary) rgba(0, 0, 0, 0.2);\n  gap: var(--spacing-md);\n  height: 60px;\n\n  &::-webkit-scrollbar {\n    height: 4px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.2);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--color-memory-secondary);\n    border-radius: 2px;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background-color: var(--color-memory-secondary);\n    z-index: 1;\n  }\n}\n\n/* 新的简化记忆节点设计 */\n.memory-node-simple {\n  position: relative;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background-color: var(--color-memory-secondary);\n  z-index: 2;\n  cursor: pointer;\n  box-shadow: 0 0 0 0 rgba(201, 158, 81, 0);\n  transition: all 0.3s ease-in-out;\n\n  /* 连接到时间轴的线 */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 2px;\n    height: 16px;\n    background-color: var(--color-memory-secondary);\n    z-index: 1;\n  }\n\n  &:hover {\n    background-color: var(--color-memory-primary);\n    transform: scale(1.2);\n    box-shadow: 0 0 10px 2px rgba(201, 158, 81, 0.3);\n  }\n\n  &.selected {\n    background-color: var(--color-memory-highlight);\n    transform: scale(1.3);\n    box-shadow: 0 0 15px 5px rgba(201, 158, 81, 0.5);\n    animation: memory-pulse 2s infinite;\n  }\n}\n\n/* 记忆节点脉冲发光动画 */\n@keyframes memory-pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(201, 158, 81, 0.7);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(201, 158, 81, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(201, 158, 81, 0);\n  }\n}\n\n/* 原有的复杂记忆节点设计隐藏 */\n.memory-node {\n  display: none;\n}\n\n.memory-detail-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: var(--spacing-md);\n  gap: var(--spacing-md);\n  overflow-y: auto;\n}\n\n.memory-content {\n  flex: 1;\n  padding: var(--spacing-lg);\n  background-color: rgba(0, 0, 0, 0.2);\n  border: 1px solid var(--color-memory-secondary);\n  border-radius: var(--border-radius);\n  line-height: 1.6;\n  overflow-y: auto;\n}\n\n.memory-content-image {\n  width: 100%;\n  height: 200px;\n  background-size: cover;\n  background-position: center;\n  border-radius: var(--border-radius);\n  margin-bottom: var(--spacing-md);\n}\n\n.memory-content-text {\n  color: var(--color-text-primary);\n}\n\n.memory-actions {\n  display: flex;\n  justify-content: center;\n  gap: var(--spacing-md);\n}\n\n.memory-travel-button {\n  background-color: var(--color-memory-primary);\n  color: #000;\n  padding: var(--spacing-md) var(--spacing-xl);\n  border-radius: var(--border-radius);\n  font-family: var(--font-heading);\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  transition: all var(--transition-fast);\n\n  i {\n    font-size: 1.25rem;\n  }\n\n  &:hover {\n    background-color: var(--color-memory-highlight);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(201, 158, 81, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    background-color: var(--color-memory-secondary);\n    transform: none;\n    box-shadow: none;\n    cursor: not-allowed;\n  }\n}\n\n.memory-empty-message {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  margin-top: var(--spacing-xl);\n}\n\n.memory-empty-timeline {\n  padding: var(--spacing-md);\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  width: 100%;\n}\n\n/* ===== 10. 加载指示器 ===== */\n.loading-indicator {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: var(--z-modal);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: var(--spacing-lg);\n}\n\n.loading-spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(138, 109, 59, 0.3);\n  border-radius: 50%;\n  border-top-color: var(--color-primary);\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.loading-text {\n  color: var(--color-text-primary);\n  font-size: 1.125rem;\n}\n\n/* ===== 9. 模态框 ===== */\n.confirm-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10000; /* 最高层级 */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none; /* 默认不接收点击事件，让点击穿透到下层 */\n}\n\n/* 隐藏背景遮罩 */\n.modal-backdrop {\n  display: none;\n}\n\n.confirm-dialog {\n  position: relative;\n  background-color: var(--color-bg-light);\n  border: 1px solid var(--color-primary);\n  border-radius: var(--border-radius);\n  padding: var(--spacing-lg);\n  width: 400px;\n  max-width: 90%;\n  z-index: 2;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.7);\n  pointer-events: auto; /* 对话框可以接收点击事件 */\n\n  /* 简化的显示动画 */\n  animation: dialogPop 0.2s ease-out forwards;\n}\n\n@keyframes dialogPop {\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/* 移除不需要的动画效果 */\n.confirm-message {\n  margin-bottom: var(--spacing-lg);\n  text-align: center;\n  font-size: 1.1rem;\n  line-height: 1.5;\n  color: #fff;\n}\n\n.confirm-buttons {\n  display: flex;\n  justify-content: center;\n  gap: var(--spacing-md);\n  margin-top: var(--spacing-lg);\n}\n\n.confirm-button {\n  padding: 10px 20px;\n  border-radius: var(--border-radius);\n  min-width: 100px;\n  font-weight: bold;\n  font-size: 1rem;\n  transition: all var(--transition-fast);\n  border: 1px solid transparent;\n  cursor: pointer;\n  margin: 0 10px;\n\n  /* 确保按钮可点击 */\n  pointer-events: auto !important;\n\n  /* 添加点击效果 */\n  &:active {\n    transform: scale(0.95);\n  }\n}\n\n.confirm-yes {\n  background-color: var(--color-primary);\n  color: #fff;\n  border: 1px solid var(--color-memory-highlight);\n\n  &:hover {\n    background-color: var(--color-memory-highlight);\n    transform: translateY(-2px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);\n  }\n}\n\n.confirm-no {\n  background-color: rgba(80, 80, 80, 0.5);\n  color: var(--color-text-primary);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background-color: rgba(100, 100, 100, 0.7);\n    transform: translateY(-2px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);\n  }\n}\n\n/* ===== 11. 通知系统 ===== */\n#notification-container {\n  position: fixed;\n  top: var(--spacing-md);\n  right: var(--spacing-md);\n  z-index: var(--z-modal);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n  max-width: 300px;\n}\n\n.notification {\n  padding: var(--spacing-md);\n  border-radius: var(--border-radius);\n  background-color: var(--color-bg-light);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  transform: translateX(20px);\n  transition: all var(--transition-normal);\n}\n\n.notification-show {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n.notification-hide {\n  opacity: 0;\n  transform: translateX(20px);\n}\n\n.notification-info {\n  border-left: 4px solid #3498db;\n}\n\n.notification-success {\n  border-left: 4px solid #2ecc71;\n}\n\n.notification-warning {\n  border-left: 4px solid #f39c12;\n}\n\n.notification-error {\n  border-left: 4px solid #e74c3c;\n}\n\n/* ===== 14. 移动端适配 ===== */\n@media (max-width: 768px) {\n  /* 仅当不是强制桌面或强制移动模式时才应用自适应响应式布局 */\n  html:not(.mobile-ui):not(.desktop-ui) {\n    /* 整体布局调整为三段式：顶栏、画面、对话框 */\n    :root {\n      --header-height: 50px; /* 确保CSS变量有默认值 */\n    }\n\n    .game-container {\n      display: flex;\n      flex-direction: column;\n      height: auto;\n      overflow-y: hidden;\n    }\n\n    .game-header {\n      height: auto;\n      min-height: auto;\n      padding: var(--spacing-sm);\n      flex-shrink: 0;\n      z-index: 10; /* 确保在最上层 */\n    }\n\n    .header-left,\n    .header-right {\n      gap: var(--spacing-sm);\n    }\n\n    .game-title {\n      font-size: 1.2rem;\n      margin-left: 0;\n    }\n\n    .game-date {\n      font-size: 0.8rem;\n    }\n\n    .icon-button {\n      width: 32px;\n      height: 32px;\n      font-size: 1.2rem;\n    }\n\n    /* 内容区域根据剩余空间伸缩 */\n    .content-wrapper {\n      flex: 1;\n      position: relative;\n      overflow: hidden;\n      display: flex;\n      flex-direction: column;\n    }\n\n    /* 标签导航栏缩小 */\n    .tab-navigation {\n      height: 36px;\n      min-height: 36px;\n      flex-shrink: 0;\n      z-index: 9; /* 确保在内容上方 */\n    }\n\n    .tab-button {\n      padding: 0 var(--spacing-sm);\n      font-size: 0.9rem;\n\n      i {\n        font-size: 0.9rem;\n      }\n    }\n\n    /* 游戏核心区域自适应 */\n    .tab-content {\n      flex: 1; /* 占用剩余空间 */\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n    }\n\n    .tab-pane.active {\n      position: relative;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    /* 故事标签结构调整 */\n    #story-tab {\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      height: 100%;\n    }\n\n    /* 游戏场景区域 - 背景和角色 */\n    .background-container {\n      position: fixed;\n      top: calc(var(--header-height) + 36px); /* 标题栏 + 标签导航栏高度 */\n      left: 0;\n      width: 100%;\n      height: 56.25vw; /* 维持16:9的比例 */\n      z-index: 1;\n    }\n\n    .characters-container {\n      position: fixed;\n      top: calc(var(--header-height) + 36px); /* 标题栏 + 标签导航栏高度 */\n      left: 0;\n      width: 100%;\n      height: 56.25vw; /* 维持16:9的比例 */\n      z-index: 2;\n    }\n\n    /* 对话框放在画面区域下方 */\n    .dialogue-container {\n      position: fixed;\n      top: calc(var(--header-height) + 36px + 56.25vw); /* 标题栏 + 标签导航栏 + 画面区域高度 */\n      left: 0;\n      right: 0;\n      width: 100%;\n      height: calc(100vh - (var(--header-height) + 36px + 56.25vw)); /* 精确计算剩余空间 */\n      bottom: 0; /* 确保延伸到屏幕底部 */\n      max-width: none;\n      max-height: none; /* 移除最大高度限制 */\n      transform: none;\n      border-radius: 0;\n      border-left: none;\n      border-right: none;\n      border-bottom: none;\n      border-top: 1px solid var(--color-primary);\n      z-index: 3;\n      background-color: rgba(20, 20, 20, 0.95);\n      box-shadow: none;\n      cursor: default;\n    }\n\n    .dialogue-header {\n      padding: var(--spacing-xs) var(--spacing-sm);\n    }\n\n    .dialogue-content {\n      padding: var(--spacing-sm);\n      height: calc(100% - 35px); /* 减去header高度 */\n      overflow-y: auto;\n      scrollbar-width: thin; /* Firefox */\n      scrollbar-color: var(--color-primary) rgba(20, 20, 20, 0.3); /* Firefox */\n\n      &::-webkit-scrollbar {\n        width: 4px;\n      }\n\n      &::-webkit-scrollbar-track {\n        background: rgba(20, 20, 20, 0.3);\n      }\n\n      &::-webkit-scrollbar-thumb {\n        background-color: var(--color-primary);\n        border-radius: 2px;\n      }\n    }\n\n    .speaker-name {\n      font-size: 1rem;\n    }\n\n    /* 选择区域调整 */\n    .choices-container {\n      width: 90%;\n      max-width: 90%;\n      padding: var(--spacing-xs);\n      z-index: 4;\n    }\n\n    /* 立绘调整 */\n    .character-left,\n    .character-right {\n      height: 100%;\n      transform-origin: center bottom;\n    }\n\n    /* 标签内容区域占满全屏 */\n    #journal-tab,\n    #memory-tab {\n      position: fixed;\n      top: calc(var(--header-height) + 36px); /* 标题栏 + 标签导航栏高度 */\n      left: 0;\n      width: 100%;\n      height: calc(100vh - (var(--header-height) + 36px)); /* 精确计算剩余空间 */\n      bottom: 0;\n      z-index: 3;\n    }\n\n    .journal-container,\n    .memory-container {\n      padding: 0;\n      height: 100%;\n      width: 100%;\n      overflow-y: auto;\n      display: flex;\n      flex-direction: column;\n    }\n\n    /* 优化记忆界面，改进样式 */\n    .memory-container {\n      background-color: var(--color-memory-bg);\n    }\n\n    .memory-header {\n      padding: var(--spacing-sm);\n      border-bottom: 1px solid var(--color-memory-secondary);\n      background-color: rgba(0, 0, 0, 0.2);\n      position: sticky;\n      top: 0;\n      z-index: 1;\n    }\n\n    .memory-header h2 {\n      font-size: 1.2rem;\n      margin-bottom: var(--spacing-sm);\n    }\n\n    .memory-button {\n      background-color: var(--color-memory-primary);\n      padding: var(--spacing-xs) var(--spacing-sm);\n      border-radius: var(--border-radius);\n      font-size: 0.9rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n    }\n\n    /* 记忆时间轴样式优化 */\n    .memory-timeline-container {\n      padding: var(--spacing-sm);\n      border-bottom: 1px solid rgba(158, 129, 72, 0.3);\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n\n    .memory-timeline {\n      padding: var(--spacing-sm) 0;\n      height: 50px;\n      gap: var(--spacing-sm);\n    }\n\n    /* 简化的记忆节点在移动端的样式 */\n    .memory-node-simple {\n      width: 20px;\n      height: 20px;\n\n      &::before {\n        height: 12px;\n      }\n\n      &.selected {\n        transform: scale(1.25);\n        box-shadow: 0 0 10px 3px rgba(201, 158, 81, 0.5);\n      }\n    }\n\n    /* 移除旧记忆节点样式 */\n    .memory-node {\n      display: none;\n    }\n\n    .memory-node-content,\n    .memory-timestamp {\n      display: none;\n    }\n\n    /* 记忆内容区域 */\n    .memory-detail-container {\n      flex: 1;\n      padding: var(--spacing-sm);\n      display: flex;\n      flex-direction: column;\n    }\n\n    .memory-content {\n      flex: 1;\n      padding: var(--spacing-md);\n      background-color: rgba(0, 0, 0, 0.2);\n      border: 1px solid var(--color-memory-secondary);\n      overflow-y: auto;\n      font-size: 0.95rem;\n      line-height: 1.5;\n    }\n\n    .memory-actions {\n      padding: var(--spacing-sm) 0;\n    }\n\n    .memory-travel-button {\n      width: 100%;\n      justify-content: center;\n      padding: var(--spacing-sm);\n      background-color: var(--color-memory-primary);\n      font-size: 1rem;\n    }\n\n    .memory-empty-timeline {\n      padding: var(--spacing-md);\n      font-size: 0.9rem;\n    }\n\n    /* 优化日记界面样式 */\n    .journal-container {\n      background-color: var(--color-bg-light);\n    }\n\n    .journal-nav {\n      flex-wrap: wrap;\n      padding: var(--spacing-sm);\n      border-bottom: 1px solid var(--color-tertiary);\n      background-color: rgba(0, 0, 0, 0.2);\n      position: sticky;\n      top: 0;\n      z-index: 1;\n    }\n\n    .journal-nav-item {\n      font-size: 0.9rem;\n      padding: var(--spacing-xs) var(--spacing-sm);\n      margin-right: var(--spacing-xs);\n      margin-bottom: var(--spacing-xs);\n      border-radius: var(--border-radius);\n    }\n\n    .journal-content {\n      flex: 1;\n      padding: var(--spacing-sm);\n      overflow-y: auto;\n    }\n\n    .journal-section {\n      background-color: var(--color-bg-lighter);\n      border-radius: var(--border-radius);\n      padding: var(--spacing-sm);\n      margin-bottom: var(--spacing-sm);\n    }\n  }\n}\n\n/* 竖屏设备专用样式 */\n@media (max-width: 768px) and (orientation: portrait) {\n  html:not(.mobile-ui):not(.desktop-ui) {\n    .game-header {\n      --header-height: 50px; /* 调整竖屏下头部高度 */\n    }\n\n    /* 立绘调整，确保立绘不被对话框完全遮挡 */\n    .character-left,\n    .character-right {\n      transform: scale(0.9); /* 稍微缩小立绘 */\n    }\n\n    /* 对话框添加模糊效果 */\n    .dialogue-container {\n      backdrop-filter: blur(8px); /* 增加模糊效果提高可读性 */\n    }\n  }\n}\n\n/* 横屏设备专用样式 */\n@media (max-width: 768px) and (orientation: landscape) {\n  html:not(.mobile-ui):not(.desktop-ui) {\n    .game-header {\n      --header-height: 40px; /* 调整横屏下头部高度 */\n    }\n\n    /* 调整横屏下的位置 */\n    .background-container,\n    .characters-container {\n      height: 40vh; /* 横屏下限制高度 */\n      top: calc(var(--header-height) + 36px);\n    }\n\n    .dialogue-container {\n      top: calc(var(--header-height) + 36px + 40vh);\n      height: calc(100vh - (var(--header-height) + 36px + 40vh));\n      min-height: 0; /* 确保在小屏幕上也能正确显示 */\n    }\n\n    /* 横屏模式下日记和记忆标签样式调整 */\n    #journal-tab,\n    #memory-tab {\n      top: calc(var(--header-height) + 36px); /* 与背景区域保持一致 */\n      height: calc(100vh - (var(--header-height) + 36px)); /* 横屏下的高度计算 */\n    }\n\n    /* 横屏下优化记忆和日记内部元素布局 */\n    .memory-detail-container,\n    .journal-content {\n      padding: var(--spacing-xs);\n    }\n\n    .memory-content,\n    .journal-section {\n      padding: var(--spacing-sm);\n    }\n\n    .memory-header h2,\n    .journal-nav-item {\n      font-size: 0.85rem;\n    }\n  }\n}\n\n/* ===== 12. 修复Bootstrap Modal样式 ===== */\n.modal {\n  z-index: 9999;\n}\n\n.modal-dialog:not(.monastery-dialog) {\n  max-width: 90%;\n  width: 800px;\n}\n\n.modal-content:not(.monastery-dialog .modal-content) {\n  background-color: var(--color-bg-light);\n  color: var(--color-text-primary);\n  border: 1px solid var(--color-primary);\n  border-radius: var(--border-radius);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n}\n\n.modal-header:not(.monastery-dialog .modal-header),\n.modal-footer:not(.monastery-dialog .modal-footer) {\n  border-color: rgba(138, 109, 59, 0.3);\n  padding: var(--spacing-sm) var(--spacing-md);\n}\n\n.modal-header .close {\n  color: var(--color-text-primary);\n  opacity: 0.7;\n  transition: opacity var(--transition-fast);\n\n  &:hover {\n    opacity: 1;\n  }\n}\n\n.btn-secondary:not(.monastery-btn) {\n  background-color: var(--color-bg-lighter);\n  border-color: var(--color-bg-lighter);\n  color: var(--color-text-primary);\n  transition: all var(--transition-fast);\n\n  &:hover {\n    background-color: var(--color-bg-light);\n    border-color: var(--color-primary);\n  }\n}\n\n/* 确保模态框正确叠加 */\n.modal-backdrop {\n  z-index: 9998;\n}\n\n/* 防止模态框看不见 */\n.modal-open {\n  overflow: hidden;\n  padding-right: 0 !important;\n}\n\n/* 确保模态框不会出现在右侧 */\n.modal.fade .modal-dialog {\n  transform: translate(0, -50px);\n  transition: transform var(--transition-normal) ease;\n}\n\n.modal.show .modal-dialog {\n  transform: none;\n}\n\n/* ===== 13. 存档/读档系统 ===== */\n/* 存档读档弹窗样式 */\n#load-game-modal {\n  .modal-dialog {\n    max-width: 700px;\n  }\n\n  .modal-content {\n    background-color: var(--color-save-bg);\n    border: 1px solid var(--color-save-primary);\n    backdrop-filter: blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n  }\n\n  .modal-header {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-bottom: 1px solid var(--color-save-primary);\n\n    .modal-title {\n      color: var(--color-save-highlight);\n      font-family: var(--font-heading);\n      font-size: 1.3rem;\n    }\n\n    .close {\n      color: var(--color-save-highlight);\n      text-shadow: none;\n      opacity: 0.7;\n\n      &:hover {\n        opacity: 1;\n      }\n    }\n  }\n\n  .modal-body {\n    padding: var(--spacing-md);\n    max-height: 70vh;\n    overflow-y: auto;\n    scrollbar-width: thin; /* Firefox */\n    scrollbar-color: var(--color-save-primary) rgba(0, 0, 0, 0.2); /* Firefox */\n\n    &::-webkit-scrollbar {\n      width: 8px;\n    }\n\n    &::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.2);\n      border-radius: var(--border-radius);\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: var(--color-save-primary);\n      border-radius: var(--border-radius);\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background: var(--color-save-highlight);\n    }\n  }\n\n  .modal-footer {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-top: 1px solid var(--color-save-primary);\n  }\n}\n\n/* 存档标签栏样式 */\n.save-tabs {\n  display: flex;\n  margin-bottom: var(--spacing-md);\n  background-color: rgba(0, 0, 0, 0.15);\n  border-radius: var(--border-radius);\n  padding: 0;\n  overflow: hidden;\n}\n\n.save-tab-btn {\n  flex: 1;\n  padding: var(--spacing-sm) 0;\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-family: var(--font-heading);\n  font-size: 1rem;\n  transition: all var(--transition-fast);\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 3px;\n    background-color: transparent;\n    transition: background-color var(--transition-fast);\n  }\n\n  &:hover {\n    color: var(--color-text-primary);\n  }\n\n  &.active {\n    color: var(--color-save-highlight);\n    background-color: rgba(158, 129, 72, 0.1);\n\n    &::after {\n      background-color: var(--color-save-primary);\n    }\n  }\n}\n\n/* 存档标签内容区域 */\n.save-tab-content {\n  position: relative;\n}\n\n.save-tab-pane {\n  display: none;\n  animation: fadeIn 0.3s ease;\n\n  &.active {\n    display: block;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* 存档列表样式 */\n.save-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: var(--spacing-md);\n}\n\n.save-item {\n  background-color: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(158, 129, 72, 0.3);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);\n  position: relative;\n  cursor: pointer;\n\n  &:hover {\n    border-color: var(--color-save-highlight);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n  }\n\n  &.empty {\n    grid-column: 1 / -1;\n    padding: var(--spacing-lg);\n    text-align: center;\n    color: var(--color-text-secondary);\n    cursor: default;\n\n    &:hover {\n      box-shadow: none;\n      border-color: rgba(158, 129, 72, 0.3);\n    }\n  }\n}\n\n.save-item-thumbnail {\n  height: 120px;\n  background-size: cover;\n  background-position: center;\n  border-bottom: 1px solid rgba(158, 129, 72, 0.2);\n  position: relative;\n  transition: filter var(--transition-fast);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 40px;\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);\n  }\n\n  .save-item:hover & {\n    filter: brightness(1.1);\n  }\n}\n\n.save-item-header {\n  padding: var(--spacing-sm) var(--spacing-md);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.2);\n  border-bottom: 1px solid rgba(158, 129, 72, 0.2);\n  backdrop-filter: blur(2px);\n  -webkit-backdrop-filter: blur(2px);\n}\n\n.save-item-title {\n  font-weight: bold;\n  font-family: var(--font-heading);\n  font-size: 1rem;\n  color: var(--color-save-highlight);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 60%;\n  transition: color var(--transition-fast);\n\n  .save-item:hover & {\n    color: var(--color-save-highlight);\n  }\n}\n\n.save-item-date {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n\n.save-item-content {\n  padding: var(--spacing-sm) var(--spacing-md);\n  font-size: 0.9rem;\n  color: var(--color-text-primary);\n  max-height: 60px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.save-item-actions {\n  padding: var(--spacing-xs) var(--spacing-md);\n  display: flex;\n  justify-content: flex-end;\n  background-color: rgba(0, 0, 0, 0.2);\n  border-top: 1px solid rgba(158, 129, 72, 0.2);\n  opacity: 0;\n  transition: opacity var(--transition-fast);\n\n  button {\n    background-color: transparent;\n    color: var(--color-text-secondary);\n    border: 1px solid rgba(158, 129, 72, 0.3);\n    border-radius: 4px;\n    padding: var(--spacing-xs) var(--spacing-sm);\n    font-size: 0.8rem;\n    transition: all var(--transition-fast);\n\n    &:hover {\n      background-color: var(--color-save-delete);\n      color: #fff;\n      border-color: var(--color-save-delete);\n    }\n  }\n}\n\n.save-item:hover .save-item-actions {\n  opacity: 1;\n}\n\n/* 创建存档按钮 */\n#btn-create-manual-save {\n  background-color: var(--color-save-primary);\n  color: #fff;\n  border: none;\n  font-family: var(--font-heading);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  border-radius: var(--border-radius);\n  transition: background-color var(--transition-fast), box-shadow var(--transition-fast);\n  display: flex;\n  align-items: center;\n\n  i {\n    margin-right: var(--spacing-sm);\n  }\n\n  &:hover {\n    background-color: var(--color-save-highlight);\n    color: #000;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  }\n}\n\n/* 取消按钮 */\n#load-game-modal .btn-secondary {\n  background-color: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(158, 129, 72, 0.3);\n  color: var(--color-text-primary);\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.15);\n    border-color: var(--color-save-secondary);\n  }\n}\n\n/* 输入对话框样式 */\n.input-dialog-container {\n  input {\n    background-color: rgba(255, 255, 255, 0.1);\n    border: 1px solid var(--color-save-secondary);\n    color: var(--color-text-primary);\n    border-radius: var(--border-radius);\n    padding: var(--spacing-sm);\n    width: 100%;\n    margin-bottom: var(--spacing-md);\n\n    &:focus {\n      outline: none;\n      border-color: var(--color-save-highlight);\n      box-shadow: 0 0 0 2px rgba(213, 185, 120, 0.25);\n    }\n  }\n}\n\n/* ===== 15. 字体大小设置 ===== */\n/* 小字体大小 */\nhtml.font-small {\n  .dialogue-content,\n  .choice-button,\n  .custom-choice input,\n  .memory-content-text,\n  .journal-content,\n  .knowledge-content {\n    font-size: var(--font-size-small);\n  }\n\n  .speaker-name,\n  .memory-header h2,\n  .journal-nav-item,\n  .tab-button {\n    font-size: 0.95rem;\n  }\n\n  .dialogue-container {\n    --dialogue-height: 180px;\n  }\n}\n\n\n/* 大字体大小 */\nhtml.font-large {\n  .dialogue-content,\n  .choice-button,\n  .custom-choice input,\n  .memory-content-text,\n  .journal-content,\n  .knowledge-content {\n    font-size: var(--font-size-large);\n    line-height: 1.7;\n  }\n\n  .speaker-name,\n  .memory-header h2,\n  .journal-nav-item,\n  .tab-button {\n    font-size: 1.15rem;\n  }\n\n  .dialogue-container {\n    --dialogue-height: 230px;\n  }\n}\n\n/* ===== 16. 手动触发移动界面 ===== */\n/* 手动设置为移动界面 */\nhtml.mobile-ui {\n  /* 复用移动端适配的样式 - 强制使用移动界面，不管屏幕大小 */\n  :root {\n    --header-height: 50px;\n  }\n\n  .game-container {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    overflow-y: hidden;\n  }\n\n  .game-header {\n    height: auto;\n    min-height: auto;\n    padding: var(--spacing-sm);\n    flex-shrink: 0;\n    z-index: 10;\n  }\n\n  .header-left,\n  .header-right {\n    gap: var(--spacing-sm);\n  }\n\n  .game-title {\n    font-size: 1.2rem;\n    margin-left: 0;\n  }\n\n  .game-date {\n    font-size: 0.8rem;\n  }\n\n  .icon-button {\n    width: 32px;\n    height: 32px;\n    font-size: 1.2rem;\n  }\n\n  .content-wrapper {\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .tab-navigation {\n    height: 36px;\n    min-height: 36px;\n    flex-shrink: 0;\n    z-index: 9;\n  }\n\n  .tab-button {\n    padding: 0 var(--spacing-sm);\n    font-size: 0.9rem;\n\n    i {\n      font-size: 0.9rem;\n    }\n  }\n\n  .tab-content {\n    flex: 1;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n  }\n\n  .tab-pane.active {\n    position: relative;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n\n  #story-tab {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    height: 100%;\n  }\n\n  .background-container {\n    position: fixed;\n    top: calc(var(--header-height) + 36px);\n    left: 0;\n    width: 100%;\n    height: 56.25vw;\n    z-index: 1;\n  }\n\n  .characters-container {\n    position: fixed;\n    top: calc(var(--header-height) + 36px);\n    left: 0;\n    width: 100%;\n    height: 56.25vw;\n    z-index: 2;\n  }\n\n  .dialogue-container {\n    position: fixed;\n    top: calc(var(--header-height) + 36px + 56.25vw);\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: calc(100vh - (var(--header-height) + 36px + 56.25vw));\n    bottom: 0;\n    max-width: none;\n    max-height: none;\n    transform: none;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-bottom: none;\n    border-top: 1px solid var(--color-primary);\n    z-index: 3;\n    background-color: rgba(20, 20, 20, 0.95);\n    box-shadow: none;\n    cursor: default;\n  }\n\n  .dialogue-header {\n    padding: var(--spacing-xs) var(--spacing-sm);\n  }\n\n  .dialogue-content {\n    padding: var(--spacing-sm);\n    height: calc(100% - 35px);\n    overflow-y: auto;\n    scrollbar-width: thin;\n    scrollbar-color: var(--color-primary) rgba(20, 20, 20, 0.3);\n\n    &::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    &::-webkit-scrollbar-track {\n      background: rgba(20, 20, 20, 0.3);\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background-color: var(--color-primary);\n      border-radius: 2px;\n    }\n  }\n\n  .speaker-name {\n    font-size: 1rem;\n  }\n\n  .choices-container {\n    width: 90%;\n    max-width: 90%;\n    padding: var(--spacing-xs);\n    z-index: 4;\n  }\n\n  .character-left,\n  .character-right {\n    height: 100%;\n    transform-origin: center bottom;\n  }\n\n  #journal-tab,\n  #memory-tab {\n    position: fixed;\n    top: calc(var(--header-height) + 36px);\n    left: 0;\n    width: 100%;\n    height: calc(100vh - (var(--header-height) + 36px));\n    bottom: 0;\n    z-index: 3;\n  }\n\n  .journal-container,\n  .memory-container {\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    overflow-y: auto;\n    display: flex;\n    flex-direction: column;\n  }\n\n  /* 优化记忆界面，改进样式 */\n  .memory-container {\n    background-color: var(--color-memory-bg);\n  }\n\n  .memory-header {\n    padding: var(--spacing-sm);\n    border-bottom: 1px solid var(--color-memory-secondary);\n    background-color: rgba(0, 0, 0, 0.2);\n    position: sticky;\n    top: 0;\n    z-index: 1;\n  }\n\n  .memory-header h2 {\n    font-size: 1.2rem;\n    margin-bottom: var(--spacing-sm);\n  }\n\n  .memory-button {\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--border-radius);\n    font-size: 0.9rem;\n  }\n\n  /* 记忆时间轴样式优化 */\n  .memory-timeline-container {\n    padding: var(--spacing-sm);\n    border-bottom: 1px solid rgba(158, 129, 72, 0.3);\n    background-color: rgba(0, 0, 0, 0.15);\n  }\n\n  .memory-timeline {\n    padding: var(--spacing-sm) 0;\n    height: 50px;\n    gap: var(--spacing-sm);\n  }\n\n  /* 简化的记忆节点在移动端的样式 */\n  .memory-node-simple {\n    width: 20px;\n    height: 20px;\n\n    &::before {\n      height: 12px;\n    }\n\n    &.selected {\n      transform: scale(1.25);\n      box-shadow: 0 0 10px 3px rgba(201, 158, 81, 0.5);\n    }\n  }\n\n  /* 记忆内容区域 */\n  .memory-detail-container {\n    flex: 1;\n    padding: var(--spacing-sm);\n    display: flex;\n    flex-direction: column;\n  }\n\n  .memory-content {\n    flex: 1;\n    padding: var(--spacing-md);\n    background-color: rgba(0, 0, 0, 0.2);\n    border: 1px solid var(--color-memory-secondary);\n    overflow-y: auto;\n    font-size: 0.95rem;\n    line-height: 1.5;\n  }\n\n  .memory-actions {\n    padding: var(--spacing-sm) 0;\n  }\n\n  .memory-travel-button {\n    width: 100%;\n    justify-content: center;\n    padding: var(--spacing-sm);\n    background-color: var(--color-memory-primary);\n    font-size: 1rem;\n  }\n\n  /* 优化日记界面样式 */\n  .journal-container {\n    background-color: var(--color-bg-light);\n  }\n\n  .journal-nav {\n    flex-wrap: wrap;\n    padding: var(--spacing-sm);\n    border-bottom: 1px solid var(--color-tertiary);\n    background-color: rgba(0, 0, 0, 0.2);\n    position: sticky;\n    top: 0;\n    z-index: 1;\n  }\n\n  .journal-nav-item {\n    font-size: 0.9rem;\n    padding: var(--spacing-xs) var(--spacing-sm);\n    margin-right: var(--spacing-xs);\n    margin-bottom: var(--spacing-xs);\n    border-radius: var(--border-radius);\n  }\n\n  .journal-content {\n    flex: 1;\n    padding: var(--spacing-sm);\n    overflow-y: auto;\n  }\n\n  .journal-section {\n    background-color: var(--color-bg-lighter);\n    border-radius: var(--border-radius);\n    padding: var(--spacing-sm);\n    margin-bottom: var(--spacing-sm);\n  }\n}\n\n/* ===== 17. 修道院主题对话框和表单样式 ===== */\n/* 对话框样式 */\n.monastery-dialog {\n  max-width: 500px;\n  width: 90%;\n  margin: auto;\n}\n\n.modal-content {\n  background-color: var(--color-bg-light);\n  color: var(--color-text-primary);\n  border: 1px solid var(--color-primary);\n  border-radius: var(--border-radius);\n  box-shadow: 0 5px 25px rgba(0, 0, 0, 0.7);\n}\n\n.modal-header {\n  background-color: rgba(0, 0, 0, 0.2);\n  border-bottom: 1px solid var(--color-primary);\n  padding: var(--spacing-sm) var(--spacing-md);\n}\n\n.modal-title {\n  color: var(--color-primary);\n  font-family: var(--font-heading);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n\n  i {\n    font-size: 1.1em;\n  }\n}\n\n.modal-body {\n  padding: var(--spacing-md);\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.modal-footer {\n  background-color: rgba(0, 0, 0, 0.2);\n  border-top: 1px solid var(--color-primary);\n  padding: var(--spacing-sm) var(--spacing-md);\n}\n\n/* 修道院主题按钮 */\n.monastery-btn {\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius);\n  font-family: var(--font-heading);\n  font-size: 0.95rem;\n  transition: all var(--transition-fast);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n\n  i {\n    font-size: 1em;\n  }\n}\n\n.monastery-btn-primary {\n  background-color: var(--color-primary);\n  border-color: var(--color-primary);\n  color: #fff;\n\n  &:hover {\n    background-color: darken(#8a6d3b, 10%);\n    border-color: darken(#8a6d3b, 10%);\n    transform: translateY(-2px);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);\n  }\n}\n\n.monastery-btn-secondary {\n  background-color: var(--color-tertiary);\n  border-color: var(--color-tertiary);\n  color: #fff;\n\n  &:hover {\n    background-color: darken(#5d6e41, 10%);\n    border-color: darken(#5d6e41, 10%);\n    transform: translateY(-2px);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);\n  }\n}\n\n.monastery-btn-cancel {\n  background-color: rgba(255, 255, 255, 0.1);\n  border-color: rgba(255, 255, 255, 0.2);\n  color: var(--color-text-primary);\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.15);\n    border-color: rgba(255, 255, 255, 0.25);\n  }\n}\n\n/* 修道院主题表单元素 */\n.monastery-form-group {\n  margin-bottom: var(--spacing-md);\n}\n\n.monastery-label {\n  color: var(--color-primary);\n  font-family: var(--font-heading);\n  margin-bottom: var(--spacing-xs);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n\n  i {\n    color: var(--color-primary);\n    font-size: 1.1em;\n  }\n}\n\n.monastery-input,\n.monastery-select {\n  background-color: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(138, 109, 59, 0.4);\n  color: var(--color-text-primary);\n  border-radius: var(--border-radius);\n  padding: var(--spacing-sm);\n  transition: all var(--transition-fast);\n\n  &:focus {\n    background-color: rgba(255, 255, 255, 0.1);\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 2px rgba(138, 109, 59, 0.2);\n  }\n}\n\n.monastery-help-text {\n  margin-top: var(--spacing-xs);\n  font-style: italic;\n  opacity: 0.8;\n}\n\n.monastery-switch {\n  .custom-control-input:checked ~ .custom-control-label::before {\n    background-color: var(--color-primary);\n    border-color: var(--color-primary);\n  }\n\n  .custom-control-label {\n    cursor: pointer;\n\n    &::before {\n      background-color: rgba(255, 255, 255, 0.1);\n      border-color: rgba(138, 109, 59, 0.4);\n    }\n  }\n}\n\n/* 输入对话框容器 */\n.input-dialog-container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n/* ===== 18. 存档界面手机优化 ===== */\n#load-game-modal {\n  .modal-dialog {\n    max-width: 700px;\n    width: 95%;\n    margin: auto;\n  }\n\n  @media (max-width: 768px) {\n    .save-list {\n      grid-template-columns: 1fr;\n    }\n\n    .save-item {\n      margin-bottom: var(--spacing-sm);\n    }\n\n    .save-item-thumbnail {\n      height: 80px;\n    }\n\n    .save-item-actions {\n      opacity: 1; /* 在移动设备上始终显示操作按钮 */\n    }\n\n    .modal-dialog {\n      margin: 0.5rem auto;\n    }\n\n    .modal-body {\n      padding: var(--spacing-sm);\n      max-height: 70vh;\n    }\n\n    .save-tabs {\n      margin-bottom: var(--spacing-sm);\n    }\n\n    .save-tab-btn {\n      font-size: 0.9rem;\n      padding: var(--spacing-xs) 0;\n    }\n\n    #btn-create-manual-save {\n      width: 100%;\n      justify-content: center;\n      margin-bottom: var(--spacing-sm);\n    }\n\n    .modal-footer {\n      padding: var(--spacing-xs) var(--spacing-sm);\n      flex-wrap: wrap;\n      justify-content: center;\n\n      .btn {\n        margin: var(--spacing-xs);\n        flex: 1;\n        min-width: 80px;\n      }\n    }\n  }\n}\n\n/* ===== 19. 强制桌面界面样式 ===== */\n/* 手动设置为桌面界面 */\nhtml.desktop-ui {\n  /* 强制使用桌面界面，不管屏幕大小 */\n\n  /* 重置移动端媒体查询样式，强制使用桌面布局 */\n  .game-container {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n  }\n\n  .game-header {\n    height: var(--header-height);\n    min-height: var(--header-height);\n    padding: 0 var(--spacing-md);\n  }\n\n  .content-wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .tab-navigation {\n    height: var(--tab-height);\n    min-height: var(--tab-height);\n  }\n\n  .tab-button {\n    padding: 0 var(--spacing-lg);\n    height: 100%;\n    font-size: 1rem;\n  }\n\n  /* 确保标签内容区域使用桌面布局 */\n  .tab-content {\n    position: relative;\n    aspect-ratio: 16/9;\n    overflow: hidden;\n    flex: none;\n  }\n\n  .tab-pane {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  /* 确保背景和角色使用桌面布局 */\n  .background-container,\n  .characters-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  /* 对话框使用桌面布局 */\n  .dialogue-container {\n    position: absolute;\n    bottom: 30px;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 90%;\n    max-width: 900px;\n    height: var(--dialogue-height);\n    border: 1px solid var(--color-primary);\n    border-radius: var(--border-radius);\n    cursor: pointer;\n  }\n\n  .dialogue-header {\n    padding: var(--spacing-sm) var(--spacing-md);\n  }\n\n  .dialogue-content {\n    padding: var(--spacing-md);\n    overflow-y: auto;\n    height: auto;\n  }\n\n  /* 确保选项容器使用桌面布局 */\n  .choices-container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 70%;\n    max-width: 650px;\n    padding: var(--spacing-sm);\n  }\n\n  /* 确保记忆和日记标签使用桌面布局 */\n  #journal-tab,\n  #memory-tab {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  .journal-container,\n  .memory-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    padding: 0;\n  }\n\n  .memory-header,\n  .journal-nav {\n    position: static;\n    padding: var(--spacing-md);\n  }\n\n  .journal-nav {\n    display: flex;\n    gap: var(--spacing-md);\n    flex-wrap: nowrap;\n  }\n\n  .journal-nav-item {\n    padding: var(--spacing-sm) var(--spacing-md);\n    margin: 0;\n    font-size: 1rem;\n  }\n\n  .memory-detail-container,\n  .journal-content {\n    flex: 1;\n    padding: var(--spacing-md);\n  }\n\n  /* 角色布局恢复桌面版本 */\n  .character-left,\n  .character-right {\n    height: 100%;\n    width: 40%;\n    transform-origin: bottom center;\n    transform: none;\n  }\n\n  .character-left {\n    transform-origin: bottom left;\n  }\n\n  .character-right {\n    transform-origin: bottom right;\n  }\n}\n\n\n"],"names":[],"sourceRoot":""}