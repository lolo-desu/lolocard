# MVU 变量管理器

**作者：络络**

## 简介

MVU 变量管理器是一个可视化工具，用于在 SillyTavern 中管理和编辑当前楼层的 `stat_data` 变量。它提供了直观的树形界面，让你可以轻松查看、编辑和管理角色变量数据。

## 主要功能

### 📋 可视化显示
- 以树形结构展示所有变量
- 清晰的类型标签（数值、字符、布尔等）
- 支持对象和数组的嵌套显示

### ✏️ 便捷编辑
- 点击值即可快速编辑
- 支持字符串、数字、布尔值的修改
- 数字快捷调整按钮（+10、+1、-1、-10）
- 布尔值复选框切换

### 🔍 实用工具
- **搜索**：快速定位变量
- **展开/折叠**：控制树形视图
- **撤销/重做**：支持最多 30 步历史记录
- **刷新**：手动同步最新数据
- **自动刷新**：每 10 秒自动同步

### 📱 响应式设计
- 桌面端和移动端自适应
- 移动端优化的触摸操作
- 智能的层级缩进和透明度渐变

## 使用方法

### 基本操作

1. **查看变量**
   - 打开扩展设置，找到"MVU 变量管理器"面板
   - 点击对象/数组旁的箭头展开查看内容

2. **编辑值**
   - 点击任意值进入编辑模式
   - 修改后点击"应用"保存，或"取消"放弃修改
   - 可以点击"删除"移除该变量

3. **数组操作**
   - 展开数组后，点击底部的 ➕ 按钮
   - 输入新值后点击 ✓ 确认添加

4. **搜索变量**
   - 在顶部搜索框输入关键词
   - 自动过滤显示匹配的变量

5. **撤销操作**
   - 点击"撤销"恢复上一步修改
   - 点击"重做"重新应用被撤销的修改

### 快捷技巧

- **数值调整**：编辑数字时，使用快捷按钮快速增减
- **批量展开**：点击"全部展开"查看所有嵌套内容
- **批量折叠**：点击"全部折叠"收起所有内容

## 技术特性

- 基于 Vue 3 + Pinia 构建
- 支持深层嵌套的对象和数组
- 实时同步到 SillyTavern 变量系统
- 优雅的错误处理和用户提示

## 注意事项

- 需要 SillyTavern 版本 3.4.19 或更高
- 修改会立即保存到当前聊天楼层
- 删除操作不可撤销（但可以通过"撤销"按钮恢复）

---

💡 **提示**：变量管理器会自动保存修改历史，你可以随时撤销误操作！